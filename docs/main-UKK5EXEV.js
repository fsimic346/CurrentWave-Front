var bC=Object.defineProperty,DC=Object.defineProperties;var TC=Object.getOwnPropertyDescriptors;var Ov=Object.getOwnPropertySymbols;var CC=Object.prototype.hasOwnProperty,SC=Object.prototype.propertyIsEnumerable;var kv=(t,e,n)=>e in t?bC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||={})CC.call(e,n)&&kv(t,n,e[n]);if(Ov)for(var n of Ov(e))SC.call(e,n)&&kv(t,n,e[n]);return t},Me=(t,e)=>DC(t,TC(e));var C=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function AC(t,e){return Object.is(t,e)}var qe=null,ec=!1,tc=1,_i=Symbol("SIGNAL");function ye(t){let e=qe;return qe=t,e}var Cd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Fv(t){if(ec)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(t);let e=qe.nextProducerIndex++;if(vi(qe),e<qe.producerNode.length&&qe.producerNode[e]!==t&&Xo(qe)){let n=qe.producerNode[e];nc(n,qe.producerIndexOfThis[e])}qe.producerNode[e]!==t&&(qe.producerNode[e]=t,qe.producerIndexOfThis[e]=Xo(qe)?$v(t,qe,e):0),qe.producerLastReadVersion[e]=t.version}function RC(){tc++}function xC(t){if(!(Xo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===tc)){if(!t.producerMustRecompute(t)&&!Sd(t)){t.dirty=!1,t.lastCleanEpoch=tc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=tc}}function Lv(t){if(t.liveConsumerNode===void 0)return;let e=ec;ec=!0;try{for(let n of t.liveConsumerNode)n.dirty||MC(n)}finally{ec=e}}function Vv(){return qe?.consumerAllowSignalWrites!==!1}function MC(t){t.dirty=!0,Lv(t),t.consumerMarkedDirty?.(t)}function Uv(t){return t&&(t.nextProducerIndex=0),ye(t)}function jv(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Xo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)nc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Sd(t){vi(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xC(n),r!==n.version))return!0}return!1}function Bv(t){if(vi(t),Xo(t))for(let e=0;e<t.producerNode.length;e++)nc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function $v(t,e,n){if(Hv(t),vi(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=$v(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function nc(t,e){if(Hv(t),vi(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)nc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];vi(i),i.producerIndexOfThis[r]=e}}function Xo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function vi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Hv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function PC(){throw new Error}var zv=PC;function qv(){zv()}function Gv(t){zv=t}var NC=null;function Wv(t){let e=Object.create(Qv);e.value=t;let n=()=>(Fv(e),e.value);return n[_i]=e,n}function Ad(t,e){Vv()||qv(),t.equal(t.value,e)||(t.value=e,OC(t))}function Kv(t,e){Vv()||qv(),Ad(t,e(t.value))}var Qv=Me(B({},Cd),{equal:AC,value:void 0});function OC(t){t.version++,RC(),Lv(t),NC?.()}function Q(t){return typeof t=="function"}function wi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var rc=wi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Tr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){e=o instanceof rc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Yv(o)}catch(s){e=e??[],s instanceof rc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new rc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Yv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Tr(n,e)}remove(e){let{_finalizers:n}=this;n&&Tr(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var Rd=ke.EMPTY;function ic(t){return t instanceof ke||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function Yv(t){Q(t)?t():t.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ii={setTimeout(t,e,...n){let{delegate:r}=Ii;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ii;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function oc(t){Ii.setTimeout(()=>{let{onUnhandledError:e}=jt;if(e)e(t);else throw t})}function es(){}var Jv=xd("C",void 0,void 0);function Zv(t){return xd("E",void 0,t)}function Xv(t){return xd("N",t,void 0)}function xd(t,e,n){return{kind:t,value:e,error:n}}var Cr=null;function Ei(t){if(jt.useDeprecatedSynchronousErrorHandling){let e=!Cr;if(e&&(Cr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Cr;if(Cr=null,n)throw r}}else t()}function e_(t){jt.useDeprecatedSynchronousErrorHandling&&Cr&&(Cr.errorThrown=!0,Cr.error=t)}var Sr=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ic(e)&&e.add(this)):this.destination=LC}static create(e,n,r){return new bi(e,n,r)}next(e){this.isStopped?Pd(Xv(e),this):this._next(e)}error(e){this.isStopped?Pd(Zv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pd(Jv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kC=Function.prototype.bind;function Md(t,e){return kC.call(t,e)}var Nd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sc(r)}else sc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sc(n)}}},bi=class extends Sr{constructor(e,n,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Md(e.next,o),error:e.error&&Md(e.error,o),complete:e.complete&&Md(e.complete,o)}):i=e}this.destination=new Nd(i)}};function sc(t){jt.useDeprecatedSynchronousErrorHandling?e_(t):oc(t)}function FC(t){throw t}function Pd(t,e){let{onStoppedNotification:n}=jt;n&&Ii.setTimeout(()=>n(t,e))}var LC={closed:!0,next:es,error:FC,complete:es};var Di=typeof Symbol=="function"&&Symbol.observable||"@@observable";function It(t){return t}function Od(...t){return kd(t)}function kd(t){return t.length===0?It:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=UC(n)?n:new bi(n,r,i);return Ei(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=t_(r),new r((i,o)=>{let s=new bi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Di](){return this}pipe(...n){return kd(n)(this)}toPromise(n){return n=t_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function t_(t){var e;return(e=t??jt.Promise)!==null&&e!==void 0?e:Promise}function VC(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function UC(t){return t&&t instanceof Sr||VC(t)&&ic(t)}function Fd(t){return Q(t?.lift)}function ue(t){return e=>{if(Fd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(t,e,n,r,i){return new Ld(t,e,n,r,i)}var Ld=class extends Sr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ti(){return ue((t,e)=>{let n=null;t._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ci=class extends me{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Fd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Ti()(this)}};var n_=wi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var dt=(()=>{class t extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ac(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new n_}next(n){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Rd:(this.currentObservers=null,o.push(n),new ke(()=>{this.currentObservers=null,Tr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new me;return n.source=this,n}}return t.create=(e,n)=>new ac(e,n),t})(),ac=class extends dt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Rd}};var Ye=class extends dt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vd={now(){return(Vd.delegate||Date).now()},delegate:void 0};var cc=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var ts={setInterval(t,e,...n){let{delegate:r}=ts;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ts;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Si=class extends cc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ts.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ts.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Tr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ai=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ai.now=Vd.now;var Ri=class extends Ai{constructor(e,n=Ai.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ud=new Ri(Si);var uc=class extends Si{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var lc=class extends Ri{};var jd=new lc(uc);var Et=new me(t=>t.complete());function r_(t){return t&&Q(t.schedule)}function i_(t){return t[t.length-1]}function o_(t){return Q(i_(t))?t.pop():void 0}function qn(t){return r_(i_(t))?t.pop():void 0}function Bd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function s_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ar(t){return this instanceof Ar?(this.v=t,this):new Ar(t)}function c_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(A){return Promise.resolve(A).then(w,p)}}function c(w,A){r[w]&&(i[w]=function(x){return new Promise(function(P,U){o.push([w,x,P,U])>1||u(w,x)})},A&&(i[w]=A(i[w])))}function u(w,A){try{l(r[w](A))}catch(x){y(o[0][3],x)}}function l(w){w.value instanceof Ar?Promise.resolve(w.value.v).then(f,p):y(o[0][2],w)}function f(w){u("next",w)}function p(w){u("throw",w)}function y(w,A){w(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function u_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof s_=="function"?s_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var dc=t=>t&&typeof t.length=="number"&&typeof t!="function";function hc(t){return Q(t?.then)}function fc(t){return Q(t[Di])}function pc(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function gc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mc=jC();function yc(t){return Q(t?.[mc])}function vc(t){return c_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ar(n.read());if(i)return yield Ar(void 0);yield yield Ar(r)}}finally{n.releaseLock()}})}function _c(t){return Q(t?.getReader)}function Ge(t){if(t instanceof me)return t;if(t!=null){if(fc(t))return BC(t);if(dc(t))return $C(t);if(hc(t))return HC(t);if(pc(t))return l_(t);if(yc(t))return zC(t);if(_c(t))return qC(t)}throw gc(t)}function BC(t){return new me(e=>{let n=t[Di]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $C(t){return new me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function HC(t){return new me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,oc)})}function zC(t){return new me(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function l_(t){return new me(e=>{GC(t,e).catch(n=>e.error(n))})}function qC(t){return l_(vc(t))}function GC(t,e){var n,r,i,o;return a_(this,void 0,void 0,function*(){try{for(n=u_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function mt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Gn(t,e=0){return ue((n,r)=>{n.subscribe(le(r,i=>mt(r,t,()=>r.next(i),e),()=>mt(r,t,()=>r.complete(),e),i=>mt(r,t,()=>r.error(i),e)))})}function Wn(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function d_(t,e){return Ge(t).pipe(Wn(e),Gn(e))}function h_(t,e){return Ge(t).pipe(Wn(e),Gn(e))}function f_(t,e){return new me(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function p_(t,e){return new me(n=>{let r;return mt(n,e,()=>{r=t[mc](),mt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function wc(t,e){if(!t)throw new Error("Iterable cannot be null");return new me(n=>{mt(n,e,()=>{let r=t[Symbol.asyncIterator]();mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function g_(t,e){return wc(vc(t),e)}function m_(t,e){if(t!=null){if(fc(t))return d_(t,e);if(dc(t))return f_(t,e);if(hc(t))return h_(t,e);if(pc(t))return wc(t,e);if(yc(t))return p_(t,e);if(_c(t))return g_(t,e)}throw gc(t)}function Be(t,e){return e?m_(t,e):Ge(t)}function J(...t){let e=qn(t);return Be(t,e)}function xi(t,e){let n=Q(t)?t:()=>t,r=i=>i.error(n());return new me(e?i=>e.schedule(r,0,i):r)}function $d(t){return!!t&&(t instanceof me||Q(t.lift)&&Q(t.subscribe))}var bn=wi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function de(t,e){return ue((n,r)=>{let i=0;n.subscribe(le(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:WC}=Array;function KC(t,e){return WC(e)?t(...e):t(e)}function y_(t){return de(e=>KC(t,e))}var{isArray:QC}=Array,{getPrototypeOf:YC,prototype:JC,keys:ZC}=Object;function v_(t){if(t.length===1){let e=t[0];if(QC(e))return{args:e,keys:null};if(XC(e)){let n=ZC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function XC(t){return t&&typeof t=="object"&&YC(t)===JC}function __(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ic(...t){let e=qn(t),n=o_(t),{args:r,keys:i}=v_(t);if(r.length===0)return Be([],e);let o=new me(eS(r,e,i?s=>__(i,s):It));return n?o.pipe(y_(n)):o}function eS(t,e,n=It){return r=>{w_(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)w_(e,()=>{let l=Be(t[u],e),f=!1;l.subscribe(le(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function w_(t,e,n){t?mt(n,t,e):e()}function I_(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},w=x=>l<r?A(x):u.push(x),A=x=>{o&&e.next(x),l++;let P=!1;Ge(n(x,f++)).subscribe(le(e,U=>{i?.(U),o?w(U):e.next(U)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let U=u.shift();s?mt(e,s,()=>A(U)):A(U)}y()}catch(U){e.error(U)}}))};return t.subscribe(le(e,w,()=>{p=!0,y()})),()=>{c?.()}}function $e(t,e,n=1/0){return Q(e)?$e((r,i)=>de((o,s)=>e(r,o,i,s))(Ge(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>I_(r,i,t,n)))}function Hd(t=1/0){return $e(It,t)}function E_(){return Hd(1)}function Mi(...t){return E_()(Be(t,qn(t)))}function Ec(t){return new me(e=>{Ge(t()).subscribe(e)})}function Bt(t,e){return ue((n,r)=>{let i=0;n.subscribe(le(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Kn(t){return ue((e,n)=>{let r=null,i=!1,o;r=e.subscribe(le(n,void 0,void 0,s=>{o=Ge(t(s,Kn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function b_(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(le(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Pi(t,e){return Q(e)?$e(t,e,1):$e(t,1)}function Qn(t){return ue((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Dn(t){return t<=0?()=>Et:ue((e,n)=>{let r=0;e.subscribe(le(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zd(t){return de(()=>t)}function bc(t=tS){return ue((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tS(){return new bn}function ns(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function tn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):It,Dn(1),n?Qn(e):bc(()=>new bn))}function Ni(t){return t<=0?()=>Et:ue((e,n)=>{let r=[];e.subscribe(le(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function qd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):It,Ni(1),n?Qn(e):bc(()=>new bn))}function Gd(t,e){return ue(b_(t,e,arguments.length>=2,!0))}function Wd(...t){let e=qn(t);return ue((n,r)=>{(e?Mi(t,n,e):Mi(t,n)).subscribe(r)})}function $t(t,e){return ue((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(le(r,u=>{i?.unsubscribe();let l=0,f=o++;Ge(t(u,f)).subscribe(i=le(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Kd(t){return ue((e,n)=>{Ge(t).subscribe(le(n,()=>n.complete(),es)),!n.closed&&e.subscribe(n)})}function He(t,e,n){let r=Q(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(le(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):It}var ow="https://g.co/ng/security#xss",G=class extends Error{constructor(e,n){super(Kh(e,n)),this.code=e}};function Kh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ys(t){return{toString:t}.toString()}var Dc="__parameters__";function nS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function sw(t,e,n){return ys(()=>{let r=nS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Dc)?u[Dc]:Object.defineProperty(u,Dc,{value:[]})[Dc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Tn=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function uh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var rS=De({__forward_ref__:De});function aw(t){return t.__forward_ref__=aw,t.toString=function(){return ht(this())},t}function Pt(t){return cw(t)?t():t}function cw(t){return typeof t=="function"&&t.hasOwnProperty(rS)&&t.__forward_ref__===aw}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jc(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zc(t){return D_(t,lw)||D_(t,dw)}function uw(t){return Zc(t)!==null}function D_(t,e){return t.hasOwnProperty(e)?t[e]:null}function iS(t){let e=t&&(t[lw]||t[dw]);return e||null}function T_(t){return t&&(t.hasOwnProperty(C_)||t.hasOwnProperty(oS))?t[C_]:null}var lw=De({\u0275prov:De}),C_=De({\u0275inj:De}),dw=De({ngInjectableDef:De}),oS=De({ngInjectorDef:De}),X=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function hw(t){return t&&!!t.\u0275providers}var sS=De({\u0275cmp:De}),aS=De({\u0275dir:De}),cS=De({\u0275pipe:De}),uS=De({\u0275mod:De}),Mc=De({\u0275fac:De}),rs=De({__NG_ELEMENT_ID__:De}),S_=De({__NG_ENV_ID__:De});function Qh(t){return typeof t=="string"?t:t==null?"":String(t)}function lS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Qh(t)}function dS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function Yh(t,e){throw new G(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),lh;function fw(){return lh}function yt(t){let e=lh;return lh=t,e}function pw(t,e,n){let r=Zc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;Yh(t,"Injector")}var hS={},is=hS,dh="__NG_DI_FLAG__",Pc="ngTempTokenPath",fS="ngTokenPath",pS=/\n/gm,gS="\u0275",A_="__source",Li;function mS(){return Li}function Yn(t){let e=Li;return Li=t,e}function yS(t,e=re.Default){if(Li===void 0)throw new G(-203,!1);return Li===null?pw(t,void 0,e):Li.get(t,e&re.Optional?null:void 0,e)}function ie(t,e=re.Default){return(fw()||yS)(Pt(t),e)}function F(t,e=re.Default){return ie(t,Xc(e))}function Xc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hh(t){let e=[];for(let n=0;n<t.length;n++){let r=Pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=re.Default;for(let s=0;s<r.length;s++){let c=r[s],u=vS(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(ie(i,o))}else e.push(ie(r))}return e}function gw(t,e){return t[dh]=e,t.prototype[dh]=e,t}function vS(t){return t[dh]}function _S(t,e,n,r){let i=t[Pc];throw e[A_]&&i.unshift(e[A_]),t.message=wS(`
`+t.message,i,n,r),t[fS]=i,t[Pc]=null,t}function wS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==gS?t.slice(2):t;let i=ht(e);if(Array.isArray(e))i=e.map(ht).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):ht(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pS,`
  `)}`}var it=gw(sw("Optional"),8);var mw=gw(sw("SkipSelf"),4);function Pr(t,e){let n=t.hasOwnProperty(Mc);return n?t[Mc]:null}function Jh(t,e){t.forEach(n=>Array.isArray(n)?Jh(n,e):e(n))}function yw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function IS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Zh(t,e,n){let r=vs(t,e);return r>=0?t[r|1]=n:(r=~r,IS(t,r,e,n)),r}function Qd(t,e){let n=vs(t,e);if(n>=0)return t[n|1]}function vs(t,e){return ES(t,e,1)}function ES(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var os={},bt=[],Ui=new X(""),vw=new X("",-1),_w=new X(""),Oc=class{get(e,n=is){if(n===is){let r=new Error(`NullInjectorError: No provider for ${ht(e)}!`);throw r.name="NullInjectorError",r}return n}},ww=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ww||{}),on=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(on||{}),Cn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Cn||{});function bS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function fh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];TS(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function DS(t){return t===3||t===4||t===6}function TS(t){return t.charCodeAt(0)===64}function Xh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?R_(t,n,i,null,e[++r]):R_(t,n,i,null,null))}}return t}function R_(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Iw="ng-template";function CS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&bS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ef(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ef(t){return t.type===4&&t.value!==Iw}function SS(t,e,n){let r=t.type===4&&!n?Iw:t.value;return e===r}function AS(t,e,n){let r=4,i=t.attrs,o=i!==null?MS(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Ht(r)&&!Ht(u))return!1;if(s&&Ht(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!SS(t,u,n)||u===""&&e.length===1){if(Ht(r))return!1;s=!0}}else if(r&8){if(i===null||!CS(t,i,u,n)){if(Ht(r))return!1;s=!0}}else{let l=e[++c],f=RS(u,i,ef(t),n);if(f===-1){if(Ht(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Ht(r))return!1;s=!0}}}}return Ht(r)||s}function Ht(t){return(t&1)===0}function RS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return PS(e,t)}function xS(t,e,n=!1){for(let r=0;r<e.length;r++)if(AS(t,e[r],n))return!0;return!1}function MS(t){for(let e=0;e<t.length;e++){let n=t[e];if(DS(n))return e}return t.length}function PS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function x_(t,e){return t?":not("+e.trim()+")":e}function NS(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ht(s)&&(e+=x_(o,i),i=""),r=s,o=o||!Ht(r);n++}return i!==""&&(e+=x_(o,i)),e}function OS(t){return t.map(NS).join(",")}function kS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ht(i))break;i=o}r++}return{attrs:e,classes:n}}function Ae(t){return ys(()=>{let e=Sw(t),n=Me(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ww.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||on.Emulated,styles:t.styles||bt,_:null,schemas:t.schemas||null,tView:null,id:""});Aw(n);let r=t.dependencies;return n.directiveDefs=P_(r,!1),n.pipeDefs=P_(r,!0),n.id=VS(n),n})}function FS(t){return Nr(t)||bw(t)}function LS(t){return t!==null}function eu(t){return ys(()=>({type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function M_(t,e){if(t==null)return os;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=Cn.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==Cn.None?[r,c]:r,e[o]=s):n[o]=r}return n}function zi(t){return ys(()=>{let e=Sw(t);return Aw(e),e})}function Ew(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nr(t){return t[sS]||null}function bw(t){return t[aS]||null}function Dw(t){return t[cS]||null}function Tw(t){let e=Nr(t)||bw(t)||Dw(t);return e!==null?e.standalone:!1}function Cw(t,e){let n=t[uS]||null;if(!n&&e===!0)throw new Error(`Type ${ht(t)} does not have '\u0275mod' property.`);return n}function Sw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||os,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:M_(t.inputs,e),outputs:M_(t.outputs),debugInfo:null}}function Aw(t){t.features?.forEach(e=>e(t))}function P_(t,e){if(!t)return null;let n=e?Dw:FS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(LS)}function VS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function cn(t){return{\u0275providers:t}}function US(...t){return{\u0275providers:Rw(!0,t),\u0275fromNgModule:!0}}function Rw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Jh(e,s=>{let c=s;ph(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&xw(i,o),n}function xw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];tf(i,o=>{e(o,r)})}}function ph(t,e,n,r){if(t=Pt(t),!t)return!1;let i=null,o=T_(t),s=!o&&Nr(t);if(!o&&!s){let u=t.ngModule;if(o=T_(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)ph(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Jh(o.imports,f=>{ph(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&xw(l,e)}if(!c){let l=Pr(i)||(()=>new i);e({provide:i,useFactory:l,deps:bt},i),e({provide:_w,useValue:i,multi:!0},i),e({provide:Ui,useValue:()=>ie(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;tf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function tf(t,e){for(let n of t)hw(n)&&(n=n.\u0275providers),Array.isArray(n)?tf(n,e):e(n)}var jS=De({provide:String,useValue:De});function Mw(t){return t!==null&&typeof t=="object"&&jS in t}function BS(t){return!!(t&&t.useExisting)}function $S(t){return!!(t&&t.useFactory)}function gh(t){return typeof t=="function"}var tu=new X(""),Cc={},HS={},Yd;function nf(){return Yd===void 0&&(Yd=new Oc),Yd}var Ot=class{},ss=class extends Ot{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yh(e,s=>this.processProvider(s)),this.records.set(vw,Oi(void 0,this)),i.has("environment")&&this.records.set(Ot,Oi(void 0,this));let o=this.records.get(tu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_w,bt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Yn(this),r=yt(void 0),i;try{return e()}finally{Yn(n),yt(r)}}get(e,n=is,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(S_))return e[S_](this);r=Xc(r);let i,o=Yn(this),s=yt(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=QS(e)&&Zc(e);l&&this.injectableDefInScope(l)?u=Oi(mh(e),Cc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&re.Self?nf():this.parent;return n=r&re.Optional&&n===is?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Pc]=c[Pc]||[]).unshift(ht(e)),o)throw c;return _S(c,e,"R3InjectorError",this.source)}else throw c}finally{yt(s),Yn(o)}}resolveInjectorInitializers(){let e=ye(null),n=Yn(this),r=yt(void 0),i;try{let o=this.get(Ui,bt,re.Self);for(let s of o)s()}finally{Yn(n),yt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=Pt(e);let n=gh(e)?e:Pt(e&&e.provide),r=qS(e);if(!gh(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Oi(void 0,Cc,!0),i.factory=()=>hh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===Cc&&(n.value=HS,n.value=n.factory()),typeof n.value=="object"&&n.value&&KS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function mh(t){let e=Zc(t),n=e!==null?e.factory:Pr(t);if(n!==null)return n;if(t instanceof X)throw new G(204,!1);if(t instanceof Function)return zS(t);throw new G(204,!1)}function zS(t){if(t.length>0)throw new G(204,!1);let n=iS(t);return n!==null?()=>n.factory(t):()=>new t}function qS(t){if(Mw(t))return Oi(void 0,t.useValue);{let e=GS(t);return Oi(e,Cc)}}function GS(t,e,n){let r;if(gh(t)){let i=Pt(t);return Pr(i)||mh(i)}else if(Mw(t))r=()=>Pt(t.useValue);else if($S(t))r=()=>t.useFactory(...hh(t.deps||[]));else if(BS(t))r=()=>ie(Pt(t.useExisting));else{let i=Pt(t&&(t.useClass||t.provide));if(WS(t))r=()=>new i(...hh(t.deps));else return Pr(i)||mh(i)}return r}function Oi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function WS(t){return!!t.deps}function KS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function QS(t){return typeof t=="function"||typeof t=="object"&&t instanceof X}function yh(t,e){for(let n of t)Array.isArray(n)?yh(n,e):n&&hw(n)?yh(n.\u0275providers,e):e(n)}function jr(t,e){t instanceof ss&&t.assertNotDestroyed();let n,r=Yn(t),i=yt(void 0);try{return e()}finally{Yn(r),yt(i)}}function YS(){return fw()!==void 0||mS()!=null}function JS(t){return typeof t=="function"}var Rn=0,ce=1,K=2,rt=3,Gt=4,Yt=5,kc=6,as=7,Wt=8,ji=9,Kt=10,ze=11,cs=12,N_=13,qi=14,sn=15,nu=16,ki=17,Bi=18,ru=19,Pw=20,Jn=21,Jd=22,Or=23,Qt=25,Nw=1;var kr=7,Fc=8,Lc=9,Nt=10,rf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rf||{});function xr(t){return Array.isArray(t)&&typeof t[Nw]=="object"}function xn(t){return Array.isArray(t)&&t[Nw]===!0}function of(t){return(t.flags&4)!==0}function iu(t){return t.componentOffset>-1}function ou(t){return(t.flags&1)===1}function _s(t){return!!t.template}function ZS(t){return(t[K]&512)!==0}var vh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ow(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function su(){return kw}function kw(t){return t.type.prototype.ngOnChanges&&(t.setInput=eA),XS}su.ngInherit=!0;function XS(){let t=Lw(this),e=t?.current;if(e){let n=t.previous;if(n===os)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function eA(t,e,n,r,i){let o=this.declaredInputs[r],s=Lw(t)||tA(t,{previous:os,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new vh(l&&l.currentValue,n,u===os),Ow(t,e,i,n)}var Fw="__ngSimpleChanges__";function Lw(t){return t[Fw]||null}function tA(t,e){return t[Fw]=e}var O_=null;var nn=function(t,e,n){O_?.(t,e,n)},nA="svg",rA="math",iA=!1;function oA(){return iA}function an(t){for(;Array.isArray(t);)t=t[Rn];return t}function Vw(t,e){return an(e[t])}function Jt(t,e){return an(e[t.index])}function Uw(t,e){return t.data[e]}function sA(t,e){return t[e]}function tr(t,e){let n=e[t];return xr(n)?n:n[Rn]}function sf(t){return(t[K]&128)===128}function aA(t){return xn(t[rt])}function $i(t,e){return e==null?null:t[e]}function jw(t){t[ki]=0}function cA(t){t[K]&1024||(t[K]|=1024,sf(t)&&us(t))}function uA(t,e){for(;t>0;)e=e[qi],t--;return e}function af(t){return!!(t[K]&9216||t[Or]?.dirty)}function _h(t){t[Kt].changeDetectionScheduler?.notify(1),af(t)?us(t):t[K]&64&&(oA()?(t[K]|=1024,us(t)):t[Kt].changeDetectionScheduler?.notify())}function us(t){t[Kt].changeDetectionScheduler?.notify();let e=ls(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!sf(e)));)e=ls(e)}function Bw(t,e){if((t[K]&256)===256)throw new G(911,!1);t[Jn]===null&&(t[Jn]=[]),t[Jn].push(e)}function lA(t,e){if(t[Jn]===null)return;let n=t[Jn].indexOf(e);n!==-1&&t[Jn].splice(n,1)}function ls(t){let e=t[rt];return xn(e)?e[rt]:e}var oe={lFrame:Xw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dA(){return oe.lFrame.elementDepthCount}function hA(){oe.lFrame.elementDepthCount++}function fA(){oe.lFrame.elementDepthCount--}function $w(){return oe.bindingsEnabled}function pA(){return oe.skipHydrationRootTNode!==null}function gA(t){return oe.skipHydrationRootTNode===t}function mA(){oe.skipHydrationRootTNode=null}function Te(){return oe.lFrame.lView}function Dt(){return oe.lFrame.tView}function Hw(t){return oe.lFrame.contextLView=t,t[Wt]}function zw(t){return oe.lFrame.contextLView=null,t}function kt(){let t=qw();for(;t!==null&&t.type===64;)t=t.parent;return t}function qw(){return oe.lFrame.currentTNode}function yA(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Br(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function cf(){return oe.lFrame.isParent}function Gw(){oe.lFrame.isParent=!1}function Ww(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function vA(t){return oe.lFrame.bindingIndex=t}function Kw(){return oe.lFrame.bindingIndex++}function Qw(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _A(){return oe.lFrame.inI18n}function wA(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,wh(e)}function IA(){return oe.lFrame.currentDirectiveIndex}function wh(t){oe.lFrame.currentDirectiveIndex=t}function EA(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Yw(t){oe.lFrame.currentQueryIndex=t}function bA(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[Yt]:null}function Jw(t,e,n){if(n&re.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=bA(o),i===null||(o=o[qi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=Zw();return r.currentTNode=e,r.lView=t,!0}function uf(t){let e=Zw(),n=t[ce];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Zw(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?Xw(t):e}function Xw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eI(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tI=eI;function lf(){let t=eI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function DA(t){return(oe.lFrame.contextLView=uA(t,oe.lFrame.contextLView))[Wt]}function $r(){return oe.lFrame.selectedIndex}function Fr(t){oe.lFrame.selectedIndex=t}function nI(){let t=oe.lFrame;return Uw(t.tView,t.selectedIndex)}function TA(){return oe.lFrame.currentNamespace}var rI=!0;function au(){return rI}function cu(t){rI=t}function CA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=kw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function uu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Sc(t,e,n){iI(t,e,3,n)}function Ac(t,e,n,r){(t[K]&3)===n&&iI(t,e,n,r)}function Zd(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function iI(t,e,n,r){let i=r!==void 0?t[ki]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[ki]+=65536),(c<o||o==-1)&&(SA(t,n,e,u),t[ki]=(t[ki]&4294901760)+u+2),u++}function k_(t,e){nn(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),nn(5,t,e)}}function SA(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[K]>>14<t[ki]>>16&&(t[K]&3)===e&&(t[K]+=16384,k_(c,o)):k_(c,o)}var Vi=-1,ds=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function AA(t){return t instanceof ds}function RA(t){return(t.flags&8)!==0}function xA(t){return(t.flags&16)!==0}function oI(t){return t!==Vi}function Vc(t){return t&32767}function MA(t){return t>>16}function Uc(t,e){let n=MA(t),r=e;for(;n>0;)r=r[qi],n--;return r}var Ih=!0;function jc(t){let e=Ih;return Ih=t,e}var PA=256,sI=PA-1,aI=5,NA=0,rn={};function OA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(rs)&&(r=n[rs]),r==null&&(r=n[rs]=NA++);let i=r&sI,o=1<<i;e.data[t+(i>>aI)]|=o}function cI(t,e){let n=uI(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,Xd(r.data,t),Xd(e,null),Xd(r.blueprint,null));let i=df(t,e),o=t.injectorIndex;if(oI(i)){let s=Vc(i),c=Uc(i,e),u=c[ce].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Xd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function uI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function df(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=pI(i),r===null)return Vi;if(n++,i=i[qi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Vi}function kA(t,e,n){OA(t,e,n)}function lI(t,e,n){if(n&re.Optional||t!==void 0)return t;Yh(e,"NodeInjector")}function dI(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[ji],o=yt(void 0);try{return i?i.get(e,r,n&re.Optional):pw(e,r,n&re.Optional)}finally{yt(o)}}return lI(r,e,n)}function hI(t,e,n,r=re.Default,i){if(t!==null){if(e[K]&2048&&!(r&re.Self)){let s=jA(t,e,n,r,rn);if(s!==rn)return s}let o=fI(t,e,n,r,rn);if(o!==rn)return o}return dI(e,n,r,i)}function fI(t,e,n,r,i){let o=VA(n);if(typeof o=="function"){if(!Jw(e,t,r))return r&re.Host?lI(i,n,r):dI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&re.Optional))Yh(n);else return s}finally{tI()}}else if(typeof o=="number"){let s=null,c=uI(t,e),u=Vi,l=r&re.Host?e[sn][Yt]:null;for((c===-1||r&re.SkipSelf)&&(u=c===-1?df(t,e):e[c+8],u===Vi||!L_(r,!1)?c=-1:(s=e[ce],c=Vc(u),e=Uc(u,e)));c!==-1;){let f=e[ce];if(F_(o,c,f.data)){let p=FA(c,e,n,s,r,l);if(p!==rn)return p}u=e[c+8],u!==Vi&&L_(r,e[ce].data[c+8]===l)&&F_(o,c,e)?(s=f,c=Vc(u),e=Uc(u,e)):c=-1}}return i}function FA(t,e,n,r,i,o){let s=e[ce],c=s.data[t+8],u=r==null?iu(c)&&Ih:r!=s&&(c.type&3)!==0,l=i&re.Host&&o===c,f=LA(c,s,n,u,l);return f!==null?hs(e,s,f,c):rn}function LA(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,y=i?c+f:l;for(let w=p;w<y;w++){let A=s[w];if(w<u&&n===A||w>=u&&A.type===n)return w}if(i){let w=s[u];if(w&&_s(w)&&w.type===n)return u}return null}function hs(t,e,n,r){let i=t[n],o=e.data;if(AA(i)){let s=i;s.resolving&&dS(lS(o[n]));let c=jc(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?yt(s.injectImpl):null,f=Jw(t,r,re.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&CA(n,o[n],e)}finally{l!==null&&yt(l),jc(c),s.resolving=!1,tI()}}return i}function VA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(rs)?t[rs]:void 0;return typeof e=="number"?e>=0?e&sI:UA:e}function F_(t,e,n){let r=1<<t;return!!(n[e+(t>>aI)]&r)}function L_(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var Mr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return hI(this._tNode,this._lView,e,Xc(r),n)}};function UA(){return new Mr(kt(),Te())}function hf(t){return ys(()=>{let e=t.prototype.constructor,n=e[Mc]||Eh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Mc]||Eh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Eh(t){return cw(t)?()=>{let e=Eh(Pt(t));return e&&e()}:Pr(t)}function jA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!(s[K]&512);){let c=fI(o,s,n,r|re.Self,rn);if(c!==rn)return c;let u=o.parent;if(!u){let l=s[Pw];if(l){let f=l.get(n,rn,r);if(f!==rn)return f}u=pI(s),s=s[qi]}o=u}return i}function pI(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[Yt]:null}function V_(t,e=null,n=null,r){let i=gI(t,e,n,r);return i.resolveInjectorInitializers(),i}function gI(t,e=null,n=null,r,i=new Set){let o=[n||bt,US(t)];return r=r||(typeof t=="object"?void 0:ht(t)),new ss(o,e||nf(),r||null,i)}var Zt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return V_({name:""},i,r,"");{let o=r.name??"";return V_({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=is,e.NULL=new Oc,e.\u0275prov=z({token:e,providedIn:"any",factory:()=>ie(vw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var BA="ngOriginalError";function eh(t){return t[BA]}var Sn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&eh(e);for(;n&&eh(n);)n=eh(n);return n||null}},mI=new X("",{providedIn:"root",factory:()=>F(Sn).handleError.bind(void 0)}),yI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$A,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),bh=class extends yI{constructor(e){super(),this._lView=e}onDestroy(e){return Bw(this._lView,e),()=>lA(this._lView,e)}};function $A(){return new bh(Te())}function HA(){return lu(kt(),Te())}function lu(t,e){return new Hr(Jt(t,e))}var Hr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=HA;let t=e;return t})();var Dh=class extends dt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,YS()&&(this.destroyRef=F(yI,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=th(o),i&&(i=th(i)),s&&(s=th(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(c),c}};function th(t){return e=>{setTimeout(t,void 0,e)}}var qt=Dh;function vI(t){return(t.flags&128)===128}var _I=new Map,zA=0;function qA(){return zA++}function GA(t){_I.set(t[ru],t)}function WA(t){_I.delete(t[ru])}var U_="__ngContext__";function Zn(t,e){xr(e)?(t[U_]=e[ru],GA(e)):t[U_]=e}function wI(t){return EI(t[cs])}function II(t){return EI(t[Gt])}function EI(t){for(;t!==null&&!xn(t);)t=t[Gt];return t}var Th;function bI(t){Th=t}function KA(){if(Th!==void 0)return Th;if(typeof document<"u")return document;throw new G(210,!1)}var ff=new X("",{providedIn:"root",factory:()=>QA}),QA="ng",pf=new X(""),nr=new X("",{providedIn:"platform",factory:()=>"unknown"});var gf=new X("",{providedIn:"root",factory:()=>KA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var YA="h",JA="b";var ZA=()=>null;function mf(t,e,n=!1){return ZA(t,e,n)}var DI=!1,XA=new X("",{providedIn:"root",factory:()=>DI});var Bc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ow})`}};function ws(t){return t instanceof Bc?t.changingThisBreaksApplicationSecurity:t}function TI(t,e){let n=eR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ow})`)}return n===e}function eR(t){return t instanceof Bc&&t.getTypeName()||null}var tR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function CI(t){return t=String(t),t.match(tR)?t:"unsafe:"+t}var yf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yf||{});function zr(t){let e=nR();return e?e.sanitize(yf.URL,t)||"":TI(t,"URL")?ws(t):CI(Qh(t))}function nR(){let t=Te();return t&&t[Kt].sanitizer}var rR=/^>|^->|<!--|-->|--!>|<!-$/g,iR=/(<|>)/g,oR="\u200B$1\u200B";function sR(t){return t.replace(rR,e=>e.replace(iR,oR))}function SI(t){return t.ownerDocument}function AI(t){return t instanceof Function?t():t}var An=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(An||{}),aR;function vf(t,e){return aR(t,e)}function Fi(t,e,n,r,i){if(r!=null){let o,s=!1;xn(r)?o=r:xr(r)&&(s=!0,r=r[Rn]);let c=an(r);t===0&&n!==null?i==null?NI(e,n,c):$c(e,n,c,i||null,!0):t===1&&n!==null?$c(e,n,c,i||null,!0):t===2?TR(e,c,s):t===3&&e.destroyNode(c),o!=null&&SR(e,t,o,n,i)}}function cR(t,e){return t.createText(e)}function uR(t,e,n){t.setValue(e,n)}function lR(t,e){return t.createComment(sR(e))}function RI(t,e,n){return t.createElement(e,n)}function dR(t,e){xI(t,e),e[Rn]=null,e[Yt]=null}function hR(t,e,n,r,i,o){r[Rn]=i,r[Yt]=e,hu(t,r,n,1,i,o)}function xI(t,e){e[Kt].changeDetectionScheduler?.notify(1),hu(t,e,e[ze],2,null,null)}function fR(t){let e=t[cs];if(!e)return nh(t[ce],t);for(;e;){let n=null;if(xr(e))n=e[cs];else{let r=e[Nt];r&&(n=r)}if(!n){for(;e&&!e[Gt]&&e!==t;)xr(e)&&nh(e[ce],e),e=e[rt];e===null&&(e=t),xr(e)&&nh(e[ce],e),n=e&&e[Gt]}e=n}}function pR(t,e,n,r){let i=Nt+r,o=n.length;r>0&&(n[i-1][Gt]=e),r<o-Nt?(e[Gt]=n[i],yw(n,Nt+r,e)):(n.push(e),e[Gt]=null),e[rt]=n;let s=e[nu];s!==null&&n!==s&&gR(s,e);let c=e[Bi];c!==null&&c.insertView(t),_h(e),e[K]|=128}function gR(t,e){let n=t[Lc],i=e[rt][rt][sn];e[sn]!==i&&(t[K]|=rf.HasTransplantedViews),n===null?t[Lc]=[e]:n.push(e)}function MI(t,e){let n=t[Lc],r=n.indexOf(e);n.splice(r,1)}function Ch(t,e){if(t.length<=Nt)return;let n=Nt+e,r=t[n];if(r){let i=r[nu];i!==null&&i!==t&&MI(i,r),e>0&&(t[n-1][Gt]=r[Gt]);let o=Nc(t,Nt+e);dR(r[ce],r);let s=o[Bi];s!==null&&s.detachView(o[ce]),r[rt]=null,r[Gt]=null,r[K]&=-129}return r}function PI(t,e){if(!(e[K]&256)){let n=e[ze];n.destroyNode&&hu(t,e,n,3,null,null),fR(e)}}function nh(t,e){if(e[K]&256)return;let n=ye(null);try{e[K]&=-129,e[K]|=256,e[Or]&&Bv(e[Or]),yR(t,e),mR(t,e),e[ce].type===1&&e[ze].destroy();let r=e[nu];if(r!==null&&xn(e[rt])){r!==e[rt]&&MI(r,e);let i=e[Bi];i!==null&&i.detachView(t)}WA(e)}finally{ye(n)}}function mR(t,e){let n=t.cleanup,r=e[as];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[as]=null);let i=e[Jn];if(i!==null){e[Jn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function yR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ds)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];nn(4,c,u);try{u.call(c)}finally{nn(5,c,u)}}else{nn(4,i,o);try{o.call(i)}finally{nn(5,i,o)}}}}}function vR(t,e,n){return _R(t,e.parent,n)}function _R(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Rn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===on.None||o===on.Emulated)return null}return Jt(r,n)}}function $c(t,e,n,r,i){t.insertBefore(e,n,r,i)}function NI(t,e,n){t.appendChild(e,n)}function j_(t,e,n,r,i){r!==null?$c(t,e,n,r,i):NI(t,e,n)}function wR(t,e,n,r){t.removeChild(e,n,r)}function _f(t,e){return t.parentNode(e)}function IR(t,e){return t.nextSibling(e)}function ER(t,e,n){return DR(t,e,n)}function bR(t,e,n){return t.type&40?Jt(t,n):null}var DR=bR,B_;function du(t,e,n,r){let i=vR(t,r,e),o=e[ze],s=r.parent||e[Yt],c=ER(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)j_(o,i,n[u],c,!1);else j_(o,i,n,c,!1);B_!==void 0&&B_(o,r,e,n,i)}function Rc(t,e){if(e!==null){let n=e.type;if(n&3)return Jt(e,t);if(n&4)return Sh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Rc(t,r);{let i=t[e.index];return xn(i)?Sh(-1,i):an(i)}}else{if(n&32)return vf(e,t)()||an(t[e.index]);{let r=OI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ls(t[sn]);return Rc(i,r)}else return Rc(t,e.next)}}}return null}function OI(t,e){if(e!==null){let r=t[sn][Yt],i=e.projection;return r.projection[i]}return null}function Sh(t,e){let n=Nt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return Rc(r,i)}return e[kr]}function TR(t,e,n){let r=_f(t,e);r&&wR(t,r,e,n)}function wf(t,e,n,r,i,o,s){for(;n!=null;){let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Zn(an(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)wf(t,e,n.child,r,i,o,!1),Fi(e,t,i,c,o);else if(u&32){let l=vf(n,r),f;for(;f=l();)Fi(e,t,i,f,o);Fi(e,t,i,c,o)}else u&16?CR(t,e,r,n,i,o):Fi(e,t,i,c,o);n=s?n.projectionNext:n.next}}function hu(t,e,n,r,i,o){wf(n,r,t.firstChild,e,i,o,!1)}function CR(t,e,n,r,i,o){let s=n[sn],u=s[Yt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Fi(e,t,i,f,o)}else{let l=u,f=s[rt];vI(r)&&(l.flags|=128),wf(t,e,l,f,i,o,!0)}}function SR(t,e,n,r,i){let o=n[kr],s=an(n);o!==s&&Fi(e,t,r,o,i);for(let c=Nt;c<n.length;c++){let u=n[c];hu(u[ce],u,t,e,r,o)}}function AR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:An.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=An.Important),t.setStyle(n,r,i,o))}}function RR(t,e,n){t.setAttribute(e,"style",n)}function kI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function FI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&fh(t,e,r),i!==null&&kI(t,e,i),o!==null&&RR(t,e,o)}var un={};function se(t=1){LI(Dt(),Te(),$r()+t,!1)}function LI(t,e,n,r){if(!r)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Sc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ac(e,o,0,n)}Fr(n)}function Tt(t,e=re.Default){let n=Te();if(n===null)return ie(t,e);let r=kt();return hI(r,n,Pt(t),e)}function VI(t,e,n,r,i,o){let s=ye(null);try{let c=null;i&Cn.SignalBased&&(c=e[r][_i]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&Cn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):Ow(e,c,r,o)}finally{ye(s)}}function xR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Fr(~i);else{let o=i,s=n[++r],c=n[++r];wA(s,o);let u=e[o];c(2,u)}}}finally{Fr(-1)}}function fu(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Rn]=i,p[K]=r|4|128|8|64,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),jw(p),p[rt]=p[qi]=t,p[Wt]=n,p[Kt]=s||t&&t[Kt],p[ze]=c||t&&t[ze],p[ji]=u||t&&t[ji]||null,p[Yt]=o,p[ru]=qA(),p[kc]=f,p[Pw]=l,p[sn]=e.type==2?t[sn]:p,p}function Is(t,e,n,r,i){let o=t.data[e];if(o===null)o=MR(t,e,n,r,i),_A()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=yA();o.injectorIndex=s===null?-1:s.injectorIndex}return Br(o,!0),o}function MR(t,e,n,r,i){let o=qw(),s=cf(),c=s?o:o&&o.parent,u=t.data[e]=FR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function UI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function jI(t,e,n,r,i){let o=$r(),s=r&2;try{Fr(-1),s&&e.length>Qt&&LI(t,e,Qt,!1),nn(s?2:0,i),n(r,i)}finally{Fr(o),nn(s?3:1,i)}}function If(t,e,n){if(of(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{ye(r)}}}function Ef(t,e,n){$w()&&($R(t,e,n,Jt(n,e)),(n.flags&64)===64&&zI(t,e,n))}function bf(t,e,n=Jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function BI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Df(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Df(t,e,n,r,i,o,s,c,u,l,f){let p=Qt+r,y=p+i,w=PR(p,y),A=typeof l=="function"?l():l;return w[ce]={type:t,blueprint:w,template:n,queries:null,viewQuery:c,declTNode:e,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function PR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:un);return n}function NR(t,e,n,r){let o=r.get(XA,DI)||n===on.ShadowDom,s=t.selectRootElement(e,o);return OR(s),s}function OR(t){kR(t)}var kR=()=>null;function FR(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return pA()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=Cn.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?H_(r,n,l,c,u):H_(r,n,l,c)}return r}function H_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function LR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=o[f],y=n?n.get(p):null,w=y?y.inputs:null,A=y?y.outputs:null;u=$_(0,p.inputs,f,u,w),l=$_(1,p.outputs,f,l,A);let x=u!==null&&s!==null&&!ef(e)?JR(u,f,s):null;c.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function VR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function $I(t,e,n,r,i,o,s,c){let u=Jt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Cf(t,n,f,r,i),iu(e)&&UR(n,e.index)):e.type&3?(r=VR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function UR(t,e){let n=tr(e,t);n[K]&16||(n[K]|=64)}function Tf(t,e,n,r){if($w()){let i=r===null?null:{"":-1},o=zR(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&HI(t,e,n,s,i,c),i&&qR(n,r,i)}n.mergedAttrs=Xh(n.mergedAttrs,n.attrs)}function HI(t,e,n,r,i,o){for(let l=0;l<r.length;l++)kA(cI(n,e),t,r[l].type);WR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=UI(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Xh(n.mergedAttrs,f.hostAttrs),KR(t,n,e,u,f),GR(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}LR(t,n,o)}function jR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;BR(s)!=c&&s.push(c),s.push(n,r,o)}}function BR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function $R(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;iu(n)&&QR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||cI(n,e),Zn(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],l=hs(e,t,c,n);if(Zn(l,e),s!==null&&YR(e,c-i,l,u,n,s),_s(u)){let f=tr(n.index,e);f[Wt]=hs(e,t,c,n)}}}function zI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=IA();try{Fr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];wh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&HR(u,l)}}finally{Fr(-1),wh(s)}}function HR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function zR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(xS(e,s.selectors,!1))if(r||(r=[]),_s(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;Ah(t,e,u)}else r.unshift(s),Ah(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ah(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function qR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function GR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_s(e)&&(n[""]=t)}}function WR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function KR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Pr(i.type,!0)),s=new ds(o,_s(i),Tt);t.blueprint[r]=s,n[r]=s,jR(t,e,r,UI(t,n,i.hostVars,un),i)}function QR(t,e,n){let r=Jt(e,t),i=BI(n),o=t[Kt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=pu(t,fu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function YR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],f=s[c++],p=s[c++];VI(r,n,u,l,f,p)}}function JR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function qI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function GI(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];Yw(o),c.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function pu(t,e){return t[cs]?t[N_][Gt]=e:t[cs]=e,t[N_]=e,e}function Rh(t,e,n){Yw(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function ZR(t){return t[as]||(t[as]=[])}function XR(t){return t.cleanup||(t.cleanup=[])}function WI(t,e){let n=t[ji],r=n?n.get(Sn,null):null;r&&r.handleError(e)}function Cf(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],l=e[s],f=t.data[s];VI(f,l,r,c,u,i)}}function ex(t,e,n){let r=Vw(e,t);uR(t[ze],r,n)}function tx(t,e){let n=tr(e,t),r=n[ce];nx(r,n);let i=n[Rn];i!==null&&n[kc]===null&&(n[kc]=mf(i,n[ji])),Sf(r,n,n[Wt])}function nx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Sf(t,e,n){uf(e);try{let r=t.viewQuery;r!==null&&Rh(1,r,n);let i=t.template;i!==null&&jI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Bi]?.finishViewCreation(t),t.staticContentQueries&&GI(t,e),t.staticViewQueries&&Rh(2,t.viewQuery,n);let o=t.components;o!==null&&rx(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,lf()}}function rx(t,e){for(let n=0;n<e.length;n++)tx(t,e[n])}function ix(t,e,n,r){let i=ye(null);try{let o=e.tView,c=t[K]&4096?4096:16,u=fu(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[nu]=l;let f=t[Bi];return f!==null&&(u[Bi]=f.createEmbeddedView(o)),Sf(o,u,n),u}finally{ye(i)}}function z_(t,e){return!e||e.firstChild===null||vI(t)}function ox(t,e,n,r=!0){let i=e[ce];if(pR(i,e,t,n),r){let s=Sh(n,t),c=e[ze],u=_f(c,t[kr]);u!==null&&hR(i,t[Yt],c,e,u,s)}let o=e[kc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Hc(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(an(o)),xn(o)&&sx(o,r);let s=n.type;if(s&8)Hc(t,e,n.child,r);else if(s&32){let c=vf(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=OI(e,n);if(Array.isArray(c))r.push(...c);else{let u=ls(e[sn]);Hc(u[ce],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function sx(t,e){for(let n=Nt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&Hc(r[ce],r,i,e)}t[kr]!==t[Rn]&&e.push(t[kr])}var KI=[];function ax(t){return t[Or]??cx(t)}function cx(t){let e=KI.pop()??Object.create(lx);return e.lView=t,e}function ux(t){t.lView[Or]!==t&&(t.lView=null,KI.push(t))}var lx=Me(B({},Cd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{us(t.lView)},consumerOnSignalRead(){this.lView[Or]=this}}),QI=100;function YI(t,e=!0,n=0){let r=t[Kt],i=r.rendererFactory,o=!1;o||i.begin?.();try{dx(t,n)}catch(s){throw e&&WI(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function dx(t,e){xh(t,e);let n=0;for(;af(t);){if(n===QI)throw new G(103,!1);n++,xh(t,1)}}function hx(t,e,n,r){let i=e[K];if((i&256)===256)return;let o=!1;!o&&e[Kt].inlineEffectRunner?.flush(),uf(e);let s=null,c=null;!o&&fx(t)&&(c=ax(e),s=Uv(c));try{jw(e),vA(t.bindingStartIndex),n!==null&&jI(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Sc(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Ac(e,p,0,null),Zd(e,0)}if(px(e),JI(e,0),t.contentQueries!==null&&GI(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Sc(e,p)}else{let p=t.contentHooks;p!==null&&Ac(e,p,1),Zd(e,1)}xR(t,e);let l=t.components;l!==null&&XI(e,l,0);let f=t.viewQuery;if(f!==null&&Rh(2,f,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Sc(e,p)}else{let p=t.viewHooks;p!==null&&Ac(e,p,2),Zd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Jd]){for(let p of e[Jd])p();e[Jd]=null}o||(e[K]&=-73)}catch(u){throw us(e),u}finally{c!==null&&(jv(c,s),ux(c)),lf()}}function fx(t){return t.type!==2}function JI(t,e){for(let n=wI(t);n!==null;n=II(n))for(let r=Nt;r<n.length;r++){let i=n[r];ZI(i,e)}}function px(t){for(let e=wI(t);e!==null;e=II(e)){if(!(e[K]&rf.HasTransplantedViews))continue;let n=e[Lc];for(let r=0;r<n.length;r++){let i=n[r],o=i[rt];cA(i)}}}function gx(t,e,n){let r=tr(e,t);ZI(r,n)}function ZI(t,e){sf(t)&&xh(t,e)}function xh(t,e){let r=t[ce],i=t[K],o=t[Or],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Sd(o)),o&&(o.dirty=!1),t[K]&=-9217,s)hx(r,t,r.template,t[Wt]);else if(i&8192){JI(t,1);let c=r.components;c!==null&&XI(t,c,1)}}function XI(t,e,n){for(let r=0;r<e.length;r++)gx(t,e[r],n)}function Af(t){for(t[Kt].changeDetectionScheduler?.notify();t;){t[K]|=64;let e=ls(t);if(ZS(t)&&!e)return t;t=e}return null}var Lr=class{get rootNodes(){let e=this._lView,n=e[ce];return Hc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rt];if(xn(e)){let n=e[Fc],r=n?n.indexOf(this):-1;r>-1&&(Ch(e,r),Nc(n,r))}this._attachedToViewContainer=!1}PI(this._lView[ce],this._lView)}onDestroy(e){Bw(this._lView,e)}markForCheck(){Af(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){_h(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,YI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,xI(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e,_h(this._lView)}},gu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vx;let t=e;return t})(),mx=gu,yx=class extends mx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ix(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Lr(i)}};function vx(){return _x(kt(),Te())}function _x(t,e){return t.type&4?new yx(e,t,lu(t,e)):null}var WH=new RegExp(`^(\\d+)*(${JA}|${YA})*(.*)`);var wx=()=>null;function q_(t,e){return wx(t,e)}var Mh=class{},Ph=class{},zc=class{};function Ix(t){let e=Error(`No component factory found for ${ht(t)}.`);return e[Ex]=t,e}var Ex="ngComponent";var Nh=class{resolveComponentFactory(e){throw Ix(e)}},mu=(()=>{let e=class e{};e.NULL=new Nh;let t=e;return t})(),fs=class{},yu=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>bx();let t=e;return t})();function bx(){let t=Te(),e=kt(),n=tr(e.index,t);return(xr(n)?n:t)[ze]}var Dx=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),rh={};var G_=new Set;function Rf(t){G_.has(t)||(G_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function W_(...t){}function Tx(){let t=typeof Tn.requestAnimationFrame=="function",e=Tn[t?"requestAnimationFrame":"setTimeout"],n=Tn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qt(!1),this.onMicrotaskEmpty=new qt(!1),this.onStable=new qt(!1),this.onError=new qt(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Tx().nativeRequestAnimationFrame,Ax(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Cx,W_,W_);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Cx={};function xf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Sx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Oh(t),t.isCheckStableRunning=!0,xf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Oh(t))}function Ax(t){let e=()=>{Sx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,c)=>{if(Rx(c))return n.invokeTask(i,o,s,c);try{return K_(t),n.invokeTask(i,o,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Q_(t)}},onInvoke:(n,r,i,o,s,c,u)=>{try{return K_(t),n.invoke(i,o,s,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Q_(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Oh(t),xf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Oh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function K_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Q_(t){t._nesting--,xf(t)}function Rx(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var eE=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function qc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=uh(i,c);else if(o==2){let u=c,l=e[++s];r=uh(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Gc=class extends mu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Nr(e);return new ps(n,this.ngModule)}};function Y_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function xx(t){let e=t.toLowerCase();return e==="svg"?nA:e==="math"?rA:null}var kh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Xc(r);let i=this.injector.get(e,rh,r);return i!==rh||n===rh?i:this.parentInjector.get(e,n,r)}},ps=class extends zc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Y_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Y_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=OS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof Ot?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new kh(e,s):e,u=c.get(fs,null);if(u===null)throw new G(407,!1);let l=c.get(Dx,null),f=c.get(eE,null),p=c.get(Mh,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},w=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=r?NR(w,r,this.componentDef.encapsulation,c):RI(w,A,xx(A)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let U=null;x!==null&&(U=mf(x,c,!0));let W=Df(0,null,null,1,0,null,null,null,null,null,null),q=fu(null,W,null,P,null,null,y,w,c,null,U);uf(q);let ne,Ce;try{let Z=this.componentDef,E,m=null;Z.findHostDirectiveDefs?(E=[],m=new Map,Z.findHostDirectiveDefs(Z,E,m),E.push(Z)):E=[Z];let v=Mx(q,x),I=Px(v,x,Z,E,q,y,w);Ce=Uw(W,Qt),x&&kx(w,Z,x,r),n!==void 0&&Fx(Ce,this.ngContentSelectors,n),ne=Ox(I,Z,E,m,q,[Lx]),Sf(W,q,null)}finally{lf()}return new Fh(this.componentType,ne,lu(Ce,q),q,Ce)}finally{ye(o)}}},Fh=class extends Ph{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Lr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Cf(o[ce],o,i,e,n),this.previousInputValues.set(e,n);let s=tr(this._tNode.index,o);Af(s)}}get injector(){return new Mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Mx(t,e){let n=t[ce],r=Qt;return t[r]=e,Is(n,r,2,"#host",null)}function Px(t,e,n,r,i,o,s){let c=i[ce];Nx(r,t,e,s);let u=null;e!==null&&(u=mf(e,i[ji]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=fu(i,BI(n),null,f,i[t.index],t,o,l,null,null,u);return c.firstCreatePass&&Ah(c,t,r.length-1),pu(i,p),i[t.index]=p}function Nx(t,e,n,r){for(let i of t)e.mergedAttrs=Xh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(qc(e,e.mergedAttrs,!0),n!==null&&FI(r,n,e))}function Ox(t,e,n,r,i,o){let s=kt(),c=i[ce],u=Jt(s,i);HI(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let p=s.directiveStart+f,y=hs(i,c,p,s);Zn(y,i)}zI(c,i,s),u&&Zn(u,i);let l=hs(i,c,s.directiveStart+s.componentOffset,s);if(t[Wt]=i[Wt]=l,o!==null)for(let f of o)f(l,e);return If(c,s,i),l}function kx(t,e,n,r){if(r)fh(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=kS(e.selectors[0]);i&&fh(t,n,i),o&&o.length>0&&kI(t,n,o.join(" "))}}function Fx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Lx(){let t=kt();uu(Te()[ce],t)}var Gi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vx;let t=e;return t})();function Vx(){let t=kt();return jx(t,Te())}var Ux=Gi,tE=class extends Ux{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return lu(this._hostTNode,this._hostLView)}get injector(){return new Mr(this._hostTNode,this._hostLView)}get parentInjector(){let e=df(this._hostTNode,this._hostLView);if(oI(e)){let n=Uc(e,this._hostLView),r=Vc(e),i=n[ce].data[r+8];return new Mr(i,n)}else return new Mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=J_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Nt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=q_(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,z_(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!JS(e),c;if(s)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new ps(Nr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(s?l:this.parentInjector).get(Ot,null);x&&(o=x)}let f=Nr(u.componentType??{}),p=q_(this._lContainer,f?.id??null),y=p?.firstChild??null,w=u.create(l,i,y,o);return this.insertImpl(w.hostView,c,z_(this._hostTNode,p)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(aA(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[rt],l=new tE(u,u[Yt],u[rt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ox(s,i,o,r),e.attachToViewContainerRef(),yw(ih(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=J_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ch(this._lContainer,n);r&&(Nc(ih(this._lContainer),n),PI(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ch(this._lContainer,n);return r&&Nc(ih(this._lContainer),n)!=null?new Lr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function J_(t){return t[Fc]}function ih(t){return t[Fc]||(t[Fc]=[])}function jx(t,e){let n,r=e[t.index];return xn(r)?n=r:(n=qI(r,e,null,t),e[t.index]=n,pu(e,n)),$x(n,e,t,r),new tE(n,t,e)}function Bx(t,e){let n=t[ze],r=n.createComment(""),i=Jt(e,t),o=_f(n,i);return $c(n,o,r,IR(n,i),!1),r}var $x=qx,Hx=()=>!1;function zx(t,e,n){return Hx(t,e,n)}function qx(t,e,n,r){if(t[kr])return;let i;n.type&8?i=an(r):i=Bx(e,n),t[kr]=i}function nE(t,e){Rf("NgSignals");let n=Wv(t),r=n[_i];return e?.equal&&(r.equal=e.equal),n.set=i=>Ad(r,i),n.update=i=>Kv(r,i),n.asReadonly=Gx.bind(n),n}function Gx(){let t=this[_i];if(t.readonlyFn===void 0){let e=()=>this();e[_i]=t,t.readonlyFn=e}return t.readonlyFn}var Xn=class{},gs=class{};var Lh=class extends Xn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gc(this);let i=Cw(e);this._bootstrapComponents=AI(i.bootstrap),this._r3Injector=gI(e,n,[{provide:Xn,useValue:this},{provide:mu,useValue:this.componentFactoryResolver},...r],ht(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vh=class extends gs{constructor(e){super(),this.moduleType=e}create(e){return new Lh(this.moduleType,e,[])}};var Wc=class extends Xn{constructor(e){super(),this.componentFactoryResolver=new Gc(this),this.instance=null;let n=new ss([...e.providers,{provide:Xn,useValue:this},{provide:mu,useValue:this.componentFactoryResolver}],e.parent||nf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Mf(t,e,n=null){return new Wc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var vu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rE(t){return Kx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Wx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Kx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function iE(t,e,n){return t[e]=n}function Vr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Qx(t,e,n,r){let i=Vr(t,e,n);return Vr(t,e+1,r)||i}function Yx(t){return(t.flags&32)===32}function Jx(t,e,n,r,i,o,s,c,u){let l=e.consts,f=Is(e,t,4,s||null,$i(l,c));Tf(e,n,f,$i(l,u)),uu(e,f);let p=f.tView=Df(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function ft(t,e,n,r,i,o,s,c){let u=Te(),l=Dt(),f=t+Qt,p=l.firstCreatePass?Jx(f,l,u,e,n,r,i,o,s):l.data[f];Br(p,!1);let y=Zx(l,u,p,t);au()&&du(l,u,y,p),Zn(y,u);let w=qI(y,u,y,p);return u[f]=w,pu(u,w),zx(w,p,u),ou(p)&&Ef(l,u,p),s!=null&&bf(u,p,c),ft}var Zx=Xx;function Xx(t,e,n,r){return cu(!0),e[ze].createComment("")}function oE(t,e,n,r){return Vr(t,Kw(),n)?e+Qh(n)+r:un}function Tc(t,e){return t<<17|e<<2}function Ur(t){return t>>17&32767}function eM(t){return(t&2)==2}function tM(t,e){return t&131071|e<<17}function Uh(t){return t|2}function Hi(t){return(t&131068)>>2}function oh(t,e){return t&-131069|e<<2}function nM(t){return(t&1)===1}function jh(t){return t|1}function rM(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Ur(s),u=Hi(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||vs(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=Ur(t[c+1]);t[r+1]=Tc(y,c),y!==0&&(t[y+1]=oh(t[y+1],r)),t[c+1]=tM(t[c+1],r)}else t[r+1]=Tc(c,0),c!==0&&(t[c+1]=oh(t[c+1],r)),c=r;else t[r+1]=Tc(u,0),c===0?c=r:t[u+1]=oh(t[u+1],r),u=r;l&&(t[r+1]=Uh(t[r+1])),Z_(t,f,r,!0),Z_(t,f,r,!1),iM(e,f,t,r,o),s=Tc(c,u),o?e.classBindings=s:e.styleBindings=s}function iM(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&vs(o,e)>=0&&(n[r+1]=jh(n[r+1]))}function Z_(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ur(i):Hi(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];oM(u,e)&&(c=!0,t[s+1]=r?jh(l):Uh(l)),s=r?Ur(l):Hi(l)}c&&(t[n+1]=r?Uh(i):jh(i))}function oM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?vs(t,e)>=0:!1}var zt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sM(t){return t.substring(zt.key,zt.keyEnd)}function aM(t){return cM(t),sE(t,aE(t,0,zt.textEnd))}function sE(t,e){let n=zt.textEnd;return n===e?-1:(e=zt.keyEnd=uM(t,zt.key=e,n),aE(t,e,n))}function cM(t){zt.key=0,zt.keyEnd=0,zt.value=0,zt.valueEnd=0,zt.textEnd=t.length}function aE(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function uM(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Ee(t,e,n){let r=Te(),i=Kw();if(Vr(r,i,e)){let o=Dt(),s=nI();$I(o,s,r,t,e,r[ze],n,!1)}return Ee}function Bh(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Cf(t,n,o[s],s,r)}function rr(t,e){return dM(t,e,null,!0),rr}function cE(t){hM(vM,lM,t,!0)}function lM(t,e){for(let n=aM(e);n>=0;n=sE(e,n))Zh(t,sM(e),!0)}function dM(t,e,n,r){let i=Te(),o=Dt(),s=Qw(2);if(o.firstUpdatePass&&lE(o,t,s,r),e!==un&&Vr(i,s,e)){let c=o.data[$r()];dE(o,c,i,i[ze],t,i[s+1]=wM(e,n),r,s)}}function hM(t,e,n,r){let i=Dt(),o=Qw(2);i.firstUpdatePass&&lE(i,null,o,r);let s=Te();if(n!==un&&Vr(s,o,n)){let c=i.data[$r()];if(hE(c,r)&&!uE(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=uh(u,n||"")),Bh(i,c,s,n,r)}else _M(i,c,s,s[ze],s[o+1],s[o+1]=yM(t,e,n),r,o)}}function uE(t,e){return e>=t.expandoStartIndex}function lE(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[$r()],s=uE(t,n);hE(o,r)&&e===null&&!s&&(e=!1),e=fM(i,o,e,r),rM(i,o,e,n,s,r)}}function fM(t,e,n,r){let i=EA(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=sh(null,t,e,n,r),n=ms(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=sh(i,t,e,n,r),o===null){let u=pM(t,e,r);u!==void 0&&Array.isArray(u)&&(u=sh(null,t,e,u[1],r),u=ms(u,e.attrs,r),gM(t,e,r,u))}else o=mM(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function pM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Hi(r)!==0)return t[Ur(r)]}function gM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ur(i)]=r}function mM(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ms(r,s,n)}return ms(r,e.attrs,n)}function sh(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=ms(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ms(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Zh(t,s,n?!0:e[++o]))}return t===void 0?null:t}function yM(t,e,n){if(n==null||n==="")return bt;let r=[],i=ws(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function vM(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Zh(t,r,n)}function _M(t,e,n,r,i,o,s,c){i===un&&(i=bt);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let y=u<i.length?i[u+1]:void 0,w=l<o.length?o[l+1]:void 0,A=null,x;f===p?(u+=2,l+=2,y!==w&&(A=p,x=w)):p===null||f!==null&&f<p?(u+=2,A=f):(l+=2,A=p,x=w),A!==null&&dE(t,e,n,r,A,x,s,c),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function dE(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=nM(l)?X_(u,e,n,i,Hi(l),s):void 0;if(!Kc(f)){Kc(o)||eM(l)&&(o=X_(u,null,n,i,c,s));let p=Vw($r(),n);AR(r,s,p,i,o)}}function X_(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=n[i+1];y===un&&(y=p?bt:void 0);let w=p?Qd(y,r):f===r?y:void 0;if(l&&!Kc(w)&&(w=Qd(u,r)),Kc(w)&&(c=w,s))return c;let A=t[i+1];i=s?Ur(A):Hi(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Qd(u,r))}return c}function Kc(t){return t!==void 0}function wM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ht(ws(t)))),t}function hE(t,e){return(t.flags&(e?8:16))!==0}function IM(t,e,n,r,i,o){let s=e.consts,c=$i(s,i),u=Is(e,t,2,r,c);return Tf(e,n,u,$i(s,o)),u.attrs!==null&&qc(u,u.attrs,!1),u.mergedAttrs!==null&&qc(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function R(t,e,n,r){let i=Te(),o=Dt(),s=Qt+t,c=i[ze],u=o.firstCreatePass?IM(s,o,i,e,n,r):o.data[s],l=EM(o,i,u,c,e,t);i[s]=l;let f=ou(u);return Br(u,!0),FI(c,l,u),!Yx(u)&&au()&&du(o,i,l,u),dA()===0&&Zn(l,i),hA(),f&&(Ef(o,i,u),If(o,u,i)),r!==null&&bf(i,u),R}function N(){let t=kt();cf()?Gw():(t=t.parent,Br(t,!1));let e=t;gA(e)&&mA(),fA();let n=Dt();return n.firstCreatePass&&(uu(n,t),of(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&RA(e)&&Bh(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xA(e)&&Bh(n,e,Te(),e.stylesWithoutHost,!1),N}function $(t,e,n,r){return R(t,e,n,r),N(),$}var EM=(t,e,n,r,i,o)=>(cu(!0),RI(r,i,TA()));function bM(t,e,n,r,i){let o=e.consts,s=$i(o,r),c=Is(e,t,8,"ng-container",s);s!==null&&qc(c,s,!0);let u=$i(o,i);return Tf(e,n,c,u),e.queries!==null&&e.queries.elementStart(e,c),c}function _u(t,e,n){let r=Te(),i=Dt(),o=t+Qt,s=i.firstCreatePass?bM(o,i,r,e,n):i.data[o];Br(s,!0);let c=DM(i,r,s,t);return r[o]=c,au()&&du(i,r,c,s),Zn(c,r),ou(s)&&(Ef(i,r,s),If(i,s,r)),n!=null&&bf(r,s),_u}function wu(){let t=kt(),e=Dt();return cf()?Gw():(t=t.parent,Br(t,!1)),e.firstCreatePass&&(uu(e,t),of(t)&&e.queries.elementEnd(t)),wu}var DM=(t,e,n,r)=>(cu(!0),lR(e[ze],""));function fE(){return Te()}var Rr=void 0;function TM(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var CM=["en",[["a","p"],["AM","PM"],Rr],[["AM","PM"],Rr,Rr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rr,"{1} 'at' {0}",Rr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",TM],ah={};function Iu(t){let e=SM(t),n=ew(e);if(n)return n;let r=e.split("-")[0];if(n=ew(r),n)return n;if(r==="en")return CM;throw new G(701,!1)}function ew(t){return t in ah||(ah[t]=Tn.ng&&Tn.ng.common&&Tn.ng.common.locales&&Tn.ng.common.locales[t]),ah[t]}var qr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qr||{});function SM(t){return t.toLowerCase().replace(/_/g,"-")}var Qc="en-US",AM="USD";var RM=Qc;function xM(t){typeof t=="string"&&(RM=t.toLowerCase().replace(/_/g,"-"))}function We(t,e,n,r){let i=Te(),o=Dt(),s=kt();return PM(o,i,i[ze],s,t,e,r),We}function MM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[as],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function PM(t,e,n,r,i,o,s){let c=ou(r),l=t.firstCreatePass&&XR(t),f=e[Wt],p=ZR(e),y=!0;if(r.type&3||s){let x=Jt(r,e),P=s?s(x):x,U=p.length,W=s?ne=>s(an(ne[r.index])):r.index,q=null;if(!s&&c&&(q=MM(t,e,i,r.index)),q!==null){let ne=q.__ngLastListenerFn__||q;ne.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,y=!1}else{o=nw(r,e,f,o,!1);let ne=n.listen(P,i,o);p.push(o,ne),l&&l.push(i,W,U,U+1)}}else o=nw(r,e,f,o,!1);let w=r.outputs,A;if(y&&w!==null&&(A=w[i])){let x=A.length;if(x)for(let P=0;P<x;P+=2){let U=A[P],W=A[P+1],Ce=e[U][W].subscribe(o),Z=p.length;p.push(o,Ce),l&&l.push(i,r.index,Z,-(Z+1))}}}function tw(t,e,n,r){let i=ye(null);try{return nn(6,e,n),n(r)!==!1}catch(o){return WI(t,o),!1}finally{nn(7,e,n),ye(i)}}function nw(t,e,n,r,i){return function o(s){if(s===Function)return r;let c=t.componentOffset>-1?tr(t.index,e):e;Af(c);let u=tw(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=tw(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function ln(t=1){return DA(t)}function Pf(t,e,n){return pE(t,"",e,"",n),Pf}function pE(t,e,n,r,i){let o=Te(),s=oE(o,e,n,r);if(s!==un){let c=Dt(),u=nI();$I(c,u,o,t,s,o[ze],i,!1)}return pE}function NM(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function j(t,e=""){let n=Te(),r=Dt(),i=t+Qt,o=r.firstCreatePass?Is(r,i,1,e,null):r.data[i],s=OM(r,n,o,e,t);n[i]=s,au()&&du(r,n,s,o),Br(o,!1)}var OM=(t,e,n,r,i)=>(cu(!0),cR(e[ze],r));function pt(t){return Es("",t,""),pt}function Es(t,e,n){let r=Te(),i=oE(r,t,e,n);return i!==un&&ex(r,$r(),i),Es}var kM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Rw(!1,r.type),o=i.length>0?Mf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(ie(Ot))});let t=e;return t})();function Re(t){Rf("NgStandalone"),t.getStandaloneInjector=e=>e.get(kM).getOrCreateStandaloneInjector(t)}function bs(t,e,n,r){return FM(Te(),Ww(),t,e,n,r)}function gE(t,e){let n=t[e];return n===un?void 0:n}function FM(t,e,n,r,i,o){let s=e+n;return Vr(t,s,i)?iE(t,s+1,o?r.call(o,i):r(i)):gE(t,s+1)}function LM(t,e,n,r,i,o,s){let c=e+n;return Qx(t,c,i,o)?iE(t,c+2,s?r.call(s,i,o):r(i,o)):gE(t,c+2)}function mE(t,e){let n=Dt(),r,i=t+Qt;n.firstCreatePass?(r=VM(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Pr(r.type,!0)),s,c=yt(Tt);try{let u=jc(!1),l=o();return jc(u),NM(n,Te(),i,l),l}finally{yt(c)}}function VM(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function yE(t,e,n,r){let i=t+Qt,o=Te(),s=sA(o,i);return UM(o,i)?LM(o,Ww(),e,s.transform,n,r,s):s.transform(n,r)}function UM(t,e){return t[ce].data[e].pure}var er=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},vE=new er("17.3.12"),Eu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var _E=new X("");function Ds(t){return!!t&&typeof t.then=="function"}function wE(t){return!!t&&typeof t.subscribe=="function"}var IE=new X(""),EE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=F(IE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Ds(s))r.push(s);else if(wE(s)){let c=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nf=new X("");function jM(){Gv(()=>{throw new G(600,!1)})}function BM(t){return t.isBoundToModule}function $M(t,e,n){try{let r=n();return Ds(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ts=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(mI),this.afterRenderEffectManager=F(eE),this.externalTestViews=new Set,this.beforeRender=new dt,this.afterTick=new dt,this.componentTypes=[],this.components=[],this.isStable=F(vu).hasPendingTasks.pipe(de(r=>!r)),this._injector=F(Ot)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof zc;if(!this._injector.get(EE).done){let w=!o&&Tw(r),A=!1;throw new G(405,A)}let c;o?c=r:c=this._injector.get(mu).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=BM(c)?void 0:this._injector.get(Xn),l=i||c.selector,f=c.create(Zt.NULL,[],l,u),p=f.location.nativeElement,y=f.injector.get(_E,null);return y?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),ch(this.components,f),y?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new G(101,!1);let i=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ye(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===QI)throw new G(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:c,notifyErrorHandler:u}of this._views)HM(c,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>$h(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>$h(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ch(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Nf,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ch(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new G(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ch(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function HM(t,e,n){!e&&!$h(t)||zM(t,n,e)}function $h(t){return af(t)}function zM(t,e,n){let r;n?(r=0,t[K]|=1024):t[K]&64?r=0:r=1,YI(t,e,r)}var Hh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Of=(()=>{let e=class e{compileModuleSync(r){return new Vh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Cw(r),s=AI(o.declarations).reduce((c,u)=>{let l=Nr(u);return l&&c.push(new ps(l)),c},[]);return new Hh(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qM=(()=>{let e=class e{constructor(){this.zone=F(Ie),this.applicationRef=F(Ts)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GM(t){return[{provide:Ie,useFactory:t},{provide:Ui,multi:!0,useFactory:()=>{let e=F(qM,{optional:!0});return()=>e.initialize()}},{provide:Ui,multi:!0,useFactory:()=>{let e=F(YM);return()=>{e.initialize()}}},{provide:mI,useFactory:WM}]}function WM(){let t=F(Ie),e=F(Sn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function KM(t){let e=GM(()=>new Ie(QM(t)));return cn([[],e])}function QM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var YM=(()=>{let e=class e{constructor(){this.subscription=new ke,this.initialized=!1,this.zone=F(Ie),this.pendingTasks=F(vu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JM(){return typeof $localize<"u"&&$localize.locale||Qc}var bu=new X("",{providedIn:"root",factory:()=>F(bu,re.Optional|re.SkipSelf)||JM()}),bE=new X("",{providedIn:"root",factory:()=>AM});var DE=new X("");var xc=null;function ZM(t=[],e){return Zt.create({name:e,providers:[{provide:tu,useValue:"platform"},{provide:DE,useValue:new Set([()=>xc=null])},...t]})}function XM(t=[]){if(xc)return xc;let e=ZM(t);return xc=e,jM(),eP(e),e}function eP(t){t.get(pf,null)?.forEach(n=>n())}var Mn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=tP;let t=e;return t})();function tP(t){return nP(kt(),Te(),(t&16)===16)}function nP(t,e,n){if(iu(t)&&!n){let r=tr(t.index,e);return new Lr(r,r)}else if(t.type&47){let r=e[sn];return new Lr(r,e)}return null}var zh=class{constructor(){}supports(e){return rE(e)}create(e){return new qh(e)}},rP=(t,e)=>e,qh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<rw(r,i,o)?n:r,c=rw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){let w=y<o.length?o[y]:o[y]=0,A=w+y;f<=A&&A<l&&(o[y]=w+1)}let p=s.previousIndex;o[p]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!rE(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Wx(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Gh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Yc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Yc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Gh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Wh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Yc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Wh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function iw(){return new kf([new zh])}var kf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||iw()),deps:[[e,new mw,new it]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new G(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:iw});let t=e;return t})();function TE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=XM(r),o=[KM(),...n||[]],c=new Wc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(Ie);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(Sn,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:w=>{l.handleError(w)}})});let p=()=>c.destroy(),y=i.get(DE);return y.add(p),c.onDestroy(()=>{f.unsubscribe(),y.delete(p)}),$M(l,u,()=>{let w=c.get(EE);return w.runInitializers(),w.donePromise.then(()=>{let A=c.get(bu,Qc);xM(A||Qc);let x=c.get(Ts);return e!==void 0&&x.bootstrap(e),x})})})}catch(e){return Promise.reject(e)}}var NE=null;function Wi(){return NE}function OE(t){NE??=t}var Du=class{};var Ft=new X(""),Bf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(aP),providedIn:"platform"});let t=e;return t})();var aP=(()=>{let e=class e extends Bf{constructor(){super(),this._doc=F(Ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wi().getBaseHref(this._doc)}onPopState(r){let i=Wi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Wi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function $f(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function CE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pn(t){return t&&t[0]!=="?"?"?"+t:t}var Ki=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(FE),providedIn:"root"});let t=e;return t})(),kE=new X(""),FE=(()=>{let e=class e extends Ki{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(Ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return $f(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Pn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+Pn(s));this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+Pn(s));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ie(Bf),ie(kE,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LE=(()=>{let e=class e extends Ki{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=$f(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+Pn(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+Pn(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ie(Bf),ie(kE,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),As=(()=>{let e=class e{constructor(r){this._subject=new qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=lP(CE(SE(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Pn(i))}normalize(r){return e.stripTrailingSlash(uP(this._basePath,SE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Pn,e.joinWithSlash=$f,e.stripTrailingSlash=CE,e.\u0275fac=function(i){return new(i||e)(ie(Ki))},e.\u0275prov=z({token:e,factory:()=>cP(),providedIn:"root"});let t=e;return t})();function cP(){return new As(ie(Ki))}function uP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function SE(t){return t.replace(/\/index.html$/,"")}function lP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var VE={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},UE=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(UE||{});var Nn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Cs(t,e){let n=Iu(t),r=n[qr.NumberSymbols][e];if(typeof r>"u"){if(e===Nn.CurrencyDecimal)return n[qr.NumberSymbols][Nn.Decimal];if(e===Nn.CurrencyGroup)return n[qr.NumberSymbols][Nn.Group]}return r}function dP(t,e){return Iu(t)[qr.NumberFormats][e]}function hP(t){return Iu(t)[qr.Currencies]}function fP(t,e,n="en"){let r=hP(n)[t]||VE[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var pP=2;function gP(t){let e,n=VE[t];return n&&(e=n[2]),typeof e=="number"?e:pP}var mP=/^(\d+)?\.((\d+)(-(\d+))?)?$/,AE=22,Tu=".",Ss="0",yP=";",vP=",",Ff="#",RE="\xA4";function _P(t,e,n,r,i,o,s=!1){let c="",u=!1;if(!isFinite(t))c=Cs(n,Nn.Infinity);else{let l=bP(t);s&&(l=EP(l));let f=e.minInt,p=e.minFrac,y=e.maxFrac;if(o){let W=o.match(mP);if(W===null)throw new Error(`${o} is not a valid digit info`);let q=W[1],ne=W[3],Ce=W[5];q!=null&&(f=Lf(q)),ne!=null&&(p=Lf(ne)),Ce!=null?y=Lf(Ce):ne!=null&&p>y&&(y=p)}DP(l,p,y);let w=l.digits,A=l.integerLen,x=l.exponent,P=[];for(u=w.every(W=>!W);A<f;A++)w.unshift(0);for(;A<0;A++)w.unshift(0);A>0?P=w.splice(A,w.length):(P=w,w=[0]);let U=[];for(w.length>=e.lgSize&&U.unshift(w.splice(-e.lgSize,w.length).join(""));w.length>e.gSize;)U.unshift(w.splice(-e.gSize,w.length).join(""));w.length&&U.unshift(w.join("")),c=U.join(Cs(n,r)),P.length&&(c+=Cs(n,i)+P.join("")),x&&(c+=Cs(n,Nn.Exponential)+"+"+x)}return t<0&&!u?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function wP(t,e,n,r,i){let o=dP(e,UE.Currency),s=IP(o,Cs(e,Nn.MinusSign));return s.minFrac=gP(r),s.maxFrac=s.minFrac,_P(t,s,e,Nn.CurrencyGroup,Nn.CurrencyDecimal,i).replace(RE,n).replace(RE,"").trim()}function IP(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(yP),i=r[0],o=r[1],s=i.indexOf(Tu)!==-1?i.split(Tu):[i.substring(0,i.lastIndexOf(Ss)+1),i.substring(i.lastIndexOf(Ss)+1)],c=s[0],u=s[1]||"";n.posPre=c.substring(0,c.indexOf(Ff));for(let f=0;f<u.length;f++){let p=u.charAt(f);p===Ss?n.minFrac=n.maxFrac=f+1:p===Ff?n.maxFrac=f+1:n.posSuf+=p}let l=c.split(vP);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Ff);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function EP(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function bP(t){let e=Math.abs(t)+"",n=0,r,i,o,s,c;for((i=e.indexOf(Tu))>-1&&(e=e.replace(Tu,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Ss;o++);if(o===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===Ss;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(e.charAt(o))}return i>AE&&(r=r.splice(0,AE-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function DP(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,c=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(c>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,f=r.reduceRight(function(p,y,w,A){return y=y+p,A[w]=y<10?y:y-10,u&&(A[w]===0&&w>=l?A.pop():u=!1),y>=10?1:0},0);f&&(r.unshift(f),t.integerLen++)}function Lf(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function jE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Vf=/\s+/,xE=[],BE=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=xE,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Vf):xE}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Vf):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Vf).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(Tt(Hr),Tt(yu))},e.\u0275dir=zi({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Cn.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Uf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Su=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,c)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Uf(o.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,c),ME(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);ME(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Tt(Gi),Tt(gu),Tt(kf))},e.\u0275dir=zi({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function ME(t,e){t.context.$implicit=e.item}var ir=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new jf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){PE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){PE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Tt(Gi),Tt(gu))},e.\u0275dir=zi({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),jf=class{constructor(){this.$implicit=null,this.ngIf=null}};function PE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ht(e)}'.`)}function TP(t,e){return new G(2100,!1)}var $E=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,o="symbol",s,c){if(!CP(r))return null;c||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let u=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?u=fP(u,o==="symbol"?"wide":"narrow",c):u=o);try{let l=SP(r);return wP(l,c,u,i,s)}catch(l){throw TP(e,l.message)}}};e.\u0275fac=function(i){return new(i||e)(Tt(bu,16),Tt(bE,16))},e.\u0275pipe=Ew({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function CP(t){return!(t==null||t===""||t!==t)}function SP(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Ct=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=eu({type:e}),e.\u0275inj=Jc({});let t=e;return t})(),HE="browser",AP="server";function Hf(t){return t===AP}var Cu=class{};var Gf=class extends Du{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wf=class t extends Gf{static makeCurrent(){OE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=RP();return n==null?null:xP(n)}resetBaseElement(){Rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jE(document.cookie,e)}},Rs=null;function RP(){return Rs=Rs||document.querySelector("base"),Rs?Rs.getAttribute("href"):null}function xP(t){return new URL(t,document.baseURI).pathname}var MP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Kf=new X(""),WE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ie(Kf),ie(Ie))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Au=class{constructor(e){this._doc=e}},zf="ng-app-id",KE=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hf(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${zf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(zf),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(zf,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,c=s.get(i)?.elements;c?c.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ie(Ft),ie(ff),ie(gf,8),ie(nr))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),qf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yf=/%COMP%/g,QE="%COMP%",PP=`_nghost-${QE}`,NP=`_ngcontent-${QE}`,OP=!0,kP=new X("",{providedIn:"root",factory:()=>OP});function FP(t){return NP.replace(Yf,t)}function LP(t){return PP.replace(Yf,t)}function YE(t,e){return e.map(n=>n.replace(Yf,t))}var zE=(()=>{let e=class e{constructor(r,i,o,s,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Hf(u),this.defaultRenderer=new xs(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===on.ShadowDom&&(i=Me(B({},i),{encapsulation:on.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ru?o.applyToHost(r):o instanceof Ms&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case on.Emulated:s=new Ru(l,f,i,this.appId,p,c,u,y);break;case on.ShadowDom:return new Qf(l,f,r,i,c,u,this.nonce,y);default:s=new Ms(l,f,i,p,c,u,y);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ie(WE),ie(KE),ie(ff),ie(kP),ie(Ft),ie(nr),ie(Ie),ie(gf))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),xs=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(qf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(qE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=qf[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=qf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Wi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function qE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Qf=class extends xs{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=YE(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ms=class extends xs{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?YE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ru=class extends Ms{constructor(e,n,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,c,u,l),this.contentAttr=FP(l),this.hostAttr=LP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},VP=(()=>{let e=class e extends Au{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(ie(Ft))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),GE=["alt","control","meta","shift"],UP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},BP=(()=>{let e=class e extends Au{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wi().onAndCancel(r,s.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),GE.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),c+=f+".")}),c+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let o=UP[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),GE.forEach(c=>{if(c!==o){let u=jP[c];u(r)&&(s+=c+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ie(Ft))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function JE(t,e){return TE(B({rootComponent:t},$P(e)))}function $P(t){return{appProviders:[...WP,...t?.providers??[]],platformProviders:GP}}function HP(){Wf.makeCurrent()}function zP(){return new Sn}function qP(){return bI(document),document}var GP=[{provide:nr,useValue:HE},{provide:pf,useValue:HP,multi:!0},{provide:Ft,useFactory:qP,deps:[]}];var WP=[{provide:tu,useValue:"root"},{provide:Sn,useFactory:zP,deps:[]},{provide:Kf,useClass:VP,multi:!0,deps:[Ft,Ie,nr]},{provide:Kf,useClass:BP,multi:!0,deps:[Ft]},zE,KE,WE,{provide:fs,useExisting:zE},{provide:Cu,useClass:MP,deps:[]},[]];var ZE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ie(Ft))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ee="primary",Gs=Symbol("RouteTitle"),tp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function eo(t){return new tp(t)}function QP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s.startsWith(":"))i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function YP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dn(t[n],e[n]))return!1;return!0}function dn(t,e){let n=t?np(t):void 0,r=e?np(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!i0(t[i],e[i]))return!1;return!0}function np(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function i0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function o0(t){return t.length>0?t[t.length-1]:null}function cr(t){return $d(t)?t:Ds(t)?Be(Promise.resolve(t)):J(t)}var JP={exact:a0,subset:c0},s0={exact:ZP,subset:XP,ignored:()=>!0};function XE(t,e,n){return JP[n.paths](t.root,e.root,n.matrixParams)&&s0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function ZP(t,e){return dn(t,e)}function a0(t,e,n){if(!Wr(t.segments,e.segments)||!Pu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!a0(t.children[r],e.children[r],n))return!1;return!0}function XP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>i0(t[n],e[n]))}function c0(t,e,n){return u0(t,e,e.segments,n)}function u0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Wr(i,n)||e.hasChildren()||!Pu(i,n,r))}else if(t.segments.length===n.length){if(!Wr(t.segments,n)||!Pu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!c0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Wr(t.segments,i)||!Pu(t.segments,i,r)||!t.children[ee]?!1:u0(t.children[ee],e,o,r)}}function Pu(t,e,n){return e.every((r,i)=>s0[n](t[i].parameters,r.parameters))}var or=class{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=eo(this.queryParams),this._queryParamMap}toString(){return nN.serialize(this)}},we=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nu(this)}},Gr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=eo(this.parameters),this._parameterMap}toString(){return d0(this)}};function eN(t,e){return Wr(t,e)&&t.every((n,r)=>dn(n.parameters,e[r].parameters))}function Wr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function tN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}var Ap=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new ku,providedIn:"root"});let t=e;return t})(),ku=class{parse(e){let n=new ip(e);return new or(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ps(e.root,!0)}`,r=oN(e.queryParams),i=typeof e.fragment=="string"?`#${rN(e.fragment)}`:"";return`${n}${r}${i}`}},nN=new ku;function Nu(t){return t.segments.map(e=>d0(e)).join("/")}function Ps(t,e){if(!t.hasChildren())return Nu(t);if(e){let n=t.children[ee]?Ps(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ee&&r.push(`${i}:${Ps(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=tN(t,(r,i)=>i===ee?[Ps(t.children[ee],!1)]:[`${i}:${Ps(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Nu(t)}/${n[0]}`:`${Nu(t)}/(${n.join("//")})`}}function l0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xu(t){return l0(t).replace(/%3B/gi,";")}function rN(t){return encodeURI(t)}function rp(t){return l0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ou(t){return decodeURIComponent(t)}function e0(t){return Ou(t.replace(/\+/g,"%20"))}function d0(t){return`${rp(t.path)}${iN(t.parameters)}`}function iN(t){return Object.entries(t).map(([e,n])=>`;${rp(e)}=${rp(n)}`).join("")}function oN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${xu(n)}=${xu(i)}`).join("&"):`${xu(n)}=${xu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var sN=/^[^\/()?;#]+/;function Jf(t){let e=t.match(sN);return e?e[0]:""}var aN=/^[^\/()?;=#]+/;function cN(t){let e=t.match(aN);return e?e[0]:""}var uN=/^[^=?&#]+/;function lN(t){let e=t.match(uN);return e?e[0]:""}var dN=/^[^&#]+/;function hN(t){let e=t.match(dN);return e?e[0]:""}var ip=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new we(e,n)),r}parseSegment(){let e=Jf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new Gr(Ou(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=cN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Jf(this.remaining);i&&(r=i,this.capture(r))}e[Ou(n)]=Ou(r)}parseQueryParam(e){let n=lN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=hN(this.remaining);s&&(r=s,this.capture(r))}let i=e0(n),o=e0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ee]:new we([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function h0(t){return t.segments.length>0?new we([],{[ee]:t}):t}function f0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=f0(i);if(r===ee&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new we(t.segments,e);return fN(n)}function fN(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new we(t.segments.concat(e.segments),e.children)}return t}function to(t){return t instanceof or}function pN(t,e,n=null,r=null){let i=p0(t);return g0(i,e,n,r)}function p0(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new we(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=h0(r);return e??i}function g0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Zf(i,i,i,n,r);let o=gN(e);if(o.toRoot())return Zf(i,i,new we([],{}),n,r);let s=mN(o,i,t),c=s.processChildren?ks(s.segmentGroup,s.index,o.commands):y0(s.segmentGroup,s.index,o.commands);return Zf(i,s.segmentGroup,c,n,r)}function Fu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Vs(t){return typeof t=="object"&&t!=null&&t.outlets}function Zf(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=m0(t,e,n);let c=h0(f0(s));return new or(c,o,i)}function m0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=m0(o,e,n)}),new we(t.segments,r)}var Lu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Fu(r[0]))throw new G(4003,!1);let i=r.find(Vs);if(i&&i!==o0(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Lu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Lu(n,e,r)}var Zi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function mN(t,e,n){if(t.isAbsolute)return new Zi(e,!0,0);if(!n)return new Zi(e,!1,NaN);if(n.parent===null)return new Zi(n,!0,0);let r=Fu(t.commands[0])?0:1,i=n.segments.length-1+r;return yN(n,i,t.numberOfDoubleDots)}function yN(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new Zi(r,!1,i-o)}function vN(t){return Vs(t[0])?t[0].outlets:{[ee]:t}}function y0(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return ks(t,e,n);let r=_N(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new we(t.segments.slice(0,r.pathIndex),{});return o.children[ee]=new we(t.segments.slice(r.pathIndex),t.children),ks(o,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?op(t,e,n):r.match?ks(t,0,i):op(t,e,n)}function ks(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=vN(n),i={};if(Object.keys(r).some(o=>o!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let o=ks(t.children[ee],e,n);return new we(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=y0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new we(t.segments,i)}}function _N(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(Vs(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!n0(u,l,s))return o;r+=2}else{if(!n0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function op(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Vs(o)){let u=wN(o.outlets);return new we(r,u)}if(i===0&&Fu(n[0])){let u=t.segments[e];r.push(new Gr(u.path,t0(n[0]))),i++;continue}let s=Vs(o)?o.outlets[ee]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Fu(c)?(r.push(new Gr(s,t0(c))),i+=2):(r.push(new Gr(s,{})),i++)}return new we(r,{})}function wN(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=op(new we([],{}),0,r))}),e}function t0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function n0(t,e,n){return t==n.path&&dn(e,n.parameters)}var Fs="imperative",Ze=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ze||{}),Lt=class{constructor(e,n){this.id=e,this.url=n}},Us=class extends Lt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kr=class extends Lt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(At||{}),sp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(sp||{}),sr=class extends Lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qr=class extends Lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ze.NavigationSkipped}},js=class extends Lt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vu=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cp=class extends Lt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},up=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lp=class extends Lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dp=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hp=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fp=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pp=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gp=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mp=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Bs=class{},$s=class{constructor(e){this.url=e}};var yp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zu,this.attachRef=null}},zu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new yp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=vp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=vp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=_p(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _p(e,this._root).map(n=>n.value)}};function vp(t,e){if(t===e.value)return e;for(let n of e.children){let r=vp(t,n);if(r)return r}return null}function _p(t,e){if(t===e.value)return[e];for(let n of e.children){let r=_p(t,n);if(r.length)return r.unshift(e),r}return[]}var St=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ji(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ju=class extends Uu{constructor(e,n){super(e),this.snapshot=n,xp(this,e)}toString(){return this.snapshot.toString()}};function v0(t){let e=IN(t),n=new Ye([new Gr("",{})]),r=new Ye({}),i=new Ye({}),o=new Ye({}),s=new Ye(""),c=new ar(n,r,o,s,i,ee,t,e.root);return c.snapshot=e.root,new ju(new St(c,[]),e)}function IN(t){let e={},n={},r={},i="",o=new Hs([],e,r,i,n,ee,t,null,{});return new Bu("",new St(o,[]))}var ar=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(de(l=>l[Gs]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>eo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>eo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&w0(i)&&(r.resolve[Gs]=i.title),r}var Hs=class{get title(){return this.data?.[Gs]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=eo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=eo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Bu=class extends Uu{constructor(e,n){super(n),this.url=e,xp(this,n)}toString(){return _0(this._root)}};function xp(t,e){e.value._routerState=t,e.children.forEach(n=>xp(t,n))}function _0(t){let e=t.children.length>0?` { ${t.children.map(_0).join(", ")} } `:"";return`${t.value}${e}`}function Xf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),dn(e.params,n.params)||t.paramsSubject.next(n.params),YP(e.url,n.url)||t.urlSubject.next(n.url),dn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function wp(t,e){let n=dn(t.params,e.params)&&eN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||wp(t.parent,e.parent))}function w0(t){return typeof t.title=="string"||t.title===null}var Mp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new qt,this.deactivateEvents=new qt,this.attachEvents=new qt,this.detachEvents=new qt,this.parentContexts=F(zu),this.location=F(Gi),this.changeDetector=F(Mn),this.environmentInjector=F(Ot),this.inputBinder=F(Pp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=r;let o=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Ip(r,u,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=zi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[su]});let t=e;return t})(),Ip=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ar?this.route:e===zu?this.childContexts:this.parent.get(e,n)}},Pp=new X("");function EN(t,e,n){let r=zs(t,e._root,n?n._root:void 0);return new ju(r,e)}function zs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=bN(t,e,n);return new St(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>zs(t,c)),s}}let r=DN(e.value),i=e.children.map(o=>zs(t,o));return new St(r,i)}}function bN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zs(t,r,i);return zs(t,r)})}function DN(t){return new ar(new Ye(t.url),new Ye(t.params),new Ye(t.queryParams),new Ye(t.fragment),new Ye(t.data),t.outlet,t.component,t)}var I0="ngNavigationCancelingError";function E0(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=to(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=b0(!1,At.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function b0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[I0]=!0,n.cancellationCode=e,n}function TN(t){return D0(t)&&to(t.url)}function D0(t){return!!t&&t[I0]}var CN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["ng-component"]],standalone:!0,features:[Re],decls:1,vars:0,template:function(i,o){i&1&&$(0,"router-outlet")},dependencies:[Mp],encapsulation:2});let t=e;return t})();function SN(t,e){return t.providers&&!t._injector&&(t._injector=Mf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Np(t){let e=t.children&&t.children.map(Np),n=e?Me(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=CN),n}function hn(t){return t.outlet||ee}function AN(t,e){let n=t.filter(r=>hn(r)===e);return n.push(...t.filter(r=>hn(r)!==e)),n}function Ws(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var RN=(t,e,n,r)=>de(i=>(new Ep(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ep=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Xf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ji(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ji(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ji(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ji(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new mp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new pp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Xf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Xf(c.route.value),this.activateChildRoutes(e,null,s.children)}else{let c=Ws(i.snapshot);s.attachRef=null,s.route=i,s.injector=c,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},$u=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xi=class{constructor(e,n){this.component=e,this.route=n}};function xN(t,e,n){let r=t._root,i=e?e._root:null;return Ns(r,i,n,[r.value])}function MN(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ro(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!uw(t)?t:e.get(t):r}function Ns(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ji(e);return t.children.forEach(s=>{PN(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Ls(c,n.getContext(s),i)),i}function PN(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=NN(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new $u(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ns(t,e,c?c.children:null,r,i):Ns(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Xi(c.outlet.component,s))}else s&&Ls(e,c,i),i.canActivateChecks.push(new $u(r)),o.component?Ns(t,null,c?c.children:null,r,i):Ns(t,null,n,r,i);return i}function NN(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Wr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wr(t.url,e.url)||!dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wp(t,e)||!dn(t.queryParams,e.queryParams);case"paramsChange":default:return!wp(t,e)}}function Ls(t,e,n){let r=Ji(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ls(s,e.children.getContext(o),n):Ls(s,null,n):Ls(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Xi(e.outlet.component,i)):n.canDeactivateChecks.push(new Xi(null,i)):n.canDeactivateChecks.push(new Xi(null,i))}function Ks(t){return typeof t=="function"}function ON(t){return typeof t=="boolean"}function kN(t){return t&&Ks(t.canLoad)}function FN(t){return t&&Ks(t.canActivate)}function LN(t){return t&&Ks(t.canActivateChild)}function VN(t){return t&&Ks(t.canDeactivate)}function UN(t){return t&&Ks(t.canMatch)}function T0(t){return t instanceof bn||t?.name==="EmptyError"}var Mu=Symbol("INITIAL_VALUE");function no(){return $t(t=>Ic(t.map(e=>e.pipe(Dn(1),Wd(Mu)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===Mu)return Mu;if(n===!1||n instanceof or)return n}return!0}),Bt(e=>e!==Mu),Dn(1)))}function jN(t,e){return $e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?J(Me(B({},n),{guardsResult:!0})):BN(s,r,i,t).pipe($e(c=>c&&ON(c)?$N(r,o,t,e):J(c)),de(c=>Me(B({},n),{guardsResult:c})))})}function BN(t,e,n,r){return Be(t).pipe($e(i=>WN(i.component,i.route,n,e,r)),tn(i=>i!==!0,!0))}function $N(t,e,n,r){return Be(e).pipe(Pi(i=>Mi(zN(i.route.parent,r),HN(i.route,r),GN(t,i.path,n),qN(t,i.route,n))),tn(i=>i!==!0,!0))}function HN(t,e){return t!==null&&e&&e(new gp(t)),J(!0)}function zN(t,e){return t!==null&&e&&e(new fp(t)),J(!0)}function qN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(o=>Ec(()=>{let s=Ws(e)??n,c=ro(o,s),u=FN(c)?c.canActivate(e,t):jr(s,()=>c(e,t));return cr(u).pipe(tn())}));return J(i).pipe(no())}function GN(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>MN(s)).filter(s=>s!==null).map(s=>Ec(()=>{let c=s.guards.map(u=>{let l=Ws(s.node)??n,f=ro(u,l),p=LN(f)?f.canActivateChild(r,t):jr(l,()=>f(r,t));return cr(p).pipe(tn())});return J(c).pipe(no())}));return J(o).pipe(no())}function WN(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(c=>{let u=Ws(e)??i,l=ro(c,u),f=VN(l)?l.canDeactivate(t,e,n,r):jr(u,()=>l(t,e,n,r));return cr(f).pipe(tn())});return J(s).pipe(no())}function KN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let o=i.map(s=>{let c=ro(s,t),u=kN(c)?c.canLoad(e,n):jr(t,()=>c(e,n));return cr(u)});return J(o).pipe(no(),C0(r))}function C0(t){return Od(He(e=>{if(to(e))throw E0(t,e)}),de(e=>e===!0))}function QN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let o=i.map(s=>{let c=ro(s,t),u=UN(c)?c.canMatch(e,n):jr(t,()=>c(e,n));return cr(u)});return J(o).pipe(no(),C0(r))}var qs=class{constructor(e){this.segmentGroup=e||null}},Hu=class extends Error{constructor(e){super(),this.urlTree=e}};function Yi(t){return xi(new qs(t))}function YN(t){return xi(new G(4e3,!1))}function JN(t){return xi(b0(!1,At.GuardRejected))}var bp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[ee])return YN(e.redirectTo);i=i.children[ee]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Hu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new or(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new we(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Dp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZN(t,e,n,r,i){let o=Op(t,e,n);return o.matched?(r=SN(e,r),QN(r,e,n,i).pipe(de(s=>s===!0?o:B({},Dp)))):J(o)}function Op(t,e,n){if(e.path==="**")return XN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},Dp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||QP)(n,t,e);if(!i)return B({},Dp);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function XN(t){return{matched:!0,parameters:t.length>0?o0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function r0(t,e,n,r){return n.length>0&&nO(t,n,r)?{segmentGroup:new we(e,tO(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&rO(t,n,r)?{segmentGroup:new we(t.segments,eO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function eO(t,e,n,r){let i={};for(let o of n)if(qu(t,e,o)&&!r[hn(o)]){let s=new we([],{});i[hn(o)]=s}return B(B({},r),i)}function tO(t,e){let n={};n[ee]=e;for(let r of t)if(r.path===""&&hn(r)!==ee){let i=new we([],{});n[hn(r)]=i}return n}function nO(t,e,n){return n.some(r=>qu(t,e,r)&&hn(r)!==ee)}function rO(t,e,n){return n.some(r=>qu(t,e,r))}function qu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function iO(t,e,n,r){return hn(t)!==r&&(r===ee||!qu(e,n,t))?!1:Op(e,t,n).matched}function oO(t,e,n){return e.length===0&&!t.children[n]}var Tp=class{};function sO(t,e,n,r,i,o,s="emptyOnly"){return new Cp(t,e,n,r,i,s,o).recognize()}var aO=31,Cp=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new bp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=r0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(n=>{let r=new Hs([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),i=new St(r,n),o=new Bu("",i),s=pN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(Kn(r=>{if(r instanceof Hu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qs?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Rp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(de(o=>o instanceof St?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Be(i).pipe(Pi(o=>{let s=r.children[o],c=AN(n,o);return this.processSegmentGroup(e,c,s,o)}),Gd((o,s)=>(o.push(...s),o)),Qn(null),qd(),$e(o=>{if(o===null)return Yi(r);let s=S0(o);return cO(s),J(s)}))}processSegment(e,n,r,i,o,s){return Be(n).pipe(Pi(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s).pipe(Kn(u=>{if(u instanceof qs)return J(null);throw u}))),tn(c=>!!c),Kn(c=>{if(T0(c))return oO(r,i,o)?J(new Tp):Yi(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,c){return iO(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Yi(i):Yi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=Op(n,i,o);if(!c)return Yi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aO&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe($e(y=>this.processSegment(e,r,n,y.concat(f),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=ZN(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe($t(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe($t(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:y}=c,w=new Hs(f,y,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,lO(r),hn(r),r.component??r._loadedComponent??null,r,dO(r)),{segmentGroup:A,slicedSegments:x}=r0(n,f,p,u);if(x.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(de(U=>U===null?null:new St(w,U)));if(u.length===0&&x.length===0)return J(new St(w,[]));let P=hn(r)===o;return this.processSegment(l,u,A,x,P?ee:o,!0).pipe(de(U=>new St(w,U instanceof St?[U]:[])))}))):Yi(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):KN(e,n,r,this.urlSerializer).pipe($e(i=>i?this.configLoader.loadChildren(e,n).pipe(He(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):JN(n))):J({routes:[],injector:e})}};function cO(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}function uO(t){let e=t.value.routeConfig;return e&&e.path===""}function S0(t){let e=[],n=new Set;for(let r of t){if(!uO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=S0(r.children);e.push(new St(r.value,i))}return e.filter(r=>!n.has(r))}function lO(t){return t.data||{}}function dO(t){return t.resolve||{}}function hO(t,e,n,r,i,o){return $e(s=>sO(t,e,n,r,s.extractedUrl,i,o).pipe(de(({state:c,tree:u})=>Me(B({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function fO(t,e){return $e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of A0(u))s.add(l);let c=0;return Be(s).pipe(Pi(u=>o.has(u)?pO(u,r,t,e):(u.data=Rp(u,u.parent,t).resolve,J(void 0))),He(()=>c++),Ni(1),$e(u=>c===s.size?J(n):Et))})}function A0(t){let e=t.children.map(n=>A0(n)).flat();return[t,...e]}function pO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!w0(i)&&(o[Gs]=i.title),gO(o,t,e,r).pipe(de(s=>(t._resolvedData=s,t.data=Rp(t,t.parent,n).resolve,null)))}function gO(t,e,n,r){let i=np(t);if(i.length===0)return J({});let o={};return Be(i).pipe($e(s=>mO(t[s],e,n,r).pipe(tn(),He(c=>{o[s]=c}))),Ni(1),zd(o),Kn(s=>T0(s)?Et:xi(s)))}function mO(t,e,n,r){let i=Ws(e)??r,o=ro(t,i),s=o.resolve?o.resolve(e,n):jr(i,()=>o(e,n));return cr(s)}function ep(t){return $t(e=>{let n=t(e);return n?Be(n).pipe(de(()=>e)):J(e)})}var R0=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ee);return i}getResolvedTitleForRoute(r){return r.data[Gs]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(yO),providedIn:"root"});let t=e;return t})(),yO=(()=>{let e=class e extends R0{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ie(ZE))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kp=new X("",{providedIn:"root",factory:()=>({})}),Fp=new X(""),vO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(Of)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return J(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=cr(r.loadComponent()).pipe(de(x0),He(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ns(()=>{this.componentLoaders.delete(r)})),o=new Ci(i,()=>new dt).pipe(Ti());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=_O(i,this.compiler,r,this.onLoadEndListener).pipe(ns(()=>{this.childrenLoaders.delete(i)})),c=new Ci(s,()=>new dt).pipe(Ti());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _O(t,e,n,r){return cr(t.loadChildren()).pipe(de(x0),$e(i=>i instanceof gs||Array.isArray(i)?J(i):Be(e.compileModuleAsync(i))),de(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Fp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Np),injector:o}}))}function wO(t){return t&&typeof t=="object"&&"default"in t}function x0(t){return wO(t)?t.default:t}var Lp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(IO),providedIn:"root"});let t=e;return t})(),IO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EO=new X("");var bO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dt,this.transitionAbortSubject=new dt,this.configLoader=F(vO),this.environmentInjector=F(Ot),this.urlSerializer=F(Ap),this.rootContexts=F(zu),this.location=F(As),this.inputBindingEnabled=F(Pp,{optional:!0})!==null,this.titleStrategy=F(R0),this.options=F(kp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(Lp),this.createViewTransition=F(EO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let r=o=>this.events.next(new dp(o)),i=o=>this.events.next(new hp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Me(B(B({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fs,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bt(s=>s.id!==0),de(s=>Me(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),$t(s=>{let c=!1,u=!1;return J(s).pipe($t(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",At.SupersededByNewNavigation),Et;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Me(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let y="";return this.events.next(new Qr(l.id,this.urlSerializer.serialize(l.rawUrl),y,sp.IgnoredSameUrlNavigation)),l.resolve(null),Et}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return J(l).pipe($t(y=>{let w=this.transitions?.getValue();return this.events.next(new Us(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),w!==this.transitions?.getValue()?Et:Promise.resolve(y)}),hO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),He(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Me(B({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let w=new Vu(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:w,source:A,restoredState:x,extras:P}=l,U=new Us(y,this.urlSerializer.serialize(w),A,x);this.events.next(U);let W=v0(this.rootComponentType).snapshot;return this.currentTransition=s=Me(B({},l),{targetSnapshot:W,urlAfterRedirects:w,extras:Me(B({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,J(s)}else{let y="";return this.events.next(new Qr(l.id,this.urlSerializer.serialize(l.extractedUrl),y,sp.IgnoredByUrlHandlingStrategy)),l.resolve(null),Et}}),He(l=>{let f=new ap(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),de(l=>(this.currentTransition=s=Me(B({},l),{guards:xN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),jN(this.environmentInjector,l=>this.events.next(l)),He(l=>{if(s.guardsResult=l.guardsResult,to(l.guardsResult))throw E0(this.urlSerializer,l.guardsResult);let f=new cp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Bt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",At.GuardRejected),!1)),ep(l=>{if(l.guards.canActivateChecks.length)return J(l).pipe(He(f=>{let p=new up(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),$t(f=>{let p=!1;return J(f).pipe(fO(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",At.NoDataFromResolver)}}))}),He(f=>{let p=new lp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),ep(l=>{let f=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(He(w=>{p.component=w}),de(()=>{})));for(let w of p.children)y.push(...f(w));return y};return Ic(f(l.targetSnapshot.root)).pipe(Qn(null),Dn(1))}),ep(()=>this.afterPreactivation()),$t(()=>{let{currentSnapshot:l,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?Be(p).pipe(de(()=>s)):J(s)}),de(l=>{let f=EN(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Me(B({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),He(()=>{this.events.next(new Bs)}),RN(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Dn(1),He({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Kd(this.transitionAbortSubject.pipe(He(l=>{throw l}))),ns(()=>{!c&&!u&&this.cancelNavigationTransition(s,"",At.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Kn(l=>{if(u=!0,D0(l))this.events.next(new sr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),TN(l)?this.events.next(new $s(l.url)):s.resolve(!1);else{this.events.next(new js(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return Et}))}))}cancelNavigationTransition(r,i,o){let s=new sr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DO(t){return t!==Fs}var TO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(CO),providedIn:"root"});let t=e;return t})(),Sp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},CO=(()=>{let e=class e extends Sp{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hf(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),M0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>F(SO),providedIn:"root"});let t=e;return t})(),SO=(()=>{let e=class e extends M0{constructor(){super(...arguments),this.location=F(As),this.urlSerializer=F(Ap),this.options=F(kp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(Lp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=v0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Us)this.stateMemento=this.createStateMemento();else if(r instanceof Qr)this.rawUrlTree=i.initialUrl;else if(r instanceof Vu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Bs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof sr&&(r.code===At.GuardRejected||r.code===At.NoDataFromResolver)?this.restoreHistory(i):r instanceof js?this.restoreHistory(i,!0):r instanceof Kr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,c=B(B({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",c)}else{let s=B(B({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hf(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Os=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Os||{});function AO(t,e){t.events.pipe(Bt(n=>n instanceof Kr||n instanceof sr||n instanceof js||n instanceof Qr),de(n=>n instanceof Kr||n instanceof Qr?Os.COMPLETE:(n instanceof sr?n.code===At.Redirect||n.code===At.SupersededByNewNavigation:!1)?Os.REDIRECTING:Os.FAILED),Bt(n=>n!==Os.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function RO(t){throw t}var xO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ur=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=F(Eu),this.stateManager=F(M0),this.options=F(kp,{optional:!0})||{},this.pendingTasks=F(vu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(bO),this.urlSerializer=F(Ap),this.location=F(As),this.urlHandlingStrategy=F(Lp),this._events=new dt,this.errorHandler=this.options.errorHandler||RO,this.navigated=!1,this.routeReuseStrategy=F(TO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Fp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(Pp,{optional:!0}),this.eventsSubscription=new ke,this.isNgZoneEnabled=F(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof sr&&i.code!==At.Redirect&&i.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Kr)this.navigated=!0;else if(i instanceof $s){let c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||DO(o.source)};this.scheduleNavigation(c,Fs,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}NO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let l=B({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Np),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,p=null;switch(u){case"merge":p=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let w=o?o.snapshot:this.routerState.snapshot.root;y=p0(w)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),y=this.currentUrlTree.root}return g0(y,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=to(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Fs,null,i)}navigate(r,i={skipLocationChange:!1}){return PO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=B({},xO):i===!1?o=B({},MO):o=i,to(r))return XE(this.currentUrlTree,r,o);let s=this.parseUrl(r);return XE(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((y,w)=>{u=y,l=w});let p=this.pendingTasks.add();return AO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function NO(t){return!(t instanceof Bs)&&!(t instanceof $s)}var OO=new X("");function P0(t,...e){return cn([{provide:Fp,multi:!0,useValue:t},[],{provide:ar,useFactory:kO,deps:[ur]},{provide:Nf,multi:!0,useFactory:LO},e.map(n=>n.\u0275providers)])}function kO(t){return t.routerState.root}function FO(t,e){return{\u0275kind:t,\u0275providers:e}}function LO(){let t=F(Zt);return e=>{let n=t.get(Ts);if(e!==n.components[0])return;let r=t.get(ur),i=t.get(VO);t.get(UO)===1&&r.initialNavigation(),t.get(jO,null,re.Optional)?.setUpPreloading(),t.get(OO,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var VO=new X("",{factory:()=>new dt}),UO=new X("",{providedIn:"root",factory:()=>1});var jO=new X("");function N0(){return FO(6,[{provide:Ki,useClass:LE}])}function BO(t,e){if(t&1&&$(0,"i",2),t&2){let n=ln();cE(n.iconClasses)}}var io=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-button"]],inputs:{iconClasses:"iconClasses",text:"text"},standalone:!0,features:[Re],decls:3,vars:2,consts:[["class","icon",3,"class",4,"ngIf"],[1,"text"],[1,"icon"]],template:function(i,o){i&1&&(ft(0,BO,1,2,"i",0),R(1,"div",1),j(2),N()),i&2&&(Ee("ngIf",o.iconClasses),se(2),pt(o.text))},dependencies:[Ct,ir],styles:['[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative;padding:1rem;color:var(--white-primary);gap:1rem}[_nghost-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}[_nghost-%COMP%]:hover:before{opacity:1}[_nghost-%COMP%]:hover{border-color:#000}[_nghost-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.icon[_ngcontent-%COMP%]{z-index:4}.text[_ngcontent-%COMP%]{z-index:4;transition:color .2s ease-in}']});let t=e;return t})();function $O(t,e){t&1&&(R(0,"div",12),$(1,"img",13),N())}var Gu=(()=>{let e=class e{constructor(){this.imageLoaded=!1,this.router=F(ur)}onImageLoad(){this.imageLoaded=!0}showDesign(){this.router.navigate(["/design",this.design.id])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-home-card"]],inputs:{design:"design"},standalone:!0,features:[Re],decls:19,vars:9,consts:[[3,"click"],["loading","lazy",1,"card",3,"load","src"],["class","loader",4,"ngIf"],[1,"info",3,"click"],[1,"row","basic-info"],[1,"name"],[1,"price"],[1,"row","tags"],[1,"tag"],[1,"row","bottom"],[1,"click"],["iconClasses","fas fa-basket-shopping","text","Dodaj u korpu",3,"click"],[1,"loader"],["src","assets/current-wave-skeleton.svg","alt","Loading..."]],template:function(i,o){i&1&&(R(0,"div",0),We("click",function(){return o.showDesign()}),R(1,"img",1),We("load",function(){return o.onImageLoad()}),N()(),ft(2,$O,2,0,"div",2),R(3,"div",3),We("click",function(){return o.showDesign()}),R(4,"div",4)(5,"div",5),j(6),N(),R(7,"div",6),j(8),mE(9,"currency"),N()(),R(10,"div",7)(11,"div",8),j(12),N(),R(13,"div",8),j(14),N()(),R(15,"div",9)(16,"div",10),j(17,"(Klikni za jo\u0161 informacija)"),N(),R(18,"cw-button",11),We("click",function(){return o.showDesign()}),N()()()),i&2&&(se(),Ee("src",o.design.image,zr),se(),Ee("ngIf",!o.imageLoaded),se(4),pt(o.design.name),se(2),pt(yE(9,6,o.design.price,"RSD")),se(4),pt(o.design.category),se(2),pt(o.design.type))},dependencies:[io,Ct,ir,$E],styles:["[_nghost-%COMP%]{width:100%;position:relative;transition:.2s ease;border-radius:.8rem}[_nghost-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}[_nghost-%COMP%]:hover   .info[_ngcontent-%COMP%]{height:max(13rem,30%);background-color:var(--white-primary)}.card[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{border-radius:.8rem;width:100%;overflow:hidden}.info[_ngcontent-%COMP%]{position:absolute;bottom:0;height:0px;background-color:var(--white-primary);width:100%;border-radius:.8rem;padding-inline:1rem;box-sizing:border-box;overflow:hidden;display:flex;flex-direction:column;transition:.4s ease-in-out;-webkit-user-select:none;user-select:none}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.name[_ngcontent-%COMP%]{flex-grow:1;padding:5px}.basic-info[_ngcontent-%COMP%]{border-bottom:1px solid black;padding-bottom:5px;margin-top:2rem}.price[_ngcontent-%COMP%]{background:var(--gradient-primary);color:var(--white-primary);display:flex;justify-content:center;align-items:center;padding:5px;border-radius:5px}.tags[_ngcontent-%COMP%]{margin-top:5px;justify-content:start;gap:3px;font-family:var(--ff-secondary)}.tag[_ngcontent-%COMP%]{background-color:var(--clr-primary-700);padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-300);color:var(--white-primary)}.bottom[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:2rem}.click[_ngcontent-%COMP%]{color:var(--white-primary-transparent);font-family:var(--ff-secondary);opacity:.5;font-size:var(--fs-300)}a[_ngcontent-%COMP%]{text-decoration:none;height:100%}"]});let t=e;return t})();var k0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},F0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|l>>6,w=l&63;u||(w=64,s||(y=64)),r.push(n[f],n[p],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Up;let y=o<<2|c>>4;if(r.push(y),l!==64){let w=c<<4&240|l>>2;if(r.push(w),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Up=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},zO=function(t){let e=k0(t);return F0.encodeByteArray(e,!0)},Qs=function(t){return zO(t).replace(/\./g,"")},Bp=function(t){try{return F0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var GO=()=>qO().__FIREBASE_DEFAULTS__,WO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Bp(t[1]);return e&&JSON.parse(e)},Ku=()=>{try{return GO()||WO()||KO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},L0=t=>{var e,n;return(n=(e=Ku())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Qu=t=>{let e=L0(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$p=()=>{var t;return(t=Ku())===null||t===void 0?void 0:t.config},V0=t=>{var e;return(e=Ku())===null||e===void 0?void 0:e[`_${t}`]};var Wu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function U0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qs(JSON.stringify(n)),Qs(JSON.stringify(s)),""].join(".")}function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function QO(){var t;let e=(t=Ku())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function H0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z0(){return!QO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hp(){try{return typeof indexedDB=="object"}catch{return!1}}function q0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var YO="FirebaseError",Rt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,On.prototype.create)}},On=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?JO(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Rt(i,c,r)}};function JO(t,e){return t.replace(ZO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ZO=/\{\$([^}]+)}/g;function oo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(O0(o)&&O0(s)){if(!oo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function O0(t){return t!==null&&typeof t=="object"}function zp(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function G0(t,e){let n=new jp(t,e);return n.subscribe.bind(n)}var jp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vp),i.error===void 0&&(i.error=Vp),i.complete===void 0&&(i.complete=Vp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function XO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vp(){}var Dq=4*60*60*1e3;function vt(t){return t&&t._delegate?t._delegate:t}var _t=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yr="[DEFAULT]";var qp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Wu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t1(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function e1(t){return t===Yr?void 0:t}function t1(t){return t.instantiationMode==="EAGER"}var Yu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var n1=[],ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ae||{}),r1={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},i1=ae.INFO,o1={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},s1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=o1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},lr=class{constructor(e){this.name=e,this._logLevel=i1,this._logHandler=s1,this._userLogHandler=null,n1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var a1=(t,e)=>e.some(n=>t instanceof n),W0,K0;function c1(){return W0||(W0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u1(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Q0=new WeakMap,Wp=new WeakMap,Y0=new WeakMap,Gp=new WeakMap,Qp=new WeakMap;function l1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(fn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Q0.set(n,t)}).catch(()=>{}),Qp.set(e,t),e}function d1(t){if(Wp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Wp.set(t,e)}var Kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J0(t){Kp=t(Kp)}function h1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ju(this),e,...n);return Y0.set(r,e.sort?e.sort():[e]),fn(r)}:u1().includes(t)?function(...e){return t.apply(Ju(this),e),fn(Q0.get(this))}:function(...e){return fn(t.apply(Ju(this),e))}}function f1(t){return typeof t=="function"?h1(t):(t instanceof IDBTransaction&&d1(t),a1(t,c1())?new Proxy(t,Kp):t)}function fn(t){if(t instanceof IDBRequest)return l1(t);if(Gp.has(t))return Gp.get(t);let e=f1(t);return e!==t&&(Gp.set(t,e),Qp.set(e,t)),e}var Ju=t=>Qp.get(t);function X0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=fn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(fn(s.result),u.oldVersion,u.newVersion,fn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var p1=["get","getKey","getAll","getAllKeys","count"],g1=["put","add","delete","clear"],Yp=new Map;function Z0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=g1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p1.includes(n)))return;let o=function(s,...c){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Yp.set(e,o),o}J0(t=>Me(B({},t),{get:(e,n,r)=>Z0(e,n)||t.get(e,n,r),has:(e,n)=>!!Z0(e,n)||t.has(e,n)}));var Zp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function m1(t){let e=t.getComponent();return e?.type==="VERSION"}var Xp="@firebase/app",eb="0.10.11";var kn=new lr("@firebase/app"),y1="@firebase/app-compat",v1="@firebase/analytics-compat",_1="@firebase/analytics",w1="@firebase/app-check-compat",I1="@firebase/app-check",E1="@firebase/auth",b1="@firebase/auth-compat",D1="@firebase/database",T1="@firebase/database-compat",C1="@firebase/functions",S1="@firebase/functions-compat",A1="@firebase/installations",R1="@firebase/installations-compat",x1="@firebase/messaging",M1="@firebase/messaging-compat",P1="@firebase/performance",N1="@firebase/performance-compat",O1="@firebase/remote-config",k1="@firebase/remote-config-compat",F1="@firebase/storage",L1="@firebase/storage-compat",V1="@firebase/firestore",U1="@firebase/vertexai-preview",j1="@firebase/firestore-compat",B1="firebase",$1="10.13.2";var eg="[DEFAULT]",H1={[Xp]:"fire-core",[y1]:"fire-core-compat",[_1]:"fire-analytics",[v1]:"fire-analytics-compat",[I1]:"fire-app-check",[w1]:"fire-app-check-compat",[E1]:"fire-auth",[b1]:"fire-auth-compat",[D1]:"fire-rtdb",[T1]:"fire-rtdb-compat",[C1]:"fire-fn",[S1]:"fire-fn-compat",[A1]:"fire-iid",[R1]:"fire-iid-compat",[x1]:"fire-fcm",[M1]:"fire-fcm-compat",[P1]:"fire-perf",[N1]:"fire-perf-compat",[O1]:"fire-rc",[k1]:"fire-rc-compat",[F1]:"fire-gcs",[L1]:"fire-gcs-compat",[V1]:"fire-fst",[j1]:"fire-fst-compat",[U1]:"fire-vertex","fire-js":"fire-js",[B1]:"fire-js-all"};var Ys=new Map,z1=new Map,tg=new Map;function tb(t,e){try{t.container.addComponent(e)}catch(n){kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pn(t){let e=t.name;if(tg.has(e))return kn.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(let n of Ys.values())tb(n,t);for(let n of z1.values())tb(n,t);return!0}function Zs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function so(t){return t.settings!==void 0}var q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new On("app","Firebase",q1);var ng=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}};var ao=$1;function og(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:eg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw dr.create("bad-app-name",{appName:String(i)});if(n||(n=$p()),!n)throw dr.create("no-options");let o=Ys.get(i);if(o){if(oo(n,o.options)&&oo(r,o.config))return o;throw dr.create("duplicate-app",{appName:i})}let s=new Yu(i);for(let u of tg.values())s.addComponent(u);let c=new ng(n,r,s);return Ys.set(i,c),c}function Jr(t=eg){let e=Ys.get(t);if(!e&&t===eg&&$p())return og();if(!e)throw dr.create("no-app",{appName:t});return e}function Zu(){return Array.from(Ys.values())}function Pe(t,e,n){var r;let i=(r=H1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kn.warn(c.join(" "));return}pn(new _t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var G1="firebase-heartbeat-database",W1=1,Js="firebase-heartbeat-store",Jp=null;function ob(){return Jp||(Jp=X0(G1,W1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Js)}catch(n){console.warn(n)}}}}).catch(t=>{throw dr.create("idb-open",{originalErrorMessage:t.message})})),Jp}function K1(t){return C(this,null,function*(){try{let n=(yield ob()).transaction(Js),r=yield n.objectStore(Js).get(sb(t));return yield n.done,r}catch(e){if(e instanceof Rt)kn.warn(e.message);else{let n=dr.create("idb-get",{originalErrorMessage:e?.message});kn.warn(n.message)}}})}function nb(t,e){return C(this,null,function*(){try{let r=(yield ob()).transaction(Js,"readwrite");yield r.objectStore(Js).put(e,sb(t)),yield r.done}catch(n){if(n instanceof Rt)kn.warn(n.message);else{let r=dr.create("idb-set",{originalErrorMessage:n?.message});kn.warn(r.message)}}})}function sb(t){return`${t.name}!${t.options.appId}`}var Q1=1024,Y1=30*24*60*60*1e3,rg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ig(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=Y1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){kn.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=rb(),{heartbeatsToSend:r,unsentEntries:i}=J1(this._heartbeatsCache.heartbeats),o=Qs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return kn.warn(n),""}})}};function rb(){return new Date().toISOString().substring(0,10)}function J1(t,e=Q1){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ib(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ib(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ig=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Hp()?q0().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield K1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ib(t){return Qs(JSON.stringify({version:2,heartbeats:t})).length}function Z1(t){pn(new _t("platform-logger",e=>new Zp(e),"PRIVATE")),pn(new _t("heartbeat",e=>new rg(e),"PRIVATE")),Pe(Xp,eb,t),Pe(Xp,eb,"esm2017"),Pe("fire-js","")}Z1("");var X1="firebase",ek="10.13.2";Pe(X1,ek,"app");var hr=new er("ANGULARFIRE2_VERSION");function Xs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ei=(t,e)=>{let n=e?[e]:Zu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Xr=class{constructor(){return ei(tk)}},tk="app-check";function co(){}var Xu=class{zone;delegate;constructor(e,n=jd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},sg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)),n.pipe(He({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ti=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Xu(Zone.current)),this.insideAngular=n.run(()=>new Xu(Zone.current,Ud)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ie(Ie))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function el(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function nk(t){return el().ngZone.runOutsideAngular(()=>t())}function Zr(t){return el().ngZone.run(()=>t())}function rk(t){return ik(el())(t)}function ik(t){return function(n){return n=n.lift(new sg(t.ngZone)),n.pipe(Wn(t.outsideAngular),Gn(t.insideAngular))}}var ok=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Zr(()=>t.apply(void 0,r))},gt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Zr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co))),r[o]=ok(r[o],n));let i=nk(()=>t.apply(this,r));if(!e)if(i instanceof me){let o=el();return i.pipe(Wn(o.outsideAngular),Gn(o.insideAngular))}else return Zr(()=>i);return i instanceof me?i.pipe(rk):i instanceof Promise?Zr(()=>new Promise((o,s)=>i.then(c=>Zr(()=>o(c)),c=>Zr(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Zr(()=>i)};var Fn=class{constructor(e){return e}},ni=class{constructor(){return Zu()}};function sk(t){return t&&t.length===1?t[0]:new Fn(Jr())}var ag=new X("angularfire2._apps"),ak={provide:Fn,useFactory:sk,deps:[[new it,ag]]},ck={provide:ni,deps:[[new it,ag]]};function uk(t){return(e,n)=>{let r=n.get(nr);Pe("angularfire",hr.full,"core"),Pe("angularfire",hr.full,"app"),Pe("angular",vE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Fn(i)}}function ab(t,...e){return cn([ak,ck,{provide:ag,useFactory:uk(t),multi:!0,deps:[Ie,Zt,ti,...e]}])}var cb=gt(og,!0);function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yb=mb,vb=new On("auth","Firebase",mb());var il=new lr("@firebase/auth");function dk(t,...e){il.logLevel<=ae.WARN&&il.warn(`Auth (${ao}): ${t}`,...e)}function nl(t,...e){il.logLevel<=ae.ERROR&&il.error(`Auth (${ao}): ${t}`,...e)}function ub(t,...e){throw _g(t,...e)}function vg(t,...e){return _g(t,...e)}function _b(t,e,n){let r=Object.assign(Object.assign({},yb()),{[e]:n});return new On("auth","Firebase",r).create(e,{appName:t.name})}function rl(t){return _b(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _g(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vb.create(t,...e)}function ve(t,e,...n){if(!t)throw _g(e,...n)}function ea(t){let e="INTERNAL ASSERTION FAILED: "+t;throw nl(e),new Error(e)}function ol(t,e){t||ea(e)}function hk(){return lb()==="http:"||lb()==="https:"}function lb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function fk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hk()||$0()||"connection"in navigator)?navigator.onLine:!0}function pk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ii=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ol(n>e,"Short delay should be less than long delay!"),this.isMobile=j0()||H0()}get(){return fk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function gk(t,e){ol(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var sl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var mk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var yk=new ii(3e4,6e4);function wb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ll(o,s,c,u){return C(this,arguments,function*(t,e,n,r,i={}){return Ib(t,i,()=>C(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=zp(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:y},l);return B0()||(w.referrerPolicy="no-referrer"),sl.fetch()(Eb(t,t.config.apiHost,n,p),w)}))})}function Ib(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},mk),e);try{let i=new lg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw tl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw tl(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw tl(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw tl(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _b(t,f,l);ub(t,f)}}catch(i){if(i instanceof Rt)throw i;ub(t,"network-request-failed",{message:String(i)})}})}function Eb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?gk(t.config,i):`${t.config.apiScheme}://${i}`}var lg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vg(this.auth,"network-request-failed")),yk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function tl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=vg(t,e,r);return i.customData._tokenResponse=n,i}function vk(t,e){return C(this,null,function*(){return ll(t,"POST","/v1/accounts:delete",e)})}function bb(t,e){return C(this,null,function*(){return ll(t,"POST","/v1/accounts:lookup",e)})}function ta(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function wg(t,e=!1){return C(this,null,function*(){let n=vt(t),r=yield n.getIdToken(e),i=Db(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ta(cg(i.auth_time)),issuedAtTime:ta(cg(i.iat)),expirationTime:ta(cg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function cg(t){return Number(t)*1e3}function Db(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Bp(n);return i?JSON.parse(i):(nl("Failed to decode base64 JWT payload"),null)}catch(i){return nl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function db(t){let e=Db(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function dg(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Rt&&_k(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function _k({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var hg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ra=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ta(this.lastLoginAt),this.creationTime=ta(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function al(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield dg(t,bb(n,{idToken:r}));ve(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Tb(o.providerUserInfo):[],c=wk(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ra(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Ig(t){return C(this,null,function*(){let e=vt(t);yield al(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function wk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Tb(t){return t.map(e=>{var{providerId:n}=e,r=Bd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Ik(t,e){return C(this,null,function*(){let n=yield Ib(t,{},()=>C(this,null,function*(){let r=zp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Eb(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",sl.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Ek(t,e){return C(this,null,function*(){return ll(t,"POST","/v2/accounts:revokeToken",wb(t,e))})}var na=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");let n=db(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Ik(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ea("not implemented")}};function fr(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ia=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Bd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ra(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield dg(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return wg(this,e)}reload(){return Ig(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield al(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(so(this.auth.app))return Promise.reject(rl(this.auth));let e=yield this.getIdToken();return yield dg(this,vk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,U=(l=n.createdAt)!==null&&l!==void 0?l:void 0,W=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:q,emailVerified:ne,isAnonymous:Ce,providerData:Z,stsTokenManager:E}=n;ve(q&&E,e,"internal-error");let m=na.fromJSON(this.name,E);ve(typeof q=="string",e,"internal-error"),fr(p,e.name),fr(y,e.name),ve(typeof ne=="boolean",e,"internal-error"),ve(typeof Ce=="boolean",e,"internal-error"),fr(w,e.name),fr(A,e.name),fr(x,e.name),fr(P,e.name),fr(U,e.name),fr(W,e.name);let v=new t({uid:q,auth:e,email:y,emailVerified:ne,displayName:p,isAnonymous:Ce,photoURL:A,phoneNumber:w,tenantId:x,stsTokenManager:m,createdAt:U,lastLoginAt:W});return Z&&Array.isArray(Z)&&(v.providerData=Z.map(I=>Object.assign({},I))),P&&(v._redirectEventId=P),v}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new na;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield al(o),o})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];ve(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Tb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new na;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ra(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var hb=new Map;function ri(t){ol(t instanceof Function,"Expected a class definition");let e=hb.get(t);return e?(ol(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hb.set(t,e),e)}var bk=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),fg=bk;function ug(t,e,n){return`firebase:${t}:${e}:${n}`}var cl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ug(this.userKey,i.apiKey,o),this.fullPersistenceKey=ug("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ia._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(ri(fg),e,r);let i=(yield Promise.all(n.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ri(fg),s=ug(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let p=ia._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>C(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function fb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rk(e))return"Blackberry";if(xk(e))return"Webos";if(Tk(e))return"Safari";if((e.includes("chrome/")||Ck(e))&&!e.includes("edge/"))return"Chrome";if(Ak(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Dk(t=xt()){return/firefox\//i.test(t)}function Tk(t=xt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ck(t=xt()){return/crios\//i.test(t)}function Sk(t=xt()){return/iemobile/i.test(t)}function Ak(t=xt()){return/android/i.test(t)}function Rk(t=xt()){return/blackberry/i.test(t)}function xk(t=xt()){return/webos/i.test(t)}function Cb(t,e=[]){let n;switch(t){case"Browser":n=fb(xt());break;case"Worker":n=`${fb(xt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${r}`}var pg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Mk(n){return C(this,arguments,function*(t,e={}){return ll(t,"GET","/v2/passwordPolicy",wb(t,e))})}var Pk=6,gg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Pk,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var mg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ul(this),this.idTokenSubscription=new ul(this),this.beforeStateQueue=new pg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield cl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield bb(this,{idToken:e}),r=yield ia._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(so(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield al(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=pk()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(so(this.app))return Promise.reject(rl(this));let n=e?vt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return so(this.app)?Promise.reject(rl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return so(this.app)?Promise.reject(rl(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(ri(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield Mk(this),n=new gg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new On("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Ek(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ri(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=yield cl.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&dk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Nk(t){return vt(t)}var ul=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=G0(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ok={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kk(t){Ok=t}function Fk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Lk(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ri);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var I4=Fk("rcb"),E4=new ii(3e4,6e4);var b4=new ii(2e3,1e4);var D4=10*60*1e3;var T4=new ii(3e4,6e4);var C4=new ii(5e3,15e3);var S4=encodeURIComponent("fac");var pb="@firebase/auth",gb="1.7.9";var yg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Vk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Uk(t){pn(new _t("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cb(t)},l=new mg(r,i,o,u);return Lk(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pn(new _t("auth-internal",e=>{let n=Nk(e.getProvider("auth").getImmediate());return(r=>new yg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(pb,gb,Vk(t)),Pe(pb,gb,"esm2017")}var jk=5*60,A4=V0("authIdTokenMaxAge")||jk;function Bk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kk({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=vg("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Bk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Uk("Browser");var jF="auth";var uo=class{constructor(){return ei(jF)}};var Sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ab={};var pr,Eg;(function(){var t;function e(E,m){function v(){}v.prototype=m.prototype,E.D=m.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(I,b,T){for(var _=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)_[wn-2]=arguments[wn];return m.prototype[b].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,v){v||(v=0);var I=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)I[b]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(b=0;16>b;++b)I[b]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=E.g[0],v=E.g[1],b=E.g[2];var T=E.g[3],_=m+(T^v&(b^T))+I[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+I[1]+3905402710&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+I[2]+606105819&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+I[3]+3250441966&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(T^v&(b^T))+I[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+I[5]+1200080426&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+I[6]+2821735955&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+I[7]+4249261313&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(T^v&(b^T))+I[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+I[9]+2336552879&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+I[10]+4294925233&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+I[11]+2304563134&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(T^v&(b^T))+I[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(b^m&(v^b))+I[13]+4254626195&4294967295,T=m+(_<<12&4294967295|_>>>20),_=b+(v^T&(m^v))+I[14]+2792965006&4294967295,b=T+(_<<17&4294967295|_>>>15),_=v+(m^b&(T^m))+I[15]+1236535329&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(b^T&(v^b))+I[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+I[6]+3225465664&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+I[11]+643717713&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+I[0]+3921069994&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^T&(v^b))+I[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+I[10]+38016083&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+I[15]+3634488961&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+I[4]+3889429448&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^T&(v^b))+I[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+I[14]+3275163606&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+I[3]+4107603335&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+I[8]+1163531501&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^T&(v^b))+I[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^b&(m^v))+I[2]+4243563512&4294967295,T=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(T^m))+I[7]+1735328473&4294967295,b=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(b^T))+I[12]+2368359562&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(v^b^T)+I[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+I[8]+2272392833&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+I[11]+1839030562&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+I[14]+4259657740&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^T)+I[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+I[4]+1272893353&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+I[7]+4139469664&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+I[10]+3200236656&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^T)+I[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+I[0]+3936430074&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+I[3]+3572445317&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+I[6]+76029189&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^T)+I[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^b)+I[12]+3873151461&4294967295,T=m+(_<<11&4294967295|_>>>21),_=b+(T^m^v)+I[15]+530742520&4294967295,b=T+(_<<16&4294967295|_>>>16),_=v+(b^T^m)+I[2]+3299628645&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(b^(v|~T))+I[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+I[7]+1126891415&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+I[14]+2878612391&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+I[5]+4237533241&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~T))+I[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+I[3]+2399980690&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+I[10]+4293915773&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+I[1]+2240044497&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~T))+I[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+I[15]+4264355552&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+I[6]+2734768916&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+I[13]+1309151649&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~T))+I[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~b))+I[11]+3174756917&4294967295,T=m+(_<<10&4294967295|_>>>22),_=b+(m^(T|~v))+I[2]+718787259&4294967295,b=T+(_<<15&4294967295|_>>>17),_=v+(T^(b|~m))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+T&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var v=m-this.blockSize,I=this.B,b=this.h,T=0;T<m;){if(b==0)for(;T<=v;)i(this,E,T),T+=this.blockSize;if(typeof E=="string"){for(;T<m;)if(I[b++]=E.charCodeAt(T++),b==this.blockSize){i(this,I),b=0;break}}else for(;T<m;)if(I[b++]=E[T++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var v=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=v&255,v/=256;for(this.u(E),E=Array(16),m=v=0;4>m;++m)for(var I=0;32>I;I+=8)E[v++]=this.g[m]>>>I&255;return E};function o(E,m){var v=c;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=m(E)}function s(E,m){this.h=m;for(var v=[],I=!0,b=E.length-1;0<=b;b--){var T=E[b]|0;I&&T==m||(v[b]=T,I=!1)}this.g=v}var c={};function u(E){return-128<=E&&128>E?o(E,function(m){return new s([m|0],0>m?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return P(l(-E));for(var m=[],v=1,I=0;E>=v;I++)m[I]=E/v|0,v*=4294967296;return new s(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return P(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),I=p,b=0;b<E.length;b+=8){var T=Math.min(8,E.length-b),_=parseInt(E.substring(b,b+T),m);8>T?(T=l(Math.pow(m,T)),I=I.j(T).add(l(_))):(I=I.j(v),I=I.add(l(_)))}return I}var p=u(0),y=u(1),w=u(16777216);t=s.prototype,t.m=function(){if(x(this))return-P(this).m();for(var E=0,m=1,v=0;v<this.g.length;v++){var I=this.i(v);E+=(0<=I?I:4294967296+I)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(x(this))return"-"+P(this).toString(E);for(var m=l(Math.pow(E,6)),v=this,I="";;){var b=ne(v,m).g;v=U(v,b.j(m));var T=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=b,A(v))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=U(this,E),x(E)?-1:A(E)?0:1};function P(E){for(var m=E.g.length,v=[],I=0;I<m;I++)v[I]=~E.g[I];return new s(v,~E.h).add(y)}t.abs=function(){return x(this)?P(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0,b=0;b<=m;b++){var T=I+(this.i(b)&65535)+(E.i(b)&65535),_=(T>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);I=_>>>16,T&=65535,_&=65535,v[b]=_<<16|T}return new s(v,v[v.length-1]&-2147483648?-1:0)};function U(E,m){return E.add(P(m))}t.j=function(E){if(A(this)||A(E))return p;if(x(this))return x(E)?P(this).j(P(E)):P(P(this).j(E));if(x(E))return P(this.j(P(E)));if(0>this.l(w)&&0>E.l(w))return l(this.m()*E.m());for(var m=this.g.length+E.g.length,v=[],I=0;I<2*m;I++)v[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<E.g.length;b++){var T=this.i(I)>>>16,_=this.i(I)&65535,wn=E.i(b)>>>16,Oo=E.i(b)&65535;v[2*I+2*b]+=_*Oo,W(v,2*I+2*b),v[2*I+2*b+1]+=T*Oo,W(v,2*I+2*b+1),v[2*I+2*b+1]+=_*wn,W(v,2*I+2*b+1),v[2*I+2*b+2]+=T*wn,W(v,2*I+2*b+2)}for(I=0;I<m;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=m;I<2*m;I++)v[I]=0;return new s(v,0)};function W(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function q(E,m){this.g=E,this.h=m}function ne(E,m){if(A(m))throw Error("division by zero");if(A(E))return new q(p,p);if(x(E))return m=ne(P(E),m),new q(P(m.g),P(m.h));if(x(m))return m=ne(E,P(m)),new q(P(m.g),m.h);if(30<E.g.length){if(x(E)||x(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,I=m;0>=I.l(E);)v=Ce(v),I=Ce(I);var b=Z(v,1),T=Z(I,1);for(I=Z(I,2),v=Z(v,2);!A(I);){var _=T.add(I);0>=_.l(E)&&(b=b.add(v),T=_),I=Z(I,1),v=Z(v,1)}return m=U(E,b.j(m)),new q(b,m)}for(b=p;0<=E.l(m);){for(v=Math.max(1,Math.floor(E.m()/m.m())),I=Math.ceil(Math.log(v)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=l(v),_=T.j(m);x(_)||0<_.l(E);)v-=I,T=l(v),_=T.j(m);A(T)&&(T=y),b=b.add(T),E=U(E,_)}return new q(b,E)}t.A=function(E){return ne(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)&E.i(I);return new s(v,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)|E.i(I);return new s(v,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)^E.i(I);return new s(v,this.h^E.h)};function Ce(E){for(var m=E.g.length+1,v=[],I=0;I<m;I++)v[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(v,E.h)}function Z(E,m){var v=m>>5;m%=32;for(var I=E.g.length-v,b=[],T=0;T<I;T++)b[T]=0<m?E.i(T+v)>>>m|E.i(T+v+1)<<32-m:E.i(T+v);return new s(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Eg=Ab.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,pr=Ab.Integer=s}).apply(typeof Sb<"u"?Sb:typeof self<"u"?self:typeof window<"u"?window:{});var dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ln={};var bg,Dg,lo,Tg,oa,hl,Cg,Sg,Ag;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof dl=="object"&&dl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in h))break e;h=h[D]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,D={next:function(){if(!g&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function w(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,D,S){for(var k=Array(arguments.length-2),be=2;be<arguments.length;be++)k[be-2]=arguments[be];return d.prototype[D].apply(g,k)}}function x(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function P(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let D=a.length||0,S=g.length||0;a.length=D+S;for(let k=0;k<S;k++)a[D+k]=g[k]}else a.push(g)}}class U{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(a){return/^[\s\xa0]*$/.test(a)}function q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ne(a){return ne[" "](a),a}ne[" "]=function(){};var Ce=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Z(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)a[h]=g[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function b(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function _(){var a=td;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class wn{constructor(){this.h=this.g=null}add(d,h){let g=Oo.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Oo=new U(()=>new HT,a=>a.reset());class HT{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ko,Fo=!1,td=new wn,Ny=()=>{let a=c.Promise.resolve(void 0);ko=()=>{a.then(zT)}};var zT=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){T(h)}var d=Oo;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Fo=!1};function Bn(){this.s=this.s,this.C=this.C}Bn.prototype.s=!1,Bn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Bn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var qT=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Lo(a,d){if(Xe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ce){e:{try{ne(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:GT[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Lo.aa.h.call(this)}}A(Lo,Xe);var GT={2:"touch",3:"pen",4:"mouse"};Lo.prototype.h=function(){Lo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Vo="closure_listenable_"+(1e6*Math.random()|0),WT=0;function KT(a,d,h,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++WT,this.da=this.fa=!1}function La(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Va(a){this.src=a,this.g={},this.h=0}Va.prototype.add=function(a,d,h,g,D){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var k=rd(a,d,g,D);return-1<k?(d=a[k],h||(d.fa=!1)):(d=new KT(d,this.src,S,!!g,D),d.fa=h,a.push(d)),d};function nd(a,d){var h=d.type;if(h in a.g){var g=a.g[h],D=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=D)&&Array.prototype.splice.call(g,D,1),S&&(La(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function rd(a,d,h,g){for(var D=0;D<a.length;++D){var S=a[D];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return D}return-1}var id="closure_lm_"+(1e6*Math.random()|0),od={};function Oy(a,d,h,g,D){if(g&&g.once)return Fy(a,d,h,g,D);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Oy(a,d[S],h,g,D);return null}return h=ud(h),a&&a[Vo]?a.K(d,h,l(g)?!!g.capture:!!g,D):ky(a,d,h,!1,g,D)}function ky(a,d,h,g,D,S){if(!d)throw Error("Invalid event type");var k=l(D)?!!D.capture:!!D,be=ad(a);if(be||(a[id]=be=new Va(a)),h=be.add(d,h,g,k,S),h.proxy)return h;if(g=QT(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)qT||(D=k),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(Vy(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function QT(){function a(h){return d.call(a.src,a.listener,h)}let d=YT;return a}function Fy(a,d,h,g,D){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Fy(a,d[S],h,g,D);return null}return h=ud(h),a&&a[Vo]?a.L(d,h,l(g)?!!g.capture:!!g,D):ky(a,d,h,!0,g,D)}function Ly(a,d,h,g,D){if(Array.isArray(d))for(var S=0;S<d.length;S++)Ly(a,d[S],h,g,D);else g=l(g)?!!g.capture:!!g,h=ud(h),a&&a[Vo]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=rd(S,h,g,D),-1<h&&(La(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=ad(a))&&(d=a.g[d.toString()],a=-1,d&&(a=rd(d,h,g,D)),(h=-1<a?d[a]:null)&&sd(h))}function sd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Vo])nd(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(Vy(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=ad(d))?(nd(h,a),h.h==0&&(h.src=null,d[id]=null)):La(a)}}}function Vy(a){return a in od?od[a]:od[a]="on"+a}function YT(a,d){if(a.da)a=!0;else{d=new Lo(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&sd(a),a=h.call(g,d)}return a}function ad(a){return a=a[id],a instanceof Va?a:null}var cd="__closure_events_fn_"+(1e9*Math.random()>>>0);function ud(a){return typeof a=="function"?a:(a[cd]||(a[cd]=function(d){return a.handleEvent(d)}),a[cd])}function et(){Bn.call(this),this.i=new Va(this),this.M=this,this.F=null}A(et,Bn),et.prototype[Vo]=!0,et.prototype.removeEventListener=function(a,d,h,g){Ly(this,a,d,h,g)};function ut(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Xe(d,a);else if(d instanceof Xe)d.target=d.target||a;else{var D=d;d=new Xe(g,a),I(d,D)}if(D=!0,h)for(var S=h.length-1;0<=S;S--){var k=d.g=h[S];D=Ua(k,g,!0,d)&&D}if(k=d.g=a,D=Ua(k,g,!0,d)&&D,D=Ua(k,g,!1,d)&&D,h)for(S=0;S<h.length;S++)k=d.g=h[S],D=Ua(k,g,!1,d)&&D}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)La(h[g]);delete a.g[d],a.h--}}this.F=null},et.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},et.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Ua(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==h){var be=k.listener,Qe=k.ha||k.src;k.fa&&nd(a.i,k),D=be.call(Qe,g)!==!1&&D}}return D&&!g.defaultPrevented}function Uy(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function jy(a){a.g=Uy(()=>{a.g=null,a.i&&(a.i=!1,jy(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class JT extends Bn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:jy(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uo(a){Bn.call(this),this.h=a,this.g={}}A(Uo,Bn);var By=[];function $y(a){Z(a.g,function(d,h){this.g.hasOwnProperty(h)&&sd(d)},a),a.g={}}Uo.prototype.N=function(){Uo.aa.N.call(this),$y(this)},Uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ld=c.JSON.stringify,ZT=c.JSON.parse,XT=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function dd(){}dd.prototype.h=null;function Hy(a){return a.h||(a.h=a.i())}function zy(){}var jo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hd(){Xe.call(this,"d")}A(hd,Xe);function fd(){Xe.call(this,"c")}A(fd,Xe);var Ir={},qy=null;function ja(){return qy=qy||new et}Ir.La="serverreachability";function Gy(a){Xe.call(this,Ir.La,a)}A(Gy,Xe);function Bo(a){let d=ja();ut(d,new Gy(d))}Ir.STAT_EVENT="statevent";function Wy(a,d){Xe.call(this,Ir.STAT_EVENT,a),this.stat=d}A(Wy,Xe);function lt(a){let d=ja();ut(d,new Wy(d,a))}Ir.Ma="timingevent";function Ky(a,d){Xe.call(this,Ir.Ma,a),this.size=d}A(Ky,Xe);function $o(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ho(){this.g=!0}Ho.prototype.xa=function(){this.g=!1};function eC(a,d,h,g,D,S){a.info(function(){if(a.g)if(S)for(var k="",be=S.split("&"),Qe=0;Qe<be.length;Qe++){var ge=be[Qe].split("=");if(1<ge.length){var tt=ge[0];ge=ge[1];var nt=tt.split("_");k=2<=nt.length&&nt[1]=="type"?k+(tt+"="+ge+"&"):k+(tt+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+k})}function tC(a,d,h,g,D,S,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+S+" "+k})}function pi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+rC(a,h)+(g?" "+g:"")})}function nC(a,d){a.info(function(){return"TIMEOUT: "+d})}Ho.prototype.info=function(){};function rC(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var S=D[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<D.length;k++)D[k]=""}}}}return ld(h)}catch{return d}}var Ba={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pd;function $a(){}A($a,dd),$a.prototype.g=function(){return new XMLHttpRequest},$a.prototype.i=function(){return{}},pd=new $a;function $n(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yy}function Yy(){this.i=null,this.g="",this.h=!1}var Jy={},gd={};function md(a,d,h){a.L=1,a.v=Ga(In(d)),a.m=h,a.P=!0,Zy(a,null)}function Zy(a,d){a.F=Date.now(),Ha(a),a.A=In(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),hv(h.i,"t",g),a.C=0,h=a.j.J,a.h=new Yy,a.g=xv(a.j,h?d:null,!a.m),0<a.O&&(a.M=new JT(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(By[0]=D.toString()),D=By);for(var S=0;S<D.length;S++){var k=Oy(h,D[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Bo(),eC(a.i,a.u,a.A,a.l,a.R,a.m)}$n.prototype.ca=function(a){a=a.target;let d=this.M;d&&En(a)==3?d.j():this.Y(a)},$n.prototype.Y=function(a){try{if(a==this.g)e:{let nt=En(this.g);var d=this.g.Ba();let yi=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||_v(this.g)))){this.J||nt!=4||d==7||(d==8||0>=yi?Bo(3):Bo(2)),yd(this);var h=this.g.Z();this.X=h;t:if(Xy(this)){var g=_v(this.g);a="";var D=g.length,S=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),zo(this);var k="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,tC(this.i,this.u,this.A,this.l,this.R,nt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var be,Qe=this.g;if((be=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(be)){var ge=be;break t}}ge=null}if(h=ge)pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vd(this,h);else{this.o=!1,this.s=3,lt(12),Er(this),zo(this);break e}}if(this.P){h=!0;let Ut;for(;!this.J&&this.C<k.length;)if(Ut=iC(this,k),Ut==gd){nt==4&&(this.s=4,lt(14),h=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Jy){this.s=4,lt(15),pi(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else pi(this.i,this.l,Ut,null),vd(this,Ut);if(Xy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||k.length!=0||this.h.h||(this.s=1,lt(16),h=!1),this.o=this.o&&h,!h)pi(this.i,this.l,k,"[Invalid Chunked Response]"),Er(this),zo(this);else if(0<k.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Dd(tt),tt.M=!0,lt(11))}}else pi(this.i,this.l,k,null),vd(this,k);nt==4&&Er(this),this.o&&!this.J&&(nt==4?Cv(this.j,this):(this.o=!1,Ha(this)))}else IC(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Er(this),zo(this)}}}catch{}finally{}};function Xy(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function iC(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?gd:(h=Number(d.substring(h,g)),isNaN(h)?Jy:(g+=1,g+h>d.length?gd:(d=d.slice(g,g+h),a.C=g+h,d)))}$n.prototype.cancel=function(){this.J=!0,Er(this)};function Ha(a){a.S=Date.now()+a.I,ev(a,a.I)}function ev(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=$o(y(a.ba,a),d)}function yd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}$n.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(nC(this.i,this.A),this.L!=2&&(Bo(),lt(17)),Er(this),this.s=2,zo(this)):ev(this,this.S-a)};function zo(a){a.j.G==0||a.J||Cv(a.j,a)}function Er(a){yd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,$y(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function vd(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||_d(h.h,a))){if(!a.K&&_d(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ja(h),Qa(h);else break e;bd(h),lt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=$o(y(h.Za,h),6e3));if(1>=rv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Dr(h,11)}else if((a.K||h.g==a)&&Ja(h),!W(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let ge=D[d];if(h.T=ge[0],ge=ge[1],h.G==2)if(ge[0]=="c"){h.K=ge[1],h.ia=ge[2];let tt=ge[3];tt!=null&&(h.la=tt,h.j.info("VER="+h.la));let nt=ge[4];nt!=null&&(h.Aa=nt,h.j.info("SVER="+h.Aa));let yi=ge[5];yi!=null&&typeof yi=="number"&&0<yi&&(g=1.5*yi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Ut=a.g;if(Ut){let Xa=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xa){var S=g.h;S.g||Xa.indexOf("spdy")==-1&&Xa.indexOf("quic")==-1&&Xa.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(wd(S,S.h),S.h=null))}if(g.D){let Td=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Td&&(g.ya=Td,Se(g.I,g.D,Td))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var k=a;if(g.qa=Rv(g,g.J?g.ia:null,g.W),k.K){iv(g.h,k);var be=k,Qe=g.L;Qe&&(be.I=Qe),be.B&&(yd(be),Ha(be)),g.g=k}else Dv(g);0<h.i.length&&Ya(h)}else ge[0]!="stop"&&ge[0]!="close"||Dr(h,7);else h.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Dr(h,7):Ed(h):ge[0]!="noop"&&h.l&&h.l.ta(ge),h.v=0)}}Bo(4)}catch{}}var oC=class{constructor(a,d){this.g=a,this.map=d}};function tv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function rv(a){return a.h?1:a.g?a.g.size:0}function _d(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function wd(a,d){a.g?a.g.add(d):a.h=d}function iv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}tv.prototype.cancel=function(){if(this.i=ov(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function ov(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return x(a.i)}function sC(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function aC(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function sv(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=aC(a),g=sC(a),D=g.length,S=0;S<D;S++)d.call(void 0,g[S],h&&h[S],a)}var av=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cC(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),D=null;if(0<=g){var S=a[h].substring(0,g);D=a[h].substring(g+1)}else S=a[h];d(S,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function br(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof br){this.h=a.h,za(this,a.j),this.o=a.o,this.g=a.g,qa(this,a.s),this.l=a.l;var d=a.i,h=new Wo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),cv(this,h),this.m=a.m}else a&&(d=String(a).match(av))?(this.h=!1,za(this,d[1]||"",!0),this.o=qo(d[2]||""),this.g=qo(d[3]||"",!0),qa(this,d[4]),this.l=qo(d[5]||"",!0),cv(this,d[6]||"",!0),this.m=qo(d[7]||"")):(this.h=!1,this.i=new Wo(null,this.h))}br.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Go(d,uv,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Go(d,uv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Go(h,h.charAt(0)=="/"?dC:lC,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Go(h,fC)),a.join("")};function In(a){return new br(a)}function za(a,d,h){a.j=h?qo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function qa(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function cv(a,d,h){d instanceof Wo?(a.i=d,pC(a.i,a.h)):(h||(d=Go(d,hC)),a.i=new Wo(d,a.h))}function Se(a,d,h){a.i.set(d,h)}function Ga(a){return Se(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function qo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Go(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,uC),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function uC(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var uv=/[#\/\?@]/g,lC=/[#\?:]/g,dC=/[#\?]/g,hC=/[#\?@]/g,fC=/#/g;function Wo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Hn(a){a.g||(a.g=new Map,a.h=0,a.i&&cC(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Wo.prototype,t.add=function(a,d){Hn(this),this.i=null,a=gi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function lv(a,d){Hn(a),d=gi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function dv(a,d){return Hn(a),d=gi(a,d),a.g.has(d)}t.forEach=function(a,d){Hn(this),this.g.forEach(function(h,g){h.forEach(function(D){a.call(d,D,g,this)},this)},this)},t.na=function(){Hn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let D=a[g];for(let S=0;S<D.length;S++)h.push(d[g])}return h},t.V=function(a){Hn(this);let d=[];if(typeof a=="string")dv(this,a)&&(d=d.concat(this.g.get(gi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Hn(this),this.i=null,a=gi(this,a),dv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function hv(a,d,h){lv(a,d),0<h.length&&(a.i=null,a.g.set(gi(a,d),x(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var D=S;k[g]!==""&&(D+="="+encodeURIComponent(String(k[g]))),a.push(D)}}return this.i=a.join("&")};function gi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function pC(a,d){d&&!a.j&&(Hn(a),a.i=null,a.g.forEach(function(h,g){var D=g.toLowerCase();g!=D&&(lv(this,g),hv(this,D,h))},a)),a.j=d}function gC(a,d){let h=new Ho;if(c.Image){let g=new Image;g.onload=w(zn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=w(zn,h,"TestLoadImage: error",!1,d,g),g.onabort=w(zn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=w(zn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function mC(a,d){let h=new Ho,g=new AbortController,D=setTimeout(()=>{g.abort(),zn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(D),S.ok?zn(h,"TestPingServer: ok",!0,d):zn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),zn(h,"TestPingServer: error",!1,d)})}function zn(a,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function yC(){this.g=new XT}function vC(a,d,h){let g=h||"";try{sv(a,function(D,S){let k=D;l(D)&&(k=ld(D)),d.push(g+S+"="+encodeURIComponent(k))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Ko(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ko,dd),Ko.prototype.g=function(){return new Wa(this.l,this.j)},Ko.prototype.i=function(a){return function(){return a}}({});function Wa(a,d){et.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Wa,et),t=Wa.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Yo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Yo(this)),this.g&&(this.readyState=3,Yo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function fv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Qo(this):Yo(this),this.readyState==3&&fv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Qo(this))},t.Qa=function(a){this.g&&(this.response=a,Qo(this))},t.ga=function(){this.g&&Qo(this)};function Qo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Yo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Yo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function pv(a){let d="";return Z(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Id(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=pv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Se(a,d,h))}function Oe(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Oe,et);var _C=/^https?$/i,wC=["POST","PUT"];t=Oe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pd.g(),this.v=this.o?Hy(this.o):Hy(pd),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){gv(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(wC,d,void 0))||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of h)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vv(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){gv(this,S)}};function gv(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,mv(a),Ka(a)}function mv(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),Ka(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ka(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yv(this):this.bb())},t.bb=function(){yv(this)};function yv(a){if(a.h&&typeof s<"u"&&(!a.v[1]||En(a)!=4||a.Z()!=2)){if(a.u&&En(a)==4)Uy(a.Ea,0,a);else if(ut(a,"readystatechange"),En(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=k===0){var D=String(a.D).match(av)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!_C.test(D?D.toLowerCase():"")}h=g}if(h)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var S=2<En(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",mv(a)}}finally{Ka(a)}}}}function Ka(a,d){if(a.g){vv(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ut(a,"ready");try{h.onreadystatechange=g}catch{}}}function vv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function En(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),ZT(d)}};function _v(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function IC(a){let d={};a=(a.g&&2<=En(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(W(a[g]))continue;var h=b(a[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[D]||[];d[D]=S,S.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function wv(a){this.Aa=0,this.i=[],this.j=new Ho,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,a),this.cb=Jo("retryDelaySeedMs",1e4,a),this.Wa=Jo("forwardChannelMaxRetries",2,a),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new tv(a&&a.concurrentRequestLimit),this.Da=new yC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wv.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){lt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=Rv(this,null,this.W),Ya(this)};function Ed(a){if(Iv(a),a.G==3){var d=a.U++,h=In(a.I);if(Se(h,"SID",a.K),Se(h,"RID",d),Se(h,"TYPE","terminate"),Zo(a,h),d=new $n(a,a.j,d),d.L=2,d.v=Ga(In(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=xv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ha(d)}Av(a)}function Qa(a){a.g&&(Dd(a),a.g.cancel(),a.g=null)}function Iv(a){Qa(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ja(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ya(a){if(!nv(a.h)&&!a.s){a.s=!0;var d=a.Ga;ko||Ny(),Fo||(ko(),Fo=!0),td.add(d,a),a.B=0}}function EC(a,d){return rv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=$o(y(a.Ga,a,d),Sv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new $n(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(D.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=bv(this,D,d),h=In(this.I),Se(h,"RID",a),Se(h,"CVER",22),this.D&&Se(h,"X-HTTP-Session-Id",this.D),Zo(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(pv(S)))+"&"+d:this.m&&Id(h,this.m,S)),wd(this.h,D),this.Ua&&Se(h,"TYPE","init"),this.P?(Se(h,"$req",d),Se(h,"SID","null"),D.T=!0,md(D,h,null)):md(D,h,d),this.G=2}}else this.G==3&&(a?Ev(this,a):this.i.length==0||nv(this.h)||Ev(this))};function Ev(a,d){var h;d?h=d.l:h=a.U++;let g=In(a.I);Se(g,"SID",a.K),Se(g,"RID",h),Se(g,"AID",a.T),Zo(a,g),a.m&&a.o&&Id(g,a.m,a.o),h=new $n(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=bv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),wd(a.h,h),md(h,g,d)}function Zo(a,d){a.H&&Z(a.H,function(h,g){Se(d,g,h)}),a.l&&sv({},function(h,g){Se(d,g,h)})}function bv(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var D=a.i;let S=-1;for(;;){let k=["count="+h];S==-1?0<h?(S=D[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let be=!0;for(let Qe=0;Qe<h;Qe++){let ge=D[Qe].g,tt=D[Qe].map;if(ge-=S,0>ge)S=Math.max(0,D[Qe].g-100),be=!1;else try{vC(tt,k,"req"+ge+"_")}catch{g&&g(tt)}}if(be){g=k.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function Dv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ko||Ny(),Fo||(ko(),Fo=!0),td.add(d,a),a.v=0}}function bd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=$o(y(a.Fa,a),Sv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Tv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=$o(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Qa(this),Tv(this))};function Dd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Tv(a){a.g=new $n(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=In(a.qa);Se(d,"RID","rpc"),Se(d,"SID",a.K),Se(d,"AID",a.T),Se(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Se(d,"TO",a.ja),Se(d,"TYPE","xmlhttp"),Zo(a,d),a.m&&a.o&&Id(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Ga(In(d)),h.m=null,h.P=!0,Zy(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Qa(this),bd(this),lt(19))};function Ja(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Cv(a,d){var h=null;if(a.g==d){Ja(a),Dd(a),a.g=null;var g=2}else if(_d(a.h,d))h=d.D,iv(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=ja(),ut(g,new Ky(g,h)),Ya(a)}else Dv(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&EC(a,d)||g==2&&bd(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),D){case 1:Dr(a,5);break;case 4:Dr(a,10);break;case 3:Dr(a,6);break;default:Dr(a,2)}}}function Sv(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Dr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let D=!g;g=new br(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||za(g,"https"),Ga(g),D?gC(g.toString(),h):mC(g.toString(),h)}else lt(2);a.G=0,a.l&&a.l.sa(d),Av(a),Iv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Av(a){if(a.G=0,a.ka=[],a.l){let d=ov(a.h);(d.length!=0||a.i.length!=0)&&(P(a.ka,d),P(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function Rv(a,d,h){var g=h instanceof br?In(h):new br(h);if(g.g!="")d&&(g.g=d+"."+g.g),qa(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var S=new br(null);g&&za(S,g),d&&(S.g=d),D&&qa(S,D),h&&(S.l=h),g=S}return h=a.D,d=a.ya,h&&d&&Se(g,h,d),Se(g,"VER",a.la),Zo(a,g),g}function xv(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Oe(new Ko({eb:h})):new Oe(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mv(){}t=Mv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Za(){}Za.prototype.g=function(a,d){return new wt(a,d)};function wt(a,d){et.call(this),this.g=new wv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!W(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new mi(this)}A(wt,et),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Ed(this.g)},wt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ld(a),a=h);d.i.push(new oC(d.Ya++,a)),d.G==3&&Ya(d)},wt.prototype.N=function(){this.g.l=null,delete this.j,Ed(this.g),delete this.g,wt.aa.N.call(this)};function Pv(a){hd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(Pv,hd);function Nv(){fd.call(this),this.status=1}A(Nv,fd);function mi(a){this.g=a}A(mi,Mv),mi.prototype.ua=function(){ut(this.g,"a")},mi.prototype.ta=function(a){ut(this.g,new Pv(a))},mi.prototype.sa=function(a){ut(this.g,new Nv)},mi.prototype.ra=function(){ut(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,Ag=Ln.createWebChannelTransport=function(){return new Za},Sg=Ln.getStatEventTarget=function(){return ja()},Cg=Ln.Event=Ir,hl=Ln.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ba.NO_ERROR=0,Ba.TIMEOUT=8,Ba.HTTP_ERROR=6,oa=Ln.ErrorCode=Ba,Qy.COMPLETE="complete",Tg=Ln.EventType=Qy,zy.EventType=jo,jo.OPEN="a",jo.CLOSE="b",jo.ERROR="c",jo.MESSAGE="d",et.prototype.listen=et.prototype.K,lo=Ln.WebChannel=zy,Dg=Ln.FetchXmlHttpFactory=Ko,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,bg=Ln.XhrIo=Oe}).apply(typeof dl<"u"?dl:typeof self<"u"?self:typeof window<"u"?window:{});var Rb="@firebase/firestore";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var xo="10.13.2";var ui=new lr("@firebase/firestore");function sa(){return ui.logLevel}function V(t,...e){if(ui.logLevel<=ae.DEBUG){let n=e.map(ly);ui.debug(`Firestore (${xo}): ${t}`,...n)}}function Un(t,...e){if(ui.logLevel<=ae.ERROR){let n=e.map(ly);ui.error(`Firestore (${xo}): ${t}`,...n)}}function _o(t,...e){if(ui.logLevel<=ae.WARN){let n=e.map(ly);ui.warn(`Firestore (${xo}): ${t}`,...n)}}function ly(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t="Unexpected state"){let e=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+t;throw Un(e),new Error(e)}function je(t,e){t||Y()}function fe(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Rt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ml=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Og=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}},kg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Fg=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new ml(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Ke(e)}},Lg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Vg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Lg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ug=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new Ug(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function BF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var yl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=BF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var st=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new st(0,0))}static max(){return new t(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ne=class t extends vl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},$F=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class t extends vl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return $F.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};var Bg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Bg.UNKNOWN_ID=-1;function HF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new li(i,H.empty(),e)}function zF(t){return new li(t.readTime,t.key,-1)}var li=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),H.empty(),-1)}static max(){return new t(te.max(),H.empty(),-1)}};function qF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var GF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$g=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function dy(t){return C(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==GF)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function WF(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ma(t){return t.name==="IndexedDbTransactionError"}var uD=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Gl(t){return t==null}function fa(t){return t===0&&1/t==-1/0}function KF(t){return typeof t=="number"&&Number.isInteger(t)&&!fa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var QF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],R3=[...QF,"documentOverlays"],YF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],JF=YF,ZF=[...JF,"indexConfiguration","indexState","indexEntries"];var x3=[...ZF,"globals"];function xb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fe=class t{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new go(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new go(this.root,e,this.comparator,!1)}getReverseIterator(){return new go(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new go(this.root,e,this.comparator,!0)}},go=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,o){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class t{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _l(this.data.getIterator())}getIteratorFrom(e){return new _l(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},_l=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var oi=class t{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new at(Vt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var wl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wl("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var XF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jn(t){if(je(!!t),typeof t=="string"){let e=0,n=XF.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mr(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}function hy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fy(t){let e=t.mapValue.fields.__previous_value__;return hy(e)?fy(e):e}function pa(t){let e=jn(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var Hg=class{constructor(e,n,r,i,o,s,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Il=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var fl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hy(t)?4:hD(t)?9007199254740991:dD(t)?10:11:Y()}function _n(t,e){if(t===e)return!0;let n=di(t);if(n!==di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pa(t).isEqual(pa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=jn(i.timestampValue),c=jn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return mr(i.bytesValue).isEqual(mr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return xe(i.geoPointValue.latitude)===xe(o.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return xe(i.integerValue)===xe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=xe(i.doubleValue),c=xe(o.doubleValue);return s===c?fa(s)===fa(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return wo(t.arrayValue.values||[],e.arrayValue.values||[],_n);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(xb(s)!==xb(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!_n(s[u],c[u])))return!1;return!0}(t,e);default:return Y()}}function ga(t,e){return(t.values||[]).find(n=>_n(n,e))!==void 0}function Io(t,e){if(t===e)return 0;let n=di(t),r=di(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=xe(o.integerValue||o.doubleValue),u=xe(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Mb(t.timestampValue,e.timestampValue);case 4:return Mb(pa(t),pa(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(o,s){let c=mr(o),u=mr(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=_e(c[l],u[l]);if(f!==0)return f}return _e(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=_e(xe(o.latitude),xe(s.latitude));return c!==0?c:_e(xe(o.longitude),xe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Pb(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},y=s.fields||{},w=(c=p.value)===null||c===void 0?void 0:c.arrayValue,A=(u=y.value)===null||u===void 0?void 0:u.arrayValue,x=_e(((l=w?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:Pb(w,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===fl.mapValue&&s===fl.mapValue)return 0;if(o===fl.mapValue)return 1;if(s===fl.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=_e(u[p],f[p]);if(y!==0)return y;let w=Io(c[u[p]],l[f[p]]);if(w!==0)return w}return _e(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Y()}}function Mb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=jn(t),r=jn(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function Pb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Io(n[i],r[i]);if(o)return o}return _e(n.length,r.length)}function Eo(t){return zg(t)}function zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=jn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=zg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${zg(n.fields[s])}`;return i+"}"}(t.mapValue):Y()}function Nb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qg(t){return!!t&&"integerValue"in t}function py(t){return!!t&&"arrayValue"in t}function Ob(t){return!!t&&"nullValue"in t}function kb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rg(t){return!!t&&"mapValue"in t}function dD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ca(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Pa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ca(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ca(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Vn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ca(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=ca(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Rg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pa(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ca(this.value))}};var Xt=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var bo=class{constructor(e,n){this.position=e,this.inclusive=n}};function Fb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=Io(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_n(t.position[n],e.position[n]))return!1;return!0}var hi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function eL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var El=class{},Ue=class t extends El{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Wg(e,n,r):n==="array-contains"?new Yg(e,r):n==="in"?new Jg(e,r):n==="not-in"?new Zg(e,r):n==="array-contains-any"?new Xg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Kg(e,r):new Qg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Io(n,this.value)):n!==null&&di(this.value)===di(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},en=class t extends El{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return fD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function fD(t){return t.op==="and"}function pD(t){return tL(t)&&fD(t)}function tL(t){for(let e of t.filters)if(e instanceof en)return!1;return!0}function Gg(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+Eo(t.value);if(pD(t))return t.filters.map(e=>Gg(e)).join(",");{let e=t.filters.map(n=>Gg(n)).join(",");return`${t.op}(${e})`}}function gD(t,e){return t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&_n(r.value,i.value)}(t,e):t instanceof en?function(r,i){return i instanceof en&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&gD(s,i.filters[c]),!0):!1}(t,e):void Y()}function mD(t){return t instanceof Ue?function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`}(t):t instanceof en?function(n){return n.op.toString()+" {"+n.getFilters().map(mD).join(" ,")+"}"}(t):"Filter"}var Wg=class extends Ue{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},Kg=class extends Ue{constructor(e,n){super(e,"in",n),this.keys=yD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Qg=class extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=yD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function yD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var Yg=class extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return py(n)&&ga(n.arrayValue,this.value)}},Jg=class extends Ue{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ga(this.value.arrayValue,n)}},Zg=class extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ga(this.value.arrayValue,n)}},Xg=class extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!py(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ga(this.value.arrayValue,r))}};var em=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function Vb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new em(t,e,n,r,i,o,s)}function gy(t){let e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Eo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Eo(r)).join(",")),e.ue=n}return e.ue}function my(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lb(t.startAt,e.startAt)&&Lb(t.endAt,e.endAt)}function tm(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var yr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function nL(t,e,n,r,i,o,s,c){return new yr(t,e,n,r,i,o,s,c)}function yy(t){return new yr(t)}function Ub(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vD(t){return t.collectionGroup!==null}function ua(t){let e=fe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new at(Vt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new hi(o,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new hi(Vt.keyField(),r))}return e.ce}function vn(t){let e=fe(t);return e.le||(e.le=rL(e,ua(t))),e.le}function rL(t,e){if(t.limitType==="F")return Vb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new hi(i.field,o)});let n=t.endAt?new bo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bo(t.startAt.position,t.startAt.inclusive):null;return Vb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nm(t,e){let n=t.filters.concat([e]);return new yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bl(t,e,n){return new yr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wl(t,e){return my(vn(t),vn(e))&&t.limitType===e.limitType}function _D(t){return`${gy(vn(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mD(i)).join(", ")}]`),Gl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Eo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Eo(i)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function Kl(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ua(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=Fb(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,ua(r),i)||r.endAt&&!function(s,c,u){let l=Fb(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,ua(r),i))}(t,e)}function iL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wD(t){return(e,n)=>{let r=!1;for(let i of ua(t)){let o=oL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function oL(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Io(u,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var vr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return lD(this.inner)}size(){return this.innerSize}};var sL=new Fe(H.comparator);function _r(){return sL}var ID=new Fe(H.comparator);function aa(...t){let e=ID;for(let n of t)e=e.insert(n.key,n);return e}function aL(t){let e=ID;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function si(){return la()}function ED(){return la()}function la(){return new vr(t=>t.toString(),(t,e)=>t.isEqual(e))}var P3=new Fe(H.comparator),cL=new at(H.comparator);function pe(...t){let e=cL;for(let n of t)e=e.add(n);return e}var uL=new at(_e);function lL(){return uL}function vy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fa(e)?"-0":e}}function bD(t){return{integerValue:""+t}}function dL(t,e){return KF(e)?bD(e):vy(t,e)}var Do=class{constructor(){this._=void 0}};function hL(t,e,n){return t instanceof ma?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hy(o)&&(o=fy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof To?DD(t,e):t instanceof Co?TD(t,e):function(i,o){let s=pL(i,o),c=jb(s)+jb(i.Pe);return qg(s)&&qg(i.Pe)?bD(c):vy(i.serializer,c)}(t,e)}function fL(t,e,n){return t instanceof To?DD(t,e):t instanceof Co?TD(t,e):n}function pL(t,e){return t instanceof ya?function(r){return qg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ma=class extends Do{},To=class extends Do{constructor(e){super(),this.elements=e}};function DD(t,e){let n=CD(e);for(let r of t.elements)n.some(i=>_n(i,r))||n.push(r);return{arrayValue:{values:n}}}var Co=class extends Do{constructor(e){super(),this.elements=e}};function TD(t,e){let n=CD(e);for(let r of t.elements)n=n.filter(i=>!_n(i,r));return{arrayValue:{values:n}}}var ya=class extends Do{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function jb(t){return xe(t.integerValue||t.doubleValue)}function CD(t){return py(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof To&&i instanceof To||r instanceof Co&&i instanceof Co?wo(r.elements,i.elements,_n):r instanceof ya&&i instanceof ya?_n(r.Pe,i.Pe):r instanceof ma&&i instanceof ma}(t.transform,e.transform)}var da=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function gl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var va=class{};function SD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rm(t.key,da.none()):new _a(t.key,t.data,da.none());{let n=t.data,r=Vn.empty(),i=new at(Vt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new So(t.key,r,new oi(i.toArray()),da.none())}}function mL(t,e,n){t instanceof _a?function(i,o,s){let c=i.value.clone(),u=$b(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof So?function(i,o,s){if(!gl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=$b(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(AD(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ha(t,e,n,r){return t instanceof _a?function(o,s,c,u){if(!gl(o.precondition,s))return c;let l=o.value.clone(),f=Hb(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof So?function(o,s,c,u){if(!gl(o.precondition,s))return c;let l=Hb(o.fieldTransforms,u,s),f=s.data;return f.setAll(AD(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return gl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function Bb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wo(r,i,(o,s)=>gL(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var _a=class extends va{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},So=class extends va{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function AD(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function $b(t,e,n){let r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,fL(s,c,n[i]))}return r}function Hb(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,hL(o,s,e))}return r}var rm=class extends va{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var im=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&mL(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=ED();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=SD(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,r)=>Bb(n,r))&&wo(this.baseMutations,e.baseMutations,(n,r)=>Bb(n,r))}};var om=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Le,he;function RD(t){if(t===void 0)return Un("GRPC error has no .code"),M.UNKNOWN;switch(t){case Le.OK:return M.OK;case Le.CANCELLED:return M.CANCELLED;case Le.UNKNOWN:return M.UNKNOWN;case Le.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Le.INTERNAL:return M.INTERNAL;case Le.UNAVAILABLE:return M.UNAVAILABLE;case Le.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Le.NOT_FOUND:return M.NOT_FOUND;case Le.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Le.ABORTED:return M.ABORTED;case Le.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Le.DATA_LOSS:return M.DATA_LOSS;default:return Y()}}(he=Le||(Le={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var zb=null;function yL(){return new TextEncoder}var vL=new pr([4294967295,4294967295],0);function qb(t){let e=yL().encode(t),n=new Eg;return n.update(e),new Uint8Array(n.digest())}function Gb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new pr([n,r],0),new pr([i,o],0)]}var am=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ai(`Invalid padding: ${n}`);if(r<0)throw new ai(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ai(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ai(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=pr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(pr.fromNumber(r)));return i.compare(vL)===1&&(i=new pr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=qb(e),[r,i]=Gb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let n=qb(e),[r,i]=Gb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ai=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Dl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,wa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Fe(_e),_r(),pe())}},wa=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var mo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Tl=class{constructor(e,n){this.targetId=e,this.me=n}},Cl=class{constructor(e,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Sl=class{constructor(){this.fe=0,this.ge=Kb(),this.pe=ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new wa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Kb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},cm=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=_r(),this.qe=Wb(),this.Qe=new Fe(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(tm(o))if(r===0){let s=new H(o.path);this.Ue(n,s,Xt.newNoDocument(s,te.min()))}else je(r===1);else{let s=this.Ye(n);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}zb?.et(function(f,p,y,w,A){var x,P,U,W,q,ne;let Ce={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},Z=p.unchangedNames;return Z&&(Ce.bloomFilter={applied:A===0,hashCount:(x=Z?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(W=(U=(P=Z?.bits)===null||P===void 0?void 0:P.bitmap)===null||U===void 0?void 0:U.length)!==null&&W!==void 0?W:0,padding:(ne=(q=Z?.bits)===null||q===void 0?void 0:q.padding)!==null&&ne!==void 0?ne:0,mightContain:E=>{var m;return(m=w?.mightContain(E))!==null&&m!==void 0&&m}}),Ce}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=mr(r).toUint8Array()}catch(u){if(u instanceof wl)return _o("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new am(s,i,o)}catch(u){return _o(u instanceof ai?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&tm(c.target)){let u=new H(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Xt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=pe();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Dl(e,n,this.Qe,this.ke,r);return this.ke=_r(),this.qe=Wb(),this.Qe=new Fe(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Sl,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new at(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Sl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Wb(){return new Fe(H.comparator)}function Kb(){return new Fe(H.comparator)}var _L={asc:"ASCENDING",desc:"DESCENDING"},wL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IL={and:"AND",or:"OR"},um=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function lm(t,e){return t.useProto3Json||Gl(e)?e:{value:e}}function dm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yo(t){return je(!!t),te.fromTimestamp(function(n){let r=jn(n);return new st(r.seconds,r.nanos)}(t))}function MD(t,e){return hm(t,e).canonicalString()}function hm(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PD(t){let e=Ne.fromString(t);return je(LD(e)),e}function xg(t,e){let n=PD(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(OD(n))}function ND(t,e){return MD(t.databaseId,e)}function EL(t){let e=PD(t);return e.length===4?Ne.emptyPath():OD(e)}function Qb(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OD(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bL(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(je(f===void 0||typeof f=="string"),ct.fromBase64String(f||"")):(je(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ct.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?M.UNKNOWN:RD(l.code);return new L(f,l.message||"")}(s);n=new Cl(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=xg(t,r.document.name),o=yo(r.document.updateTime),s=r.document.createTime?yo(r.document.createTime):te.min(),c=new Vn({mapValue:{fields:r.document.fields}}),u=Xt.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new mo(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=xg(t,r.document),o=r.readTime?yo(r.readTime):te.min(),s=Xt.newNoDocument(i,o),c=r.removedTargetIds||[];n=new mo([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=xg(t,r.document),o=r.removedTargetIds||[];n=new mo([],o,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new sm(i,o),c=r.targetId;n=new Tl(c,s)}}return n}function DL(t,e){return{documents:[ND(t,e.path)]}}function TL(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ND(t,i);let o=function(l){if(l.length!==0)return FD(en.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:fo(y.field),direction:AL(y.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=lm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function CL(t){let e=EL(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){je(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let y=kD(p);return y instanceof en&&pD(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(A){return new hi(po(A.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Gl(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,w=p.values||[];return new bo(w,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,w=p.values||[];return new bo(w,y)}(n.endAt)),nL(e,i,s,o,c,"F",u,l)}function SL(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=po(n.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=po(n.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=po(n.unaryFilter.field);return Ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=po(n.unaryFilter.field);return Ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return Ue.create(po(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return en.create(n.compositeFilter.filters.map(r=>kD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function AL(t){return _L[t]}function RL(t){return wL[t]}function xL(t){return IL[t]}function fo(t){return{fieldPath:t.canonicalString()}}function po(t){return Vt.fromServerFormat(t.fieldPath)}function FD(t){return t instanceof Ue?function(n){if(n.op==="=="){if(kb(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(Ob(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kb(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(Ob(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:RL(n.op),value:n.value}}}(t):t instanceof en?function(n){let r=n.getFilters().map(i=>FD(i));return r.length===1?r[0]:{compositeFilter:{op:xL(n.op),filters:r}}}(t):Y()}function LD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ia=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),c=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var fm=class{constructor(e){this.ct=e}};function ML(t){let e=CL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bl(e,e.limit,"L"):e}var Al=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(xe(e.integerValue));else if("doubleValue"in e){let r=xe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),fa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=jn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(mr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?hD(e)?this.dt(n,Number.MAX_SAFE_INTEGER):dD(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Y()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(xe(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),H.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Al.vt=new Al;var pm=class{constructor(){this.un=new gm}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(li.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(li.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},gm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Ne.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Ne.comparator)).toArray()}};var N3=new Uint8Array(0);var gn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);var Ea=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var mm=class{constructor(){this.changes=new vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ym=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var vm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ha(r.mutation,i,oi.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=aa();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=_r(),s=la(),c=function(){return la()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof So)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),ha(f.mutation,l,f.mutation.getFieldMask(),st.now())):s.set(l.key,oi.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new ym(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=la(),i=new Fe((s,c)=>s-c),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||oi.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||pe()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=ED();f.forEach(y=>{if(!o.has(y)){let w=SD(n.get(y),r.get(y));w!==null&&p.set(y,w),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(si()),c=-1,u=o;return s.next(l=>O.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?O.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(f=>({batchId:c,changes:aL(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=aa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=aa();return this.indexManager.getCollectionParents(e,o).next(c=>O.forEach(c,u=>{let l=function(p,y){return new yr(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Xt.newInvalidDocument(f)))});let c=aa();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&ha(f.mutation,l,oi.empty(),st.now()),Kl(n,l)&&(c=c.insert(u,l))}),c})}};var _m=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yo(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:ML(i.bundledQuery),readTime:yo(i.readTime)}}(n)),O.resolve()}};var wm=class{constructor(){this.overlays=new Fe(H.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=si();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=si(),o=n.length+1,s=new H(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Fe((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=si(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=si(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return O.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new om(n,r));let o=this.Ir.get(n);o===void 0&&(o=pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Im=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var ba=class{constructor(){this.Tr=new at(Ve.Er),this.dr=new at(Ve.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ve(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ve(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new H(new Ne([])),r=new Ve(n,e),i=new Ve(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new H(new Ne([])),r=new Ve(n,e),i=new Ve(n,e+1),o=pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ve(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return H.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||H.comparator(e.key,n.key)}};var Em=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new at(Ve.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new im(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Ve(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(_e);return n.forEach(i=>{let o=new Ve(i,0),s=new Ve(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Ve(new H(o),0),c=new at(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),O.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let o=new Ve(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ve(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var bm=class{constructor(e){this.Mr=e,this.docs=function(){return new Fe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=_r();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=_r(),s=n.path,c=new H(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||qF(zF(f),r)<=0||(i.has(f.key)||Kl(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dm(this)}getSize(e){return O.resolve(this.size)}},Dm=class extends mm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Tm=class{constructor(e){this.persistence=e,this.Nr=new vr(n=>gy(n),my),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ba,this.targetCount=0,this.kr=Ea.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ea(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var Cm=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new uD(0),this.Kr=!1,this.Kr=!0,this.$r=new Im,this.referenceDelegate=e(this),this.Ur=new Tm(this),this.indexManager=new pm,this.remoteDocumentCache=function(i){return new bm(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new fm(n),this.Gr=new _m(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Em(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new Sm(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Sm=class extends $g{constructor(e){super(),this.currentSequenceNumber=e}},Am=class t{constructor(e){this.persistence=e,this.Jr=new ba,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Rm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var xm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Mm=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return z0()?8:WF(xt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new xm;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(sa()<=ae.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(sa()<=ae.DEBUG&&V("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(sa()<=ae.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):O.resolve())}Yi(e,n){if(Ub(n))return O.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bl(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,s,u.readTime)?this.Yi(e,bl(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return Ub(n)||i.isEqual(te.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?O.resolve(null):(sa()<=ae.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ho(n)),this.rs(e,s,n,HF(i,-1)).next(c=>c))})}ts(e,n){let r=new at(wD(e));return n.forEach((i,o)=>{Kl(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return sa()<=ae.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",ho(n)),this.Ji.getDocumentsMatchingQuery(e,n,li.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Pm=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Fe(_e),this._s=new vr(o=>gy(o),my),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function PL(t,e,n,r){return new Pm(t,e,n,r)}function VD(t,e){return C(this,null,function*(){let n=fe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=pe();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function UD(t){let e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function NL(t,e){let n=fe(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(ct.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(p,w),function(x,P,U){return x.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(y,w,f)&&c.push(n.Ur.updateTargetData(o,w))});let u=_r(),l=pe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(OL(o,s,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(te.min())){let f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return O.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function OL(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=_r();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):V("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function kL(t,e){let n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Ia(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Nm(t,e,n){return C(this,null,function*(){let r=fe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ma(s))throw s;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Yb(t,e,n){let r=fe(t),i=te.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=fe(u),y=p._s.get(f);return y!==void 0?O.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,s,vn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:pe())).next(c=>(FL(r,iL(e),c),{documents:c,Ts:o})))}function FL(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Rl=class{constructor(){this.activeTargetIds=lL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Om=class{constructor(){this.so=new Rl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Rl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var km=class{_o(e){}shutdown(){}};var xl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pl=null;function Mg(){return pl===null?pl=function(){return 268435456+Math.round(2147483648*Math.random())}():pl++,"0x"+pl.toString(16)}var LL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Fm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ot="WebChannelConnection",Lm=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=Mg(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(f=>(V("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw _o("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=LL[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Mg();return new Promise((s,c)=>{let u=new bg;u.setWithCredentials(!0),u.listenOnce(Tg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case oa.NO_ERROR:let f=u.getResponseJson();V(ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case oa.TIMEOUT:V(ot,`RPC '${e}' ${o} timed out`),c(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case oa.HTTP_ERROR:let p=u.getStatus();if(V(ot,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let A=function(P){let U=P.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(U)>=0?U:M.UNKNOWN}(w.status);c(new L(A,w.message))}else c(new L(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new L(M.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{V(ot,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);V(ot,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Mg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ag(),c=Sg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Dg({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");V(ot,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u),y=!1,w=!1,A=new Fm({Io:P=>{w?V(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(y||(V(ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),V(ot,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},To:()=>p.close()}),x=(P,U,W)=>{P.listen(U,q=>{try{W(q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return x(p,lo.EventType.OPEN,()=>{w||(V(ot,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),x(p,lo.EventType.CLOSE,()=>{w||(w=!0,V(ot,`RPC '${e}' stream ${i} transport closed`),A.So())}),x(p,lo.EventType.ERROR,P=>{w||(w=!0,_o(ot,`RPC '${e}' stream ${i} transport errored:`,P),A.So(new L(M.UNAVAILABLE,"The operation could not be completed")))}),x(p,lo.EventType.MESSAGE,P=>{var U;if(!w){let W=P.data[0];je(!!W);let q=W,ne=q.error||((U=q[0])===null||U===void 0?void 0:U.error);if(ne){V(ot,`RPC '${e}' stream ${i} received error:`,ne);let Ce=ne.status,Z=function(v){let I=Le[v];if(I!==void 0)return RD(I)}(Ce),E=ne.message;Z===void 0&&(Z=M.INTERNAL,E="Unknown error status: "+Ce+" with message "+ne.message),w=!0,A.So(new L(Z,E)),p.close()}else V(ot,`RPC '${e}' stream ${i} received:`,W),A.bo(W)}}),x(c,Cg.STAT_EVENT,P=>{P.stat===hl.PROXY?V(ot,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===hl.NOPROXY&&V(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Pg(){return typeof document<"u"?document:null}function Ql(t){return new um(t,!0)}var Ml=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Vm=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ml(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Un(n.toString()),Un("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Um=class extends Vm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=bL(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?yo(s.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Qb(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=tm(u)?{documents:DL(o,u)}:{query:TL(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=xD(o,s.resumeToken);let l=lm(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){c.readTime=dm(o,s.snapshotVersion.toTimestamp());let l=lm(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=SL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Qb(this.serializer),n.removeTarget=e,this.a_(n)}};var jm=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,hm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,hm(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Bm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Un(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var $m=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>C(this,null,function*(){Oa(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let l=fe(u);l.L_.add(4),yield Na(l),l.q_.set("Unknown"),l.L_.delete(4),yield Yl(l)})}(this))}))}),this.q_=new Bm(r,i)}};function Yl(t){return C(this,null,function*(){if(Oa(t))for(let e of t.B_)yield e(!0)})}function Na(t){return C(this,null,function*(){for(let e of t.B_)yield e(!1)})}function jD(t,e){let n=fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ey(n)?Iy(n):Mo(n).r_()&&wy(n,e))}function _y(t,e){let n=fe(t),r=Mo(n);n.N_.delete(e),r.r_()&&BD(n,e),n.N_.size===0&&(r.r_()?r.o_():Oa(n)&&n.q_.set("Unknown"))}function wy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(t).A_(e)}function BD(t,e){t.Q_.xe(e),Mo(t).R_(e)}function Iy(t){t.Q_=new cm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mo(t).start(),t.q_.v_()}function Ey(t){return Oa(t)&&!Mo(t).n_()&&t.N_.size>0}function Oa(t){return fe(t).L_.size===0}function $D(t){t.Q_=void 0}function VL(t){return C(this,null,function*(){t.q_.set("Online")})}function UL(t){return C(this,null,function*(){t.N_.forEach((e,n)=>{wy(t,e)})})}function jL(t,e){return C(this,null,function*(){$D(t),Ey(t)?(t.q_.M_(e),Iy(t)):t.q_.set("Unknown")})}function BL(t,e,n){return C(this,null,function*(){if(t.q_.set("Online"),e instanceof Cl&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jb(t,r)}else if(e instanceof mo?t.Q_.Ke(e):e instanceof Tl?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield UD(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(ct.EMPTY_BYTE_STRING,f.snapshotVersion)),BD(o,u);let p=new Ia(f.target,u,l,f.sequenceNumber);wy(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield Jb(t,r)}})}function Jb(t,e,n){return C(this,null,function*(){if(!Ma(e))throw e;t.L_.add(1),yield Na(t),t.q_.set("Offline"),n||(n=()=>UD(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Yl(t)}))})}function Zb(t,e){return C(this,null,function*(){let n=fe(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=Oa(n);n.L_.add(3),yield Na(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Yl(n)})}function $L(t,e){return C(this,null,function*(){let n=fe(t);e?(n.L_.delete(2),yield Yl(n)):e||(n.L_.add(2),yield Na(n),n.q_.set("Unknown"))})}function Mo(t){return t.K_||(t.K_=function(n,r,i){let o=fe(n);return o.w_(),new Um(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:VL.bind(null,t),Ro:UL.bind(null,t),mo:jL.bind(null,t),d_:BL.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.K_.s_(),Ey(t)?Iy(t):t.q_.set("Unknown")):(yield t.K_.stop(),$D(t))}))),t.K_}var Hm=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function HD(t,e){if(Un("AsyncQueue",`${e}: ${t}`),Ma(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Pl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=aa(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Nl=class{constructor(){this.W_=new Fe(H.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ao=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,Pl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var zm=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},qm=class{constructor(){this.queries=Xb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=fe(n),o=i.queries;i.queries=Xb(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function Xb(){return new vr(t=>_D(t),Wl)}function zD(t,e){return C(this,null,function*(){let n=fe(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new zm,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=HD(s,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&by(n)})}function qD(t,e){return C(this,null,function*(){let n=fe(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function HL(t,e){let n=fe(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&by(n)}function zL(t,e,n){let r=fe(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function by(t){t.Y_.forEach(e=>{e.next()})}var Gm,eD;(eD=Gm||(Gm={})).ea="default",eD.Cache="cache";var Ol=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gm.Cache}};var kl=class{constructor(e){this.key=e}},Fl=class{constructor(e){this.key=e}},Wm=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=wD(e),this.Ra=new Pl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Nl,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),w=Kl(this.query,p)?p:null,A=!!y&&this.mutatedKeys.has(y.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),P=!1;y&&w?y.data.isEqual(w.data)?A!==x&&(r.track({type:3,doc:w}),P=!0):this.ga(y,w)||(r.track({type:2,doc:w}),P=!0,(u&&this.Aa(w,u)>0||l&&this.Aa(w,l)<0)&&(c=!0)):!y&&w?(r.track({type:0,doc:w}),P=!0):y&&!w&&(r.track({type:1,doc:y}),P=!0,(u||l)&&(c=!0)),P&&(w?(s=s.add(w),o=x?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(w,A){let x=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return x(w)-x(A)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ao(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Nl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Fl(r))}),this.da.forEach(r=>{e.has(r)||n.push(new kl(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ao.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Km=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Qm=class{constructor(e){this.key=e,this.va=!1}},Ym=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new vr(c=>_D(c),Wl),this.Ma=new Map,this.xa=new Set,this.Oa=new Fe(H.comparator),this.Na=new Map,this.La=new ba,this.Ba={},this.ka=new Map,this.qa=Ea.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function qL(t,e,n=!0){return C(this,null,function*(){let r=YD(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield GD(r,e,n,!0),i})}function GL(t,e){return C(this,null,function*(){let n=YD(t);yield GD(n,e,!0,!1)})}function GD(t,e,n,r){return C(this,null,function*(){let i=yield kL(t.localStore,vn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield WL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&jD(t.remoteStore,i),c})}function WL(t,e,n,r,i){return C(this,null,function*(){t.Ka=(p,y,w)=>function(x,P,U,W){return C(this,null,function*(){let q=P.view.ma(U);q.ns&&(q=yield Yb(x.localStore,P.query,!1).then(({documents:E})=>P.view.ma(E,q)));let ne=W&&W.targetChanges.get(P.targetId),Ce=W&&W.targetMismatches.get(P.targetId)!=null,Z=P.view.applyChanges(q,x.isPrimaryClient,ne,Ce);return nD(x,P.targetId,Z.wa),Z.snapshot})}(t,p,y,w);let o=yield Yb(t.localStore,e,!0),s=new Wm(e,o.Ts),c=s.ma(o.documents),u=wa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);nD(t,n,l.wa);let f=new Km(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function KL(t,e,n){return C(this,null,function*(){let r=fe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Wl(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Nm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_y(r.remoteStore,i.targetId),Jm(r,i.targetId)}).catch(dy))):(Jm(r,i.targetId),yield Nm(r.localStore,i.targetId,!0))})}function QL(t,e){return C(this,null,function*(){let n=fe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_y(n.remoteStore,r.targetId))})}function WD(t,e){return C(this,null,function*(){let n=fe(t);try{let r=yield NL(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?je(s.va):i.removedDocuments.size>0&&(je(s.va),s.va=!1))}),yield QD(n,r,e)}catch(r){yield dy(r)}})}function tD(t,e,n){let r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=fe(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&by(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function YL(t,e,n){return C(this,null,function*(){let r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Fe(H.comparator);s=s.insert(o,Xt.newNoDocument(o,te.min()));let c=pe().add(o),u=new Dl(te.min(),new Map,new Fe(_e),s,c);yield WD(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Dy(r)}else yield Nm(r.localStore,e,!1).then(()=>Jm(r,e,n)).catch(dy)})}function Jm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||KD(t,r)})}function KD(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(_y(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Dy(t))}function nD(t,e,n){for(let r of n)r instanceof kl?(t.La.addReference(r.key,e),JL(t,r)):r instanceof Fl?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||KD(t,r.key)):Y()}function JL(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),Dy(t))}function Dy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new H(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new Qm(n)),t.Oa=t.Oa.insert(n,r),jD(t.remoteStore,new Ia(vn(yy(n.path)),r,"TargetPurposeLimboResolution",uD.oe))}}function QD(t,e,n){return C(this,null,function*(){let r=fe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Rm.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return C(this,null,function*(){let f=fe(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,y=>O.forEach(y.$i,w=>f.persistence.referenceDelegate.addReference(p,y.targetId,w)).next(()=>O.forEach(y.Ui,w=>f.persistence.referenceDelegate.removeReference(p,y.targetId,w)))))}catch(p){if(!Ma(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let w=f.os.get(y),A=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(y,x)}}})}(r.localStore,o))})}function ZL(t,e){return C(this,null,function*(){let n=fe(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield VD(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield QD(n,r.hs)}})}function XL(t,e){let n=fe(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let c=n.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function YD(t){let e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YL.bind(null,e),e.Ca.d_=HL.bind(null,e.eventManager),e.Ca.$a=zL.bind(null,e.eventManager),e}var Ll=class{constructor(){this.synchronizeTabs=!1}initialize(e){return C(this,null,function*(){this.serializer=Ql(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return PL(this.persistence,new Mm,e.initialUser,this.serializer)}createPersistence(e){return new Cm(Am.Zr,this.serializer)}createSharedClientState(e){return new Om}terminate(){return C(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Zm=class{initialize(e,n){return C(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZL.bind(null,this.syncEngine),yield $L(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new qm}()}createDatastore(e){let n=Ql(e.databaseInfo.databaseId),r=function(o){return new Lm(o)}(e.databaseInfo);return function(o,s,c,u){return new jm(o,s,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,c){return new $m(r,i,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,n=>tD(this.syncEngine,n,0),function(){return xl.D()?new xl:new km}())}createSyncEngine(e,n){return function(i,o,s,c,u,l,f){let p=new Ym(i,o,s,c,u,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return C(this,null,function*(){var e,n;yield function(i){return C(this,null,function*(){let o=fe(i);V("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Na(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Vl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Un("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Xm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=yl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>C(this,null,function*(){V("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=HD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Ng(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield VD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function rD(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield tV(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Zb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Zb(e.remoteStore,i)),t._onlineComponents=e})}function eV(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function tV(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ng(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!eV(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),yield Ng(t,new Ll)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield Ng(t,new Ll);return t._offlineComponents})}function nV(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield rD(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield rD(t,new Zm))),t._onlineComponents})}function JD(t){return C(this,null,function*(){let e=yield nV(t),n=e.eventManager;return n.onListen=qL.bind(null,e.syncEngine),n.onUnlisten=KL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QL.bind(null,e.syncEngine),n})}function rV(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,c,u,l){let f=new Vl({next:y=>{s.enqueueAndForget(()=>qD(o,p));let w=y.docs.has(c);!w&&y.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&u&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new Ol(yy(c.path),f,{includeMetadataChanges:!0,_a:!0});return zD(o,p)}(yield JD(t),t.asyncQueue,e,n,r)})),r.promise}function iV(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,c,u,l){let f=new Vl({next:y=>{s.enqueueAndForget(()=>qD(o,p)),y.fromCache&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new Ol(c,f,{includeMetadataChanges:!0,_a:!0});return zD(o,p)}(yield JD(t),t.asyncQueue,e,n,r)})),r.promise}function ZD(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var iD=new Map;function XD(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oV(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oD(t){if(!H.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sD(t){if(H.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function Da(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Jl(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function sV(t,e){if(e<=0)throw new L(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Ul=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ro=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ul({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ul(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Og;switch(r.type){case"firstParty":return new Vg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=iD.get(n);r&&(V("ComponentProvider","Removing Datastore"),iD.delete(n),r.terminate())}(this),Promise.resolve()}};function eT(t,e,n,r={}){var i;let o=(t=Da(t,Ro))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ke.MOCK_USER;else{c=U0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ke(l)}t._authCredentials=new kg(new ml(c,u))}}var wr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Mt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},gr=class t extends wr{constructor(e,n,r){super(e,n,yy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function tT(t,e,...n){if(t=vt(t),XD("collection","path",e),t instanceof Ro){let r=Ne.fromString(e,...n);return sD(r),new gr(t,null,r)}{if(!(t instanceof Mt||t instanceof gr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return sD(r),new gr(t.firestore,null,r)}}function nT(t,e,...n){if(t=vt(t),arguments.length===1&&(e=yl.newId()),XD("doc","path",e),t instanceof Ro){let r=Ne.fromString(e,...n);return oD(r),new Mt(t,null,new H(r))}{if(!(t instanceof Mt||t instanceof gr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return oD(r),new Mt(t.firestore,t instanceof gr?t.converter:null,new H(r))}}var ey=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Ml(this,"async_queue_retry"),this.Eu=()=>{let n=Pg();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Pg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new mn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return C(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ma(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Un("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Hm.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Y()}verifyOperationInProgress(){}mu(){return C(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var Ta=class extends Ro{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ey}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oT(this),this._firestoreClient.terminate()}};function rT(t,e){let n=typeof t=="object"?t:Jr(),r=typeof t=="string"?t:e||"(default)",i=Zs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Qu("firestore");o&&eT(i,...o)}return i}function iT(t){return t._firestoreClient||oT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oT(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new Hg(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ZD(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Xm(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ca=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ct.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var jl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Bl=class{constructor(e){this._methodName=e}};var Sa=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var Aa=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var aV=/^__.*__$/;function sT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var ty=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return ry(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(sT(this.wu)&&aV.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},ny=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ql(e)}Nu(e,n,r,i=!1){return new ty({wu:e,methodName:n,Ou:r,path:Vt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cV(t){let e=t._freezeSettings(),n=Ql(t._databaseId);return new ny(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uV(t,e,n,r=!1){return Ty(n,t.Nu(r?4:3,e))}function Ty(t,e){if(aT(t=vt(t)))return dV("Unsupported field value:",e,t),lV(t,e);if(t instanceof Bl)return function(r,i){if(!sT(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Ty(c,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=st.fromDate(r);return{timestampValue:dm(i.serializer,o)}}if(r instanceof st){let o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dm(i.serializer,o)}}if(r instanceof Sa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ca)return{bytesValue:xD(i.serializer,r._byteString)};if(r instanceof Mt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:MD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Aa)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return vy(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Jl(r)}`)}(t,e)}function lV(t,e){let n={};return lD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(t,(r,i)=>{let o=Ty(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function aT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Sa||t instanceof Ca||t instanceof Mt||t instanceof Bl||t instanceof Aa)}function dV(t,e,n){if(!aT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Jl(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}var hV=new RegExp("[~\\*/\\[\\]]");function fV(t,e,n){if(e.search(hV)>=0)throw ry(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jl(...e.split("."))._internalPath}catch{throw ry(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ry(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,c+t+u)}var $l=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new iy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Zl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},iy=class extends $l{data(){return super.data()}};function Zl(t,e){return typeof e=="string"?fV(t,e):e instanceof jl?e._internalPath:e._delegate._internalPath}function pV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ra=class{},xa=class extends Ra{};function cT(t,e,...n){let r=[];e instanceof Ra&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof oy).length,c=o.filter(u=>u instanceof Hl).length;if(s>1||s>0&&c>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Hl=class t extends xa{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return hT(e._query,n),new wr(e.firestore,e.converter,nm(e._query,n))}_parse(e){let n=cV(e.firestore);return function(o,s,c,u,l,f,p){let y;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){cD(p,f);let w=[];for(let A of p)w.push(aD(u,o,A));y={arrayValue:{values:w}}}else y=aD(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||cD(p,f),y=uV(c,s,p,f==="in"||f==="not-in");return Ue.create(l,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function uT(t,e,n){let r=e,i=Zl("where",t);return Hl._create(i,r,n)}var oy=class t extends Ra{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:en.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)hT(s,u),s=nm(s,u)}(e._query,n),new wr(e.firestore,e.converter,nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var sy=class t extends xa{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hi(o,s)}(e._query,this._field,this._direction);return new wr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new yr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function lT(t,e="asc"){let n=e,r=Zl("orderBy",t);return sy._create(r,n)}var ay=class t extends xa{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new wr(e.firestore,e.converter,bl(e._query,this._limit,this._limitType))}};function dT(t){return sV("limit",t),ay._create("limit",t,"F")}function aD(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vD(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ne.fromString(n));if(!H.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nb(t,new H(r))}if(n instanceof Mt)return Nb(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jl(n)}.`)}function cD(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hT(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var cy=class{convertValue(e,n="none"){switch(di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Pa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>xe(s.doubleValue));return new Aa(o)}convertGeoPoint(e){return new Sa(xe(e.latitude),xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=fy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pa(e));default:return null}}convertTimestamp(e){let n=jn(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);je(LD(r));let i=new Il(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||Un(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var ci=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},zl=class extends $l{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new vo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Zl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},vo=class extends zl{data(e={}){return super.data(e)}},uy=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ci(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vo(this._firestore,this._userDataWriter,r.key,r,new ci(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new vo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ci(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new vo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ci(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:gV(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function gV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function fT(t){t=Da(t,Mt);let e=Da(t.firestore,Ta);return rV(iT(e),t._key).then(n=>mV(e,t,n))}var ql=class extends cy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}};function pT(t){t=Da(t,wr);let e=Da(t.firestore,Ta),n=iT(e),r=new ql(e);return pV(t._query),iV(n,t._query).then(i=>new uy(e,r,t,i))}function mV(t,e,n){let r=n.docs.get(e._key),i=new ql(t);return new zl(t,i,e._key,r,new ci(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){xo=i})(ao),pn(new _t("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Ta(new Fg(r.getProvider("auth-internal")),new jg(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Pe(Rb,"4.7.2",e),Pe(Rb,"4.7.2","esm2017")})();var fi=class{constructor(e){return e}},gT="firestore",Cy=class{constructor(){return ei(gT)}};var Sy=new X("angularfire2.firestore-instances");function yV(t,e){let n=Xs(gT,t,e);return n&&new fi(n)}function vV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fi(r)}}var _V={provide:Cy,deps:[[new it,Sy]]},wV={provide:fi,useFactory:yV,deps:[[new it,Sy],Fn]};function mT(t,...e){return Pe("angularfire",hr.full,"fst"),cn([wV,_V,{provide:Sy,useFactory:vV(t),multi:!0,deps:[Ie,Zt,ti,ni,[new it,uo],[new it,Xr],...e]}])}var yT=gt(tT,!0);var vT=gt(nT,!0);var _T=gt(fT,!0);var wT=gt(pT,!0);var IT=gt(rT,!0);var ET=gt(dT,!0);var bT=gt(lT,!0);var Po=gt(cT,!0);var ka=gt(uT,!0);var Xl=(()=>{let e=class e{constructor(){this.firestore=F(fi)}getDesign(r){return C(this,null,function*(){return(yield _T(vT(this.firestore,"designs/"+r))).data()})}getDesigns(r){return C(this,null,function*(){let i=Po(yT(this.firestore,"designs"),bT("createdAt","desc"));r.searchTerm&&(i=Po(i,ka("name",">=",r.searchTerm),ka("name","<=",r.searchTerm+"\uF8FF"))),r.count&&(i=Po(i,ET(r.count))),r.category&&(i=Po(i,ka("category","==",r.category))),r.type&&(i=Po(i,ka("type","==",r.type)));let o=yield wT(i),s=[];return o.forEach(c=>{s.push(B({id:c.id},c.data()))}),s})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var No=(()=>{let e=class e{constructor(){this.cart=nE({items:[],totalAmount:0,isVisible:!1,isClosable:!1})}calculateTotalAmount(r){return r.reduce((i,o)=>i+o.price*o.quantity,0)}openCart(){this.cart.update(r=>(r.isVisible=!0,r)),setTimeout(()=>{this.cart.update(r=>(r.isClosable=!0,r))},500)}closeCart(){this.cart.update(r=>(r.isVisible=!1,r.isClosable=!1,r))}addItem(r){this.cart.update(i=>{let o=i.items.find(s=>s.productId===r.productId&&s.size==r.size);return o?o.quantity+=r.quantity:i.items.push(r),i.totalAmount+=r.price*r.quantity,i})}removeItem(r){this.cart.update(i=>{let o=i.items.find(s=>s.productId===r);return o&&(i.totalAmount-=o.price*o.quantity,i.items=i.items.filter(s=>s.productId!==r)),i})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ed=t=>({show:t}),DT=(()=>{let e=class e{constructor(){this.isAnimationTriggered=!1,this.cartService=F(No),this.router=F(ur)}ngOnInit(){setTimeout(()=>{this.isAnimationTriggered=!0},0)}openProductPage(){this.router.navigate(["/products"])}openCart(){this.cartService.openCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-navbar"]],standalone:!0,features:[Re],decls:32,vars:12,consts:[[1,"container"],[1,"black-overlay"],[1,"white-bar"],[1,"logo"],["href","/"],["src","assets/current-wave-gradient.svg"],[1,"title"],[1,"cart"],[1,"cart-button",3,"click"],[1,"fas","fa-basket-shopping","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button"],[1,"fas","fa-bars","cart-icon"],[1,"logo-hamburger"],[1,"content"],["src","assets/current-wave-white.svg",1,"logo-secondary"],[1,"slogan"],[1,"browse-button",3,"click"],[1,"left-image-wrapper","wrapper-position"],["src","assets/apparel/cench.png","alt","Kendrick",1,"left-image","tshirt","image",3,"ngClass"],[1,"left-image-wrapper-2","wrapper-position"],["src","assets/apparel/kendrick.png","alt","Kendrick",1,"left-image-2","tshirt","image",3,"ngClass"],[1,"right-image-wrapper","wrapper-position"],["src","assets/apparel/gojo.png","alt","Kendrick",1,"right-image","tshirt","image",3,"ngClass"],[1,"right-image-wrapper-2","wrapper-position"],["src","assets/apparel/travis.png","alt","Kendrick",1,"right-image-2","tshirt","image",3,"ngClass"]],template:function(i,o){i&1&&(R(0,"div",0),$(1,"div",1),R(2,"div",2)(3,"div",3)(4,"a",4),$(5,"img",5),N()(),R(6,"div",6)(7,"a",4),j(8," CURRENT WAVE"),N()(),R(9,"div",7)(10,"div",8),We("click",function(){return o.openCart()}),$(11,"i",9),N()()(),R(12,"div",10)(13,"div",11),$(14,"i",12),N(),R(15,"div",13),$(16,"img",5),N(),$(17,"div"),N(),R(18,"div",14),$(19,"img",15),R(20,"div",16),j(21,"Pridru\u017Ei se talasu."),N()(),R(22,"button",17),We("click",function(){return o.openProductPage()}),j(23," Pogledaj kolekciju "),N(),R(24,"div",18),$(25,"img",19),N(),R(26,"div",20),$(27,"img",21),N(),R(28,"div",22),$(29,"img",23),N(),R(30,"div",24),$(31,"img",25),N()()),i&2&&(se(25),Ee("ngClass",bs(4,ed,o.isAnimationTriggered)),se(2),Ee("ngClass",bs(6,ed,o.isAnimationTriggered)),se(2),Ee("ngClass",bs(8,ed,o.isAnimationTriggered)),se(2),Ee("ngClass",bs(10,ed,o.isAnimationTriggered)))},dependencies:[Ct,BE],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;min-height:25rem;background:var(--gradient-secondary);justify-content:center;overflow:hidden;position:relative}.black-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%;background-color:#000;z-index:1;pointer-events:none;opacity:.05;transition:opacity .5s ease}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:100%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.browse-button[_ngcontent-%COMP%]{position:relative;z-index:2;height:3rem;width:12rem;outline:none;border:none;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;box-shadow:0 2px 4px #0003;border:3px solid var(--white-primary)}.browse-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;z-index:2;flex-wrap:wrap;width:100%}.logo-secondary[_ngcontent-%COMP%]{max-width:22rem;max-height:22rem;color:var(--white-primary);display:block}.slogan[_ngcontent-%COMP%]{position:absolute;font-size:var(--fs-600);max-width:30rem;padding-inline:1.5rem;padding-bottom:1.5rem;font-family:var(--ff-secondary);color:var(--white-primary);-webkit-user-select:none;user-select:none;cursor:default;z-index:2;top:80%}.wrapper-position[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:0}.left-image-wrapper[_ngcontent-%COMP%]{top:-5rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-5rem;left:-30rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-5rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-4rem;right:-25rem}.image[_ngcontent-%COMP%]{max-width:60rem;max-height:60rem;transition:width .3s ease,height .3s ease}.left-image[_ngcontent-%COMP%]{transform:rotate(15deg);--rotation: 15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.right-image[_ngcontent-%COMP%]{transform:rotate(-15deg);--rotation: -15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.left-image-2[_ngcontent-%COMP%]{transform:rotate(-10deg);--rotation: -10deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.right-image-2[_ngcontent-%COMP%]{transform:rotate(25deg);--rotation: 25deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background-color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.hamburger-button[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}@media screen and (max-width: 1770px){.image[_ngcontent-%COMP%]{max-width:55rem;max-height:55rem}.black-overlay[_ngcontent-%COMP%]{opacity:.1}.left-image-wrapper[_ngcontent-%COMP%]{top:-2rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-2rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;right:-20rem}}@media screen and (max-width: 1600px){.black-overlay[_ngcontent-%COMP%]{opacity:.15}}@media screen and (max-width: 1100px){.image[_ngcontent-%COMP%]{max-width:45rem;max-height:45rem}.black-overlay[_ngcontent-%COMP%]{opacity:.25}.left-image-wrapper[_ngcontent-%COMP%]{top:-1rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-1rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;right:-20rem}}@media screen and (max-width: 840px){.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}.browse-button[_ngcontent-%COMP%]{height:2.7rem;width:7rem;font-size:.8rem}.black-overlay[_ngcontent-%COMP%]{opacity:.35}.image[_ngcontent-%COMP%]{max-width:30rem;max-height:30rem}.left-image-wrapper[_ngcontent-%COMP%]{top:1rem;left:-4rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:1rem;left:-15rem}.right-image-wrapper[_ngcontent-%COMP%]{top:1rem;right:-4rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:2rem;right:-15rem}}@media screen and (max-width: 600px){.image[_ngcontent-%COMP%]{max-width:29rem;max-height:29rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{display:none}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{display:none}}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 370px){.image[_ngcontent-%COMP%]{max-width:25rem;max-height:25rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}}.tshirt[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px) rotate(0);animation-duration:.8s;animation-fill-mode:forwards;transition:transform .5s}@keyframes _ngcontent-%COMP%_slide-in{0%{opacity:0;transform:translateY(50px) rotate(0)}to{opacity:1;transform:translateY(0) rotate(var(--rotation))}}']});let t=e;return t})();function IV(t,e){if(t&1&&(_u(0),j(1),wu()),t&2){let n=ln(2);se(),pt(n.onContentRendered())}}function EV(t,e){if(t&1&&(R(0,"cw-home-card",8),ft(1,IV,2,1,"ng-container",9),N()),t&2){let n=e.$implicit,r=e.last,i=ln();Ee("design",n),se(),Ee("ngIf",r&&!i.contentRendered)}}function bV(t,e){if(t&1&&(_u(0),j(1),wu()),t&2){let n=ln(2);se(),pt(n.onContentRendered())}}function DV(t,e){if(t&1&&(R(0,"cw-home-card",8),ft(1,bV,2,1,"ng-container",9),N()),t&2){let n=e.$implicit,r=e.last,i=ln();Ee("design",n),se(),Ee("ngIf",r&&!i.contentRendered)}}var TT=(()=>{let e=class e{constructor(){this.contentRendered=!1,this.shirtDesigns=[],this.hoodieDesigns=[],this.changeDetector=F(Mn),this.designService=F(Xl)}ngOnInit(){return C(this,null,function*(){yield this.loadDesigns()})}loadDesigns(r=""){return C(this,null,function*(){let i=yield this.designService.getDesigns({count:5,type:"Majica"}),o=yield this.designService.getDesigns({count:5,type:"Duks"});this.shirtDesigns=i,this.hoodieDesigns=o})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(r,i){return i.id}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-home"]],standalone:!0,features:[Re],decls:20,vars:4,consts:[[1,"wrapper"],[1,"title"],[1,"subtitle"],[1,"grid"],[3,"design",4,"ngFor","ngForOf","ngForTrackBy"],[1,"show-more"],[1,"content"],["src","assets/current-wave-white.svg","alt","current wave logo",1,"logo"],[3,"design"],[4,"ngIf"]],template:function(i,o){i&1&&($(0,"cw-navbar"),R(1,"div",0)(2,"h1",1),j(3,"NA\u0160I PROIZVODI"),N(),R(4,"h2",2),j(5,"Majice"),N(),R(6,"div",3),ft(7,EV,2,2,"cw-home-card",4),R(8,"div",5)(9,"div",6),$(10,"img",7),j(11,"Jo\u0161 proizvoda... "),N()()(),R(12,"h2",2),j(13,"Duksevi"),N(),R(14,"div",3),ft(15,DV,2,2,"cw-home-card",4),R(16,"div",5)(17,"div",6),$(18,"img",7),j(19,"Jo\u0161 proizvoda... "),N()()()()),i&2&&(se(7),Ee("ngForOf",o.shirtDesigns)("ngForTrackBy",o.identify),se(8),Ee("ngForOf",o.hoodieDesigns)("ngForTrackBy",o.identify))},dependencies:[Gu,Ct,Su,ir,DT],styles:[".wrapper[_ngcontent-%COMP%]{max-width:min(90rem,90%);margin-inline:auto;box-sizing:border-box;margin-bottom:2rem;min-height:40rem}.title[_ngcontent-%COMP%]{text-align:center;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin-inline:auto}.subtitle[_ngcontent-%COMP%]{font-size:var(--fs-900);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:1rem;margin-inline:auto}.grid[_ngcontent-%COMP%]{--grid-layout-gap: 1rem;--grid-column-count: 3;--grid-item--min-width: 15rem;--gap-count: calc(var(--grid-column-count) - 1);--total-gap-width: calc(var(--gap-count) * var(--grid-layout-gap));--grid-item--max-width: calc( (100% - var(--total-gap-width)) / var(--grid-column-count) );display:grid;width:100%;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(max(var(--grid-item--min-width),var(--grid-item--max-width)),1fr));grid-auto-rows:1fr;justify-content:center;padding-bottom:2rem}.visible[_ngcontent-%COMP%]{display:grid}.show-more[_ngcontent-%COMP%]{font-family:var(--ff-secondary);width:100%;height:100%;position:relative;transition:.2s ease;border-radius:.8rem;display:flex;justify-content:center;align-items:center;overflow:hidden;padding:.25rem;background:linear-gradient(-45deg,#6fc2e4,#44bbed,#0cb3f8);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}.content[_ngcontent-%COMP%]{color:var(--white-primary);width:100%;height:100%;border-radius:.55rem;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:var(--fs-700);font-weight:700;text-align:center;-webkit-user-select:none;user-select:none}.show-more[_ngcontent-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}.logo[_ngcontent-%COMP%]{width:50%}@keyframes _ngcontent-%COMP%_gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]});let t=e;return t})();function TV(t,e){if(t&1){let n=fE();R(0,"div",21),We("click",function(){let i=Hw(n).$implicit,o=ln();return zw(o.selectSize(i))}),j(1),N()}if(t&2){let n=e.$implicit,r=ln();rr("active",n===r.selectedSize),se(),Es(" ",n," ")}}function CV(t,e){if(t&1&&$(0,"cw-home-card",22),t&2){let n=e.$implicit;Ee("design",n)}}var CT=(()=>{let e=class e{constructor(){this.sizes=["XS","S","M","L","XL","XXL"],this.selectedSize=this.sizes[0],this.id="",this.route=F(ar),this.designService=F(Xl),this.cartService=F(No),this.contentRendered=!1,this.shirtDesigns=[],this.hoodieDesigns=[],this.changeDetector=F(Mn)}ngOnInit(){return C(this,null,function*(){this.id=this.route.snapshot.paramMap.get("id"),this.designService.getDesign(this.id).then(r=>C(this,null,function*(){r?(this.design=r,this.selectedImage=this.design.image,yield this.loadDesigns()):console.error("Design not found")})).catch(r=>{console.error("Error fetching design:",r)})})}loadDesigns(){return C(this,null,function*(){let r=yield this.designService.getDesigns({count:5,type:this.design.type});this.shirtDesigns=r.filter(i=>i.id!==this.id)})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(r,i){return i.id}selectSize(r){this.selectedSize=r}showImage(r){this.selectedImage=r}addToCart(){if(!this.design)return;let r={productId:this.design.id,price:this.design.price,quantity:1,size:"M"};this.cartService.addItem(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-design"]],standalone:!0,features:[Re],decls:32,vars:17,consts:[[1,"container"],[1,"row"],[1,"apparel-images"],[1,"image-wrapper"],[1,"main-image",3,"src","alt"],[1,"thumbnail-images"],[1,"thumbnail",3,"click"],[3,"src"],[1,"apparel-info"],[1,"name"],[1,"category"],[1,"tag"],[1,"price"],[1,"all-sizes"],["class","selected-size",3,"active","click",4,"ngFor","ngForOf"],["text","Dodaj u korpu",1,"add-to-cart-btn"],[1,"material"],[1,"featured-items"],[1,"subtitle"],[1,"grid"],["class","card",3,"design",4,"ngFor","ngForOf"],[1,"selected-size",3,"click"],[1,"card",3,"design"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),$(4,"img",4),N(),R(5,"div",5)(6,"div",6),We("click",function(){return o.showImage(o.design==null?null:o.design.image)}),$(7,"img",7),N(),R(8,"div",6),We("click",function(){return o.showImage(o.design==null?null:o.design.front)}),$(9,"img",7),N(),R(10,"div",6),We("click",function(){return o.showImage(o.design==null?null:o.design.back)}),$(11,"img",7),N()()(),R(12,"div",8)(13,"div",9),j(14),N(),R(15,"div",10)(16,"span",11),j(17),N(),R(18,"span",11),j(19),N()(),R(20,"div",12),j(21),N(),R(22,"div",13),ft(23,TV,2,3,"div",14),N(),$(24,"cw-button",15),R(25,"div",16),j(26,"100% pamuk. Prati na 30\xB0C"),N()()(),R(27,"div",17)(28,"h2",18),j(29,"Sli\u010Dni proizvodi"),N(),R(30,"div",19),ft(31,CV,1,1,"cw-home-card",20),N()()()),i&2&&(se(4),Pf("alt",o.design==null?null:o.design.name),Ee("src",o.selectedImage,zr),se(2),rr("selected",o.selectedImage===(o.design==null?null:o.design.image)),se(),Ee("src",o.design==null?null:o.design.image,zr),se(),rr("selected",o.selectedImage===(o.design==null?null:o.design.front)),se(),Ee("src",o.design==null?null:o.design.front,zr),se(),rr("selected",o.selectedImage===(o.design==null?null:o.design.back)),se(),Ee("src",o.design==null?null:o.design.back,zr),se(3),pt(o.design==null?null:o.design.name),se(3),pt(o.design==null?null:o.design.category),se(2),pt(o.design==null?null:o.design.type),se(2),Es("",o.design==null?null:o.design.price,".00 rsd"),se(2),Ee("ngForOf",o.sizes),se(8),Ee("ngForOf",o.shirtDesigns))},dependencies:[Ct,Su,Gu,io],styles:['.container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;padding:2rem}.row[_ngcontent-%COMP%]{display:flex;justify-content:center}.apparel-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:32rem;max-height:34rem;padding:2rem;padding-left:0;gap:1rem}.name[_ngcontent-%COMP%]{font-size:3rem}.category[_ngcontent-%COMP%]{display:flex;gap:.5rem}.tag[_ngcontent-%COMP%]{background-color:var(--clr-primary-700);padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-500);color:var(--white-primary);font-family:var(--ff-secondary)}.price[_ngcontent-%COMP%]{font-size:1.5rem;color:#000;font-family:var(--ff-secondary)}.size[_ngcontent-%COMP%]{font-size:1rem}.add-to-cart-btn[_ngcontent-%COMP%]{max-width:22rem;padding:2rem;margin-left:0;font-family:var(--ff-primary);font-size:1.4rem;cursor:pointer}.apparel-images[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:2rem}.thumbnail-images[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;gap:.5rem}.thumbnail[_ngcontent-%COMP%]{width:5rem;height:5rem;position:relative;cursor:pointer}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:.5rem;border:none}.thumbnail[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;opacity:0;transition:opacity .3s ease;border-radius:.5rem;z-index:1}.thumbnail[_ngcontent-%COMP%]:hover:before{opacity:1}.thumbnail.selected[_ngcontent-%COMP%]:before{opacity:1}.size-selection[_ngcontent-%COMP%]{padding-bottom:1rem}.selected-size.active[_ngcontent-%COMP%]{background-color:#000;color:var(--white-primary)}.main-image[_ngcontent-%COMP%]{width:30rem;height:30rem;transition:transform .3s ease;border:none}.image-wrapper[_ngcontent-%COMP%]{width:30rem;height:30rem;overflow:hidden;position:relative;border-radius:1.5rem;cursor:zoom-in;border:none}.image-wrapper[_ngcontent-%COMP%]:hover   .main-image[_ngcontent-%COMP%]{transform:scale(1.05);cursor:pointer;transition:transform .5s ease}.all-sizes[_ngcontent-%COMP%]{display:flex;padding:.5rem;padding-left:0;flex-wrap:wrap;justify-content:flex-start;gap:.5rem}.selected-size[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;padding:.5rem;border:1px solid black;border-radius:1rem;height:auto;width:3.2rem;font-size:1.2rem;cursor:pointer;transition:background-color .3s ease,color .3s ease;box-sizing:border-box}.selected-size[_ngcontent-%COMP%]:hover{background-color:#000;color:var(--white-primary)}.content[_ngcontent-%COMP%]{color:var(--white-primary);width:100%;height:100%;border-radius:.55rem;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:var(--fs-700);font-weight:700;text-align:center;-webkit-user-select:none;user-select:none}.featured-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem}.grid[_ngcontent-%COMP%]{display:flex;gap:1rem}.subtitle[_ngcontent-%COMP%]{font-size:var(--fs-900);font-family:var(--ff-main);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:.5rem}.card[_ngcontent-%COMP%]{min-width:11rem;min-height:11rem;max-width:21rem;max-height:21rem}.material[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}@media screen and (max-width: 800px){.row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.grid[_ngcontent-%COMP%]{flex-direction:column}.apparel-info[_ngcontent-%COMP%]{padding-left:2rem;padding-top:0rem;justify-content:center;width:20rem}.main-image[_ngcontent-%COMP%], .image-wrapper[_ngcontent-%COMP%]{width:20rem;height:20rem}.thumbnail-images[_ngcontent-%COMP%]{justify-content:center}.apparel-images[_ngcontent-%COMP%]{padding-top:0}.name[_ngcontent-%COMP%], .category[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{justify-content:flex-start}.name[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.category[_ngcontent-%COMP%]{font-size:1.2rem;text-align:center}.price[_ngcontent-%COMP%]{font-size:1.4rem;text-align:center}.add-to-cart-btn[_ngcontent-%COMP%]{width:12rem;height:4rem}.apparel-info[_ngcontent-%COMP%]{justify-content:center;align-items:center}.material[_ngcontent-%COMP%]{font-size:.8rem;text-align:center}.all-sizes[_ngcontent-%COMP%]{padding-left:.5rem}.all-sizes[_ngcontent-%COMP%]{justify-content:center}}']});let t=e;return t})();var ST=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-products-page"]],standalone:!0,features:[Re],decls:2,vars:0,template:function(i,o){i&1&&(R(0,"p"),j(1,"products-page works!"),N())}});let t=e;return t})();var AT=[{path:"",component:TT},{path:"design/:id",component:CT},{path:"products",component:ST}];var MT="functions";var Ay=class{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){return C(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return C(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return C(this,null,function*(){if(this.appCheck){let n=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(e){return C(this,null,function*(){let n=yield this.getAuthToken(),r=yield this.getMessagingToken(),i=yield this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}})}};var Ry="us-central1";var xy=class{constructor(e,n,r,i,o=Ry,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Ay(n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{let c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=Ry}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function SV(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}var RT="@firebase/functions",xT="0.11.8";var AV="auth-internal",RV="app-check-internal",xV="messaging-internal";function MV(t,e){let n=(r,{instanceIdentifier:i})=>{let o=r.getProvider("app").getImmediate(),s=r.getProvider(AV),c=r.getProvider(xV),u=r.getProvider(RV);return new xy(o,s,c,u,i,t)};pn(new _t(MT,n,"PUBLIC").setMultipleInstances(!0)),Pe(RT,xT,e),Pe(RT,xT,"esm2017")}function PT(t=Jr(),e=Ry){let r=Zs(vt(t),MT).getImmediate({identifier:e}),i=Qu("functions");return i&&NT(r,...i),r}function NT(t,e,n){SV(vt(t),e,n)}MV(fetch.bind(self));var Fa=class{constructor(e){return e}},OT="functions",My=class{constructor(){return ei(OT)}};var Py=new X("angularfire2.functions-instances");function PV(t,e){let n=Xs(OT,t,e);return n&&new Fa(n)}function NV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fa(r)}}var OV={provide:My,deps:[[new it,Py]]},kV={provide:Fa,useFactory:PV,deps:[[new it,Py],Fn]};function kT(t,...e){return Pe("angularfire",hr.full,"fn"),cn([kV,OV,{provide:Py,useFactory:NV(t),multi:!0,deps:[Ie,Zt,ti,ni,[new it,uo],[new it,Xr],...e]}])}var FT=gt(PT,!0);var LT={providers:[P0(AT,N0()),ab(()=>cb({projectId:"currentwave-563b3",appId:"1:214702271750:web:4bf5a93092d8b0757c8287",storageBucket:"currentwave-563b3.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyATMkQlyO2nL_yKV3uwz-OuY_IAMZtX_-A",authDomain:"currentwave-563b3.firebaseapp.com",messagingSenderId:"214702271750",measurementId:"G-12H1ZL3EYH"})),mT(()=>IT()),kT(()=>FT())]};var VT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-footer"]],standalone:!0,features:[Re],decls:42,vars:0,consts:[[1,"grid"],[1,"column","newsletter"],[1,"email"],["placeholder","Email address","type","email"],[1,"submit-btn"],[1,"column","socials"],[1,"icon","fa-brands","fa-instagram"],["href","https://www.instagram.com/nosicurrentwave/"],[1,"icon","fa-brands","fa-tiktok"],[1,"icon","fa-brands","fa-facebook"],[1,"column","about"],[1,"icon","fa-solid","fa-envelope"],[1,"icon","fa-solid","fa-phone"],[1,"icon","fa-solid","fa-circle-info"],["href","#"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"h2"),j(3,"Newsletter"),N(),R(4,"p"),j(5," Want to know what we're up to? Sign up for the newsletter to recieve updates. "),N(),R(6,"div",2),$(7,"input",3),R(8,"button",4),j(9,"Subscribe"),N()()(),R(10,"div",5)(11,"h2"),j(12,"Socials"),N(),R(13,"ul")(14,"li"),$(15,"i",6),R(16,"a",7),j(17,"Instagram"),N()(),R(18,"li"),$(19,"i",8),R(20,"a",7),j(21,"TikTok"),N()(),R(22,"li"),$(23,"i",9),R(24,"a",7),j(25,"Facebook"),N()()()(),R(26,"div",10)(27,"h2"),j(28,"Info"),N(),R(29,"ul")(30,"li"),$(31,"i",11),R(32,"span"),j(33,"currentwavewear@gmail.com "),N()(),R(34,"li"),$(35,"i",12),R(36,"span"),j(37,"+38169758176"),N()(),R(38,"li"),$(39,"i",13),R(40,"a",14),j(41,"O Nama"),N()()()()())},styles:["[_nghost-%COMP%]{margin-top:auto;width:100%;background:var(--gradient-secondary);display:block}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;color:var(--white-primary);padding-block:6rem;box-sizing:border-box;justify-items:center;gap:4rem;margin-inline:auto}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center}.newsletter[_ngcontent-%COMP%]{align-items:center}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-width:max-content}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.icon[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;justify-content:center;align-items:center}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;color:var(--white-primary)}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--clr-offwhite)}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:var(--ff-secondary);font-size:var(--fs-400)}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0}p[_ngcontent-%COMP%]{padding:.5rem;max-width:min(100%,40ch);line-height:1.25}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1rem}.email[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1rem}.email[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:var(--fs-500);padding:.5rem;border:2px solid var(--white-primary);outline:none;margin-left:auto}.submit-btn[_ngcontent-%COMP%]{border:2px solid var(--white-primary);outline:none;border-left:none;flex-grow:.3;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;margin-right:auto}.submit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9e9e9e}@media screen and (min-width: 800px){.grid[_ngcontent-%COMP%]{width:clamp(48rem,60%,64rem);grid-template-columns:repeat(4,1fr);gap:2rem}.newsletter[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:3}.submit-btn[_ngcontent-%COMP%]{flex-grow:.3;margin-right:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:.7;margin-left:0}}"]});let t=e;return t})();var UT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-simple-nav"]],standalone:!0,features:[Re],decls:17,vars:0,consts:[[1,"container"],[1,"white-bar"],[1,"logo"],["href","/"],["src","assets/current-wave-gradient.svg"],[1,"title"],[1,"cart"],[1,"cart-button"],[1,"fas","fa-basket-shopping","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button"],[1,"fas","fa-bars","cart-icon"],[1,"logo-hamburger"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),$(4,"img",4),N()(),R(5,"div",5)(6,"a",3),j(7," CURRENT WAVE"),N()(),R(8,"div",6)(9,"div",7),$(10,"i",8),N()()(),R(11,"div",9)(12,"div",10),$(13,"i",11),N(),R(14,"div",12),$(15,"img",4),N(),$(16,"div"),N()())},styles:['.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;width:100%;background:var(--gradient-primary)}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:75%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background-color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.hamburger-button[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 800px){.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}}']});let t=e;return t})();var jT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-cart-item"]],standalone:!0,features:[Re],decls:20,vars:0,consts:[[1,"card"],["src","assets/apparel/gokupost.jpg",1,"image"],[1,"content"],[1,"title"],[1,"name"],[1,"fa-regular","fa-trash-can"],[1,"size"],[1,"price"],[1,"quantity"],[1,"quantity-input"],[1,"quantity-button"],["value","1","type","number","name","quantity","id","quantity"],[1,"total"]],template:function(i,o){i&1&&(R(0,"div",0),$(1,"img",1),R(2,"div",2)(3,"div",3)(4,"span",4),j(5,"Kid Goku Majica"),N(),$(6,"i",5),N(),R(7,"div",6),j(8,"Veli\u010Dina: M"),N(),R(9,"div",7),j(10,"Cena: 1990RSD"),N(),R(11,"div",8)(12,"div",9)(13,"div",10),j(14,"-"),N(),$(15,"input",11),R(16,"div",10),j(17,"+"),N()(),R(18,"span",12),j(19,"1990RSD"),N()()()())},styles:[".card[_ngcontent-%COMP%]{display:flex;background-color:var(--white-primary);padding:1rem;border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a}.image[_ngcontent-%COMP%]{width:8rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding-left:1rem}.title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--clr-error)}.price[_ngcontent-%COMP%], .size[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}.quantity[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.quantity-input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-family:var(--ff-secondary)}.quantity-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:4ch;-webkit-appearance:none;-moz-appearance:textfield;border:none;height:1.8rem;border-block:1px solid black;text-align:center}.quantity-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.quantity-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:1px solid black;width:2ch;height:1.8rem;text-align:center}.quantity-button[_ngcontent-%COMP%]:hover{cursor:pointer}"]});let t=e;return t})();var BT=(()=>{let e=class e{constructor(){this.cartService=F(No),this.elRef=F(Hr),this.cart=this.cartService.cart}removeItem(r){this.cartService.removeItem(r)}closeCart(){this.cartService.closeCart()}onDocumentClick(r){if(!this.cart().isClosable)return;this.elRef.nativeElement.contains(r.target)||this.cartService.closeCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-cart-sidebar"]],hostBindings:function(i,o){i&1&&We("click",function(c){return o.onDocumentClick(c)},!1,SI)},standalone:!0,features:[Re],decls:30,vars:2,consts:[[1,"container"],[1,"top-bar"],[1,"title"],[1,"fas","fa-basket-shopping"],[1,"close",3,"click"],[1,"fa-solid","fa-xmark"],[1,"items"],[1,"bottom-bar"],[1,"cost","subtotal"],[1,"cost","shipping"],[1,"cost","total"],["text","Checkout",1,"checkout"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"div",2),$(3,"i",3),j(4," Korpa "),N(),R(5,"div",4),We("click",function(){return o.closeCart()}),$(6,"i",5),N()(),R(7,"div",6),$(8,"cw-cart-item")(9,"cw-cart-item")(10,"cw-cart-item")(11,"cw-cart-item")(12,"cw-cart-item"),N(),R(13,"div",7)(14,"div",8)(15,"span"),j(16,"Cena:"),N(),R(17,"span"),j(18,"5,970RSD"),N()(),R(19,"div",9)(20,"span"),j(21,"Po\u0161tarina:"),N(),R(22,"span"),j(23,"430RSD"),N()(),R(24,"div",10)(25,"span"),j(26,"Ukupno:"),N(),R(27,"span"),j(28,"6,400RSD"),N()(),$(29,"cw-button",11),N()()),i&2&&rr("visible",o.cart().isVisible)},dependencies:[io,jT],styles:[".container[_ngcontent-%COMP%]{position:fixed;z-index:20;top:0;right:0;background-color:var(--white-primary);height:100%;width:clamp(24rem,20%,28rem);display:flex;flex-direction:column;-webkit-box-shadow:-12px 0px 29px -7px rgba(0,0,0,.65);-moz-box-shadow:-12px 0px 29px -7px rgba(0,0,0,.65);box-shadow:-12px 0 29px -7px #000000a6;border-top-left-radius:1rem;border-bottom-left-radius:1rem;transition:.5s ease;transform:translate(100%)}.visible[_ngcontent-%COMP%]{transform:translate(0)}.title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-size:var(--fs-800);font-family:var(--ff-main);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none}.top-bar[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:space-between;align-items:center}.close[_ngcontent-%COMP%]{font-size:var(--fs-700);color:var(--clr-error)}.close[_ngcontent-%COMP%]:hover{cursor:pointer}.bottom-bar[_ngcontent-%COMP%]{display:flex;padding-inline:1rem;padding-block:1rem;flex-direction:column;margin-top:auto;box-shadow:0 -2px 58px -13px #000000bf;-webkit-box-shadow:0px -2px 58px -13px rgba(0,0,0,.75);-moz-box-shadow:0px -2px 58px -13px rgba(0,0,0,.75)}.cost[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.cost[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}.total[_ngcontent-%COMP%]{margin-top:.5rem;border-top:1px dashed black;font-family:var(--ff-main);font-size:var(--fs-600)}.checkout[_ngcontent-%COMP%]{width:100%;margin-block:1rem;height:2.5rem}.items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;height:100%;max-height:100%;overflow-y:auto;background-color:var(--clr-offwhite-700);padding:.5rem}@media screen and (max-width: 384px){.container[_ngcontent-%COMP%]{display:none}}"]});let t=e;return t})();function FV(t,e){t&1&&$(0,"cw-simple-nav")}var $T=(()=>{let e=class e{constructor(){this.title="current-wave",this.router=F(ur)}isHomePage(){return this.router.url==="/"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["app-root"]],standalone:!0,features:[Re],decls:4,vars:1,consts:[[4,"ngIf"]],template:function(i,o){i&1&&(ft(0,FV,1,0,"cw-simple-nav",0),$(1,"cw-cart-sidebar")(2,"router-outlet")(3,"cw-footer")),i&2&&Ee("ngIf",!o.isHomePage())},dependencies:[Mp,VT,UT,Ct,ir,BT],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}"]});let t=e;return t})();JE($T,LT).catch(t=>console.error(t));
