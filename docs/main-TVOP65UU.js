var rS=Object.defineProperty,iS=Object.defineProperties;var oS=Object.getOwnPropertyDescriptors;var o_=Object.getOwnPropertySymbols;var sS=Object.prototype.hasOwnProperty,aS=Object.prototype.propertyIsEnumerable;var s_=(t,e,n)=>e in t?rS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$=(t,e)=>{for(var n in e||={})sS.call(e,n)&&s_(t,n,e[n]);if(o_)for(var n of o_(e))aS.call(e,n)&&s_(t,n,e[n]);return t},Me=(t,e)=>iS(t,oS(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function cS(t,e){return Object.is(t,e)}var Ze=null,yc=!1,vc=1,Vi=Symbol("SIGNAL");function _e(t){let e=Ze;return Ze=t,e}var zd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function a_(t){if(yc)throw new Error("");if(Ze===null)return;Ze.consumerOnSignalRead(t);let e=Ze.nextProducerIndex++;if(Fi(Ze),e<Ze.producerNode.length&&Ze.producerNode[e]!==t&&ws(Ze)){let n=Ze.producerNode[e];_c(n,Ze.producerIndexOfThis[e])}Ze.producerNode[e]!==t&&(Ze.producerNode[e]=t,Ze.producerIndexOfThis[e]=ws(Ze)?f_(t,Ze,e):0),Ze.producerLastReadVersion[e]=t.version}function uS(){vc++}function lS(t){if(!(ws(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vc)){if(!t.producerMustRecompute(t)&&!qd(t)){t.dirty=!1,t.lastCleanEpoch=vc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vc}}function c_(t){if(t.liveConsumerNode===void 0)return;let e=yc;yc=!0;try{for(let n of t.liveConsumerNode)n.dirty||dS(n)}finally{yc=e}}function u_(){return Ze?.consumerAllowSignalWrites!==!1}function dS(t){t.dirty=!0,c_(t),t.consumerMarkedDirty?.(t)}function l_(t){return t&&(t.nextProducerIndex=0),_e(t)}function d_(t,e){if(_e(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ws(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_c(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function qd(t){Fi(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(lS(n),r!==n.version))return!0}return!1}function h_(t){if(Fi(t),ws(t))for(let e=0;e<t.producerNode.length;e++)_c(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function f_(t,e,n){if(p_(t),Fi(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=f_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function _c(t,e){if(p_(t),Fi(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)_c(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Fi(i),i.producerIndexOfThis[r]=e}}function ws(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function p_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function hS(){throw new Error}var m_=hS;function g_(){m_()}function y_(t){m_=t}var fS=null;function v_(t){let e=Object.create(w_);e.value=t;let n=()=>(a_(e),e.value);return n[Vi]=e,n}function Gd(t,e){u_()||g_(),t.equal(t.value,e)||(t.value=e,pS(t))}function __(t,e){u_()||g_(),Gd(t,e(t.value))}var w_=Me($({},zd),{equal:cS,value:void 0});function pS(t){t.version++,uS(),c_(t),fS?.()}function X(t){return typeof t=="function"}function Li(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wc=Li(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Hr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof wc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{I_(o)}catch(s){e=e??[],s instanceof wc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)I_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Hr(n,e)}remove(e){let{_finalizers:n}=this;n&&Hr(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var Wd=Ue.EMPTY;function Ic(t){return t instanceof Ue||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function I_(t){X(t)?t():t.unsubscribe()}var tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ji={setTimeout(t,e,...n){let{delegate:r}=ji;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ji;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ec(t){ji.setTimeout(()=>{let{onUnhandledError:e}=tn;if(e)e(t);else throw t})}function Is(){}var E_=Kd("C",void 0,void 0);function C_(t){return Kd("E",void 0,t)}function b_(t){return Kd("N",t,void 0)}function Kd(t,e,n){return{kind:t,value:e,error:n}}var zr=null;function Ui(t){if(tn.useDeprecatedSynchronousErrorHandling){let e=!zr;if(e&&(zr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=zr;if(zr=null,n)throw r}}else t()}function D_(t){tn.useDeprecatedSynchronousErrorHandling&&zr&&(zr.errorThrown=!0,zr.error=t)}var qr=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ic(e)&&e.add(this)):this.destination=yS}static create(e,n,r){return new Bi(e,n,r)}next(e){this.isStopped?Yd(b_(e),this):this._next(e)}error(e){this.isStopped?Yd(C_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yd(E_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mS=Function.prototype.bind;function Qd(t,e){return mS.call(t,e)}var Jd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Cc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Cc(r)}else Cc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Cc(n)}}},Bi=class extends qr{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qd(e.next,o),error:e.error&&Qd(e.error,o),complete:e.complete&&Qd(e.complete,o)}):i=e}this.destination=new Jd(i)}};function Cc(t){tn.useDeprecatedSynchronousErrorHandling?D_(t):Ec(t)}function gS(t){throw t}function Yd(t,e){let{onStoppedNotification:n}=tn;n&&ji.setTimeout(()=>n(t,e))}var yS={closed:!0,next:Is,error:gS,complete:Is};var $i=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(t){return t}function Zd(...t){return Xd(t)}function Xd(t){return t.length===0?Rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=_S(n)?n:new Bi(n,r,i);return Ui(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=T_(r),new r((i,o)=>{let s=new Bi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$i](){return this}pipe(...n){return Xd(n)(this)}toPromise(n){return n=T_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function T_(t){var e;return(e=t??tn.Promise)!==null&&e!==void 0?e:Promise}function vS(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function _S(t){return t&&t instanceof qr||vS(t)&&Ic(t)}function eh(t){return X(t?.lift)}function de(t){return e=>{if(eh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new th(t,e,n,r,i)}var th=class extends qr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hi(){return de((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var zi=class extends ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,eh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return Hi()(this)}};var S_=Li(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class t extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new bc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new S_}next(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wd:(this.currentObservers=null,o.push(n),new Ue(()=>{this.currentObservers=null,Hr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ve;return n.source=this,n}}return t.create=(e,n)=>new bc(e,n),t})(),bc=class extends ut{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Wd}};var nt=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var nh={now(){return(nh.delegate||Date).now()},delegate:void 0};var Dc=class extends Ue{constructor(e,n){super()}schedule(e,n=0){return this}};var Es={setInterval(t,e,...n){let{delegate:r}=Es;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Es;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var qi=class extends Dc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Es.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Es.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Gi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Gi.now=nh.now;var Wi=class extends Gi{constructor(e,n=Gi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var rh=new Wi(qi);var Tc=class extends qi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Sc=class extends Wi{};var ih=new Sc(Tc);var Nt=new ve(t=>t.complete());function A_(t){return t&&X(t.schedule)}function M_(t){return t[t.length-1]}function x_(t){return X(M_(t))?t.pop():void 0}function sr(t){return A_(M_(t))?t.pop():void 0}function oh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function R_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function P_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gr(t){return this instanceof Gr?(this.v=t,this):new Gr(t)}function N_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(M){return Promise.resolve(M).then(w,p)}}function c(w,M){r[w]&&(i[w]=function(P){return new Promise(function(R,B){o.push([w,P,R,B])>1||u(w,P)})},M&&(i[w]=M(i[w])))}function u(w,M){try{l(r[w](M))}catch(P){y(o[0][3],P)}}function l(w){w.value instanceof Gr?Promise.resolve(w.value.v).then(f,p):y(o[0][2],w)}function f(w){u("next",w)}function p(w){u("throw",w)}function y(w,M){w(M),o.shift(),o.length&&u(o[0][0],o[0][1])}}function O_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof P_=="function"?P_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Ac=t=>t&&typeof t.length=="number"&&typeof t!="function";function Mc(t){return X(t?.then)}function xc(t){return X(t[$i])}function Pc(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function Rc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nc=wS();function Oc(t){return X(t?.[Nc])}function kc(t){return N_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Gr(n.read());if(i)return yield Gr(void 0);yield yield Gr(r)}}finally{n.releaseLock()}})}function Fc(t){return X(t?.getReader)}function Xe(t){if(t instanceof ve)return t;if(t!=null){if(xc(t))return IS(t);if(Ac(t))return ES(t);if(Mc(t))return CS(t);if(Pc(t))return k_(t);if(Oc(t))return bS(t);if(Fc(t))return DS(t)}throw Rc(t)}function IS(t){return new ve(e=>{let n=t[$i]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ES(t){return new ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function CS(t){return new ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ec)})}function bS(t){return new ve(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function k_(t){return new ve(e=>{TS(t,e).catch(n=>e.error(n))})}function DS(t){return k_(kc(t))}function TS(t,e){var n,r,i,o;return R_(this,void 0,void 0,function*(){try{for(n=O_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Et(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ar(t,e=0){return de((n,r)=>{n.subscribe(he(r,i=>Et(r,t,()=>r.next(i),e),()=>Et(r,t,()=>r.complete(),e),i=>Et(r,t,()=>r.error(i),e)))})}function cr(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function F_(t,e){return Xe(t).pipe(cr(e),ar(e))}function V_(t,e){return Xe(t).pipe(cr(e),ar(e))}function L_(t,e){return new ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function j_(t,e){return new ve(n=>{let r;return Et(n,e,()=>{r=t[Nc](),Et(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function Vc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ve(n=>{Et(n,e,()=>{let r=t[Symbol.asyncIterator]();Et(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function U_(t,e){return Vc(kc(t),e)}function B_(t,e){if(t!=null){if(xc(t))return F_(t,e);if(Ac(t))return L_(t,e);if(Mc(t))return V_(t,e);if(Pc(t))return Vc(t,e);if(Oc(t))return j_(t,e);if(Fc(t))return U_(t,e)}throw Rc(t)}function We(t,e){return e?B_(t,e):Xe(t)}function te(...t){let e=sr(t);return We(t,e)}function Ki(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new ve(e?i=>e.schedule(r,0,i):r)}function sh(t){return!!t&&(t instanceof ve||X(t.lift)&&X(t.subscribe))}var Ln=Li(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function fe(t,e){return de((n,r)=>{let i=0;n.subscribe(he(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:SS}=Array;function AS(t,e){return SS(e)?t(...e):t(e)}function $_(t){return fe(e=>AS(t,e))}var{isArray:MS}=Array,{getPrototypeOf:xS,prototype:PS,keys:RS}=Object;function H_(t){if(t.length===1){let e=t[0];if(MS(e))return{args:e,keys:null};if(NS(e)){let n=RS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function NS(t){return t&&typeof t=="object"&&xS(t)===PS}function z_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Lc(...t){let e=sr(t),n=x_(t),{args:r,keys:i}=H_(t);if(r.length===0)return We([],e);let o=new ve(OS(r,e,i?s=>z_(i,s):Rt));return n?o.pipe($_(n)):o}function OS(t,e,n=Rt){return r=>{q_(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)q_(e,()=>{let l=We(t[u],e),f=!1;l.subscribe(he(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function q_(t,e,n){t?Et(n,t,e):e()}function G_(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},w=P=>l<r?M(P):u.push(P),M=P=>{o&&e.next(P),l++;let R=!1;Xe(n(P,f++)).subscribe(he(e,B=>{i?.(B),o?w(B):e.next(B)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let B=u.shift();s?Et(e,s,()=>M(B)):M(B)}y()}catch(B){e.error(B)}}))};return t.subscribe(he(e,w,()=>{p=!0,y()})),()=>{c?.()}}function Ke(t,e,n=1/0){return X(e)?Ke((r,i)=>fe((o,s)=>e(r,o,i,s))(Xe(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>G_(r,i,t,n)))}function ah(t=1/0){return Ke(Rt,t)}function W_(){return ah(1)}function Qi(...t){return W_()(We(t,sr(t)))}function jc(t){return new ve(e=>{Xe(t()).subscribe(e)})}function nn(t,e){return de((n,r)=>{let i=0;n.subscribe(he(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ur(t){return de((e,n)=>{let r=null,i=!1,o;r=e.subscribe(he(n,void 0,void 0,s=>{o=Xe(t(s,ur(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function K_(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(he(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Yi(t,e){return X(e)?Ke(t,e,1):Ke(t,1)}function lr(t){return de((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function jn(t){return t<=0?()=>Nt:de((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ch(t){return fe(()=>t)}function Uc(t=kS){return de((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function kS(){return new Ln}function Cs(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function mn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nn((i,o)=>t(i,o,r)):Rt,jn(1),n?lr(e):Uc(()=>new Ln))}function Ji(t){return t<=0?()=>Nt:de((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function uh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nn((i,o)=>t(i,o,r)):Rt,Ji(1),n?lr(e):Uc(()=>new Ln))}function lh(t,e){return de(K_(t,e,arguments.length>=2,!0))}function dh(...t){let e=sr(t);return de((n,r)=>{(e?Qi(t,n,e):Qi(t,n)).subscribe(r)})}function rn(t,e){return de((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,f=o++;Xe(t(u,f)).subscribe(i=he(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function hh(t){return de((e,n)=>{Xe(t).subscribe(he(n,()=>n.complete(),Is)),!n.closed&&e.subscribe(n)})}function Qe(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Rt}var Pw="https://g.co/ng/security#xss",q=class extends Error{constructor(e,n){super(vf(e,n)),this.code=e}};function vf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Fs(t){return{toString:t}.toString()}var Bc="__parameters__";function FS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Rw(t,e,n){return Fs(()=>{let r=FS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Bc)?u[Bc]:Object.defineProperty(u,Bc,{value:[]})[Bc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var an=globalThis;function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function VS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Mh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var LS=xe({__forward_ref__:xe});function Vs(t){return t.__forward_ref__=Vs,t.toString=function(){return wt(this())},t}function _t(t){return Nw(t)?t():t}function Nw(t){return typeof t=="function"&&t.hasOwnProperty(LS)&&t.__forward_ref__===Vs}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ii(t){return{providers:t.providers||[],imports:t.imports||[]}}function yu(t){return Q_(t,kw)||Q_(t,Fw)}function Ow(t){return yu(t)!==null}function Q_(t,e){return t.hasOwnProperty(e)?t[e]:null}function jS(t){let e=t&&(t[kw]||t[Fw]);return e||null}function Y_(t){return t&&(t.hasOwnProperty(J_)||t.hasOwnProperty(US))?t[J_]:null}var kw=xe({\u0275prov:xe}),J_=xe({\u0275inj:xe}),Fw=xe({ngInjectableDef:xe}),US=xe({ngInjectorDef:xe}),Z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vw(t){return t&&!!t.\u0275providers}var BS=xe({\u0275cmp:xe}),$S=xe({\u0275dir:xe}),HS=xe({\u0275pipe:xe}),zS=xe({\u0275mod:xe}),Yc=xe({\u0275fac:xe}),bs=xe({__NG_ELEMENT_ID__:xe}),Z_=xe({__NG_ENV_ID__:xe});function vu(t){return typeof t=="string"?t:t==null?"":String(t)}function qS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():vu(t)}function GS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,t)}function _f(t,e){throw new q(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),xh;function Lw(){return xh}function Ct(t){let e=xh;return xh=t,e}function jw(t,e,n){let r=yu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;_f(t,"Injector")}var WS={},Ds=WS,Ph="__NG_DI_FLAG__",Jc="ngTempTokenPath",KS="ngTokenPath",QS=/\n/gm,YS="\u0275",X_="__source",to;function JS(){return to}function dr(t){let e=to;return to=t,e}function ZS(t,e=se.Default){if(to===void 0)throw new q(-203,!1);return to===null?jw(t,void 0,e):to.get(t,e&se.Optional?null:void 0,e)}function ae(t,e=se.Default){return(Lw()||ZS)(_t(t),e)}function O(t,e=se.Default){return ae(t,_u(e))}function _u(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rh(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let c=r[s],u=XS(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(ae(i,o))}else e.push(ae(r))}return e}function Uw(t,e){return t[Ph]=e,t.prototype[Ph]=e,t}function XS(t){return t[Ph]}function eA(t,e,n,r){let i=t[Jc];throw e[X_]&&i.unshift(e[X_]),t.message=tA(`
`+t.message,i,n,r),t[KS]=i,t[Jc]=null,t}function tA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==YS?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):wt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(QS,`
  `)}`}var dt=Uw(Rw("Optional"),8);var Bw=Uw(Rw("SkipSelf"),4);function Yr(t,e){let n=t.hasOwnProperty(Yc);return n?t[Yc]:null}function wf(t,e){t.forEach(n=>Array.isArray(n)?wf(n,e):e(n))}function $w(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function If(t,e,n){let r=Ls(t,e);return r>=0?t[r|1]=n:(r=~r,nA(t,r,e,n)),r}function fh(t,e){let n=Ls(t,e);if(n>=0)return t[n|1]}function Ls(t,e){return rA(t,e,1)}function rA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ro={},bt=[],io=new Z(""),Hw=new Z("",-1),zw=new Z(""),Xc=class{get(e,n=Ds){if(n===Ds){let r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return n}},qw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qw||{}),vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{}),Ot=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ot||{});function iA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Nh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];oA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Gw(t){return t===3||t===4||t===6}function oA(t){return t.charCodeAt(0)===64}function Ts(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ew(t,n,i,null,e[++r]):ew(t,n,i,null,null))}}return t}function ew(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Ww="ng-template";function sA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&iA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ef(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ef(t){return t.type===4&&t.value!==Ww}function aA(t,e,n){let r=t.type===4&&!n?Ww:t.value;return e===r}function cA(t,e,n){let r=4,i=t.attrs,o=i!==null?dA(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!on(r)&&!on(u))return!1;if(s&&on(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!aA(t,u,n)||u===""&&e.length===1){if(on(r))return!1;s=!0}}else if(r&8){if(i===null||!sA(t,i,u,n)){if(on(r))return!1;s=!0}}else{let l=e[++c],f=uA(u,i,Ef(t),n);if(f===-1){if(on(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(on(r))return!1;s=!0}}}}return on(r)||s}function on(t){return(t&1)===0}function uA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return hA(e,t)}function lA(t,e,n=!1){for(let r=0;r<e.length;r++)if(cA(t,e[r],n))return!0;return!1}function dA(t){for(let e=0;e<t.length;e++){let n=t[e];if(Gw(n))return e}return t.length}function hA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function tw(t,e){return t?":not("+e.trim()+")":e}function fA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!on(s)&&(e+=tw(o,i),i=""),r=s,o=o||!on(r);n++}return i!==""&&(e+=tw(o,i)),e}function pA(t){return t.map(fA).join(",")}function mA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!on(i))break;i=o}r++}return{attrs:e,classes:n}}function Te(t){return Fs(()=>{let e=Xw(t),n=Me($({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||bt,_:null,schemas:t.schemas||null,tView:null,id:""});eI(n);let r=t.dependencies;return n.directiveDefs=rw(r,!1),n.pipeDefs=rw(r,!0),n.id=vA(n),n})}function gA(t){return Jr(t)||Qw(t)}function yA(t){return t!==null}function oi(t){return Fs(()=>({type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nw(t,e){if(t==null)return ro;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=Ot.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==Ot.None?[r,c]:r,e[o]=s):n[o]=r}return n}function Tt(t){return Fs(()=>{let e=Xw(t);return eI(e),e})}function Kw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jr(t){return t[BS]||null}function Qw(t){return t[$S]||null}function Yw(t){return t[HS]||null}function Jw(t){let e=Jr(t)||Qw(t)||Yw(t);return e!==null?e.standalone:!1}function Zw(t,e){let n=t[zS]||null;if(!n&&e===!0)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function Xw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ro,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nw(t.inputs,e),outputs:nw(t.outputs),debugInfo:null}}function eI(t){t.features?.forEach(e=>e(t))}function rw(t,e){if(!t)return null;let n=e?Yw:gA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(yA)}function vA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function In(t){return{\u0275providers:t}}function _A(...t){return{\u0275providers:tI(!0,t),\u0275fromNgModule:!0}}function tI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return wf(e,s=>{let c=s;Oh(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&nI(i,o),n}function nI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Cf(i,o=>{e(o,r)})}}function Oh(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,o=Y_(t),s=!o&&Jr(t);if(!o&&!s){let u=t.ngModule;if(o=Y_(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Oh(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{wf(o.imports,f=>{Oh(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&nI(l,e)}if(!c){let l=Yr(i)||(()=>new i);e({provide:i,useFactory:l,deps:bt},i),e({provide:zw,useValue:i,multi:!0},i),e({provide:io,useValue:()=>ae(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;Cf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Cf(t,e){for(let n of t)Vw(n)&&(n=n.\u0275providers),Array.isArray(n)?Cf(n,e):e(n)}var wA=xe({provide:String,useValue:xe});function rI(t){return t!==null&&typeof t=="object"&&wA in t}function IA(t){return!!(t&&t.useExisting)}function EA(t){return!!(t&&t.useFactory)}function oo(t){return typeof t=="function"}function CA(t){return!!t.useClass}var wu=new Z(""),qc={},bA={},ph;function bf(){return ph===void 0&&(ph=new Xc),ph}var Ht=class{},Ss=class extends Ht{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fh(e,s=>this.processProvider(s)),this.records.set(Hw,Zi(void 0,this)),i.has("environment")&&this.records.set(Ht,Zi(void 0,this));let o=this.records.get(wu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zw,bt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=dr(this),r=Ct(void 0),i;try{return e()}finally{dr(n),Ct(r)}}get(e,n=Ds,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Z_))return e[Z_](this);r=_u(r);let i,o=dr(this),s=Ct(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=MA(e)&&yu(e);l&&this.injectableDefInScope(l)?u=Zi(kh(e),qc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&se.Self?bf():this.parent;return n=r&se.Optional&&n===Ds?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Jc]=c[Jc]||[]).unshift(wt(e)),o)throw c;return eA(c,e,"R3InjectorError",this.source)}else throw c}finally{Ct(s),dr(o)}}resolveInjectorInitializers(){let e=_e(null),n=dr(this),r=Ct(void 0),i;try{let o=this.get(io,bt,se.Self);for(let s of o)s()}finally{dr(n),Ct(r),_e(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){e=_t(e);let n=oo(e)?e:_t(e&&e.provide),r=TA(e);if(!oo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zi(void 0,qc,!0),i.factory=()=>Rh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=_e(null);try{return n.value===qc&&(n.value=bA,n.value=n.factory()),typeof n.value=="object"&&n.value&&AA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kh(t){let e=yu(t),n=e!==null?e.factory:Yr(t);if(n!==null)return n;if(t instanceof Z)throw new q(204,!1);if(t instanceof Function)return DA(t);throw new q(204,!1)}function DA(t){if(t.length>0)throw new q(204,!1);let n=jS(t);return n!==null?()=>n.factory(t):()=>new t}function TA(t){if(rI(t))return Zi(void 0,t.useValue);{let e=iI(t);return Zi(e,qc)}}function iI(t,e,n){let r;if(oo(t)){let i=_t(t);return Yr(i)||kh(i)}else if(rI(t))r=()=>_t(t.useValue);else if(EA(t))r=()=>t.useFactory(...Rh(t.deps||[]));else if(IA(t))r=()=>ae(_t(t.useExisting));else{let i=_t(t&&(t.useClass||t.provide));if(SA(t))r=()=>new i(...Rh(t.deps));else return Yr(i)||kh(i)}return r}function Zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function SA(t){return!!t.deps}function AA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function MA(t){return typeof t=="function"||typeof t=="object"&&t instanceof Z}function Fh(t,e){for(let n of t)Array.isArray(n)?Fh(n,e):n&&Vw(n)?Fh(n.\u0275providers,e):e(n)}function si(t,e){t instanceof Ss&&t.assertNotDestroyed();let n,r=dr(t),i=Ct(void 0);try{return e()}finally{dr(r),Ct(i)}}function xA(){return Lw()!==void 0||JS()!=null}function PA(t){return typeof t=="function"}var Hn=0,ue=1,K=2,lt=3,cn=4,dn=5,eu=6,As=7,un=8,so=9,ln=10,$e=11,Ms=12,iw=13,ho=14,_n=15,Iu=16,Xi=17,ao=18,Eu=19,oI=20,hr=21,mh=22,Zr=23,zt=25,sI=1;var Xr=7,tu=8,nu=9,$t=10,Df=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Df||{});function Kr(t){return Array.isArray(t)&&typeof t[sI]=="object"}function zn(t){return Array.isArray(t)&&t[sI]===!0}function Tf(t){return(t.flags&4)!==0}function Cu(t){return t.componentOffset>-1}function bu(t){return(t.flags&1)===1}function fr(t){return!!t.template}function RA(t){return(t[K]&512)!==0}var Vh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function aI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function fo(){return cI}function cI(t){return t.type.prototype.ngOnChanges&&(t.setInput=OA),NA}fo.ngInherit=!0;function NA(){let t=lI(this),e=t?.current;if(e){let n=t.previous;if(n===ro)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function OA(t,e,n,r,i){let o=this.declaredInputs[r],s=lI(t)||kA(t,{previous:ro,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Vh(l&&l.currentValue,n,u===ro),aI(t,e,i,n)}var uI="__ngSimpleChanges__";function lI(t){return t[uI]||null}function kA(t,e){return t[uI]=e}var ow=null;var gn=function(t,e,n){ow?.(t,e,n)},FA="svg",VA="math",LA=!1;function jA(){return LA}function wn(t){for(;Array.isArray(t);)t=t[Hn];return t}function dI(t,e){return wn(e[t])}function qt(t,e){return wn(e[t.index])}function hI(t,e){return t.data[e]}function fI(t,e){return t[e]}function yr(t,e){let n=e[t];return Kr(n)?n:n[Hn]}function Sf(t){return(t[K]&128)===128}function UA(t){return zn(t[lt])}function co(t,e){return e==null?null:t[e]}function pI(t){t[Xi]=0}function BA(t){t[K]&1024||(t[K]|=1024,Sf(t)&&xs(t))}function $A(t,e){for(;t>0;)e=e[ho],t--;return e}function Af(t){return!!(t[K]&9216||t[Zr]?.dirty)}function Lh(t){t[ln].changeDetectionScheduler?.notify(1),Af(t)?xs(t):t[K]&64&&(jA()?(t[K]|=1024,xs(t)):t[ln].changeDetectionScheduler?.notify())}function xs(t){t[ln].changeDetectionScheduler?.notify();let e=Ps(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Sf(e)));)e=Ps(e)}function mI(t,e){if((t[K]&256)===256)throw new q(911,!1);t[hr]===null&&(t[hr]=[]),t[hr].push(e)}function HA(t,e){if(t[hr]===null)return;let n=t[hr].indexOf(e);n!==-1&&t[hr].splice(n,1)}function Ps(t){let e=t[lt];return zn(e)?e[lt]:e}var ce={lFrame:DI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zA(){return ce.lFrame.elementDepthCount}function qA(){ce.lFrame.elementDepthCount++}function GA(){ce.lFrame.elementDepthCount--}function gI(){return ce.bindingsEnabled}function WA(){return ce.skipHydrationRootTNode!==null}function KA(t){return ce.skipHydrationRootTNode===t}function QA(){ce.skipHydrationRootTNode=null}function Ce(){return ce.lFrame.lView}function ht(){return ce.lFrame.tView}function yI(t){return ce.lFrame.contextLView=t,t[un]}function vI(t){return ce.lFrame.contextLView=null,t}function St(){let t=_I();for(;t!==null&&t.type===64;)t=t.parent;return t}function _I(){return ce.lFrame.currentTNode}function YA(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ai(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function Mf(){return ce.lFrame.isParent}function wI(){ce.lFrame.isParent=!1}function xf(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function JA(t){return ce.lFrame.bindingIndex=t}function Pf(){return ce.lFrame.bindingIndex++}function II(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ZA(){return ce.lFrame.inI18n}function XA(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,jh(e)}function eM(){return ce.lFrame.currentDirectiveIndex}function jh(t){ce.lFrame.currentDirectiveIndex=t}function tM(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function EI(t){ce.lFrame.currentQueryIndex=t}function nM(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[dn]:null}function CI(t,e,n){if(n&se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=nM(o),i===null||(o=o[ho],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ce.lFrame=bI();return r.currentTNode=e,r.lView=t,!0}function Rf(t){let e=bI(),n=t[ue];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function bI(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?DI(t):e}function DI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function TI(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var SI=TI;function Nf(){let t=TI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rM(t){return(ce.lFrame.contextLView=$A(t,ce.lFrame.contextLView))[un]}function ci(){return ce.lFrame.selectedIndex}function ei(t){ce.lFrame.selectedIndex=t}function Of(){let t=ce.lFrame;return hI(t.tView,t.selectedIndex)}function iM(){return ce.lFrame.currentNamespace}var AI=!0;function Du(){return AI}function Tu(t){AI=t}function oM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=cI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Su(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Gc(t,e,n){MI(t,e,3,n)}function Wc(t,e,n,r){(t[K]&3)===n&&MI(t,e,n,r)}function gh(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function MI(t,e,n,r){let i=r!==void 0?t[Xi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Xi]+=65536),(c<o||o==-1)&&(sM(t,n,e,u),t[Xi]=(t[Xi]&4294901760)+u+2),u++}function sw(t,e){gn(4,t,e);let n=_e(null);try{e.call(t)}finally{_e(n),gn(5,t,e)}}function sM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[K]>>14<t[Xi]>>16&&(t[K]&3)===e&&(t[K]+=16384,sw(c,o)):sw(c,o)}var no=-1,ti=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function aM(t){return t instanceof ti}function cM(t){return(t.flags&8)!==0}function uM(t){return(t.flags&16)!==0}function xI(t){return t!==no}function ru(t){return t&32767}function lM(t){return t>>16}function iu(t,e){let n=lM(t),r=e;for(;n>0;)r=r[ho],n--;return r}var Uh=!0;function ou(t){let e=Uh;return Uh=t,e}var dM=256,PI=dM-1,RI=5,hM=0,yn={};function fM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(bs)&&(r=n[bs]),r==null&&(r=n[bs]=hM++);let i=r&PI,o=1<<i;e.data[t+(i>>RI)]|=o}function su(t,e){let n=NI(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,yh(r.data,t),yh(e,null),yh(r.blueprint,null));let i=kf(t,e),o=t.injectorIndex;if(xI(i)){let s=ru(i),c=iu(i,e),u=c[ue].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function yh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function NI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function kf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=LI(i),r===null)return no;if(n++,i=i[ho],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return no}function Bh(t,e,n){fM(t,e,n)}function pM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Gw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function OI(t,e,n){if(n&se.Optional||t!==void 0)return t;_f(e,"NodeInjector")}function kI(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[so],o=Ct(void 0);try{return i?i.get(e,r,n&se.Optional):jw(e,r,n&se.Optional)}finally{Ct(o)}}return OI(r,e,n)}function FI(t,e,n,r=se.Default,i){if(t!==null){if(e[K]&2048&&!(r&se.Self)){let s=_M(t,e,n,r,yn);if(s!==yn)return s}let o=VI(t,e,n,r,yn);if(o!==yn)return o}return kI(e,n,r,i)}function VI(t,e,n,r,i){let o=yM(n);if(typeof o=="function"){if(!CI(e,t,r))return r&se.Host?OI(i,n,r):kI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))_f(n);else return s}finally{SI()}}else if(typeof o=="number"){let s=null,c=NI(t,e),u=no,l=r&se.Host?e[_n][dn]:null;for((c===-1||r&se.SkipSelf)&&(u=c===-1?kf(t,e):e[c+8],u===no||!cw(r,!1)?c=-1:(s=e[ue],c=ru(u),e=iu(u,e)));c!==-1;){let f=e[ue];if(aw(o,c,f.data)){let p=mM(c,e,n,s,r,l);if(p!==yn)return p}u=e[c+8],u!==no&&cw(r,e[ue].data[c+8]===l)&&aw(o,c,e)?(s=f,c=ru(u),e=iu(u,e)):c=-1}}return i}function mM(t,e,n,r,i,o){let s=e[ue],c=s.data[t+8],u=r==null?Cu(c)&&Uh:r!=s&&(c.type&3)!==0,l=i&se.Host&&o===c,f=gM(c,s,n,u,l);return f!==null?uo(e,s,f,c):yn}function gM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,y=i?c+f:l;for(let w=p;w<y;w++){let M=s[w];if(w<u&&n===M||w>=u&&M.type===n)return w}if(i){let w=s[u];if(w&&fr(w)&&w.type===n)return u}return null}function uo(t,e,n,r){let i=t[n],o=e.data;if(aM(i)){let s=i;s.resolving&&GS(qS(o[n]));let c=ou(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ct(s.injectImpl):null,f=CI(t,r,se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&oM(n,o[n],e)}finally{l!==null&&Ct(l),ou(c),s.resolving=!1,SI()}}return i}function yM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(bs)?t[bs]:void 0;return typeof e=="number"?e>=0?e&PI:vM:e}function aw(t,e,n){let r=1<<t;return!!(n[e+(t>>RI)]&r)}function cw(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var Qr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FI(this._tNode,this._lView,e,_u(r),n)}};function vM(){return new Qr(St(),Ce())}function ui(t){return Fs(()=>{let e=t.prototype.constructor,n=e[Yc]||$h(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Yc]||$h(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $h(t){return Nw(t)?()=>{let e=$h(_t(t));return e&&e()}:Yr(t)}function _M(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!(s[K]&512);){let c=VI(o,s,n,r|se.Self,yn);if(c!==yn)return c;let u=o.parent;if(!u){let l=s[oI];if(l){let f=l.get(n,yn,r);if(f!==yn)return f}u=LI(s),s=s[ho]}o=u}return i}function LI(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[dn]:null}function Ff(t){return pM(St(),t)}function uw(t,e=null,n=null,r){let i=jI(t,e,n,r);return i.resolveInjectorInitializers(),i}function jI(t,e=null,n=null,r,i=new Set){let o=[n||bt,_A(t)];return r=r||(typeof t=="object"?void 0:wt(t)),new Ss(o,e||bf(),r||null,i)}var Gt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ds}static{this.NULL=new Xc}static create(n,r){if(Array.isArray(n))return uw({name:""},r,n,"");{let i=n.name??"";return uw({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=G({token:t,providedIn:"any",factory:()=>ae(Hw)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var wM="ngOriginalError";function vh(t){return t[wM]}var Un=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vh(e);for(;n&&vh(n);)n=vh(n);return n||null}},UI=new Z("",{providedIn:"root",factory:()=>O(Un).handleError.bind(void 0)}),BI=(()=>{class t{static{this.__NG_ELEMENT_ID__=IM}static{this.__NG_ENV_ID__=n=>n}}return t})(),Hh=class extends BI{constructor(e){super(),this._lView=e}onDestroy(e){return mI(this._lView,e),()=>HA(this._lView,e)}};function IM(){return new Hh(Ce())}function EM(){return Au(St(),Ce())}function Au(t,e){return new Wt(qt(t,e))}var Wt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=EM}}return t})();var zh=class extends ut{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,xA()&&(this.destroyRef=O(BI,{optional:!0})??void 0)}emit(e){let n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=_h(o),i&&(i=_h(i)),s&&(s=_h(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ue&&e.add(c),c}};function _h(t){return e=>{setTimeout(t,void 0,e)}}var Dt=zh;function $I(t){return(t.flags&128)===128}var HI=new Map,CM=0;function bM(){return CM++}function DM(t){HI.set(t[Eu],t)}function TM(t){HI.delete(t[Eu])}var lw="__ngContext__";function pr(t,e){Kr(e)?(t[lw]=e[Eu],DM(e)):t[lw]=e}function zI(t){return GI(t[Ms])}function qI(t){return GI(t[cn])}function GI(t){for(;t!==null&&!zn(t);)t=t[cn];return t}var qh;function WI(t){qh=t}function SM(){if(qh!==void 0)return qh;if(typeof document<"u")return document;throw new q(210,!1)}var Vf=new Z("",{providedIn:"root",factory:()=>AM}),AM="ng",Lf=new Z(""),vr=new Z("",{providedIn:"platform",factory:()=>"unknown"});var jf=new Z("",{providedIn:"root",factory:()=>SM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var MM="h",xM="b";var PM=()=>null;function Uf(t,e,n=!1){return PM(t,e,n)}var KI=!1,RM=new Z("",{providedIn:"root",factory:()=>KI});var $c;function NM(){if($c===void 0&&($c=null,an.trustedTypes))try{$c=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $c}function dw(t){return NM()?.createScriptURL(t)||t}var au=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pw})`}};function po(t){return t instanceof au?t.changingThisBreaksApplicationSecurity:t}function Bf(t,e){let n=OM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Pw})`)}return n===e}function OM(t){return t instanceof au&&t.getTypeName()||null}var kM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function QI(t){return t=String(t),t.match(kM)?t:"unsafe:"+t}var Mu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Mu||{});function Kt(t){let e=JI();return e?e.sanitize(Mu.URL,t)||"":Bf(t,"URL")?po(t):QI(vu(t))}function FM(t){let e=JI();if(e)return dw(e.sanitize(Mu.RESOURCE_URL,t)||"");if(Bf(t,"ResourceURL"))return dw(po(t));throw new q(904,!1)}function VM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?FM:Kt}function YI(t,e,n){return VM(e,n)(t)}function JI(){let t=Ce();return t&&t[ln].sanitizer}var LM=/^>|^->|<!--|-->|--!>|<!-$/g,jM=/(<|>)/g,UM="\u200B$1\u200B";function BM(t){return t.replace(LM,e=>e.replace(jM,UM))}function ZI(t){return t.ownerDocument}function XI(t){return t instanceof Function?t():t}var Bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bn||{}),$M;function $f(t,e){return $M(t,e)}function eo(t,e,n,r,i){if(r!=null){let o,s=!1;zn(r)?o=r:Kr(r)&&(s=!0,r=r[Hn]);let c=wn(r);t===0&&n!==null?i==null?iE(e,n,c):cu(e,n,c,i||null,!0):t===1&&n!==null?cu(e,n,c,i||null,!0):t===2?sx(e,c,s):t===3&&e.destroyNode(c),o!=null&&cx(e,t,o,n,i)}}function HM(t,e){return t.createText(e)}function zM(t,e,n){t.setValue(e,n)}function qM(t,e){return t.createComment(BM(e))}function eE(t,e,n){return t.createElement(e,n)}function GM(t,e){tE(t,e),e[Hn]=null,e[dn]=null}function WM(t,e,n,r,i,o){r[Hn]=i,r[dn]=e,Pu(t,r,n,1,i,o)}function tE(t,e){e[ln].changeDetectionScheduler?.notify(1),Pu(t,e,e[$e],2,null,null)}function KM(t){let e=t[Ms];if(!e)return wh(t[ue],t);for(;e;){let n=null;if(Kr(e))n=e[Ms];else{let r=e[$t];r&&(n=r)}if(!n){for(;e&&!e[cn]&&e!==t;)Kr(e)&&wh(e[ue],e),e=e[lt];e===null&&(e=t),Kr(e)&&wh(e[ue],e),n=e&&e[cn]}e=n}}function QM(t,e,n,r){let i=$t+r,o=n.length;r>0&&(n[i-1][cn]=e),r<o-$t?(e[cn]=n[i],$w(n,$t+r,e)):(n.push(e),e[cn]=null),e[lt]=n;let s=e[Iu];s!==null&&n!==s&&YM(s,e);let c=e[ao];c!==null&&c.insertView(t),Lh(e),e[K]|=128}function YM(t,e){let n=t[nu],i=e[lt][lt][_n];e[_n]!==i&&(t[K]|=Df.HasTransplantedViews),n===null?t[nu]=[e]:n.push(e)}function nE(t,e){let n=t[nu],r=n.indexOf(e);n.splice(r,1)}function Gh(t,e){if(t.length<=$t)return;let n=$t+e,r=t[n];if(r){let i=r[Iu];i!==null&&i!==t&&nE(i,r),e>0&&(t[n-1][cn]=r[cn]);let o=Zc(t,$t+e);GM(r[ue],r);let s=o[ao];s!==null&&s.detachView(o[ue]),r[lt]=null,r[cn]=null,r[K]&=-129}return r}function rE(t,e){if(!(e[K]&256)){let n=e[$e];n.destroyNode&&Pu(t,e,n,3,null,null),KM(e)}}function wh(t,e){if(e[K]&256)return;let n=_e(null);try{e[K]&=-129,e[K]|=256,e[Zr]&&h_(e[Zr]),ZM(t,e),JM(t,e),e[ue].type===1&&e[$e].destroy();let r=e[Iu];if(r!==null&&zn(e[lt])){r!==e[lt]&&nE(r,e);let i=e[ao];i!==null&&i.detachView(t)}TM(e)}finally{_e(n)}}function JM(t,e){let n=t.cleanup,r=e[As];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[As]=null);let i=e[hr];if(i!==null){e[hr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function ZM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ti)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];gn(4,c,u);try{u.call(c)}finally{gn(5,c,u)}}else{gn(4,i,o);try{o.call(i)}finally{gn(5,i,o)}}}}}function XM(t,e,n){return ex(t,e.parent,n)}function ex(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Hn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===vn.None||o===vn.Emulated)return null}return qt(r,n)}}function cu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iE(t,e,n){t.appendChild(e,n)}function hw(t,e,n,r,i){r!==null?cu(t,e,n,r,i):iE(t,e,n)}function tx(t,e,n,r){t.removeChild(e,n,r)}function Hf(t,e){return t.parentNode(e)}function nx(t,e){return t.nextSibling(e)}function rx(t,e,n){return ox(t,e,n)}function ix(t,e,n){return t.type&40?qt(t,n):null}var ox=ix,fw;function xu(t,e,n,r){let i=XM(t,r,e),o=e[$e],s=r.parent||e[dn],c=rx(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)hw(o,i,n[u],c,!1);else hw(o,i,n,c,!1);fw!==void 0&&fw(o,r,e,n,i)}function Kc(t,e){if(e!==null){let n=e.type;if(n&3)return qt(e,t);if(n&4)return Wh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Kc(t,r);{let i=t[e.index];return zn(i)?Wh(-1,i):wn(i)}}else{if(n&32)return $f(e,t)()||wn(t[e.index]);{let r=oE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ps(t[_n]);return Kc(i,r)}else return Kc(t,e.next)}}}return null}function oE(t,e){if(e!==null){let r=t[_n][dn],i=e.projection;return r.projection[i]}return null}function Wh(t,e){let n=$t+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Kc(r,i)}return e[Xr]}function sx(t,e,n){let r=Hf(t,e);r&&tx(t,r,e,n)}function zf(t,e,n,r,i,o,s){for(;n!=null;){let c=r[n.index],u=n.type;if(s&&e===0&&(c&&pr(wn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)zf(t,e,n.child,r,i,o,!1),eo(e,t,i,c,o);else if(u&32){let l=$f(n,r),f;for(;f=l();)eo(e,t,i,f,o);eo(e,t,i,c,o)}else u&16?ax(t,e,r,n,i,o):eo(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Pu(t,e,n,r,i,o){zf(n,r,t.firstChild,e,i,o,!1)}function ax(t,e,n,r,i,o){let s=n[_n],u=s[dn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];eo(e,t,i,f,o)}else{let l=u,f=s[lt];$I(r)&&(l.flags|=128),zf(t,e,l,f,i,o,!0)}}function cx(t,e,n,r,i){let o=n[Xr],s=wn(n);o!==s&&eo(e,t,r,o,i);for(let c=$t;c<n.length;c++){let u=n[c];Pu(u[ue],u,t,e,r,o)}}function ux(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Bn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bn.Important),t.setStyle(n,r,i,o))}}function lx(t,e,n){t.setAttribute(e,"style",n)}function sE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function aE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Nh(t,e,r),i!==null&&sE(t,e,i),o!==null&&lx(t,e,o)}var En={};function L(t=1){cE(ht(),Ce(),ci()+t,!1)}function cE(t,e,n,r){if(!r)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Gc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Wc(e,o,0,n)}ei(n)}function we(t,e=se.Default){let n=Ce();if(n===null)return ae(t,e);let r=St();return FI(r,n,_t(t),e)}function uE(t,e,n,r,i,o){let s=_e(null);try{let c=null;i&Ot.SignalBased&&(c=e[r][Vi]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&Ot.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):aI(e,c,r,o)}finally{_e(s)}}function dx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ei(~i);else{let o=i,s=n[++r],c=n[++r];XA(s,o);let u=e[o];c(2,u)}}}finally{ei(-1)}}function Ru(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Hn]=i,p[K]=r|4|128|8|64,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),pI(p),p[lt]=p[ho]=t,p[un]=n,p[ln]=s||t&&t[ln],p[$e]=c||t&&t[$e],p[so]=u||t&&t[so]||null,p[dn]=o,p[Eu]=bM(),p[eu]=f,p[oI]=l,p[_n]=e.type==2?t[_n]:p,p}function js(t,e,n,r,i){let o=t.data[e];if(o===null)o=hx(t,e,n,r,i),ZA()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=YA();o.injectorIndex=s===null?-1:s.injectorIndex}return ai(o,!0),o}function hx(t,e,n,r,i){let o=_I(),s=Mf(),c=s?o:o&&o.parent,u=t.data[e]=yx(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function lE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function dE(t,e,n,r,i){let o=ci(),s=r&2;try{ei(-1),s&&e.length>zt&&cE(t,e,zt,!1),gn(s?2:0,i),n(r,i)}finally{ei(o),gn(s?3:1,i)}}function qf(t,e,n){if(Tf(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{_e(r)}}}function Gf(t,e,n){gI()&&(Cx(t,e,n,qt(n,e)),(n.flags&64)===64&&mE(t,e,n))}function Wf(t,e,n=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function hE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Kf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Kf(t,e,n,r,i,o,s,c,u,l,f){let p=zt+r,y=p+i,w=fx(p,y),M=typeof l=="function"?l():l;return w[ue]={type:t,blueprint:w,template:n,queries:null,viewQuery:c,declTNode:e,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:f}}function fx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:En);return n}function px(t,e,n,r){let o=r.get(RM,KI)||n===vn.ShadowDom,s=t.selectRootElement(e,o);return mx(s),s}function mx(t){gx(t)}var gx=()=>null;function yx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return WA()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function pw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=Ot.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?mw(r,n,l,c,u):mw(r,n,l,c)}return r}function mw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function vx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=o[f],y=n?n.get(p):null,w=y?y.inputs:null,M=y?y.outputs:null;u=pw(0,p.inputs,f,u,w),l=pw(1,p.outputs,f,l,M);let P=u!==null&&s!==null&&!Ef(e)?Ox(u,f,s):null;c.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function _x(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fE(t,e,n,r,i,o,s,c){let u=qt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Yf(t,n,f,r,i),Cu(e)&&wx(n,e.index)):e.type&3?(r=_x(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function wx(t,e){let n=yr(e,t);n[K]&16||(n[K]|=64)}function Qf(t,e,n,r){if(gI()){let i=r===null?null:{"":-1},o=Dx(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&pE(t,e,n,s,i,c),i&&Tx(n,r,i)}n.mergedAttrs=Ts(n.mergedAttrs,n.attrs)}function pE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Bh(su(n,e),t,r[l].type);Ax(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=lE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Ts(n.mergedAttrs,f.hostAttrs),Mx(t,n,e,u,f),Sx(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}vx(t,n,o)}function Ix(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;Ex(s)!=c&&s.push(c),s.push(n,r,o)}}function Ex(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Cx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Cu(n)&&xx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||su(n,e),pr(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],l=uo(e,t,c,n);if(pr(l,e),s!==null&&Nx(e,c-i,l,u,n,s),fr(u)){let f=yr(n.index,e);f[un]=uo(e,t,c,n)}}}function mE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=eM();try{ei(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];jh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&bx(u,l)}}finally{ei(-1),jh(s)}}function bx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Dx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(lA(e,s.selectors,!1))if(r||(r=[]),fr(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;Kh(t,e,u)}else r.unshift(s),Kh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Kh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Tx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}}function Sx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function Ax(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Mx(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Yr(i.type,!0)),s=new ti(o,fr(i),we);t.blueprint[r]=s,n[r]=s,Ix(t,e,r,lE(t,n,i.hostVars,En),i)}function xx(t,e,n){let r=qt(e,t),i=hE(n),o=t[ln].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=Nu(t,Ru(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function Px(t,e,n,r,i,o){let s=qt(t,e);Rx(e[$e],s,o,t.value,n,r,i)}function Rx(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?vu(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function Nx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],f=s[c++],p=s[c++];uE(r,n,u,l,f,p)}}function Ox(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function gE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function yE(t,e){let n=t.contentQueries;if(n!==null){let r=_e(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];EI(o),c.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function Nu(t,e){return t[Ms]?t[iw][cn]=e:t[Ms]=e,t[iw]=e,e}function Qh(t,e,n){EI(0);let r=_e(null);try{e(t,n)}finally{_e(r)}}function kx(t){return t[As]||(t[As]=[])}function Fx(t){return t.cleanup||(t.cleanup=[])}function vE(t,e){let n=t[so],r=n?n.get(Un,null):null;r&&r.handleError(e)}function Yf(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],l=e[s],f=t.data[s];uE(f,l,r,c,u,i)}}function Vx(t,e,n){let r=dI(e,t);zM(t[$e],r,n)}function Lx(t,e){let n=yr(e,t),r=n[ue];jx(r,n);let i=n[Hn];i!==null&&n[eu]===null&&(n[eu]=Uf(i,n[so])),Jf(r,n,n[un])}function jx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jf(t,e,n){Rf(e);try{let r=t.viewQuery;r!==null&&Qh(1,r,n);let i=t.template;i!==null&&dE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ao]?.finishViewCreation(t),t.staticContentQueries&&yE(t,e),t.staticViewQueries&&Qh(2,t.viewQuery,n);let o=t.components;o!==null&&Ux(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,Nf()}}function Ux(t,e){for(let n=0;n<e.length;n++)Lx(t,e[n])}function Bx(t,e,n,r){let i=_e(null);try{let o=e.tView,c=t[K]&4096?4096:16,u=Ru(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Iu]=l;let f=t[ao];return f!==null&&(u[ao]=f.createEmbeddedView(o)),Jf(o,u,n),u}finally{_e(i)}}function gw(t,e){return!e||e.firstChild===null||$I(t)}function $x(t,e,n,r=!0){let i=e[ue];if(QM(i,e,t,n),r){let s=Wh(n,t),c=e[$e],u=Hf(c,t[Xr]);u!==null&&WM(i,t[dn],c,e,u,s)}let o=e[eu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function uu(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(wn(o)),zn(o)&&Hx(o,r);let s=n.type;if(s&8)uu(t,e,n.child,r);else if(s&32){let c=$f(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=oE(e,n);if(Array.isArray(c))r.push(...c);else{let u=Ps(e[_n]);uu(u[ue],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function Hx(t,e){for(let n=$t;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&uu(r[ue],r,i,e)}t[Xr]!==t[Hn]&&e.push(t[Xr])}var _E=[];function zx(t){return t[Zr]??qx(t)}function qx(t){let e=_E.pop()??Object.create(Wx);return e.lView=t,e}function Gx(t){t.lView[Zr]!==t&&(t.lView=null,_E.push(t))}var Wx=Me($({},zd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xs(t.lView)},consumerOnSignalRead(){this.lView[Zr]=this}}),wE=100;function IE(t,e=!0,n=0){let r=t[ln],i=r.rendererFactory,o=!1;o||i.begin?.();try{Kx(t,n)}catch(s){throw e&&vE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Kx(t,e){Yh(t,e);let n=0;for(;Af(t);){if(n===wE)throw new q(103,!1);n++,Yh(t,1)}}function Qx(t,e,n,r){let i=e[K];if((i&256)===256)return;let o=!1;!o&&e[ln].inlineEffectRunner?.flush(),Rf(e);let s=null,c=null;!o&&Yx(t)&&(c=zx(e),s=l_(c));try{pI(e),JA(t.bindingStartIndex),n!==null&&dE(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Gc(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Wc(e,p,0,null),gh(e,0)}if(Jx(e),EE(e,0),t.contentQueries!==null&&yE(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Gc(e,p)}else{let p=t.contentHooks;p!==null&&Wc(e,p,1),gh(e,1)}dx(t,e);let l=t.components;l!==null&&bE(e,l,0);let f=t.viewQuery;if(f!==null&&Qh(2,f,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Gc(e,p)}else{let p=t.viewHooks;p!==null&&Wc(e,p,2),gh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[mh]){for(let p of e[mh])p();e[mh]=null}o||(e[K]&=-73)}catch(u){throw xs(e),u}finally{c!==null&&(d_(c,s),Gx(c)),Nf()}}function Yx(t){return t.type!==2}function EE(t,e){for(let n=zI(t);n!==null;n=qI(n))for(let r=$t;r<n.length;r++){let i=n[r];CE(i,e)}}function Jx(t){for(let e=zI(t);e!==null;e=qI(e)){if(!(e[K]&Df.HasTransplantedViews))continue;let n=e[nu];for(let r=0;r<n.length;r++){let i=n[r],o=i[lt];BA(i)}}}function Zx(t,e,n){let r=yr(e,t);CE(r,n)}function CE(t,e){Sf(t)&&Yh(t,e)}function Yh(t,e){let r=t[ue],i=t[K],o=t[Zr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&qd(o)),o&&(o.dirty=!1),t[K]&=-9217,s)Qx(r,t,r.template,t[un]);else if(i&8192){EE(t,1);let c=r.components;c!==null&&bE(t,c,1)}}function bE(t,e,n){for(let r=0;r<e.length;r++)Zx(t,e[r],n)}function Zf(t){for(t[ln].changeDetectionScheduler?.notify();t;){t[K]|=64;let e=Ps(t);if(RA(t)&&!e)return t;t=e}return null}var ni=class{get rootNodes(){let e=this._lView,n=e[ue];return uu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[un]}set context(e){this._lView[un]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(zn(e)){let n=e[tu],r=n?n.indexOf(this):-1;r>-1&&(Gh(e,r),Zc(n,r))}this._attachedToViewContainer=!1}rE(this._lView[ue],this._lView)}onDestroy(e){mI(this._lView,e)}markForCheck(){Zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){Lh(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,IE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,tE(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e,Lh(this._lView)}},Ou=(()=>{class t{static{this.__NG_ELEMENT_ID__=tP}}return t})(),Xx=Ou,eP=class extends Xx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Bx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ni(i)}};function tP(){return nP(St(),Ce())}function nP(t,e){return t.type&4?new eP(e,t,Au(t,e)):null}var t4=new RegExp(`^(\\d+)*(${xM}|${MM})*(.*)`);var rP=()=>null;function yw(t,e){return rP(t,e)}var Jh=class{},Zh=class{},lu=class{};function iP(t){let e=Error(`No component factory found for ${wt(t)}.`);return e[oP]=t,e}var oP="ngComponent";var Xh=class{resolveComponentFactory(e){throw iP(e)}},ku=(()=>{class t{static{this.NULL=new Xh}}return t})(),Rs=class{},qn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>sP()}}return t})();function sP(){let t=Ce(),e=St(),n=yr(e.index,t);return(Kr(n)?n:t)[$e]}var aP=(()=>{class t{static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>null})}}return t})(),Ih={};var vw=new Set;function Xf(t){vw.has(t)||(vw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function _w(...t){}function cP(){let t=typeof an.requestAnimationFrame=="function",e=an[t?"requestAnimationFrame":"setTimeout"],n=an[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var De=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dt(!1),this.onMicrotaskEmpty=new Dt(!1),this.onStable=new Dt(!1),this.onError=new Dt(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=cP().nativeRequestAnimationFrame,dP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,uP,_w,_w);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},uP={};function ep(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(an,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ef(t),t.isCheckStableRunning=!0,ep(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ef(t))}function dP(t){let e=()=>{lP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,c)=>{if(hP(c))return n.invokeTask(i,o,s,c);try{return ww(t),n.invokeTask(i,o,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Iw(t)}},onInvoke:(n,r,i,o,s,c,u)=>{try{return ww(t),n.invoke(i,o,s,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Iw(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,ef(t),ep(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function ef(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ww(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Iw(t){t._nesting--,ep(t)}function hP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var DE=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}}return t})();function du(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Mh(i,c);else if(o==2){let u=c,l=e[++s];r=Mh(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var hu=class extends ku{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Jr(e);return new Ns(n,this.ngModule)}};function Ew(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function fP(t){let e=t.toLowerCase();return e==="svg"?FA:e==="math"?VA:null}var tf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=_u(r);let i=this.injector.get(e,Ih,r);return i!==Ih||n===Ih?i:this.parentInjector.get(e,n,r)}},Ns=class extends lu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Ew(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Ew(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=pA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=_e(null);try{i=i||this.ngModule;let s=i instanceof Ht?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new tf(e,s):e,u=c.get(Rs,null);if(u===null)throw new q(407,!1);let l=c.get(aP,null),f=c.get(DE,null),p=c.get(Jh,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},w=u.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",P=r?px(w,r,this.componentDef.encapsulation,c):eE(w,M,fP(M)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let B=null;P!==null&&(B=Uf(P,c,!0));let J=Kf(0,null,null,1,0,null,null,null,null,null,null),W=Ru(null,J,null,R,null,null,y,w,c,null,B);Rf(W);let oe,Pe;try{let ne=this.componentDef,E,g=null;ne.findHostDirectiveDefs?(E=[],g=new Map,ne.findHostDirectiveDefs(ne,E,g),E.push(ne)):E=[ne];let v=pP(W,P),I=mP(v,P,ne,E,W,y,w);Pe=hI(J,zt),P&&vP(w,ne,P,r),n!==void 0&&_P(Pe,this.ngContentSelectors,n),oe=yP(I,ne,E,g,W,[wP]),Jf(J,W,null)}finally{Nf()}return new nf(this.componentType,oe,Au(Pe,W),W,Pe)}finally{_e(o)}}},nf=class extends Zh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ni(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Yf(o[ue],o,i,e,n),this.previousInputValues.set(e,n);let s=yr(this._tNode.index,o);Zf(s)}}get injector(){return new Qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function pP(t,e){let n=t[ue],r=zt;return t[r]=e,js(n,r,2,"#host",null)}function mP(t,e,n,r,i,o,s){let c=i[ue];gP(r,t,e,s);let u=null;e!==null&&(u=Uf(e,i[so]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=Ru(i,hE(n),null,f,i[t.index],t,o,l,null,null,u);return c.firstCreatePass&&Kh(c,t,r.length-1),Nu(i,p),i[t.index]=p}function gP(t,e,n,r){for(let i of t)e.mergedAttrs=Ts(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(du(e,e.mergedAttrs,!0),n!==null&&aE(r,n,e))}function yP(t,e,n,r,i,o){let s=St(),c=i[ue],u=qt(s,i);pE(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let p=s.directiveStart+f,y=uo(i,c,p,s);pr(y,i)}mE(c,i,s),u&&pr(u,i);let l=uo(i,c,s.directiveStart+s.componentOffset,s);if(t[un]=i[un]=l,o!==null)for(let f of o)f(l,e);return qf(c,s,i),l}function vP(t,e,n,r){if(r)Nh(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=mA(e.selectors[0]);i&&Nh(t,n,i),o&&o.length>0&&sE(t,n,o.join(" "))}}function _P(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function wP(){let t=St();Su(Ce()[ue],t)}var _r=(()=>{class t{static{this.__NG_ELEMENT_ID__=IP}}return t})();function IP(){let t=St();return CP(t,Ce())}var EP=_r,TE=class extends EP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Au(this._hostTNode,this._hostLView)}get injector(){return new Qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=kf(this._hostTNode,this._hostLView);if(xI(e)){let n=iu(e,this._hostLView),r=ru(e),i=n[ue].data[r+8];return new Qr(i,n)}else return new Qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Cw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=yw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,gw(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!PA(e),c;if(s)c=n;else{let M=n||{};c=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let u=s?e:new Ns(Jr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Ht,null);P&&(o=P)}let f=Jr(u.componentType??{}),p=yw(this._lContainer,f?.id??null),y=p?.firstChild??null,w=u.create(l,i,y,o);return this.insertImpl(w.hostView,c,gw(this._hostTNode,p)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(UA(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[lt],l=new TE(u,u[dn],u[lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return $x(s,i,o,r),e.attachToViewContainerRef(),$w(Eh(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Cw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Gh(this._lContainer,n);r&&(Zc(Eh(this._lContainer),n),rE(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=Gh(this._lContainer,n);return r&&Zc(Eh(this._lContainer),n)!=null?new ni(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Cw(t){return t[tu]}function Eh(t){return t[tu]||(t[tu]=[])}function CP(t,e){let n,r=e[t.index];return zn(r)?n=r:(n=gE(r,e,null,t),e[t.index]=n,Nu(e,n)),DP(n,e,t,r),new TE(n,t,e)}function bP(t,e){let n=t[$e],r=n.createComment(""),i=qt(e,t),o=Hf(n,i);return cu(n,o,r,nx(n,i),!1),r}var DP=AP,TP=()=>!1;function SP(t,e,n){return TP(t,e,n)}function AP(t,e,n,r){if(t[Xr])return;let i;n.type&8?i=wn(r):i=bP(e,n),t[Xr]=i}function SE(t,e){Xf("NgSignals");let n=v_(t),r=n[Vi];return e?.equal&&(r.equal=e.equal),n.set=i=>Gd(r,i),n.update=i=>__(r,i),n.asReadonly=MP.bind(n),n}function MP(){let t=this[Vi];if(t.readonlyFn===void 0){let e=()=>this();e[Vi]=t,t.readonlyFn=e}return t.readonlyFn}function xP(t){return Object.getPrototypeOf(t.prototype).constructor}function Us(t){let e=xP(t.type),n=!0,r=[t];for(;e;){let i;if(fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Hc(t.inputs),s.inputTransforms=Hc(t.inputTransforms),s.declaredInputs=Hc(t.declaredInputs),s.outputs=Hc(t.outputs);let c=i.hostBindings;c&&kP(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&NP(t,u),l&&OP(t,l),PP(t,i),VS(t.outputs,i.outputs),fr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===Us&&(n=!1)}}e=Object.getPrototypeOf(e)}RP(r)}function PP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function RP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ts(i.hostAttrs,n=Ts(n,i.hostAttrs))}}function Hc(t){return t===ro?{}:t===bt?[]:t}function NP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function OP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function kP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function tp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var mr=class{},Os=class{};var rf=class extends mr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hu(this);let i=Zw(e);this._bootstrapComponents=XI(i.bootstrap),this._r3Injector=jI(e,n,[{provide:mr,useValue:this},{provide:ku,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},of=class extends Os{constructor(e){super(),this.moduleType=e}create(e){return new rf(this.moduleType,e,[])}};var fu=class extends mr{constructor(e){super(),this.componentFactoryResolver=new hu(this),this.instance=null;let n=new Ss([...e.providers,{provide:mr,useValue:this},{provide:ku,useValue:this.componentFactoryResolver}],e.parent||bf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function np(t,e,n=null){return new fu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Fu=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function AE(t){return VP(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function FP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function VP(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function rp(t,e,n){return t[e]=n}function gr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function sf(t,e,n,r){let i=gr(t,e,n);return gr(t,e+1,r)||i}function LP(t,e,n,r,i,o){let s=sf(t,e,n,r);return sf(t,e+2,i,o)||s}function jP(t){return(t.flags&32)===32}function UP(t,e,n,r,i,o,s,c,u){let l=e.consts,f=js(e,t,4,s||null,co(l,c));Qf(e,n,f,co(l,u)),Su(e,f);let p=f.tView=Kf(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Oe(t,e,n,r,i,o,s,c){let u=Ce(),l=ht(),f=t+zt,p=l.firstCreatePass?UP(f,l,u,e,n,r,i,o,s):l.data[f];ai(p,!1);let y=BP(l,u,p,t);Du()&&xu(l,u,y,p),pr(y,u);let w=gE(y,u,y,p);return u[f]=w,Nu(u,w),SP(w,p,u),bu(p)&&Gf(l,u,p),s!=null&&Wf(u,p,c),Oe}var BP=$P;function $P(t,e,n,r){return Tu(!0),e[$e].createComment("")}function Vu(t,e,n,r){let i=Ce(),o=Pf();if(gr(i,o,e)){let s=ht(),c=Of();Px(c,i,t,e,n,r)}return Vu}function ME(t,e,n,r){return gr(t,Pf(),n)?e+vu(n)+r:En}function zc(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function HP(t){return(t&2)==2}function zP(t,e){return t&131071|e<<17}function af(t){return t|2}function lo(t){return(t&131068)>>2}function Ch(t,e){return t&-131069|e<<2}function qP(t){return(t&1)===1}function cf(t){return t|1}function GP(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ri(s),u=lo(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Ls(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=ri(t[c+1]);t[r+1]=zc(y,c),y!==0&&(t[y+1]=Ch(t[y+1],r)),t[c+1]=zP(t[c+1],r)}else t[r+1]=zc(c,0),c!==0&&(t[c+1]=Ch(t[c+1],r)),c=r;else t[r+1]=zc(u,0),c===0?c=r:t[u+1]=Ch(t[u+1],r),u=r;l&&(t[r+1]=af(t[r+1])),bw(t,f,r,!0),bw(t,f,r,!1),WP(e,f,t,r,o),s=zc(c,u),o?e.classBindings=s:e.styleBindings=s}function WP(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ls(o,e)>=0&&(n[r+1]=cf(n[r+1]))}function bw(t,e,n,r){let i=t[n+1],o=e===null,s=r?ri(i):lo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];KP(u,e)&&(c=!0,t[s+1]=r?cf(l):af(l)),s=r?ri(l):lo(l)}c&&(t[n+1]=r?af(i):cf(i))}function KP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ls(t,e)>=0:!1}var sn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QP(t){return t.substring(sn.key,sn.keyEnd)}function YP(t){return JP(t),xE(t,PE(t,0,sn.textEnd))}function xE(t,e){let n=sn.textEnd;return n===e?-1:(e=sn.keyEnd=ZP(t,sn.key=e,n),PE(t,e,n))}function JP(t){sn.key=0,sn.keyEnd=0,sn.value=0,sn.valueEnd=0,sn.textEnd=t.length}function PE(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ZP(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Q(t,e,n){let r=Ce(),i=Pf();if(gr(r,i,e)){let o=ht(),s=Of();fE(o,s,r,t,e,r[$e],n,!1)}return Q}function uf(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Yf(t,n,o[s],s,r)}function rt(t,e){return eR(t,e,null,!0),rt}function RE(t){tR(aR,XP,t,!0)}function XP(t,e){for(let n=YP(e);n>=0;n=xE(e,n))If(t,QP(e),!0)}function eR(t,e,n,r){let i=Ce(),o=ht(),s=II(2);if(o.firstUpdatePass&&OE(o,t,s,r),e!==En&&gr(i,s,e)){let c=o.data[ci()];kE(o,c,i,i[$e],t,i[s+1]=uR(e,n),r,s)}}function tR(t,e,n,r){let i=ht(),o=II(2);i.firstUpdatePass&&OE(i,null,o,r);let s=Ce();if(n!==En&&gr(s,o,n)){let c=i.data[ci()];if(FE(c,r)&&!NE(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=Mh(u,n||"")),uf(i,c,s,n,r)}else cR(i,c,s,s[$e],s[o+1],s[o+1]=sR(t,e,n),r,o)}}function NE(t,e){return e>=t.expandoStartIndex}function OE(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ci()],s=NE(t,n);FE(o,r)&&e===null&&!s&&(e=!1),e=nR(i,o,e,r),GP(i,o,e,n,s,r)}}function nR(t,e,n,r){let i=tM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=bh(null,t,e,n,r),n=ks(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=bh(i,t,e,n,r),o===null){let u=rR(t,e,r);u!==void 0&&Array.isArray(u)&&(u=bh(null,t,e,u[1],r),u=ks(u,e.attrs,r),iR(t,e,r,u))}else o=oR(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function rR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(lo(r)!==0)return t[ri(r)]}function iR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ri(i)]=r}function oR(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ks(r,s,n)}return ks(r,e.attrs,n)}function bh(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=ks(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ks(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),If(t,s,n?!0:e[++o]))}return t===void 0?null:t}function sR(t,e,n){if(n==null||n==="")return bt;let r=[],i=po(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function aR(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&If(t,r,n)}function cR(t,e,n,r,i,o,s,c){i===En&&(i=bt);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let y=u<i.length?i[u+1]:void 0,w=l<o.length?o[l+1]:void 0,M=null,P;f===p?(u+=2,l+=2,y!==w&&(M=p,P=w)):p===null||f!==null&&f<p?(u+=2,M=f):(l+=2,M=p,P=w),M!==null&&kE(t,e,n,r,M,P,s,c),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function kE(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=qP(l)?Dw(u,e,n,i,lo(l),s):void 0;if(!pu(f)){pu(o)||HP(l)&&(o=Dw(u,null,n,i,c,s));let p=dI(ci(),n);ux(r,s,p,i,o)}}function Dw(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=n[i+1];y===En&&(y=p?bt:void 0);let w=p?fh(y,r):f===r?y:void 0;if(l&&!pu(w)&&(w=fh(u,r)),pu(w)&&(c=w,s))return c;let M=t[i+1];i=s?ri(M):lo(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=fh(u,r))}return c}function pu(t){return t!==void 0}function uR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=wt(po(t)))),t}function FE(t,e){return(t.flags&(e?8:16))!==0}function lR(t,e,n,r,i,o){let s=e.consts,c=co(s,i),u=js(e,t,2,r,c);return Qf(e,n,u,co(s,o)),u.attrs!==null&&du(u,u.attrs,!1),u.mergedAttrs!==null&&du(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function T(t,e,n,r){let i=Ce(),o=ht(),s=zt+t,c=i[$e],u=o.firstCreatePass?lR(s,o,i,e,n,r):o.data[s],l=dR(o,i,u,c,e,t);i[s]=l;let f=bu(u);return ai(u,!0),aE(c,l,u),!jP(u)&&Du()&&xu(o,i,l,u),zA()===0&&pr(l,i),qA(),f&&(Gf(o,i,u),qf(o,u,i)),r!==null&&Wf(i,u),T}function x(){let t=St();Mf()?wI():(t=t.parent,ai(t,!1));let e=t;KA(e)&&QA(),GA();let n=ht();return n.firstCreatePass&&(Su(n,t),Tf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&cM(e)&&uf(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&uM(e)&&uf(n,e,Ce(),e.stylesWithoutHost,!1),x}function j(t,e,n,r){return T(t,e,n,r),x(),j}var dR=(t,e,n,r,i,o)=>(Tu(!0),eE(r,i,iM()));function hR(t,e,n,r,i){let o=e.consts,s=co(o,r),c=js(e,t,8,"ng-container",s);s!==null&&du(c,s,!0);let u=co(o,i);return Qf(e,n,c,u),e.queries!==null&&e.queries.elementStart(e,c),c}function Lu(t,e,n){let r=Ce(),i=ht(),o=t+zt,s=i.firstCreatePass?hR(o,i,r,e,n):i.data[o];ai(s,!0);let c=fR(i,r,s,t);return r[o]=c,Du()&&xu(i,r,c,s),pr(c,r),bu(s)&&(Gf(i,r,s),qf(i,s,r)),n!=null&&Wf(r,s),Lu}function ju(){let t=St(),e=ht();return Mf()?wI():(t=t.parent,ai(t,!1)),e.firstCreatePass&&(Su(e,t),Tf(t)&&e.queries.elementEnd(t)),ju}var fR=(t,e,n,r)=>(Tu(!0),qM(e[$e],""));function VE(){return Ce()}var Wr=void 0;function pR(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var mR=["en",[["a","p"],["AM","PM"],Wr],[["AM","PM"],Wr,Wr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wr,"{1} 'at' {0}",Wr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",pR],Dh={};function Uu(t){let e=gR(t),n=Tw(e);if(n)return n;let r=e.split("-")[0];if(n=Tw(r),n)return n;if(r==="en")return mR;throw new q(701,!1)}function Tw(t){return t in Dh||(Dh[t]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[t]),Dh[t]}var li=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(li||{});function gR(t){return t.toLowerCase().replace(/_/g,"-")}var mu="en-US",yR="USD";var vR=mu;function _R(t){typeof t=="string"&&(vR=t.toLowerCase().replace(/_/g,"-"))}function Y(t,e,n,r){let i=Ce(),o=ht(),s=St();return IR(o,i,i[$e],s,t,e,r),Y}function wR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[As],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function IR(t,e,n,r,i,o,s){let c=bu(r),l=t.firstCreatePass&&Fx(t),f=e[un],p=kx(e),y=!0;if(r.type&3||s){let P=qt(r,e),R=s?s(P):P,B=p.length,J=s?oe=>s(wn(oe[r.index])):r.index,W=null;if(!s&&c&&(W=wR(t,e,i,r.index)),W!==null){let oe=W.__ngLastListenerFn__||W;oe.__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,y=!1}else{o=Aw(r,e,f,o,!1);let oe=n.listen(R,i,o);p.push(o,oe),l&&l.push(i,J,B,B+1)}}else o=Aw(r,e,f,o,!1);let w=r.outputs,M;if(y&&w!==null&&(M=w[i])){let P=M.length;if(P)for(let R=0;R<P;R+=2){let B=M[R],J=M[R+1],Pe=e[B][J].subscribe(o),ne=p.length;p.push(o,Pe),l&&l.push(i,r.index,ne,-(ne+1))}}}function Sw(t,e,n,r){let i=_e(null);try{return gn(6,e,n),n(r)!==!1}catch(o){return vE(t,o),!1}finally{gn(7,e,n),_e(i)}}function Aw(t,e,n,r,i){return function o(s){if(s===Function)return r;let c=t.componentOffset>-1?yr(t.index,e):e;Zf(c);let u=Sw(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=Sw(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Cn(t=1){return rM(t)}function wr(t,e,n){return LE(t,"",e,"",n),wr}function LE(t,e,n,r,i){let o=Ce(),s=ME(o,e,n,r);if(s!==En){let c=ht(),u=Of();fE(c,u,o,t,s,o[$e],i,!1)}return LE}function ER(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function k(t,e=""){let n=Ce(),r=ht(),i=t+zt,o=r.firstCreatePass?js(r,i,1,e,null):r.data[i],s=CR(r,n,o,e,t);n[i]=s,Du()&&xu(r,n,s,o),ai(o,!1)}var CR=(t,e,n,r,i)=>(Tu(!0),HM(e[$e],r));function Ye(t){return Je("",t,""),Ye}function Je(t,e,n){let r=Ce(),i=ME(r,t,e,n);return i!==En&&Vx(r,ci(),i),Je}function bR(t,e,n){let r=ht();if(r.firstCreatePass){let i=fr(t);lf(n,r.data,r.blueprint,i,!0),lf(e,r.data,r.blueprint,i,!1)}}function lf(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(let o=0;o<t.length;o++)lf(t[o],e,n,r,i);else{let o=ht(),s=Ce(),c=St(),u=oo(t)?t:_t(t.provide),l=iI(t),f=c.providerIndexes&1048575,p=c.directiveStart,y=c.providerIndexes>>20;if(oo(t)||!t.multi){let w=new ti(l,i,we),M=Sh(u,e,i?f:f+y,p);M===-1?(Bh(su(c,s),o,u),Th(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),s.push(w)):(n[M]=w,s[M]=w)}else{let w=Sh(u,e,f+y,p),M=Sh(u,e,f,f+y),P=w>=0&&n[w],R=M>=0&&n[M];if(i&&!R||!i&&!P){Bh(su(c,s),o,u);let B=SR(i?TR:DR,n.length,i,r,l);!i&&R&&(n[M].providerFactory=B),Th(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(B),s.push(B)}else{let B=jE(n[i?M:w],l,!i&&r);Th(o,t,w>-1?w:M,B)}!i&&r&&R&&n[M].componentProviders++}}}function Th(t,e,n,r){let i=oo(e),o=CA(e);if(i||o){let u=(o?_t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function jE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function DR(t,e,n,r){return df(this.multi,[])}function TR(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=uo(n,n[ue],this.providerFactory.index,r);o=c.slice(0,s),df(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],df(i,o);return o}function df(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function SR(t,e,n,r,i){let o=new ti(t,n,we);return o.multi=[],o.index=e,o.componentProviders=0,jE(o,i,r&&!n),o}function ip(t,e=[]){return n=>{n.providersResolver=(r,i)=>bR(r,i?i(t):t,e)}}var AR=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=tI(!1,n.type),i=r.length>0?np([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(ae(Ht))})}}return t})();function Se(t){Xf("NgStandalone"),t.getStandaloneInjector=e=>e.get(AR).getOrCreateStandaloneInjector(t)}function Bs(t,e,n,r){return MR(Ce(),xf(),t,e,n,r)}function op(t,e){let n=t[e];return n===En?void 0:n}function MR(t,e,n,r,i,o){let s=e+n;return gr(t,s,i)?rp(t,s+1,o?r.call(o,i):r(i)):op(t,s+1)}function xR(t,e,n,r,i,o,s){let c=e+n;return sf(t,c,i,o)?rp(t,c+2,s?r.call(s,i,o):r(i,o)):op(t,c+2)}function PR(t,e,n,r,i,o,s,c,u){let l=e+n;return LP(t,l,i,o,s,c)?rp(t,l+4,u?r.call(u,i,o,s,c):r(i,o,s,c)):op(t,l+4)}function kt(t,e){let n=ht(),r,i=t+zt;n.firstCreatePass?(r=RR(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Yr(r.type,!0)),s,c=Ct(we);try{let u=ou(!1),l=o();return ou(u),ER(n,Ce(),i,l),l}finally{Ct(c)}}function RR(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function UE(t,e,n,r){let i=t+zt,o=Ce(),s=fI(o,i);return BE(o,i)?xR(o,xf(),e,s.transform,n,r,s):s.transform(n,r)}function hn(t,e,n,r,i,o){let s=t+zt,c=Ce(),u=fI(c,s);return BE(c,s)?PR(c,xf(),e,u.transform,n,r,i,o,u):u.transform(n,r,i,o)}function BE(t,e){return t[ue].data[e].pure}var $n=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},$E=new $n("17.3.12"),Bu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var HE=new Z("");function mo(t){return!!t&&typeof t.then=="function"}function zE(t){return!!t&&typeof t.subscribe=="function"}var qE=new Z(""),GE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=O(qE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(mo(o))n.push(o);else if(zE(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sp=new Z("");function NR(){y_(()=>{throw new q(600,!1)})}function OR(t){return t.isBoundToModule}function kR(t,e,n){try{let r=n();return mo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var $s=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(UI),this.afterRenderEffectManager=O(DE),this.externalTestViews=new Set,this.beforeRender=new ut,this.afterTick=new ut,this.componentTypes=[],this.components=[],this.isStable=O(Fu).hasPendingTasks.pipe(fe(n=>!n)),this._injector=O(Ht)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof lu;if(!this._injector.get(GE).done){let y=!i&&Jw(n),w=!1;throw new q(405,w)}let s;i?s=n:s=this._injector.get(ku).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let c=OR(s)?void 0:this._injector.get(mr),u=r||s.selector,l=s.create(Gt.NULL,[],u,c),f=l.location.nativeElement,p=l.injector.get(HE,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Ah(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new q(101,!1);let r=_e(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,_e(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===wE)throw new q(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:c}of this._views)FR(s,o,c)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>hf(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>hf(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ah(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(sp,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ah(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ah(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function FR(t,e,n){!e&&!hf(t)||VR(t,n,e)}function hf(t){return Af(t)}function VR(t,e,n){let r;n?(r=0,t[K]|=1024):t[K]&64?r=0:r=1,IE(t,e,r)}var ff=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ap=(()=>{class t{compileModuleSync(n){return new of(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Zw(n),o=XI(i.declarations).reduce((s,c)=>{let u=Jr(c);return u&&s.push(new Ns(u)),s},[]);return new ff(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var LR=(()=>{class t{constructor(){this.zone=O(De),this.applicationRef=O($s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jR(t){return[{provide:De,useFactory:t},{provide:io,multi:!0,useFactory:()=>{let e=O(LR,{optional:!0});return()=>e.initialize()}},{provide:io,multi:!0,useFactory:()=>{let e=O(HR);return()=>{e.initialize()}}},{provide:UI,useFactory:UR}]}function UR(){let t=O(De),e=O(Un);return n=>t.runOutsideAngular(()=>e.handleError(n))}function BR(t){let e=jR(()=>new De($R(t)));return In([[],e])}function $R(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var HR=(()=>{class t{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=O(De),this.pendingTasks=O(Fu)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function zR(){return typeof $localize<"u"&&$localize.locale||mu}var $u=new Z("",{providedIn:"root",factory:()=>O($u,se.Optional|se.SkipSelf)||zR()}),WE=new Z("",{providedIn:"root",factory:()=>yR});var KE=new Z("");var Qc=null;function qR(t=[],e){return Gt.create({name:e,providers:[{provide:wu,useValue:"platform"},{provide:KE,useValue:new Set([()=>Qc=null])},...t]})}function GR(t=[]){if(Qc)return Qc;let e=qR(t);return Qc=e,NR(),WR(e),e}function WR(t){t.get(Lf,null)?.forEach(n=>n())}var bn=(()=>{class t{static{this.__NG_ELEMENT_ID__=KR}}return t})();function KR(t){return QR(St(),Ce(),(t&16)===16)}function QR(t,e,n){if(Cu(t)&&!n){let r=yr(t.index,e);return new ni(r,r)}else if(t.type&47){let r=e[_n];return new ni(r,e)}return null}var pf=class{constructor(){}supports(e){return AE(e)}create(e){return new mf(e)}},YR=(t,e)=>e,mf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||YR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Mw(r,i,o)?n:r,c=Mw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){let w=y<o.length?o[y]:o[y]=0,M=w+y;f<=M&&M<l&&(o[y]=w+1)}let p=s.previousIndex;o[p]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!AE(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,FP(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new gf(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new gu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},gf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},yf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},gu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new yf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Mw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function xw(){return new cp([new pf])}var cp=(()=>{class t{static{this.\u0275prov=G({token:t,providedIn:"root",factory:xw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||xw()),deps:[[t,new Bw,new dt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new q(901,!1)}}return t})();function QE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=GR(r),o=[BR(),...n||[]],c=new fu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(De);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(Un,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:w=>{l.handleError(w)}})});let p=()=>c.destroy(),y=i.get(KE);return y.add(p),c.onDestroy(()=>{f.unsubscribe(),y.delete(p)}),kR(l,u,()=>{let w=c.get(GE);return w.runInitializers(),w.donePromise.then(()=>{let M=c.get($u,mu);_R(M||mu);let P=c.get($s);return e!==void 0&&P.bootstrap(e),P})})})}catch(e){return Promise.reject(e)}}function go(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var r0=null;function yo(){return r0}function i0(t){r0??=t}var Hu=class{};var Qt=new Z(""),pp=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>O(JR),providedIn:"platform"})}}return t})();var JR=(()=>{class t extends pp{constructor(){super(),this._doc=O(Qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yo().getBaseHref(this._doc)}onPopState(n){let r=yo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=yo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function mp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function YE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Gn(t){return t&&t[0]!=="?"?"?"+t:t}var Ir=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>O(s0),providedIn:"root"})}}return t})(),o0=new Z(""),s0=(()=>{class t extends Ir{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(Qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return mp(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Gn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Gn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Gn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ae(pp),ae(o0,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),a0=(()=>{class t extends Ir{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=mp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Gn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Gn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ae(pp),ae(o0,8))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),qs=(()=>{class t{constructor(n){this._subject=new Dt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=eN(YE(JE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Gn(r))}normalize(n){return t.stripTrailingSlash(XR(this._basePath,JE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Gn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Gn}static{this.joinWithSlash=mp}static{this.stripTrailingSlash=YE}static{this.\u0275fac=function(r){return new(r||t)(ae(Ir))}}static{this.\u0275prov=G({token:t,factory:()=>ZR(),providedIn:"root"})}}return t})();function ZR(){return new qs(ae(Ir))}function XR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function JE(t){return t.replace(/\/index.html$/,"")}function eN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var c0={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},u0=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(u0||{});var Wn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Hs(t,e){let n=Uu(t),r=n[li.NumberSymbols][e];if(typeof r>"u"){if(e===Wn.CurrencyDecimal)return n[li.NumberSymbols][Wn.Decimal];if(e===Wn.CurrencyGroup)return n[li.NumberSymbols][Wn.Group]}return r}function tN(t,e){return Uu(t)[li.NumberFormats][e]}function nN(t){return Uu(t)[li.Currencies]}function rN(t,e,n="en"){let r=nN(n)[t]||c0[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var iN=2;function oN(t){let e,n=c0[t];return n&&(e=n[2]),typeof e=="number"?e:iN}var sN=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ZE=22,zu=".",zs="0",aN=";",cN=",",up="#",XE="\xA4";function uN(t,e,n,r,i,o,s=!1){let c="",u=!1;if(!isFinite(t))c=Hs(n,Wn.Infinity);else{let l=fN(t);s&&(l=hN(l));let f=e.minInt,p=e.minFrac,y=e.maxFrac;if(o){let J=o.match(sN);if(J===null)throw new Error(`${o} is not a valid digit info`);let W=J[1],oe=J[3],Pe=J[5];W!=null&&(f=lp(W)),oe!=null&&(p=lp(oe)),Pe!=null?y=lp(Pe):oe!=null&&p>y&&(y=p)}pN(l,p,y);let w=l.digits,M=l.integerLen,P=l.exponent,R=[];for(u=w.every(J=>!J);M<f;M++)w.unshift(0);for(;M<0;M++)w.unshift(0);M>0?R=w.splice(M,w.length):(R=w,w=[0]);let B=[];for(w.length>=e.lgSize&&B.unshift(w.splice(-e.lgSize,w.length).join(""));w.length>e.gSize;)B.unshift(w.splice(-e.gSize,w.length).join(""));w.length&&B.unshift(w.join("")),c=B.join(Hs(n,r)),R.length&&(c+=Hs(n,i)+R.join("")),P&&(c+=Hs(n,Wn.Exponential)+"+"+P)}return t<0&&!u?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function lN(t,e,n,r,i){let o=tN(e,u0.Currency),s=dN(o,Hs(e,Wn.MinusSign));return s.minFrac=oN(r),s.maxFrac=s.minFrac,uN(t,s,e,Wn.CurrencyGroup,Wn.CurrencyDecimal,i).replace(XE,n).replace(XE,"").trim()}function dN(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(aN),i=r[0],o=r[1],s=i.indexOf(zu)!==-1?i.split(zu):[i.substring(0,i.lastIndexOf(zs)+1),i.substring(i.lastIndexOf(zs)+1)],c=s[0],u=s[1]||"";n.posPre=c.substring(0,c.indexOf(up));for(let f=0;f<u.length;f++){let p=u.charAt(f);p===zs?n.minFrac=n.maxFrac=f+1:p===up?n.maxFrac=f+1:n.posSuf+=p}let l=c.split(cN);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(up);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function hN(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function fN(t){let e=Math.abs(t)+"",n=0,r,i,o,s,c;for((i=e.indexOf(zu))>-1&&(e=e.replace(zu,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===zs;o++);if(o===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===zs;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(e.charAt(o))}return i>ZE&&(r=r.splice(0,ZE-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function pN(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,c=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(c>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,f=r.reduceRight(function(p,y,w,M){return y=y+p,M[w]=y<10?y:y-10,u&&(M[w]===0&&w>=l?M.pop():u=!1),y>=10?1:0},0);f&&(r.unshift(f),t.integerLen++)}function lp(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function l0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var dp=/\s+/,e0=[],d0=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=e0,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(dp):e0}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(dp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(dp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(we(Wt),we(qn))}}static{this.\u0275dir=Tt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Ot.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var hp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Dn=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new hp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),t0(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);t0(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(we(_r),we(Ou),we(cp))}}static{this.\u0275dir=Tt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function t0(t,e){t.context.$implicit=e.item}var At=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new fp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){n0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){n0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(we(_r),we(Ou))}}static{this.\u0275dir=Tt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),fp=class{constructor(){this.$implicit=null,this.ngIf=null}};function n0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}function mN(t,e){return new q(2100,!1)}var Er=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!gN(n))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let c=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?c=rN(c,i==="symbol"?"wide":"narrow",s):c=i);try{let u=yN(n);return lN(u,s,c,r,o)}catch(u){throw mN(t,u.message)}}static{this.\u0275fac=function(r){return new(r||t)(we($u,16),we(WE,16))}}static{this.\u0275pipe=Kw({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function gN(t){return!(t==null||t===""||t!==t)}function yN(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var ke=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({})}}return t})(),h0="browser",vN="server";function gp(t){return t===vN}var qu=class{};var _p=class extends Hu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},wp=class t extends _p{static makeCurrent(){i0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=_N();return n==null?null:wN(n)}resetBaseElement(){Gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return l0(document.cookie,e)}},Gs=null;function _N(){return Gs=Gs||document.querySelector("base"),Gs?Gs.getAttribute("href"):null}function wN(t){return new URL(t,document.baseURI).pathname}var IN=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Ip=new Z(""),g0=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(ae(Ip),ae(De))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Gu=class{constructor(e){this._doc=e}},yp="ng-app-id",y0=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gp(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${yp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(yp),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(yp,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(ae(Qt),ae(Vf),ae(jf,8),ae(vr))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),vp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cp=/%COMP%/g,v0="%COMP%",EN=`_nghost-${v0}`,CN=`_ngcontent-${v0}`,bN=!0,DN=new Z("",{providedIn:"root",factory:()=>bN});function TN(t){return CN.replace(Cp,t)}function SN(t){return EN.replace(Cp,t)}function _0(t,e){return e.map(n=>n.replace(Cp,t))}var f0=(()=>{class t{constructor(n,r,i,o,s,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=gp(c),this.defaultRenderer=new Ws(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vn.ShadowDom&&(r=Me($({},r),{encapsulation:vn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Wu?i.applyToHost(n):i instanceof Ks&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case vn.Emulated:o=new Wu(u,l,r,this.appId,f,s,c,p);break;case vn.ShadowDom:return new Ep(u,l,n,r,s,c,this.nonce,p);default:o=new Ks(u,l,r,f,s,c,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(ae(g0),ae(y0),ae(Vf),ae(DN),ae(Qt),ae(vr),ae(De),ae(jf))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),Ws=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(vp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(p0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(p0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=vp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=vp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bn.DashCase|Bn.Important)?e.style.setProperty(n,r,i&Bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=yo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function p0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ep=class extends Ws{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=_0(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ks=class extends Ws{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?_0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wu=class extends Ks{constructor(e,n,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,c,u,l),this.contentAttr=TN(l),this.hostAttr=SN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},AN=(()=>{class t extends Gu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(ae(Qt))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})(),m0=["alt","control","meta","shift"],MN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},PN=(()=>{class t extends Gu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yo().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),m0.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=MN[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),m0.forEach(s=>{if(s!==i){let c=xN[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(ae(Qt))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac})}}return t})();function w0(t,e){return QE($({rootComponent:t},RN(e)))}function RN(t){return{appProviders:[...VN,...t?.providers??[]],platformProviders:FN}}function NN(){wp.makeCurrent()}function ON(){return new Un}function kN(){return WI(document),document}var FN=[{provide:vr,useValue:h0},{provide:Lf,useValue:NN,multi:!0},{provide:Qt,useFactory:kN,deps:[]}];var VN=[{provide:wu,useValue:"root"},{provide:Un,useFactory:ON,deps:[]},{provide:Ip,useClass:AN,multi:!0,deps:[Qt,De,vr]},{provide:Ip,useClass:PN,multi:!0,deps:[Qt]},f0,y0,g0,{provide:Rs,useExisting:f0},{provide:qu,useClass:IN,deps:[]},[]];var I0=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(ae(Qt))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var re="primary",ua=Symbol("RouteTitle"),Ap=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Eo(t){return new Ap(t)}function jN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s.startsWith(":"))i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function UN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tn(t[n],e[n]))return!1;return!0}function Tn(t,e){let n=t?Mp(t):void 0,r=e?Mp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!S0(t[i],e[i]))return!1;return!0}function Mp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function S0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function A0(t){return t.length>0?t[t.length-1]:null}function Tr(t){return sh(t)?t:mo(t)?We(Promise.resolve(t)):te(t)}var BN={exact:x0,subset:P0},M0={exact:$N,subset:HN,ignored:()=>!0};function E0(t,e,n){return BN[n.paths](t.root,e.root,n.matrixParams)&&M0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function $N(t,e){return Tn(t,e)}function x0(t,e,n){if(!hi(t.segments,e.segments)||!Yu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!x0(t.children[r],e.children[r],n))return!1;return!0}function HN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>S0(t[n],e[n]))}function P0(t,e,n){return R0(t,e,e.segments,n)}function R0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hi(i,n)||e.hasChildren()||!Yu(i,n,r))}else if(t.segments.length===n.length){if(!hi(t.segments,n)||!Yu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!P0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!hi(t.segments,i)||!Yu(t.segments,i,r)||!t.children[re]?!1:R0(t.children[re],e,o,r)}}function Yu(t,e,n){return e.every((r,i)=>M0[n](t[i].parameters,r.parameters))}var Cr=class{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Eo(this.queryParams),this._queryParamMap}toString(){return GN.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ju(this)}},di=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Eo(this.parameters),this._parameterMap}toString(){return O0(this)}};function zN(t,e){return hi(t,e)&&t.every((n,r)=>Tn(n.parameters,e[r].parameters))}function hi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function qN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var tm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>new Xu,providedIn:"root"})}}return t})(),Xu=class{parse(e){let n=new Pp(e);return new Cr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Qs(e.root,!0)}`,r=QN(e.queryParams),i=typeof e.fragment=="string"?`#${WN(e.fragment)}`:"";return`${n}${r}${i}`}},GN=new Xu;function Ju(t){return t.segments.map(e=>O0(e)).join("/")}function Qs(t,e){if(!t.hasChildren())return Ju(t);if(e){let n=t.children[re]?Qs(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${Qs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=qN(t,(r,i)=>i===re?[Qs(t.children[re],!1)]:[`${i}:${Qs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Ju(t)}/${n[0]}`:`${Ju(t)}/(${n.join("//")})`}}function N0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ku(t){return N0(t).replace(/%3B/gi,";")}function WN(t){return encodeURI(t)}function xp(t){return N0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zu(t){return decodeURIComponent(t)}function C0(t){return Zu(t.replace(/\+/g,"%20"))}function O0(t){return`${xp(t.path)}${KN(t.parameters)}`}function KN(t){return Object.entries(t).map(([e,n])=>`;${xp(e)}=${xp(n)}`).join("")}function QN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ku(n)}=${Ku(i)}`).join("&"):`${Ku(n)}=${Ku(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var YN=/^[^\/()?;#]+/;function bp(t){let e=t.match(YN);return e?e[0]:""}var JN=/^[^\/()?;=#]+/;function ZN(t){let e=t.match(JN);return e?e[0]:""}var XN=/^[^=?&#]+/;function eO(t){let e=t.match(XN);return e?e[0]:""}var tO=/^[^&#]+/;function nO(t){let e=t.match(tO);return e?e[0]:""}var Pp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new be(e,n)),r}parseSegment(){let e=bp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new di(Zu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ZN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=bp(this.remaining);i&&(r=i,this.capture(r))}e[Zu(n)]=Zu(r)}parseQueryParam(e){let n=eO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=nO(this.remaining);s&&(r=s,this.capture(r))}let i=C0(n),o=C0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[re]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function k0(t){return t.segments.length>0?new be([],{[re]:t}):t}function F0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=F0(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new be(t.segments,e);return rO(n)}function rO(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new be(t.segments.concat(e.segments),e.children)}return t}function Co(t){return t instanceof Cr}function iO(t,e,n=null,r=null){let i=V0(t);return L0(i,e,n,r)}function V0(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new be(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=k0(r);return e??i}function L0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Dp(i,i,i,n,r);let o=oO(e);if(o.toRoot())return Dp(i,i,new be([],{}),n,r);let s=sO(o,i,t),c=s.processChildren?Zs(s.segmentGroup,s.index,o.commands):U0(s.segmentGroup,s.index,o.commands);return Dp(i,s.segmentGroup,c,n,r)}function el(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ta(t){return typeof t=="object"&&t!=null&&t.outlets}function Dp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=j0(t,e,n);let c=k0(F0(s));return new Cr(c,o,i)}function j0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=j0(o,e,n)}),new be(t.segments,r)}var tl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&el(r[0]))throw new q(4003,!1);let i=r.find(ta);if(i&&i!==A0(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new tl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new tl(n,e,r)}var wo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sO(t,e,n){if(t.isAbsolute)return new wo(e,!0,0);if(!n)return new wo(e,!1,NaN);if(n.parent===null)return new wo(n,!0,0);let r=el(t.commands[0])?0:1,i=n.segments.length-1+r;return aO(n,i,t.numberOfDoubleDots)}function aO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new wo(r,!1,i-o)}function cO(t){return ta(t[0])?t[0].outlets:{[re]:t}}function U0(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return Zs(t,e,n);let r=uO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new be(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new be(t.segments.slice(r.pathIndex),t.children),Zs(o,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?Rp(t,e,n):r.match?Zs(t,0,i):Rp(t,e,n)}function Zs(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=cO(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=Zs(t.children[re],e,n);return new be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=U0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(t.segments,i)}}function uO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(ta(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!D0(u,l,s))return o;r+=2}else{if(!D0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Rp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ta(o)){let u=lO(o.outlets);return new be(r,u)}if(i===0&&el(n[0])){let u=t.segments[e];r.push(new di(u.path,b0(n[0]))),i++;continue}let s=ta(o)?o.outlets[re]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&el(c)?(r.push(new di(s,b0(c))),i+=2):(r.push(new di(s,{})),i++)}return new be(r,{})}function lO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Rp(new be([],{}),0,r))}),e}function b0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function D0(t,e,n){return t==n.path&&Tn(e,n.parameters)}var Xs="imperative",it=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(it||{}),Jt=class{constructor(e,n){this.id=e,this.url=n}},na=class extends Jt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=it.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},br=class extends Jt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=it.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Vt||{}),Np=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Np||{}),Dr=class extends Jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends Jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationSkipped}},ra=class extends Jt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=it.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nl=class extends Jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Op=class extends Jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kp=class extends Jt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=it.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fp=class extends Jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vp=class extends Jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lp=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jp=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Up=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bp=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$p=class{constructor(e){this.snapshot=e,this.type=it.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hp=class{constructor(e){this.snapshot=e,this.type=it.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ia=class{},oa=class{constructor(e){this.url=e}};var zp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cl,this.attachRef=null}},cl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new zp,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=qp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=qp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Gp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gp(e,this._root).map(n=>n.value)}};function qp(t,e){if(t===e.value)return e;for(let n of e.children){let r=qp(t,n);if(r)return r}return null}function Gp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Gp(t,n);if(r.length)return r.unshift(e),r}return[]}var Ft=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _o(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var il=class extends rl{constructor(e,n){super(e),this.snapshot=n,rm(this,e)}toString(){return this.snapshot.toString()}};function B0(t){let e=dO(t),n=new nt([new di("",{})]),r=new nt({}),i=new nt({}),o=new nt({}),s=new nt(""),c=new Kn(n,r,o,s,i,re,t,e.root);return c.snapshot=e.root,new il(new Ft(c,[]),e)}function dO(t){let e={},n={},r={},i="",o=new sa([],e,r,i,n,re,t,null,{});return new ol("",new Ft(o,[]))}var Kn=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(fe(l=>l[ua]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(fe(e=>Eo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(fe(e=>Eo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:$($({},e.params),t.params),data:$($({},e.data),t.data),resolve:$($($($({},t.data),e.data),i?.data),t._resolvedData)}:r={params:$({},t.params),data:$({},t.data),resolve:$($({},t.data),t._resolvedData??{})},i&&H0(i)&&(r.resolve[ua]=i.title),r}var sa=class{get title(){return this.data?.[ua]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Eo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Eo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ol=class extends rl{constructor(e,n){super(n),this.url=e,rm(this,n)}toString(){return $0(this._root)}};function rm(t,e){e.value._routerState=t,e.children.forEach(n=>rm(t,n))}function $0(t){let e=t.children.length>0?` { ${t.children.map($0).join(", ")} } `:"";return`${t.value}${e}`}function Tp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Tn(e.params,n.params)||t.paramsSubject.next(n.params),UN(e.url,n.url)||t.urlSubject.next(n.url),Tn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Wp(t,e){let n=Tn(t.params,e.params)&&zN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Wp(t.parent,e.parent))}function H0(t){return typeof t.title=="string"||t.title===null}var im=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Dt,this.deactivateEvents=new Dt,this.attachEvents=new Dt,this.detachEvents=new Dt,this.parentContexts=O(cl),this.location=O(_r),this.changeDetector=O(bn),this.environmentInjector=O(Ht),this.inputBinder=O(om,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Kp(n,c,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Tt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fo]})}}return t})(),Kp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Kn?this.route:e===cl?this.childContexts:this.parent.get(e,n)}},om=new Z("");function hO(t,e,n){let r=aa(t,e._root,n?n._root:void 0);return new il(r,e)}function aa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=fO(t,e,n);return new Ft(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>aa(t,c)),s}}let r=pO(e.value),i=e.children.map(o=>aa(t,o));return new Ft(r,i)}}function fO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return aa(t,r,i);return aa(t,r)})}function pO(t){return new Kn(new nt(t.url),new nt(t.params),new nt(t.queryParams),new nt(t.fragment),new nt(t.data),t.outlet,t.component,t)}var z0="ngNavigationCancelingError";function q0(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=G0(!1,Vt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function G0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[z0]=!0,n.cancellationCode=e,n}function mO(t){return W0(t)&&Co(t.url)}function W0(t){return!!t&&t[z0]}var gO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["ng-component"]],standalone:!0,features:[Se],decls:1,vars:0,template:function(r,i){r&1&&j(0,"router-outlet")},dependencies:[im],encapsulation:2})}}return t})();function yO(t,e){return t.providers&&!t._injector&&(t._injector=np(t.providers,e,`Route: ${t.path}`)),t._injector??e}function sm(t){let e=t.children&&t.children.map(sm),n=e?Me($({},t),{children:e}):$({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=gO),n}function Sn(t){return t.outlet||re}function vO(t,e){let n=t.filter(r=>Sn(r)===e);return n.push(...t.filter(r=>Sn(r)!==e)),n}function la(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var _O=(t,e,n,r)=>fe(i=>(new Qp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Qp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Tp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_o(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_o(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Hp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Bp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Tp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Tp(c.route.value),this.activateChildRoutes(e,null,s.children)}else{let c=la(i.snapshot);s.attachRef=null,s.route=i,s.injector=c,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},sl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Io=class{constructor(e,n){this.component=e,this.route=n}};function wO(t,e,n){let r=t._root,i=e?e._root:null;return Ys(r,i,n,[r.value])}function IO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Do(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Ow(t)?t:e.get(t):r}function Ys(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_o(e);return t.children.forEach(s=>{EO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ea(c,n.getContext(s),i)),i}function EO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=CO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ys(t,e,c?c.children:null,r,i):Ys(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Io(c.outlet.component,s))}else s&&ea(e,c,i),i.canActivateChecks.push(new sl(r)),o.component?Ys(t,null,c?c.children:null,r,i):Ys(t,null,n,r,i);return i}function CO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(t.url,e.url)||!Tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wp(t,e)||!Tn(t.queryParams,e.queryParams);case"paramsChange":default:return!Wp(t,e)}}function ea(t,e,n){let r=_o(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ea(s,e.children.getContext(o),n):ea(s,null,n):ea(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Io(e.outlet.component,i)):n.canDeactivateChecks.push(new Io(null,i)):n.canDeactivateChecks.push(new Io(null,i))}function da(t){return typeof t=="function"}function bO(t){return typeof t=="boolean"}function DO(t){return t&&da(t.canLoad)}function TO(t){return t&&da(t.canActivate)}function SO(t){return t&&da(t.canActivateChild)}function AO(t){return t&&da(t.canDeactivate)}function MO(t){return t&&da(t.canMatch)}function K0(t){return t instanceof Ln||t?.name==="EmptyError"}var Qu=Symbol("INITIAL_VALUE");function bo(){return rn(t=>Lc(t.map(e=>e.pipe(jn(1),dh(Qu)))).pipe(fe(e=>{for(let n of e)if(n!==!0){if(n===Qu)return Qu;if(n===!1||n instanceof Cr)return n}return!0}),nn(e=>e!==Qu),jn(1)))}function xO(t,e){return Ke(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?te(Me($({},n),{guardsResult:!0})):PO(s,r,i,t).pipe(Ke(c=>c&&bO(c)?RO(r,o,t,e):te(c)),fe(c=>Me($({},n),{guardsResult:c})))})}function PO(t,e,n,r){return We(t).pipe(Ke(i=>VO(i.component,i.route,n,e,r)),mn(i=>i!==!0,!0))}function RO(t,e,n,r){return We(e).pipe(Yi(i=>Qi(OO(i.route.parent,r),NO(i.route,r),FO(t,i.path,n),kO(t,i.route,n))),mn(i=>i!==!0,!0))}function NO(t,e){return t!==null&&e&&e(new $p(t)),te(!0)}function OO(t,e){return t!==null&&e&&e(new Up(t)),te(!0)}function kO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>jc(()=>{let s=la(e)??n,c=Do(o,s),u=TO(c)?c.canActivate(e,t):si(s,()=>c(e,t));return Tr(u).pipe(mn())}));return te(i).pipe(bo())}function FO(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>IO(s)).filter(s=>s!==null).map(s=>jc(()=>{let c=s.guards.map(u=>{let l=la(s.node)??n,f=Do(u,l),p=SO(f)?f.canActivateChild(r,t):si(l,()=>f(r,t));return Tr(p).pipe(mn())});return te(c).pipe(bo())}));return te(o).pipe(bo())}function VO(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(c=>{let u=la(e)??i,l=Do(c,u),f=AO(l)?l.canDeactivate(t,e,n,r):si(u,()=>l(t,e,n,r));return Tr(f).pipe(mn())});return te(s).pipe(bo())}function LO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let c=Do(s,t),u=DO(c)?c.canLoad(e,n):si(t,()=>c(e,n));return Tr(u)});return te(o).pipe(bo(),Q0(r))}function Q0(t){return Zd(Qe(e=>{if(Co(e))throw q0(t,e)}),fe(e=>e===!0))}function jO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let c=Do(s,t),u=MO(c)?c.canMatch(e,n):si(t,()=>c(e,n));return Tr(u)});return te(o).pipe(bo(),Q0(r))}var ca=class{constructor(e){this.segmentGroup=e||null}},al=class extends Error{constructor(e){super(),this.urlTree=e}};function vo(t){return Ki(new ca(t))}function UO(t){return Ki(new q(4e3,!1))}function BO(t){return Ki(G0(!1,Vt.GuardRejected))}var Yp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[re])return UO(e.redirectTo);i=i.children[re]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new al(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Cr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Jp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $O(t,e,n,r,i){let o=am(t,e,n);return o.matched?(r=yO(e,r),jO(r,e,n,i).pipe(fe(s=>s===!0?o:$({},Jp)))):te(o)}function am(t,e,n){if(e.path==="**")return HO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?$({},Jp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||jN)(n,t,e);if(!i)return $({},Jp);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?$($({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HO(t){return{matched:!0,parameters:t.length>0?A0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function T0(t,e,n,r){return n.length>0&&GO(t,n,r)?{segmentGroup:new be(e,qO(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&WO(t,n,r)?{segmentGroup:new be(t.segments,zO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function zO(t,e,n,r){let i={};for(let o of n)if(ul(t,e,o)&&!r[Sn(o)]){let s=new be([],{});i[Sn(o)]=s}return $($({},r),i)}function qO(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&Sn(r)!==re){let i=new be([],{});n[Sn(r)]=i}return n}function GO(t,e,n){return n.some(r=>ul(t,e,r)&&Sn(r)!==re)}function WO(t,e,n){return n.some(r=>ul(t,e,r))}function ul(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function KO(t,e,n,r){return Sn(t)!==r&&(r===re||!ul(e,n,t))?!1:am(e,t,n).matched}function QO(t,e,n){return e.length===0&&!t.children[n]}var Zp=class{};function YO(t,e,n,r,i,o,s="emptyOnly"){return new Xp(t,e,n,r,i,s,o).recognize()}var JO=31,Xp=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Yp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=T0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(fe(n=>{let r=new sa([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new Ft(r,n),o=new ol("",i),s=iO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,re).pipe(ur(r=>{if(r instanceof al)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ca?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=nm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(fe(o=>o instanceof Ft?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return We(i).pipe(Yi(o=>{let s=r.children[o],c=vO(n,o);return this.processSegmentGroup(e,c,s,o)}),lh((o,s)=>(o.push(...s),o)),lr(null),uh(),Ke(o=>{if(o===null)return vo(r);let s=Y0(o);return ZO(s),te(s)}))}processSegment(e,n,r,i,o,s){return We(n).pipe(Yi(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s).pipe(ur(u=>{if(u instanceof ca)return te(null);throw u}))),mn(c=>!!c),ur(c=>{if(K0(c))return QO(r,i,o)?te(new Zp):vo(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,c){return KO(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):vo(i):vo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=am(n,i,o);if(!c)return vo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JO&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ke(y=>this.processSegment(e,r,n,y.concat(f),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=$O(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(rn(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(rn(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:y}=c,w=new sa(f,y,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,e1(r),Sn(r),r.component??r._loadedComponent??null,r,t1(r)),{segmentGroup:M,slicedSegments:P}=T0(n,f,p,u);if(P.length===0&&M.hasChildren())return this.processChildren(l,u,M).pipe(fe(B=>B===null?null:new Ft(w,B)));if(u.length===0&&P.length===0)return te(new Ft(w,[]));let R=Sn(r)===o;return this.processSegment(l,u,M,P,R?re:o,!0).pipe(fe(B=>new Ft(w,B instanceof Ft?[B]:[])))}))):vo(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):LO(e,n,r,this.urlSerializer).pipe(Ke(i=>i?this.configLoader.loadChildren(e,n).pipe(Qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):BO(n))):te({routes:[],injector:e})}};function ZO(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function XO(t){let e=t.value.routeConfig;return e&&e.path===""}function Y0(t){let e=[],n=new Set;for(let r of t){if(!XO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Y0(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!n.has(r))}function e1(t){return t.data||{}}function t1(t){return t.resolve||{}}function n1(t,e,n,r,i,o){return Ke(s=>YO(t,e,n,r,s.extractedUrl,i,o).pipe(fe(({state:c,tree:u})=>Me($({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function r1(t,e){return Ke(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of J0(u))s.add(l);let c=0;return We(s).pipe(Yi(u=>o.has(u)?i1(u,r,t,e):(u.data=nm(u,u.parent,t).resolve,te(void 0))),Qe(()=>c++),Ji(1),Ke(u=>c===s.size?te(n):Nt))})}function J0(t){let e=t.children.map(n=>J0(n)).flat();return[t,...e]}function i1(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!H0(i)&&(o[ua]=i.title),o1(o,t,e,r).pipe(fe(s=>(t._resolvedData=s,t.data=nm(t,t.parent,n).resolve,null)))}function o1(t,e,n,r){let i=Mp(t);if(i.length===0)return te({});let o={};return We(i).pipe(Ke(s=>s1(t[s],e,n,r).pipe(mn(),Qe(c=>{o[s]=c}))),Ji(1),ch(o),ur(s=>K0(s)?Nt:Ki(s)))}function s1(t,e,n,r){let i=la(e)??r,o=Do(t,i),s=o.resolve?o.resolve(e,n):si(i,()=>o(e,n));return Tr(s)}function Sp(t){return rn(e=>{let n=t(e);return n?We(n).pipe(fe(()=>e)):te(e)})}var Z0=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[ua]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>O(a1),providedIn:"root"})}}return t})(),a1=(()=>{class t extends Z0{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(ae(I0))}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cm=new Z("",{providedIn:"root",factory:()=>({})}),um=new Z(""),c1=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(ap)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return te(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Tr(n.loadComponent()).pipe(fe(X0),Qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Cs(()=>{this.componentLoaders.delete(n)})),i=new zi(r,()=>new ut).pipe(Hi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=u1(r,this.compiler,n,this.onLoadEndListener).pipe(Cs(()=>{this.childrenLoaders.delete(r)})),s=new zi(o,()=>new ut).pipe(Hi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function u1(t,e,n,r){return Tr(t.loadChildren()).pipe(fe(X0),Ke(i=>i instanceof Os||Array.isArray(i)?te(i):We(e.compileModuleAsync(i))),fe(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(um,[],{optional:!0,self:!0}).flat()),{routes:s.map(sm),injector:o}}))}function l1(t){return t&&typeof t=="object"&&"default"in t}function X0(t){return l1(t)?t.default:t}var lm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>O(d1),providedIn:"root"})}}return t})(),d1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),h1=new Z("");var f1=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=O(c1),this.environmentInjector=O(Ht),this.urlSerializer=O(tm),this.rootContexts=O(cl),this.location=O(qs),this.inputBindingEnabled=O(om,{optional:!0})!==null,this.titleStrategy=O(Z0),this.options=O(cm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(lm),this.createViewTransition=O(h1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Lp(i)),r=i=>this.events.next(new jp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Me($($({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new nt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xs,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nn(o=>o.id!==0),fe(o=>Me($({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),rn(o=>{let s=!1,c=!1;return te(o).pipe(rn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Vt.SupersededByNewNavigation),Nt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Me($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new fi(u.id,this.urlSerializer.serialize(u.rawUrl),p,Np.IgnoredSameUrlNavigation)),u.resolve(null),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return te(u).pipe(rn(p=>{let y=this.transitions?.getValue();return this.events.next(new na(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?Nt:Promise.resolve(p)}),n1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Me($({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new nl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:w,restoredState:M,extras:P}=u,R=new na(p,this.urlSerializer.serialize(y),w,M);this.events.next(R);let B=B0(this.rootComponentType).snapshot;return this.currentTransition=o=Me($({},u),{targetSnapshot:B,urlAfterRedirects:y,extras:Me($({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,te(o)}else{let p="";return this.events.next(new fi(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Np.IgnoredByUrlHandlingStrategy)),u.resolve(null),Nt}}),Qe(u=>{let l=new Op(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),fe(u=>(this.currentTransition=o=Me($({},u),{guards:wO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),xO(this.environmentInjector,u=>this.events.next(u)),Qe(u=>{if(o.guardsResult=u.guardsResult,Co(u.guardsResult))throw q0(this.urlSerializer,u.guardsResult);let l=new kp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),nn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Vt.GuardRejected),!1)),Sp(u=>{if(u.guards.canActivateChecks.length)return te(u).pipe(Qe(l=>{let f=new Fp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),rn(l=>{let f=!1;return te(l).pipe(r1(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",Vt.NoDataFromResolver)}}))}),Qe(l=>{let f=new Vp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),Sp(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Qe(y=>{f.component=y}),fe(()=>{})));for(let y of f.children)p.push(...l(y));return p};return Lc(l(u.targetSnapshot.root)).pipe(lr(null),jn(1))}),Sp(()=>this.afterPreactivation()),rn(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?We(f).pipe(fe(()=>o)):te(o)}),fe(u=>{let l=hO(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Me($({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Qe(()=>{this.events.next(new ia)}),_O(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),jn(1),Qe({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new br(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),hh(this.transitionAbortSubject.pipe(Qe(u=>{throw u}))),Cs(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ur(u=>{if(c=!0,W0(u))this.events.next(new Dr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),mO(u)?this.events.next(new oa(u.url)):o.resolve(!1);else{this.events.next(new ra(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Nt}))}))}cancelNavigationTransition(n,r,i){let o=new Dr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function p1(t){return t!==Xs}var m1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>O(g1),providedIn:"root"})}}return t})(),em=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},g1=(()=>{class t extends em{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),eC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:()=>O(y1),providedIn:"root"})}}return t})(),y1=(()=>{class t extends eC{constructor(){super(...arguments),this.location=O(qs),this.urlSerializer=O(tm),this.options=O(cm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(lm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=B0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof na)this.stateMemento=this.createStateMemento();else if(n instanceof fi)this.rawUrlTree=r.initialUrl;else if(n instanceof nl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof ia?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Dr&&(n.code===Vt.GuardRejected||n.code===Vt.NoDataFromResolver)?this.restoreHistory(r):n instanceof ra?this.restoreHistory(r,!0):n instanceof br&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=$($({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=$($({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Js=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Js||{});function v1(t,e){t.events.pipe(nn(n=>n instanceof br||n instanceof Dr||n instanceof ra||n instanceof fi),fe(n=>n instanceof br||n instanceof fi?Js.COMPLETE:(n instanceof Dr?n.code===Vt.Redirect||n.code===Vt.SupersededByNewNavigation:!1)?Js.REDIRECTING:Js.FAILED),nn(n=>n!==Js.REDIRECTING),jn(1)).subscribe(()=>{e()})}function _1(t){throw t}var w1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},I1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Lt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(Bu),this.stateManager=O(eC),this.options=O(cm,{optional:!0})||{},this.pendingTasks=O(Fu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(f1),this.urlSerializer=O(tm),this.location=O(qs),this.urlHandlingStrategy=O(lm),this._events=new ut,this.errorHandler=this.options.errorHandler||_1,this.navigated=!1,this.routeReuseStrategy=O(m1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(um,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(om,{optional:!0}),this.eventsSubscription=new Ue,this.isNgZoneEnabled=O(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Dr&&r.code!==Vt.Redirect&&r.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof br)this.navigated=!0;else if(r instanceof oa){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||p1(i.source)};this.scheduleNavigation(s,Xs,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}C1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=$({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(sm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c){case"merge":f=$($({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=V0(y)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return L0(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Co(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xs,null,r)}navigate(n,r={skipLocationChange:!1}){return E1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=$({},w1):r===!1?i=$({},I1):i=r,Co(n))return E0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return E0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{c=p,u=y});let f=this.pendingTasks.add();return v1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function E1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}function C1(t){return!(t instanceof ia)&&!(t instanceof oa)}var To=(()=>{class t{constructor(n,r,i,o,s,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ut,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:YI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(we(Lt),we(Kn),Ff("tabindex"),we(qn),we(Wt),we(Ir))}}static{this.\u0275dir=Tt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Y("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Vu("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ot.HasDecoratorInputTransform,"preserveFragment","preserveFragment",go],skipLocationChange:[Ot.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",go],replaceUrl:[Ot.HasDecoratorInputTransform,"replaceUrl","replaceUrl",go],routerLink:"routerLink"},standalone:!0,features:[tp,fo]})}}return t})();var b1=new Z("");function tC(t,...e){return In([{provide:um,multi:!0,useValue:t},[],{provide:Kn,useFactory:D1,deps:[Lt]},{provide:sp,multi:!0,useFactory:S1},e.map(n=>n.\u0275providers)])}function D1(t){return t.routerState.root}function T1(t,e){return{\u0275kind:t,\u0275providers:e}}function S1(){let t=O(Gt);return e=>{let n=t.get($s);if(e!==n.components[0])return;let r=t.get(Lt),i=t.get(A1);t.get(M1)===1&&r.initialNavigation(),t.get(x1,null,se.Optional)?.setUpPreloading(),t.get(b1,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var A1=new Z("",{factory:()=>new ut}),M1=new Z("",{providedIn:"root",factory:()=>1});var x1=new Z("");function nC(){return T1(6,[{provide:Ir,useClass:a0}])}function P1(t,e){if(t&1&&j(0,"i",2),t&2){let n=Cn();RE(n.iconClasses)}}var Sr=(()=>{class t{constructor(n){this.viewContainerRef=n,this.clicked=new Dt}ngOnInit(){this.viewContainerRef.element.nativeElement.addEventListener("click",r=>{this.clicked.emit(r)})}static{this.\u0275fac=function(r){return new(r||t)(we(_r))}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-button"]],inputs:{iconClasses:"iconClasses",text:"text"},outputs:{clicked:"clicked"},standalone:!0,features:[Se],decls:3,vars:2,consts:[["class","icon",3,"class",4,"ngIf"],[1,"text"],[1,"icon"]],template:function(r,i){r&1&&(Oe(0,P1,1,2,"i",0),T(1,"div",1),k(2),x()),r&2&&(Q("ngIf",i.iconClasses),L(2),Ye(i.text))},dependencies:[ke,At],styles:['[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative;padding:1rem;color:var(--white-primary);gap:1rem}[_nghost-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]:hover:before{opacity:1}[_nghost-%COMP%]:hover{border-color:#000}[_nghost-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.icon[_ngcontent-%COMP%]{z-index:4}.text[_ngcontent-%COMP%]{z-index:4;transition:color .2s ease-in}']})}}return t})();function R1(t,e){t&1&&(T(0,"div",12),j(1,"img",13),x())}var ll=(()=>{class t{constructor(){this.imageLoaded=!1,this.router=O(Lt)}onImageLoad(){this.imageLoaded=!0}showDesign(){this.router.navigate(["/design",this.design.id])}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-home-card"]],inputs:{design:"design"},standalone:!0,features:[Se],decls:19,vars:10,consts:[[3,"click"],["loading","lazy",1,"card",3,"load","src","alt"],["class","loader",4,"ngIf"],[1,"info",3,"click"],[1,"row","basic-info"],[1,"name"],[1,"price"],[1,"row","tags"],[1,"tag"],[1,"row","bottom"],[1,"click"],["iconClasses","fas fa-basket-shopping","text","Dodaj u korpu",3,"click"],[1,"loader"],["src","assets/current-wave-skeleton.svg","alt","Loading..."]],template:function(r,i){r&1&&(T(0,"div",0),Y("click",function(){return i.showDesign()}),T(1,"img",1),Y("load",function(){return i.onImageLoad()}),x()(),Oe(2,R1,2,0,"div",2),T(3,"div",3),Y("click",function(){return i.showDesign()}),T(4,"div",4)(5,"div",5),k(6),x(),T(7,"div",6),k(8),kt(9,"currency"),x()(),T(10,"div",7)(11,"div",8),k(12),x(),T(13,"div",8),k(14),x()(),T(15,"div",9)(16,"div",10),k(17,"(Klikni za jo\u0161 informacija)"),x(),T(18,"cw-button",11),Y("click",function(){return i.showDesign()}),x()()()),r&2&&(L(),wr("alt",i.design.name),Q("src",i.design.image,Kt),L(),Q("ngIf",!i.imageLoaded),L(4),Ye(i.design.name),L(2),Ye(UE(9,7,i.design.price,"RSD")),L(4),Ye(i.design.category),L(2),Ye(i.design.type))},dependencies:[Sr,ke,At,Er],styles:["[_nghost-%COMP%]{width:100%;position:relative;transition:.2s ease;border-radius:.8rem}[_nghost-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}[_nghost-%COMP%]:hover   .info[_ngcontent-%COMP%]{height:max(13rem,30%);background-color:var(--white-primary)}.card[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{border-radius:.8rem;width:100%;overflow:hidden}.info[_ngcontent-%COMP%]{position:absolute;bottom:0;height:0px;background-color:var(--white-primary);width:100%;border-radius:.8rem;padding-inline:1rem;box-sizing:border-box;overflow:hidden;display:flex;flex-direction:column;transition:.4s ease-in-out;-webkit-user-select:none;user-select:none}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.name[_ngcontent-%COMP%]{flex-grow:1;padding:5px}.basic-info[_ngcontent-%COMP%]{border-bottom:1px solid black;padding-bottom:5px;margin-top:2rem}.price[_ngcontent-%COMP%]{background:var(--gradient-primary);color:var(--white-primary);display:flex;justify-content:center;align-items:center;padding:5px;border-radius:5px}.tags[_ngcontent-%COMP%]{margin-top:5px;justify-content:start;gap:3px;font-family:var(--ff-secondary)}.tag[_ngcontent-%COMP%]{background-color:var(--clr-primary-700);padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-300);color:var(--white-primary)}.bottom[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:2rem}.click[_ngcontent-%COMP%]{color:var(--white-primary-transparent);font-family:var(--ff-secondary);opacity:.5;font-size:var(--fs-300)}a[_ngcontent-%COMP%]{text-decoration:none;height:100%}"]})}}return t})();var iC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},oC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|l>>6,w=l&63;u||(w=64,s||(y=64)),r.push(n[f],n[p],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new hm;let y=o<<2|c>>4;if(r.push(y),l!==64){let w=c<<4&240|l>>2;if(r.push(w),p!==64){let M=l<<6&192|p;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},hm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},O1=function(t){let e=iC(t);return oC.encodeByteArray(e,!0)},ha=function(t){return O1(t).replace(/\./g,"")},pm=function(t){try{return oC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function k1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var F1=()=>k1().__FIREBASE_DEFAULTS__,V1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&pm(t[1]);return e&&JSON.parse(e)},hl=()=>{try{return F1()||V1()||L1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sC=t=>{var e,n;return(n=(e=hl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fl=t=>{let e=sC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mm=()=>{var t;return(t=hl())===null||t===void 0?void 0:t.config},aC=t=>{var e;return(e=hl())===null||e===void 0?void 0:e[`_${t}`]};var dl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function cC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ha(JSON.stringify(n)),ha(JSON.stringify(s)),""].join(".")}function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function j1(){var t;let e=(t=hl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fC(){return!j1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gm(){try{return typeof indexedDB=="object"}catch{return!1}}function pC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var U1="FirebaseError",jt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=U1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qn.prototype.create)}},Qn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?B1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new jt(i,c,r)}};function B1(t,e){return t.replace($1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var $1=/\{\$([^}]+)}/g;function So(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(rC(o)&&rC(s)){if(!So(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function rC(t){return t!==null&&typeof t=="object"}function ym(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mC(t,e){let n=new fm(t,e);return n.subscribe.bind(n)}var fm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=dm),i.error===void 0&&(i.error=dm),i.complete===void 0&&(i.complete=dm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function H1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dm(){}var Oq=4*60*60*1e3;function Mt(t){return t&&t._delegate?t._delegate:t}var xt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var pi="[DEFAULT]";var vm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new dl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q1(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function z1(t){return t===pi?void 0:t}function q1(t){return t.instantiationMode==="EAGER"}var pl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new vm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var G1=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),W1={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},K1=le.INFO,Q1={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},Y1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Q1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ar=class{constructor(e){this.name=e,this._logLevel=K1,this._logHandler=Y1,this._userLogHandler=null,G1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var J1=(t,e)=>e.some(n=>t instanceof n),gC,yC;function Z1(){return gC||(gC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X1(){return yC||(yC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vC=new WeakMap,wm=new WeakMap,_C=new WeakMap,_m=new WeakMap,Em=new WeakMap;function ek(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(An(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&vC.set(n,t)}).catch(()=>{}),Em.set(e,t),e}function tk(t){if(wm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});wm.set(t,e)}var Im={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_C.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wC(t){Im=t(Im)}function nk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ml(this),e,...n);return _C.set(r,e.sort?e.sort():[e]),An(r)}:X1().includes(t)?function(...e){return t.apply(ml(this),e),An(vC.get(this))}:function(...e){return An(t.apply(ml(this),e))}}function rk(t){return typeof t=="function"?nk(t):(t instanceof IDBTransaction&&tk(t),J1(t,Z1())?new Proxy(t,Im):t)}function An(t){if(t instanceof IDBRequest)return ek(t);if(_m.has(t))return _m.get(t);let e=rk(t);return e!==t&&(_m.set(t,e),Em.set(e,t)),e}var ml=t=>Em.get(t);function EC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=An(s);return r&&s.addEventListener("upgradeneeded",u=>{r(An(s.result),u.oldVersion,u.newVersion,An(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var ik=["get","getKey","getAll","getAllKeys","count"],ok=["put","add","delete","clear"],Cm=new Map;function IC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ok.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ik.includes(n)))return;let o=function(s,...c){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Cm.set(e,o),o}wC(t=>Me($({},t),{get:(e,n,r)=>IC(e,n)||t.get(e,n,r),has:(e,n)=>!!IC(e,n)||t.has(e,n)}));var Dm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function sk(t){let e=t.getComponent();return e?.type==="VERSION"}var Tm="@firebase/app",CC="0.10.13";var Yn=new Ar("@firebase/app"),ak="@firebase/app-compat",ck="@firebase/analytics-compat",uk="@firebase/analytics",lk="@firebase/app-check-compat",dk="@firebase/app-check",hk="@firebase/auth",fk="@firebase/auth-compat",pk="@firebase/database",mk="@firebase/data-connect",gk="@firebase/database-compat",yk="@firebase/functions",vk="@firebase/functions-compat",_k="@firebase/installations",wk="@firebase/installations-compat",Ik="@firebase/messaging",Ek="@firebase/messaging-compat",Ck="@firebase/performance",bk="@firebase/performance-compat",Dk="@firebase/remote-config",Tk="@firebase/remote-config-compat",Sk="@firebase/storage",Ak="@firebase/storage-compat",Mk="@firebase/firestore",xk="@firebase/vertexai-preview",Pk="@firebase/firestore-compat",Rk="firebase",Nk="10.14.1";var Sm="[DEFAULT]",Ok={[Tm]:"fire-core",[ak]:"fire-core-compat",[uk]:"fire-analytics",[ck]:"fire-analytics-compat",[dk]:"fire-app-check",[lk]:"fire-app-check-compat",[hk]:"fire-auth",[fk]:"fire-auth-compat",[pk]:"fire-rtdb",[mk]:"fire-data-connect",[gk]:"fire-rtdb-compat",[yk]:"fire-fn",[vk]:"fire-fn-compat",[_k]:"fire-iid",[wk]:"fire-iid-compat",[Ik]:"fire-fcm",[Ek]:"fire-fcm-compat",[Ck]:"fire-perf",[bk]:"fire-perf-compat",[Dk]:"fire-rc",[Tk]:"fire-rc-compat",[Sk]:"fire-gcs",[Ak]:"fire-gcs-compat",[Mk]:"fire-fst",[Pk]:"fire-fst-compat",[xk]:"fire-vertex","fire-js":"fire-js",[Rk]:"fire-js-all"};var fa=new Map,kk=new Map,Am=new Map;function bC(t,e){try{t.container.addComponent(e)}catch(n){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mn(t){let e=t.name;if(Am.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,t);for(let n of fa.values())bC(n,t);for(let n of kk.values())bC(n,t);return!0}function ma(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ao(t){return t.settings!==void 0}var Fk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Qn("app","Firebase",Fk);var Mm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}};var Mo=Nk;function Rm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Mr.create("bad-app-name",{appName:String(i)});if(n||(n=mm()),!n)throw Mr.create("no-options");let o=fa.get(i);if(o){if(So(n,o.options)&&So(r,o.config))return o;throw Mr.create("duplicate-app",{appName:i})}let s=new pl(i);for(let u of Am.values())s.addComponent(u);let c=new Mm(n,r,s);return fa.set(i,c),c}function mi(t=Sm){let e=fa.get(t);if(!e&&t===Sm&&mm())return Rm();if(!e)throw Mr.create("no-app",{appName:t});return e}function gl(){return Array.from(fa.values())}function Fe(t,e,n){var r;let i=(r=Ok[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(c.join(" "));return}Mn(new xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Vk="firebase-heartbeat-database",Lk=1,pa="firebase-heartbeat-store",bm=null;function AC(){return bm||(bm=EC(Vk,Lk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),bm}function jk(t){return S(this,null,function*(){try{let n=(yield AC()).transaction(pa),r=yield n.objectStore(pa).get(MC(t));return yield n.done,r}catch(e){if(e instanceof jt)Yn.warn(e.message);else{let n=Mr.create("idb-get",{originalErrorMessage:e?.message});Yn.warn(n.message)}}})}function DC(t,e){return S(this,null,function*(){try{let r=(yield AC()).transaction(pa,"readwrite");yield r.objectStore(pa).put(e,MC(t)),yield r.done}catch(n){if(n instanceof jt)Yn.warn(n.message);else{let r=Mr.create("idb-set",{originalErrorMessage:n?.message});Yn.warn(r.message)}}})}function MC(t){return`${t.name}!${t.options.appId}`}var Uk=1024,Bk=30*24*60*60*1e3,xm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Pm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=TC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=Bk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yn.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=TC(),{heartbeatsToSend:r,unsentEntries:i}=$k(this._heartbeatsCache.heartbeats),o=ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Yn.warn(n),""}})}};function TC(){return new Date().toISOString().substring(0,10)}function $k(t,e=Uk){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),SC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Pm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return gm()?pC().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield jk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function SC(t){return ha(JSON.stringify({version:2,heartbeats:t})).length}function Hk(t){Mn(new xt("platform-logger",e=>new Dm(e),"PRIVATE")),Mn(new xt("heartbeat",e=>new xm(e),"PRIVATE")),Fe(Tm,CC,t),Fe(Tm,CC,"esm2017"),Fe("fire-js","")}Hk("");var zk="firebase",qk="10.14.1";Fe(zk,qk,"app");var xr=new $n("ANGULARFIRE2_VERSION");function ga(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var vi=(t,e)=>{let n=e?[e]:gl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},yi=class{constructor(){return vi(Gk)}},Gk="app-check";function xo(){}var yl=class{zone;delegate;constructor(e,n=ih){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Nm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xo,{},xo,xo)),n.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},_i=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new yl(Zone.current)),this.insideAngular=n.run(()=>new yl(Zone.current,rh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ae(De))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Wk(t){return vl().ngZone.runOutsideAngular(()=>t())}function gi(t){return vl().ngZone.run(()=>t())}function Kk(t){return Qk(vl())(t)}function Qk(t){return function(n){return n=n.lift(new Nm(t.ngZone)),n.pipe(cr(t.outsideAngular),ar(t.insideAngular))}}var Yk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),gi(()=>t.apply(void 0,r))},It=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=gi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xo,{},xo,xo))),r[o]=Yk(r[o],n));let i=Wk(()=>t.apply(this,r));if(!e)if(i instanceof ve){let o=vl();return i.pipe(cr(o.outsideAngular),ar(o.insideAngular))}else return gi(()=>i);return i instanceof ve?i.pipe(Kk):i instanceof Promise?gi(()=>new Promise((o,s)=>i.then(c=>gi(()=>o(c)),c=>gi(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:gi(()=>i)};var Jn=class{constructor(e){return e}},wi=class{constructor(){return gl()}};function Jk(t){return t&&t.length===1?t[0]:new Jn(mi())}var Om=new Z("angularfire2._apps"),Zk={provide:Jn,useFactory:Jk,deps:[[new dt,Om]]},Xk={provide:wi,deps:[[new dt,Om]]};function eF(t){return(e,n)=>{let r=n.get(vr);Fe("angularfire",xr.full,"core"),Fe("angularfire",xr.full,"app"),Fe("angular",$E.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Jn(i)}}function xC(t,...e){return In([Zk,Xk,{provide:Om,useFactory:eF(t),multi:!0,deps:[De,Gt,_i,...e]}])}var PC=It(Rm,!0);function jC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var UC=jC,BC=new Qn("auth","Firebase",jC());var El=new Ar("@firebase/auth");function nF(t,...e){El.logLevel<=le.WARN&&El.warn(`Auth (${Mo}): ${t}`,...e)}function wl(t,...e){El.logLevel<=le.ERROR&&El.error(`Auth (${Mo}): ${t}`,...e)}function RC(t,...e){throw Gm(t,...e)}function qm(t,...e){return Gm(t,...e)}function $C(t,e,n){let r=Object.assign(Object.assign({},UC()),{[e]:n});return new Qn("auth","Firebase",r).create(e,{appName:t.name})}function Il(t){return $C(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BC.create(t,...e)}function Ie(t,e,...n){if(!t)throw Gm(e,...n)}function ya(t){let e="INTERNAL ASSERTION FAILED: "+t;throw wl(e),new Error(e)}function Cl(t,e){t||ya(e)}function rF(){return NC()==="http:"||NC()==="https:"}function NC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function iF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rF()||dC()||"connection"in navigator)?navigator.onLine:!0}function oF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ei=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cl(n>e,"Short delay should be less than long delay!"),this.isMobile=uC()||hC()}get(){return iF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function sF(t,e){Cl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var bl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var cF=new Ei(3e4,6e4);function HC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Al(o,s,c,u){return S(this,arguments,function*(t,e,n,r,i={}){return zC(t,i,()=>S(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=ym(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:y},l);return lC()||(w.referrerPolicy="no-referrer"),bl.fetch()(qC(t,t.config.apiHost,n,p),w)}))})}function zC(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},aF),e);try{let i=new Vm(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw _l(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _l(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw _l(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw _l(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $C(t,f,l);RC(t,f)}}catch(i){if(i instanceof jt)throw i;RC(t,"network-request-failed",{message:String(i)})}})}function qC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?sF(t.config,i):`${t.config.apiScheme}://${i}`}var Vm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qm(this.auth,"network-request-failed")),cF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _l(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=qm(t,e,r);return i.customData._tokenResponse=n,i}function uF(t,e){return S(this,null,function*(){return Al(t,"POST","/v1/accounts:delete",e)})}function GC(t,e){return S(this,null,function*(){return Al(t,"POST","/v1/accounts:lookup",e)})}function va(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Wm(t,e=!1){return S(this,null,function*(){let n=Mt(t),r=yield n.getIdToken(e),i=WC(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:va(km(i.auth_time)),issuedAtTime:va(km(i.iat)),expirationTime:va(km(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function km(t){return Number(t)*1e3}function WC(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wl("JWT malformed, contained fewer than 3 sections"),null;try{let i=pm(n);return i?JSON.parse(i):(wl("Failed to decode base64 JWT payload"),null)}catch(i){return wl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function OC(t){let e=WC(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Lm(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof jt&&lF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function lF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var jm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var wa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=va(this.lastLoginAt),this.creationTime=va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Dl(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Lm(t,GC(n,{idToken:r}));Ie(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KC(o.providerUserInfo):[],c=dF(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new wa(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Km(t){return S(this,null,function*(){let e=Mt(t);yield Dl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function dF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KC(t){return t.map(e=>{var{providerId:n}=e,r=oh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function hF(t,e){return S(this,null,function*(){let n=yield zC(t,{},()=>S(this,null,function*(){let r=ym({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=qC(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",bl.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function fF(t,e){return S(this,null,function*(){return Al(t,"POST","/v2/accounts:revokeToken",HC(t,e))})}var _a=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");let n=OC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield hF(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ya("not implemented")}};function Pr(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ia=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=oh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield Lm(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Wm(this,e)}reload(){return Km(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Dl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Ao(this.auth.app))return Promise.reject(Il(this.auth));let e=yield this.getIdToken();return yield Lm(this,uF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,B=(l=n.createdAt)!==null&&l!==void 0?l:void 0,J=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:W,emailVerified:oe,isAnonymous:Pe,providerData:ne,stsTokenManager:E}=n;Ie(W&&E,e,"internal-error");let g=_a.fromJSON(this.name,E);Ie(typeof W=="string",e,"internal-error"),Pr(p,e.name),Pr(y,e.name),Ie(typeof oe=="boolean",e,"internal-error"),Ie(typeof Pe=="boolean",e,"internal-error"),Pr(w,e.name),Pr(M,e.name),Pr(P,e.name),Pr(R,e.name),Pr(B,e.name),Pr(J,e.name);let v=new t({uid:W,auth:e,email:y,emailVerified:oe,displayName:p,isAnonymous:Pe,photoURL:M,phoneNumber:w,tenantId:P,stsTokenManager:g,createdAt:B,lastLoginAt:J});return ne&&Array.isArray(ne)&&(v.providerData=ne.map(I=>Object.assign({},I))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new _a;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Dl(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];Ie(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?KC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new _a;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var kC=new Map;function Ii(t){Cl(t instanceof Function,"Expected a class definition");let e=kC.get(t);return e?(Cl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kC.set(t,e),e)}var pF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Um=pF;function Fm(t,e,n){return`firebase:${t}:${e}:${n}`}var Tl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Fm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ia._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(Ii(Um),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ii(Um),s=Fm(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let p=Ia._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function FC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wF(e))return"Blackberry";if(IF(e))return"Webos";if(gF(e))return"Safari";if((e.includes("chrome/")||yF(e))&&!e.includes("edge/"))return"Chrome";if(_F(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mF(t=Ut()){return/firefox\//i.test(t)}function gF(t=Ut()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yF(t=Ut()){return/crios\//i.test(t)}function vF(t=Ut()){return/iemobile/i.test(t)}function _F(t=Ut()){return/android/i.test(t)}function wF(t=Ut()){return/blackberry/i.test(t)}function IF(t=Ut()){return/webos/i.test(t)}function QC(t,e=[]){let n;switch(t){case"Browser":n=FC(Ut());break;case"Worker":n=`${FC(Ut())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}var Bm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function EF(n){return S(this,arguments,function*(t,e={}){return Al(t,"GET","/v2/passwordPolicy",HC(t,e))})}var CF=6,$m=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:CF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Hm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sl(this),this.idTokenSubscription=new Sl(this),this.beforeStateQueue=new Bm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield GC(this,{idToken:e}),r=yield Ia._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(Ao(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Dl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=oF()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(Ao(this.app))return Promise.reject(Il(this));let n=e?Mt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Ao(this.app)?Promise.reject(Il(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ao(this.app)?Promise.reject(Il(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Ii(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield EF(this),n=new $m(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield fF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ii(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=yield Tl.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&nF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function bF(t){return Mt(t)}var Sl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=mC(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var DF={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TF(t){DF=t}function SF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function AF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var P3=SF("rcb"),R3=new Ei(3e4,6e4);var N3=new Ei(2e3,1e4);var O3=10*60*1e3;var k3=new Ei(3e4,6e4);var F3=new Ei(5e3,15e3);var V3=encodeURIComponent("fac");var VC="@firebase/auth",LC="1.7.9";var zm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function MF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xF(t){Mn(new xt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;Ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(t)},l=new Hm(r,i,o,u);return AF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mn(new xt("auth-internal",e=>{let n=bF(e.getProvider("auth").getImmediate());return(r=>new zm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(VC,LC,MF(t)),Fe(VC,LC,"esm2017")}var PF=5*60,L3=aC("authIdTokenMaxAge")||PF;function RF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}TF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=qm("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",RF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xF("Browser");var PV="auth";var Po=class{constructor(){return vi(PV)}};var YC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},JC={};var Rr,Qm;(function(){var t;function e(E,g){function v(){}v.prototype=g.prototype,E.D=g.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(I,C,D){for(var _=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)_[kn-2]=arguments[kn];return g.prototype[C].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,g,v){v||(v=0);var I=Array(16);if(typeof g=="string")for(var C=0;16>C;++C)I[C]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(C=0;16>C;++C)I[C]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=E.g[0],v=E.g[1],C=E.g[2];var D=E.g[3],_=g+(D^v&(C^D))+I[0]+3614090360&4294967295;g=v+(_<<7&4294967295|_>>>25),_=D+(C^g&(v^C))+I[1]+3905402710&4294967295,D=g+(_<<12&4294967295|_>>>20),_=C+(v^D&(g^v))+I[2]+606105819&4294967295,C=D+(_<<17&4294967295|_>>>15),_=v+(g^C&(D^g))+I[3]+3250441966&4294967295,v=C+(_<<22&4294967295|_>>>10),_=g+(D^v&(C^D))+I[4]+4118548399&4294967295,g=v+(_<<7&4294967295|_>>>25),_=D+(C^g&(v^C))+I[5]+1200080426&4294967295,D=g+(_<<12&4294967295|_>>>20),_=C+(v^D&(g^v))+I[6]+2821735955&4294967295,C=D+(_<<17&4294967295|_>>>15),_=v+(g^C&(D^g))+I[7]+4249261313&4294967295,v=C+(_<<22&4294967295|_>>>10),_=g+(D^v&(C^D))+I[8]+1770035416&4294967295,g=v+(_<<7&4294967295|_>>>25),_=D+(C^g&(v^C))+I[9]+2336552879&4294967295,D=g+(_<<12&4294967295|_>>>20),_=C+(v^D&(g^v))+I[10]+4294925233&4294967295,C=D+(_<<17&4294967295|_>>>15),_=v+(g^C&(D^g))+I[11]+2304563134&4294967295,v=C+(_<<22&4294967295|_>>>10),_=g+(D^v&(C^D))+I[12]+1804603682&4294967295,g=v+(_<<7&4294967295|_>>>25),_=D+(C^g&(v^C))+I[13]+4254626195&4294967295,D=g+(_<<12&4294967295|_>>>20),_=C+(v^D&(g^v))+I[14]+2792965006&4294967295,C=D+(_<<17&4294967295|_>>>15),_=v+(g^C&(D^g))+I[15]+1236535329&4294967295,v=C+(_<<22&4294967295|_>>>10),_=g+(C^D&(v^C))+I[1]+4129170786&4294967295,g=v+(_<<5&4294967295|_>>>27),_=D+(v^C&(g^v))+I[6]+3225465664&4294967295,D=g+(_<<9&4294967295|_>>>23),_=C+(g^v&(D^g))+I[11]+643717713&4294967295,C=D+(_<<14&4294967295|_>>>18),_=v+(D^g&(C^D))+I[0]+3921069994&4294967295,v=C+(_<<20&4294967295|_>>>12),_=g+(C^D&(v^C))+I[5]+3593408605&4294967295,g=v+(_<<5&4294967295|_>>>27),_=D+(v^C&(g^v))+I[10]+38016083&4294967295,D=g+(_<<9&4294967295|_>>>23),_=C+(g^v&(D^g))+I[15]+3634488961&4294967295,C=D+(_<<14&4294967295|_>>>18),_=v+(D^g&(C^D))+I[4]+3889429448&4294967295,v=C+(_<<20&4294967295|_>>>12),_=g+(C^D&(v^C))+I[9]+568446438&4294967295,g=v+(_<<5&4294967295|_>>>27),_=D+(v^C&(g^v))+I[14]+3275163606&4294967295,D=g+(_<<9&4294967295|_>>>23),_=C+(g^v&(D^g))+I[3]+4107603335&4294967295,C=D+(_<<14&4294967295|_>>>18),_=v+(D^g&(C^D))+I[8]+1163531501&4294967295,v=C+(_<<20&4294967295|_>>>12),_=g+(C^D&(v^C))+I[13]+2850285829&4294967295,g=v+(_<<5&4294967295|_>>>27),_=D+(v^C&(g^v))+I[2]+4243563512&4294967295,D=g+(_<<9&4294967295|_>>>23),_=C+(g^v&(D^g))+I[7]+1735328473&4294967295,C=D+(_<<14&4294967295|_>>>18),_=v+(D^g&(C^D))+I[12]+2368359562&4294967295,v=C+(_<<20&4294967295|_>>>12),_=g+(v^C^D)+I[5]+4294588738&4294967295,g=v+(_<<4&4294967295|_>>>28),_=D+(g^v^C)+I[8]+2272392833&4294967295,D=g+(_<<11&4294967295|_>>>21),_=C+(D^g^v)+I[11]+1839030562&4294967295,C=D+(_<<16&4294967295|_>>>16),_=v+(C^D^g)+I[14]+4259657740&4294967295,v=C+(_<<23&4294967295|_>>>9),_=g+(v^C^D)+I[1]+2763975236&4294967295,g=v+(_<<4&4294967295|_>>>28),_=D+(g^v^C)+I[4]+1272893353&4294967295,D=g+(_<<11&4294967295|_>>>21),_=C+(D^g^v)+I[7]+4139469664&4294967295,C=D+(_<<16&4294967295|_>>>16),_=v+(C^D^g)+I[10]+3200236656&4294967295,v=C+(_<<23&4294967295|_>>>9),_=g+(v^C^D)+I[13]+681279174&4294967295,g=v+(_<<4&4294967295|_>>>28),_=D+(g^v^C)+I[0]+3936430074&4294967295,D=g+(_<<11&4294967295|_>>>21),_=C+(D^g^v)+I[3]+3572445317&4294967295,C=D+(_<<16&4294967295|_>>>16),_=v+(C^D^g)+I[6]+76029189&4294967295,v=C+(_<<23&4294967295|_>>>9),_=g+(v^C^D)+I[9]+3654602809&4294967295,g=v+(_<<4&4294967295|_>>>28),_=D+(g^v^C)+I[12]+3873151461&4294967295,D=g+(_<<11&4294967295|_>>>21),_=C+(D^g^v)+I[15]+530742520&4294967295,C=D+(_<<16&4294967295|_>>>16),_=v+(C^D^g)+I[2]+3299628645&4294967295,v=C+(_<<23&4294967295|_>>>9),_=g+(C^(v|~D))+I[0]+4096336452&4294967295,g=v+(_<<6&4294967295|_>>>26),_=D+(v^(g|~C))+I[7]+1126891415&4294967295,D=g+(_<<10&4294967295|_>>>22),_=C+(g^(D|~v))+I[14]+2878612391&4294967295,C=D+(_<<15&4294967295|_>>>17),_=v+(D^(C|~g))+I[5]+4237533241&4294967295,v=C+(_<<21&4294967295|_>>>11),_=g+(C^(v|~D))+I[12]+1700485571&4294967295,g=v+(_<<6&4294967295|_>>>26),_=D+(v^(g|~C))+I[3]+2399980690&4294967295,D=g+(_<<10&4294967295|_>>>22),_=C+(g^(D|~v))+I[10]+4293915773&4294967295,C=D+(_<<15&4294967295|_>>>17),_=v+(D^(C|~g))+I[1]+2240044497&4294967295,v=C+(_<<21&4294967295|_>>>11),_=g+(C^(v|~D))+I[8]+1873313359&4294967295,g=v+(_<<6&4294967295|_>>>26),_=D+(v^(g|~C))+I[15]+4264355552&4294967295,D=g+(_<<10&4294967295|_>>>22),_=C+(g^(D|~v))+I[6]+2734768916&4294967295,C=D+(_<<15&4294967295|_>>>17),_=v+(D^(C|~g))+I[13]+1309151649&4294967295,v=C+(_<<21&4294967295|_>>>11),_=g+(C^(v|~D))+I[4]+4149444226&4294967295,g=v+(_<<6&4294967295|_>>>26),_=D+(v^(g|~C))+I[11]+3174756917&4294967295,D=g+(_<<10&4294967295|_>>>22),_=C+(g^(D|~v))+I[2]+718787259&4294967295,C=D+(_<<15&4294967295|_>>>17),_=v+(D^(C|~g))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+D&4294967295}r.prototype.u=function(E,g){g===void 0&&(g=E.length);for(var v=g-this.blockSize,I=this.B,C=this.h,D=0;D<g;){if(C==0)for(;D<=v;)i(this,E,D),D+=this.blockSize;if(typeof E=="string"){for(;D<g;)if(I[C++]=E.charCodeAt(D++),C==this.blockSize){i(this,I),C=0;break}}else for(;D<g;)if(I[C++]=E[D++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=g},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;var v=8*this.o;for(g=E.length-8;g<E.length;++g)E[g]=v&255,v/=256;for(this.u(E),E=Array(16),g=v=0;4>g;++g)for(var I=0;32>I;I+=8)E[v++]=this.g[g]>>>I&255;return E};function o(E,g){var v=c;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=g(E)}function s(E,g){this.h=g;for(var v=[],I=!0,C=E.length-1;0<=C;C--){var D=E[C]|0;I&&D==g||(v[C]=D,I=!1)}this.g=v}var c={};function u(E){return-128<=E&&128>E?o(E,function(g){return new s([g|0],0>g?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var g=[],v=1,I=0;E>=v;I++)g[I]=E/v|0,v*=4294967296;return new s(g,0)}function f(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return R(f(E.substring(1),g));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(g,8)),I=p,C=0;C<E.length;C+=8){var D=Math.min(8,E.length-C),_=parseInt(E.substring(C,C+D),g);8>D?(D=l(Math.pow(g,D)),I=I.j(D).add(l(_))):(I=I.j(v),I=I.add(l(_)))}return I}var p=u(0),y=u(1),w=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-R(this).m();for(var E=0,g=1,v=0;v<this.g.length;v++){var I=this.i(v);E+=(0<=I?I:4294967296+I)*g,g*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(M(this))return"0";if(P(this))return"-"+R(this).toString(E);for(var g=l(Math.pow(E,6)),v=this,I="";;){var C=oe(v,g).g;v=B(v,C.j(g));var D=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=C,M(v))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function M(E){if(E.h!=0)return!1;for(var g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function P(E){return E.h==-1}t.l=function(E){return E=B(this,E),P(E)?-1:M(E)?0:1};function R(E){for(var g=E.g.length,v=[],I=0;I<g;I++)v[I]=~E.g[I];return new s(v,~E.h).add(y)}t.abs=function(){return P(this)?R(this):this},t.add=function(E){for(var g=Math.max(this.g.length,E.g.length),v=[],I=0,C=0;C<=g;C++){var D=I+(this.i(C)&65535)+(E.i(C)&65535),_=(D>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=_>>>16,D&=65535,_&=65535,v[C]=_<<16|D}return new s(v,v[v.length-1]&-2147483648?-1:0)};function B(E,g){return E.add(R(g))}t.j=function(E){if(M(this)||M(E))return p;if(P(this))return P(E)?R(this).j(R(E)):R(R(this).j(E));if(P(E))return R(this.j(R(E)));if(0>this.l(w)&&0>E.l(w))return l(this.m()*E.m());for(var g=this.g.length+E.g.length,v=[],I=0;I<2*g;I++)v[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<E.g.length;C++){var D=this.i(I)>>>16,_=this.i(I)&65535,kn=E.i(C)>>>16,ts=E.i(C)&65535;v[2*I+2*C]+=_*ts,J(v,2*I+2*C),v[2*I+2*C+1]+=D*ts,J(v,2*I+2*C+1),v[2*I+2*C+1]+=_*kn,J(v,2*I+2*C+1),v[2*I+2*C+2]+=D*kn,J(v,2*I+2*C+2)}for(I=0;I<g;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=g;I<2*g;I++)v[I]=0;return new s(v,0)};function J(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function W(E,g){this.g=E,this.h=g}function oe(E,g){if(M(g))throw Error("division by zero");if(M(E))return new W(p,p);if(P(E))return g=oe(R(E),g),new W(R(g.g),R(g.h));if(P(g))return g=oe(E,R(g)),new W(R(g.g),g.h);if(30<E.g.length){if(P(E)||P(g))throw Error("slowDivide_ only works with positive integers.");for(var v=y,I=g;0>=I.l(E);)v=Pe(v),I=Pe(I);var C=ne(v,1),D=ne(I,1);for(I=ne(I,2),v=ne(v,2);!M(I);){var _=D.add(I);0>=_.l(E)&&(C=C.add(v),D=_),I=ne(I,1),v=ne(v,1)}return g=B(E,C.j(g)),new W(C,g)}for(C=p;0<=E.l(g);){for(v=Math.max(1,Math.floor(E.m()/g.m())),I=Math.ceil(Math.log(v)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=l(v),_=D.j(g);P(_)||0<_.l(E);)v-=I,D=l(v),_=D.j(g);M(D)&&(D=y),C=C.add(D),E=B(E,_)}return new W(C,E)}t.A=function(E){return oe(this,E).h},t.and=function(E){for(var g=Math.max(this.g.length,E.g.length),v=[],I=0;I<g;I++)v[I]=this.i(I)&E.i(I);return new s(v,this.h&E.h)},t.or=function(E){for(var g=Math.max(this.g.length,E.g.length),v=[],I=0;I<g;I++)v[I]=this.i(I)|E.i(I);return new s(v,this.h|E.h)},t.xor=function(E){for(var g=Math.max(this.g.length,E.g.length),v=[],I=0;I<g;I++)v[I]=this.i(I)^E.i(I);return new s(v,this.h^E.h)};function Pe(E){for(var g=E.g.length+1,v=[],I=0;I<g;I++)v[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(v,E.h)}function ne(E,g){var v=g>>5;g%=32;for(var I=E.g.length-v,C=[],D=0;D<I;D++)C[D]=0<g?E.i(D+v)>>>g|E.i(D+v+1)<<32-g:E.i(D+v);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Qm=JC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Rr=JC.Integer=s}).apply(typeof YC<"u"?YC:typeof self<"u"?self:typeof window<"u"?window:{});var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={};var Ym,RV,Ro,Jm,Ea,xl,Zm,Xm,eg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ml=="object"&&Ml];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var b=a[m];if(!(b in h))break e;h=h[b]}a=a[a.length-1],m=h[a],d=d(m),d!=m&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,m=!1,b={next:function(){if(!m&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function w(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function M(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,b,A){for(var V=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)V[Ae-2]=arguments[Ae];return d.prototype[b].apply(m,V)}}function P(a){let d=a.length;if(0<d){let h=Array(d);for(let m=0;m<d;m++)h[m]=a[m];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(u(m)){let b=a.length||0,A=m.length||0;a.length=b+A;for(let V=0;V<A;V++)a[b+V]=m[V]}else a.push(m)}}class B{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(a){return/^[\s\xa0]*$/.test(a)}function W(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function oe(a){return oe[" "](a),a}oe[" "]=function(){};var Pe=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ne(a,d,h){for(let m in a)d.call(h,a[m],m,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function g(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(h in m)a[h]=m[h];for(let A=0;A<v.length;A++)h=v[A],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function C(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function D(a){c.setTimeout(()=>{throw a},0)}function _(){var a=_d;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class kn{constructor(){this.h=this.g=null}add(d,h){let m=ts.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var ts=new B(()=>new CT,a=>a.reset());class CT{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ns,rs=!1,_d=new kn,iv=()=>{let a=c.Promise.resolve(void 0);ns=()=>{a.then(bT)}};var bT=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){D(h)}var d=ts;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}rs=!1};function nr(){this.s=this.s,this.C=this.C}nr.prototype.s=!1,nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var DT=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function is(a,d){if(ot.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Pe){e:{try{oe(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:TT[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&is.aa.h.call(this)}}M(is,ot);var TT={2:"touch",3:"pen",4:"mouse"};is.prototype.h=function(){is.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var os="closure_listenable_"+(1e6*Math.random()|0),ST=0;function AT(a,d,h,m,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=b,this.key=++ST,this.da=this.fa=!1}function ec(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function tc(a){this.src=a,this.g={},this.h=0}tc.prototype.add=function(a,d,h,m,b){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var V=Id(a,d,m,b);return-1<V?(d=a[V],h||(d.fa=!1)):(d=new AT(d,this.src,A,!!m,b),d.fa=h,a.push(d)),d};function wd(a,d){var h=d.type;if(h in a.g){var m=a.g[h],b=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(m,b,1),A&&(ec(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Id(a,d,h,m){for(var b=0;b<a.length;++b){var A=a[b];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==m)return b}return-1}var Ed="closure_lm_"+(1e6*Math.random()|0),Cd={};function ov(a,d,h,m,b){if(m&&m.once)return av(a,d,h,m,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)ov(a,d[A],h,m,b);return null}return h=Sd(h),a&&a[os]?a.K(d,h,l(m)?!!m.capture:!!m,b):sv(a,d,h,!1,m,b)}function sv(a,d,h,m,b,A){if(!d)throw Error("Invalid event type");var V=l(b)?!!b.capture:!!b,Ae=Dd(a);if(Ae||(a[Ed]=Ae=new tc(a)),h=Ae.add(d,h,m,V,A),h.proxy)return h;if(m=MT(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)DT||(b=V),b===void 0&&(b=!1),a.addEventListener(d.toString(),m,b);else if(a.attachEvent)a.attachEvent(uv(d.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function MT(){function a(h){return d.call(a.src,a.listener,h)}let d=xT;return a}function av(a,d,h,m,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)av(a,d[A],h,m,b);return null}return h=Sd(h),a&&a[os]?a.L(d,h,l(m)?!!m.capture:!!m,b):sv(a,d,h,!0,m,b)}function cv(a,d,h,m,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)cv(a,d[A],h,m,b);else m=l(m)?!!m.capture:!!m,h=Sd(h),a&&a[os]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=Id(A,h,m,b),-1<h&&(ec(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Dd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Id(d,h,m,b)),(h=-1<a?d[a]:null)&&bd(h))}function bd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[os])wd(d.i,a);else{var h=a.type,m=a.proxy;d.removeEventListener?d.removeEventListener(h,m,a.capture):d.detachEvent?d.detachEvent(uv(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=Dd(d))?(wd(h,a),h.h==0&&(h.src=null,d[Ed]=null)):ec(a)}}}function uv(a){return a in Cd?Cd[a]:Cd[a]="on"+a}function xT(a,d){if(a.da)a=!0;else{d=new is(d,this);var h=a.listener,m=a.ha||a.src;a.fa&&bd(a),a=h.call(m,d)}return a}function Dd(a){return a=a[Ed],a instanceof tc?a:null}var Td="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sd(a){return typeof a=="function"?a:(a[Td]||(a[Td]=function(d){return a.handleEvent(d)}),a[Td])}function st(){nr.call(this),this.i=new tc(this),this.M=this,this.F=null}M(st,nr),st.prototype[os]=!0,st.prototype.removeEventListener=function(a,d,h,m){cv(this,a,d,h,m)};function yt(a,d){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=d.type||d,typeof d=="string")d=new ot(d,a);else if(d instanceof ot)d.target=d.target||a;else{var b=d;d=new ot(m,a),I(d,b)}if(b=!0,h)for(var A=h.length-1;0<=A;A--){var V=d.g=h[A];b=nc(V,m,!0,d)&&b}if(V=d.g=a,b=nc(V,m,!0,d)&&b,b=nc(V,m,!1,d)&&b,h)for(A=0;A<h.length;A++)V=d.g=h[A],b=nc(V,m,!1,d)&&b}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],m=0;m<h.length;m++)ec(h[m]);delete a.g[d],a.h--}}this.F=null},st.prototype.K=function(a,d,h,m){return this.i.add(String(a),d,!1,h,m)},st.prototype.L=function(a,d,h,m){return this.i.add(String(a),d,!0,h,m)};function nc(a,d,h,m){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var V=d[A];if(V&&!V.da&&V.capture==h){var Ae=V.listener,tt=V.ha||V.src;V.fa&&wd(a.i,V),b=Ae.call(tt,m)!==!1&&b}}return b&&!m.defaultPrevented}function lv(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function dv(a){a.g=lv(()=>{a.g=null,a.i&&(a.i=!1,dv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class PT extends nr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:dv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(a){nr.call(this),this.h=a,this.g={}}M(ss,nr);var hv=[];function fv(a){ne(a.g,function(d,h){this.g.hasOwnProperty(h)&&bd(d)},a),a.g={}}ss.prototype.N=function(){ss.aa.N.call(this),fv(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ad=c.JSON.stringify,RT=c.JSON.parse,NT=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Md(){}Md.prototype.h=null;function pv(a){return a.h||(a.h=a.i())}function mv(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xd(){ot.call(this,"d")}M(xd,ot);function Pd(){ot.call(this,"c")}M(Pd,ot);var jr={},gv=null;function rc(){return gv=gv||new st}jr.La="serverreachability";function yv(a){ot.call(this,jr.La,a)}M(yv,ot);function cs(a){let d=rc();yt(d,new yv(d))}jr.STAT_EVENT="statevent";function vv(a,d){ot.call(this,jr.STAT_EVENT,a),this.stat=d}M(vv,ot);function vt(a){let d=rc();yt(d,new vv(d,a))}jr.Ma="timingevent";function _v(a,d){ot.call(this,jr.Ma,a),this.size=d}M(_v,ot);function us(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ls(){this.g=!0}ls.prototype.xa=function(){this.g=!1};function OT(a,d,h,m,b,A){a.info(function(){if(a.g)if(A)for(var V="",Ae=A.split("&"),tt=0;tt<Ae.length;tt++){var ye=Ae[tt].split("=");if(1<ye.length){var at=ye[0];ye=ye[1];var ct=at.split("_");V=2<=ct.length&&ct[1]=="type"?V+(at+"="+ye+"&"):V+(at+"=redacted&")}}else V=null;else V=A;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+h+`
`+V})}function kT(a,d,h,m,b,A,V){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+h+`
`+A+" "+V})}function Ri(a,d,h,m){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+VT(a,h)+(m?" "+m:"")})}function FT(a,d){a.info(function(){return"TIMEOUT: "+d})}ls.prototype.info=function(){};function VT(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var V=1;V<b.length;V++)b[V]=""}}}}return Ad(h)}catch{return d}}var ic={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rd;function oc(){}M(oc,Md),oc.prototype.g=function(){return new XMLHttpRequest},oc.prototype.i=function(){return{}},Rd=new oc;function rr(a,d,h,m){this.j=a,this.i=d,this.l=h,this.R=m||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Iv}function Iv(){this.i=null,this.g="",this.h=!1}var Ev={},Nd={};function Od(a,d,h){a.L=1,a.v=uc(Fn(d)),a.m=h,a.P=!0,Cv(a,null)}function Cv(a,d){a.F=Date.now(),sc(a),a.A=Fn(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),Vv(h.i,"t",m),a.C=0,h=a.j.J,a.h=new Iv,a.g=t_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new PT(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,m=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(hv[0]=b.toString()),b=hv);for(var A=0;A<b.length;A++){var V=ov(h,b[A],m||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),cs(),OT(a.i,a.u,a.A,a.l,a.R,a.m)}rr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Vn(a)==3?d.j():this.Y(a)},rr.prototype.Y=function(a){try{if(a==this.g)e:{let ct=Vn(this.g);var d=this.g.Ba();let ki=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||zv(this.g)))){this.J||ct!=4||d==7||(d==8||0>=ki?cs(3):cs(2)),kd(this);var h=this.g.Z();this.X=h;t:if(bv(this)){var m=zv(this.g);a="";var b=m.length,A=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),ds(this);var V="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(m[d],{stream:!(A&&d==b-1)});m.length=0,this.h.g+=a,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=h==200,kT(this.i,this.u,this.A,this.l,this.R,ct,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,tt=this.g;if((Ae=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Ae)){var ye=Ae;break t}}ye=null}if(h=ye)Ri(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fd(this,h);else{this.o=!1,this.s=3,vt(12),Ur(this),ds(this);break e}}if(this.P){h=!0;let en;for(;!this.J&&this.C<V.length;)if(en=LT(this,V),en==Nd){ct==4&&(this.s=4,vt(14),h=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Ev){this.s=4,vt(15),Ri(this.i,this.l,V,"[Invalid Chunk]"),h=!1;break}else Ri(this.i,this.l,en,null),Fd(this,en);if(bv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||V.length!=0||this.h.h||(this.s=1,vt(16),h=!1),this.o=this.o&&h,!h)Ri(this.i,this.l,V,"[Invalid Chunked Response]"),Ur(this),ds(this);else if(0<V.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),$d(at),at.M=!0,vt(11))}}else Ri(this.i,this.l,V,null),Fd(this,V);ct==4&&Ur(this),this.o&&!this.J&&(ct==4?Jv(this.j,this):(this.o=!1,sc(this)))}else tS(this.g),h==400&&0<V.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Ur(this),ds(this)}}}catch{}finally{}};function bv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function LT(a,d){var h=a.C,m=d.indexOf(`
`,h);return m==-1?Nd:(h=Number(d.substring(h,m)),isNaN(h)?Ev:(m+=1,m+h>d.length?Nd:(d=d.slice(m,m+h),a.C=m+h,d)))}rr.prototype.cancel=function(){this.J=!0,Ur(this)};function sc(a){a.S=Date.now()+a.I,Dv(a,a.I)}function Dv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=us(y(a.ba,a),d)}function kd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}rr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(FT(this.i,this.A),this.L!=2&&(cs(),vt(17)),Ur(this),this.s=2,ds(this)):Dv(this,this.S-a)};function ds(a){a.j.G==0||a.J||Jv(a.j,a)}function Ur(a){kd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,fv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Fd(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Vd(h.h,a))){if(!a.K&&Vd(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)pc(h),hc(h);else break e;Bd(h),vt(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=us(y(h.Za,h),6e3));if(1>=Av(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else $r(h,11)}else if((a.K||h.g==a)&&pc(h),!J(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let ye=b[d];if(h.T=ye[0],ye=ye[1],h.G==2)if(ye[0]=="c"){h.K=ye[1],h.ia=ye[2];let at=ye[3];at!=null&&(h.la=at,h.j.info("VER="+h.la));let ct=ye[4];ct!=null&&(h.Aa=ct,h.j.info("SVER="+h.Aa));let ki=ye[5];ki!=null&&typeof ki=="number"&&0<ki&&(m=1.5*ki,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let en=a.g;if(en){let gc=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gc){var A=m.h;A.g||gc.indexOf("spdy")==-1&&gc.indexOf("quic")==-1&&gc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Ld(A,A.h),A.h=null))}if(m.D){let Hd=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Hd&&(m.ya=Hd,Re(m.I,m.D,Hd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var V=a;if(m.qa=e_(m,m.J?m.ia:null,m.W),V.K){Mv(m.h,V);var Ae=V,tt=m.L;tt&&(Ae.I=tt),Ae.B&&(kd(Ae),sc(Ae)),m.g=V}else Qv(m);0<h.i.length&&fc(h)}else ye[0]!="stop"&&ye[0]!="close"||$r(h,7);else h.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?$r(h,7):Ud(h):ye[0]!="noop"&&h.l&&h.l.ta(ye),h.v=0)}}cs(4)}catch{}}var jT=class{constructor(a,d){this.g=a,this.map=d}};function Tv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Av(a){return a.h?1:a.g?a.g.size:0}function Vd(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Ld(a,d){a.g?a.g.add(d):a.h=d}function Mv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Tv.prototype.cancel=function(){if(this.i=xv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function xv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return P(a.i)}function UT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,m=0;m<h;m++)d.push(a[m]);return d}d=[],h=0;for(m in a)d[h++]=a[m];return d}function BT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let m in a)d[h++]=m;return d}}}function Pv(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=BT(a),m=UT(a),b=m.length,A=0;A<b;A++)d.call(void 0,m[A],h&&h[A],a)}var Rv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $T(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),b=null;if(0<=m){var A=a[h].substring(0,m);b=a[h].substring(m+1)}else A=a[h];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Br(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Br){this.h=a.h,ac(this,a.j),this.o=a.o,this.g=a.g,cc(this,a.s),this.l=a.l;var d=a.i,h=new ps;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Nv(this,h),this.m=a.m}else a&&(d=String(a).match(Rv))?(this.h=!1,ac(this,d[1]||"",!0),this.o=hs(d[2]||""),this.g=hs(d[3]||"",!0),cc(this,d[4]),this.l=hs(d[5]||"",!0),Nv(this,d[6]||"",!0),this.m=hs(d[7]||"")):(this.h=!1,this.i=new ps(null,this.h))}Br.prototype.toString=function(){var a=[],d=this.j;d&&a.push(fs(d,Ov,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(fs(d,Ov,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(fs(h,h.charAt(0)=="/"?qT:zT,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",fs(h,WT)),a.join("")};function Fn(a){return new Br(a)}function ac(a,d,h){a.j=h?hs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function cc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Nv(a,d,h){d instanceof ps?(a.i=d,KT(a.i,a.h)):(h||(d=fs(d,GT)),a.i=new ps(d,a.h))}function Re(a,d,h){a.i.set(d,h)}function uc(a){return Re(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function hs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function fs(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,HT),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function HT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ov=/[#\/\?@]/g,zT=/[#\?:]/g,qT=/[#\?]/g,GT=/[#\?@]/g,WT=/#/g;function ps(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ir(a){a.g||(a.g=new Map,a.h=0,a.i&&$T(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=ps.prototype,t.add=function(a,d){ir(this),this.i=null,a=Ni(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function kv(a,d){ir(a),d=Ni(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Fv(a,d){return ir(a),d=Ni(a,d),a.g.has(d)}t.forEach=function(a,d){ir(this),this.g.forEach(function(h,m){h.forEach(function(b){a.call(d,b,m,this)},this)},this)},t.na=function(){ir(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let m=0;m<d.length;m++){let b=a[m];for(let A=0;A<b.length;A++)h.push(d[m])}return h},t.V=function(a){ir(this);let d=[];if(typeof a=="string")Fv(this,a)&&(d=d.concat(this.g.get(Ni(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return ir(this),this.i=null,a=Ni(this,a),Fv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Vv(a,d,h){kv(a,d),0<h.length&&(a.i=null,a.g.set(Ni(a,d),P(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var m=d[h];let A=encodeURIComponent(String(m)),V=this.V(m);for(m=0;m<V.length;m++){var b=A;V[m]!==""&&(b+="="+encodeURIComponent(String(V[m]))),a.push(b)}}return this.i=a.join("&")};function Ni(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function KT(a,d){d&&!a.j&&(ir(a),a.i=null,a.g.forEach(function(h,m){var b=m.toLowerCase();m!=b&&(kv(this,m),Vv(this,b,h))},a)),a.j=d}function QT(a,d){let h=new ls;if(c.Image){let m=new Image;m.onload=w(or,h,"TestLoadImage: loaded",!0,d,m),m.onerror=w(or,h,"TestLoadImage: error",!1,d,m),m.onabort=w(or,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=w(or,h,"TestLoadImage: timeout",!1,d,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else d(!1)}function YT(a,d){let h=new ls,m=new AbortController,b=setTimeout(()=>{m.abort(),or(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:m.signal}).then(A=>{clearTimeout(b),A.ok?or(h,"TestPingServer: ok",!0,d):or(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),or(h,"TestPingServer: error",!1,d)})}function or(a,d,h,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(h)}catch{}}function JT(){this.g=new NT}function ZT(a,d,h){let m=h||"";try{Pv(a,function(b,A){let V=b;l(b)&&(V=Ad(b)),d.push(m+A+"="+encodeURIComponent(V))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function ms(a){this.l=a.Ub||null,this.j=a.eb||!1}M(ms,Md),ms.prototype.g=function(){return new lc(this.l,this.j)},ms.prototype.i=function(a){return function(){return a}}({});function lc(a,d){st.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(lc,st),t=lc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ys(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?gs(this):ys(this),this.readyState==3&&Lv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,gs(this))},t.Qa=function(a){this.g&&(this.response=a,gs(this))},t.ga=function(){this.g&&gs(this)};function gs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ys(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function ys(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function jv(a){let d="";return ne(a,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function jd(a,d,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=jv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Re(a,d,h))}function Le(a){st.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Le,st);var XT=/^https?$/i,eS=["POST","PUT"];t=Le.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rd.g(),this.v=this.o?pv(this.o):pv(Rd),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){Uv(this,A);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)h.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())h.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(eS,d,void 0))||m||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,V]of h)this.g.setRequestHeader(A,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hv(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){Uv(this,A)}};function Uv(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Bv(a),dc(a)}function Bv(a){a.A||(a.A=!0,yt(a,"complete"),yt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,yt(this,"complete"),yt(this,"abort"),dc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dc(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$v(this):this.bb())},t.bb=function(){$v(this)};function $v(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Vn(a)!=4||a.Z()!=2)){if(a.u&&Vn(a)==4)lv(a.Ea,0,a);else if(yt(a,"readystatechange"),Vn(a)==4){a.h=!1;try{let V=a.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var m;if(m=V===0){var b=String(a.D).match(Rv)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),m=!XT.test(b?b.toLowerCase():"")}h=m}if(h)yt(a,"complete"),yt(a,"success");else{a.m=6;try{var A=2<Vn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",Bv(a)}}finally{dc(a)}}}}function dc(a,d){if(a.g){Hv(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||yt(a,"ready");try{h.onreadystatechange=m}catch{}}}function Hv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Vn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),RT(d)}};function zv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function tS(a){let d={};a=(a.g&&2<=Vn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(J(a[m]))continue;var h=C(a[m]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[b]||[];d[b]=A,A.push(h)}E(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function qv(a){this.Aa=0,this.i=[],this.j=new ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,a),this.cb=vs("retryDelaySeedMs",1e4,a),this.Wa=vs("forwardChannelMaxRetries",2,a),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Tv(a&&a.concurrentRequestLimit),this.Da=new JT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qv.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,m){vt(0),this.W=a,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=e_(this,null,this.W),fc(this)};function Ud(a){if(Gv(a),a.G==3){var d=a.U++,h=Fn(a.I);if(Re(h,"SID",a.K),Re(h,"RID",d),Re(h,"TYPE","terminate"),_s(a,h),d=new rr(a,a.j,d),d.L=2,d.v=uc(Fn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=t_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),sc(d)}Xv(a)}function hc(a){a.g&&($d(a),a.g.cancel(),a.g=null)}function Gv(a){hc(a),a.u&&(c.clearTimeout(a.u),a.u=null),pc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function fc(a){if(!Sv(a.h)&&!a.s){a.s=!0;var d=a.Ga;ns||iv(),rs||(ns(),rs=!0),_d.add(d,a),a.B=0}}function nS(a,d){return Av(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=us(y(a.Ga,a,d),Zv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new rr(this,this.j,a),A=this.o;if(this.S&&(A?(A=g(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Kv(this,b,d),h=Fn(this.I),Re(h,"RID",a),Re(h,"CVER",22),this.D&&Re(h,"X-HTTP-Session-Id",this.D),_s(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(jv(A)))+"&"+d:this.m&&jd(h,this.m,A)),Ld(this.h,b),this.Ua&&Re(h,"TYPE","init"),this.P?(Re(h,"$req",d),Re(h,"SID","null"),b.T=!0,Od(b,h,null)):Od(b,h,d),this.G=2}}else this.G==3&&(a?Wv(this,a):this.i.length==0||Sv(this.h)||Wv(this))};function Wv(a,d){var h;d?h=d.l:h=a.U++;let m=Fn(a.I);Re(m,"SID",a.K),Re(m,"RID",h),Re(m,"AID",a.T),_s(a,m),a.m&&a.o&&jd(m,a.m,a.o),h=new rr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Kv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ld(a.h,h),Od(h,m,d)}function _s(a,d){a.H&&ne(a.H,function(h,m){Re(d,m,h)}),a.l&&Pv({},function(h,m){Re(d,m,h)})}function Kv(a,d,h){h=Math.min(a.i.length,h);var m=a.l?y(a.l.Na,a.l,a):null;e:{var b=a.i;let A=-1;for(;;){let V=["count="+h];A==-1?0<h?(A=b[0].g,V.push("ofs="+A)):A=0:V.push("ofs="+A);let Ae=!0;for(let tt=0;tt<h;tt++){let ye=b[tt].g,at=b[tt].map;if(ye-=A,0>ye)A=Math.max(0,b[tt].g-100),Ae=!1;else try{ZT(at,V,"req"+ye+"_")}catch{m&&m(at)}}if(Ae){m=V.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,m}function Qv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ns||iv(),rs||(ns(),rs=!0),_d.add(d,a),a.v=0}}function Bd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=us(y(a.Fa,a),Zv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Yv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=us(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),hc(this),Yv(this))};function $d(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Yv(a){a.g=new rr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Fn(a.qa);Re(d,"RID","rpc"),Re(d,"SID",a.K),Re(d,"AID",a.T),Re(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Re(d,"TO",a.ja),Re(d,"TYPE","xmlhttp"),_s(a,d),a.m&&a.o&&jd(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=uc(Fn(d)),h.m=null,h.P=!0,Cv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,hc(this),Bd(this),vt(19))};function pc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Jv(a,d){var h=null;if(a.g==d){pc(a),$d(a),a.g=null;var m=2}else if(Vd(a.h,d))h=d.D,Mv(a.h,d),m=1;else return;if(a.G!=0){if(d.o)if(m==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;m=rc(),yt(m,new _v(m,h)),fc(a)}else Qv(a);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&nS(a,d)||m==2&&Bd(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:$r(a,5);break;case 4:$r(a,10);break;case 3:$r(a,6);break;default:$r(a,2)}}}function Zv(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function $r(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),m=a.Xa;let b=!m;m=new Br(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ac(m,"https"),uc(m),b?QT(m.toString(),h):YT(m.toString(),h)}else vt(2);a.G=0,a.l&&a.l.sa(d),Xv(a),Gv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Xv(a){if(a.G=0,a.ka=[],a.l){let d=xv(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function e_(a,d,h){var m=h instanceof Br?Fn(h):new Br(h);if(m.g!="")d&&(m.g=d+"."+m.g),cc(m,m.s);else{var b=c.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Br(null);m&&ac(A,m),d&&(A.g=d),b&&cc(A,b),h&&(A.l=h),m=A}return h=a.D,d=a.ya,h&&d&&Re(m,h,d),Re(m,"VER",a.la),_s(a,m),m}function t_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Le(new ms({eb:h})):new Le(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function n_(){}t=n_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mc(){}mc.prototype.g=function(a,d){return new Pt(a,d)};function Pt(a,d){st.call(this),this.g=new qv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!J(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Oi(this)}M(Pt,st),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Ud(this.g)},Pt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Ad(a),a=h);d.i.push(new jT(d.Ya++,a)),d.G==3&&fc(d)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Ud(this.g),delete this.g,Pt.aa.N.call(this)};function r_(a){xd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}M(r_,xd);function i_(){Pd.call(this),this.status=1}M(i_,Pd);function Oi(a){this.g=a}M(Oi,n_),Oi.prototype.ua=function(){yt(this.g,"a")},Oi.prototype.ta=function(a){yt(this.g,new r_(a))},Oi.prototype.sa=function(a){yt(this.g,new i_)},Oi.prototype.ra=function(){yt(this.g,"b")},mc.prototype.createWebChannel=mc.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,eg=Zn.createWebChannelTransport=function(){return new mc},Xm=Zn.getStatEventTarget=function(){return rc()},Zm=Zn.Event=jr,xl=Zn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ic.NO_ERROR=0,ic.TIMEOUT=8,ic.HTTP_ERROR=6,Ea=Zn.ErrorCode=ic,wv.COMPLETE="complete",Jm=Zn.EventType=wv,mv.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",st.prototype.listen=st.prototype.K,Ro=Zn.WebChannel=mv,RV=Zn.FetchXmlHttpFactory=ms,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,Ym=Zn.XhrIo=Le}).apply(typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{});var ZC="@firebase/firestore";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var Jo="10.14.0";var Si=new Ar("@firebase/firestore");function Ca(){return Si.logLevel}function H(t,...e){if(Si.logLevel<=le.DEBUG){let n=e.map(Oy);Si.debug(`Firestore (${Jo}): ${t}`,...n)}}function er(t,...e){if(Si.logLevel<=le.ERROR){let n=e.map(Oy);Si.error(`Firestore (${Jo}): ${t}`,...n)}}function Uo(t,...e){if(Si.logLevel<=le.WARN){let n=e.map(Oy);Si.warn(`Firestore (${Jo}): ${t}`,...n)}}function Oy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t="Unexpected state"){let e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+t;throw er(e),new Error(e)}function je(t,e){t||ee()}function me(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends jt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Pn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ol=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},sg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}},ag=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},cg=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new Ol(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new et(e)}},ug=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},lg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ug(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},dg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},hg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);let r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new dg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function NV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var kl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=NV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function Bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var pt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new pt(0,0))}static max(){return new t(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Fl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ve=class t extends Fl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},OV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zt=class t extends Fl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return OV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new U(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new U(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new U(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ve.fromString(e))}static fromName(e){return new t(Ve.fromString(e).popFirst(5))}static empty(){return new t(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ve(e.slice()))}};var fg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};fg.UNKNOWN_ID=-1;function kV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new Ai(i,z.empty(),e)}function FV(t){return new Ai(t.readTime,t.key,-1)}var Ai=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),z.empty(),-1)}static max(){return new t(ie.max(),z.empty(),-1)}};function VV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var LV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ky(t){return S(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==LV)throw t;H("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function jV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ka(t){return t.name==="IndexedDbTransactionError"}var Nb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ld(t){return t==null}function xa(t){return t===0&&1/t==-1/0}function UV(t){return typeof t=="number"&&Number.isInteger(t)&&!xa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var BV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jG=[...BV,"documentOverlays"],$V=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],HV=$V,zV=[...HV,"indexConfiguration","indexState","indexEntries"];var UG=[...zV,"globals"];function XC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ob(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Be=class t{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fo(this.root,e,this.comparator,!0)}},Fo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class t{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vl(this.data.getIterator())}getIteratorFrom(e){return new Vl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Vl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ci=class t{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new mt(Zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ll=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var gt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ll("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};gt.EMPTY_BYTE_STRING=new gt("");var qV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(t){if(je(!!t),typeof t=="string"){let e=0,n=qV.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Or(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}function Fy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vy(t){let e=t.mapValue.fields.__previous_value__;return Fy(e)?Vy(e):e}function Pa(t){let e=tr(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}var mg=class{constructor(e,n,r,i,o,s,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},jl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Pl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fy(t)?4:Fb(t)?9007199254740991:kb(t)?10:11:ee()}function On(t,e){if(t===e)return!0;let n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pa(t).isEqual(Pa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=tr(i.timestampValue),c=tr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Or(i.bytesValue).isEqual(Or(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),c=Ne(o.doubleValue);return s===c?xa(s)===xa(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(XC(s)!==XC(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!On(s[u],c[u])))return!1;return!0}(t,e);default:return ee()}}function Ra(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function $o(t,e){if(t===e)return 0;let n=Mi(t),r=Mi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return eb(t.timestampValue,e.timestampValue);case 4:return eb(Pa(t),Pa(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Or(o),u=Or(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=Ee(c[l],u[l]);if(f!==0)return f}return Ee(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=Ee(Ne(o.latitude),Ne(s.latitude));return c!==0?c:Ee(Ne(o.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return tb(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},y=s.fields||{},w=(c=p.value)===null||c===void 0?void 0:c.arrayValue,M=(u=y.value)===null||u===void 0?void 0:u.arrayValue,P=Ee(((l=w?.values)===null||l===void 0?void 0:l.length)||0,((f=M?.values)===null||f===void 0?void 0:f.length)||0);return P!==0?P:tb(w,M)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Pl.mapValue&&s===Pl.mapValue)return 0;if(o===Pl.mapValue)return 1;if(s===Pl.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=Ee(u[p],f[p]);if(y!==0)return y;let w=$o(c[u[p]],l[f[p]]);if(w!==0)return w}return Ee(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ee()}}function eb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=tr(t),r=tr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function tb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=$o(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function Ho(t){return gg(t)}function gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=gg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${gg(n.fields[s])}`;return i+"}"}(t.mapValue):ee()}function nb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yg(t){return!!t&&"integerValue"in t}function Ly(t){return!!t&&"arrayValue"in t}function rb(t){return!!t&&"nullValue"in t}function ib(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tg(t){return!!t&&"mapValue"in t}function kb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Da(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Qa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Da(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Da(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Fb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Xn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=Da(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());tg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qa(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Da(this.value))}};var fn=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zo=class{constructor(e,n){this.position=e,this.inclusive=n}};function ob(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=$o(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function sb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}var xi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function GV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ul=class{},Ge=class t extends Ul{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _g(e,n,r):n==="array-contains"?new Eg(e,r):n==="in"?new Cg(e,r):n==="not-in"?new bg(e,r):n==="array-contains-any"?new Dg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wg(e,r):new Ig(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($o(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pn=class t extends Ul{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Vb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Vb(t){return t.op==="and"}function Lb(t){return WV(t)&&Vb(t)}function WV(t){for(let e of t.filters)if(e instanceof pn)return!1;return!0}function vg(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Ho(t.value);if(Lb(t))return t.filters.map(e=>vg(e)).join(",");{let e=t.filters.map(n=>vg(n)).join(",");return`${t.op}(${e})`}}function jb(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&On(r.value,i.value)}(t,e):t instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&jb(s,i.filters[c]),!0):!1}(t,e):void ee()}function Ub(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`}(t):t instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ub).join(" ,")+"}"}(t):"Filter"}var _g=class extends Ge{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},wg=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=Bb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ig=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=Bb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Bb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var Eg=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Ly(n)&&Ra(n.arrayValue,this.value)}},Cg=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ra(this.value.arrayValue,n)}},bg=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ra(this.value.arrayValue,n)}},Dg=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ra(this.value.arrayValue,r))}};var Tg=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function ab(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Tg(t,e,n,r,i,o,s)}function jy(t){let e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),e.ue=n}return e.ue}function Uy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sb(t.startAt,e.startAt)&&sb(t.endAt,e.endAt)}function Sg(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var kr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function KV(t,e,n,r,i,o,s,c){return new kr(t,e,n,r,i,o,s,c)}function By(t){return new kr(t)}function cb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $b(t){return t.collectionGroup!==null}function Ta(t){let e=me(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new mt(Zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new xi(o,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new xi(Zt.keyField(),r))}return e.ce}function Nn(t){let e=me(t);return e.le||(e.le=QV(e,Ta(t))),e.le}function QV(t,e){if(t.limitType==="F")return ab(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new xi(i.field,o)});let n=t.endAt?new zo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zo(t.startAt.position,t.startAt.inclusive):null;return ab(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ag(t,e){let n=t.filters.concat([e]);return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bl(t,e,n){return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return Uy(Nn(t),Nn(e))&&t.limitType===e.limitType}function Hb(t){return`${jy(Nn(t))}|lt:${t.limitType}`}function No(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ub(i)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ho(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ho(i)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ta(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=ob(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Ta(r),i)||r.endAt&&!function(s,c,u){let l=ob(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Ta(r),i))}(t,e)}function YV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zb(t){return(e,n)=>{let r=!1;for(let i of Ta(t)){let o=JV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function JV(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?$o(u,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var Fr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Ob(this.inner)}size(){return this.innerSize}};var ZV=new Be(z.comparator);function Vr(){return ZV}var qb=new Be(z.comparator);function ba(...t){let e=qb;for(let n of t)e=e.insert(n.key,n);return e}function XV(t){let e=qb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bi(){return Sa()}function Gb(){return Sa()}function Sa(){return new Fr(t=>t.toString(),(t,e)=>t.isEqual(e))}var $G=new Be(z.comparator),eL=new mt(z.comparator);function ge(...t){let e=eL;for(let n of t)e=e.add(n);return e}var tL=new mt(Ee);function nL(){return tL}function $y(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xa(e)?"-0":e}}function Wb(t){return{integerValue:""+t}}function rL(t,e){return UV(e)?Wb(e):$y(t,e)}var qo=class{constructor(){this._=void 0}};function iL(t,e,n){return t instanceof Na?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Fy(o)&&(o=Vy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Go?Kb(t,e):t instanceof Wo?Qb(t,e):function(i,o){let s=sL(i,o),c=ub(s)+ub(i.Pe);return yg(s)&&yg(i.Pe)?Wb(c):$y(i.serializer,c)}(t,e)}function oL(t,e,n){return t instanceof Go?Kb(t,e):t instanceof Wo?Qb(t,e):n}function sL(t,e){return t instanceof Oa?function(r){return yg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Na=class extends qo{},Go=class extends qo{constructor(e){super(),this.elements=e}};function Kb(t,e){let n=Yb(e);for(let r of t.elements)n.some(i=>On(i,r))||n.push(r);return{arrayValue:{values:n}}}var Wo=class extends qo{constructor(e){super(),this.elements=e}};function Qb(t,e){let n=Yb(e);for(let r of t.elements)n=n.filter(i=>!On(i,r));return{arrayValue:{values:n}}}var Oa=class extends qo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function ub(t){return Ne(t.integerValue||t.doubleValue)}function Yb(t){return Ly(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Go&&i instanceof Go||r instanceof Wo&&i instanceof Wo?Bo(r.elements,i.elements,On):r instanceof Oa&&i instanceof Oa?On(r.Pe,i.Pe):r instanceof Na&&i instanceof Na}(t.transform,e.transform)}var Aa=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Nl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ka=class{};function Jb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mg(t.key,Aa.none()):new Fa(t.key,t.data,Aa.none());{let n=t.data,r=Xn.empty(),i=new mt(Zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ko(t.key,r,new Ci(i.toArray()),Aa.none())}}function cL(t,e,n){t instanceof Fa?function(i,o,s){let c=i.value.clone(),u=db(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ko?function(i,o,s){if(!Nl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=db(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Zb(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ma(t,e,n,r){return t instanceof Fa?function(o,s,c,u){if(!Nl(o.precondition,s))return c;let l=o.value.clone(),f=hb(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ko?function(o,s,c,u){if(!Nl(o.precondition,s))return c;let l=hb(o.fieldTransforms,u,s),f=s.data;return f.setAll(Zb(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return Nl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function lb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bo(r,i,(o,s)=>aL(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Fa=class extends ka{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ko=class extends ka{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Zb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function db(t,e,n){let r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,oL(s,c,n[i]))}return r}function hb(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,iL(o,s,e))}return r}var Mg=class extends ka{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var xg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&cL(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Gb();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=Jb(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(n,r)=>lb(n,r))&&Bo(this.baseMutations,e.baseMutations,(n,r)=>lb(n,r))}};var Pg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Rg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ze,pe;function Xb(t){if(t===void 0)return er("GRPC error has no .code"),N.UNKNOWN;switch(t){case ze.OK:return N.OK;case ze.CANCELLED:return N.CANCELLED;case ze.UNKNOWN:return N.UNKNOWN;case ze.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ze.INTERNAL:return N.INTERNAL;case ze.UNAVAILABLE:return N.UNAVAILABLE;case ze.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ze.NOT_FOUND:return N.NOT_FOUND;case ze.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ze.ABORTED:return N.ABORTED;case ze.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ze.DATA_LOSS:return N.DATA_LOSS;default:return ee()}}(pe=ze||(ze={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var fb=null;function uL(){return new TextEncoder}var lL=new Rr([4294967295,4294967295],0);function pb(t){let e=uL().encode(t),n=new Qm;return n.update(e),new Uint8Array(n.digest())}function mb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rr([n,r],0),new Rr([i,o],0)]}var Ng=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Di(`Invalid padding: ${n}`);if(r<0)throw new Di(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Di(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Di(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Rr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Rr.fromNumber(r)));return i.compare(lL)===1&&(i=new Rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=pb(e),[r,i]=mb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let n=pb(e),[r,i]=mb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Di=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $l=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Va.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new Be(Ee),Vr(),ge())}},Va=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var Vo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Hl=class{constructor(e,n){this.targetId=e,this.me=n}},zl=class{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ql=class{constructor(){this.fe=0,this.ge=yb(),this.pe=gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Va(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=yb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Og=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=gb(),this.Qe=new Be(Ee)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Sg(o))if(r===0){let s=new z(o.path);this.Ue(n,s,fn.newNoDocument(s,ie.min()))}else je(r===1);else{let s=this.Ye(n);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}fb?.et(function(f,p,y,w,M){var P,R,B,J,W,oe;let Pe={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},ne=p.unchangedNames;return ne&&(Pe.bloomFilter={applied:M===0,hashCount:(P=ne?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(J=(B=(R=ne?.bits)===null||R===void 0?void 0:R.bitmap)===null||B===void 0?void 0:B.length)!==null&&J!==void 0?J:0,padding:(oe=(W=ne?.bits)===null||W===void 0?void 0:W.padding)!==null&&oe!==void 0?oe:0,mightContain:E=>{var g;return(g=w?.mightContain(E))!==null&&g!==void 0&&g}}),Pe}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=Or(r).toUint8Array()}catch(u){if(u instanceof Ll)return Uo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Ng(s,i,o)}catch(u){return Uo(u instanceof Di?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&Sg(c.target)){let u=new z(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,fn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ge();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new $l(e,n,this.Qe,this.ke,r);return this.ke=Vr(),this.qe=gb(),this.Qe=new Be(Ee),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ql,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ql),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function gb(){return new Be(z.comparator)}function yb(){return new Be(z.comparator)}var dL={asc:"ASCENDING",desc:"DESCENDING"},hL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fL={and:"AND",or:"OR"},kg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Fg(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function Vg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lo(t){return je(!!t),ie.fromTimestamp(function(n){let r=tr(n);return new pt(r.seconds,r.nanos)}(t))}function tD(t,e){return Lg(t,e).canonicalString()}function Lg(t,e){let n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nD(t){let e=Ve.fromString(t);return je(aD(e)),e}function ng(t,e){let n=nD(e);if(n.get(1)!==t.databaseId.projectId)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(iD(n))}function rD(t,e){return tD(t.databaseId,e)}function pL(t){let e=nD(t);return e.length===4?Ve.emptyPath():iD(e)}function vb(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iD(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function mL(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(je(f===void 0||typeof f=="string"),gt.fromBase64String(f||"")):(je(f===void 0||f instanceof Buffer||f instanceof Uint8Array),gt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?N.UNKNOWN:Xb(l.code);return new U(f,l.message||"")}(s);n=new zl(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ng(t,r.document.name),o=Lo(r.document.updateTime),s=r.document.createTime?Lo(r.document.createTime):ie.min(),c=new Xn({mapValue:{fields:r.document.fields}}),u=fn.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Vo(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ng(t,r.document),o=r.readTime?Lo(r.readTime):ie.min(),s=fn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Vo([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ng(t,r.document),o=r.removedTargetIds||[];n=new Vo([],o,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Rg(i,o),c=r.targetId;n=new Hl(c,s)}}return n}function gL(t,e){return{documents:[rD(t,e.path)]}}function yL(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rD(t,i);let o=function(l){if(l.length!==0)return sD(pn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:Oo(y.field),direction:wL(y.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Fg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function vL(t){let e=pL(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){je(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let y=oD(p);return y instanceof pn&&Lb(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(M){return new xi(ko(M.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,ld(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,w=p.values||[];return new zo(w,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,w=p.values||[];return new zo(w,y)}(n.endAt)),KV(e,i,s,o,c,"F",u,l)}function _L(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ko(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ko(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ko(n.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ko(n.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(ko(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(r=>oD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function wL(t){return dL[t]}function IL(t){return hL[t]}function EL(t){return fL[t]}function Oo(t){return{fieldPath:t.canonicalString()}}function ko(t){return Zt.fromServerFormat(t.fieldPath)}function sD(t){return t instanceof Ge?function(n){if(n.op==="=="){if(ib(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(rb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ib(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(rb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:IL(n.op),value:n.value}}}(t):t instanceof pn?function(n){let r=n.getFilters().map(i=>sD(i));return r.length===1?r[0]:{compositeFilter:{op:EL(n.op),filters:r}}}(t):ee()}function aD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var La=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),c=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var jg=class{constructor(e){this.ct=e}};function CL(t){let e=vL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bl(e,e.limit,"L"):e}var Gl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),xa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=tr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Or(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Fb(e)?this.dt(n,Number.MAX_SAFE_INTEGER):kb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ee()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ne(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Gl.vt=new Gl;var Ug=class{constructor(){this.un=new Bg}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Ai.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},Bg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mt(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(Ve.comparator)).toArray()}};var HG=new Uint8Array(0);var xn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);var ja=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var $g=class{constructor(){this.changes=new Fr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Hg=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var zg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ma(r.mutation,i,Ci.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ba();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Vr(),s=Sa(),c=function(){return Sa()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Ko)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Ma(f.mutation,l,f.mutation.getFieldMask(),pt.now())):s.set(l.key,Ci.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new Hg(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Sa(),i=new Be((s,c)=>s-c),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||Ci.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ge()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=Gb();f.forEach(y=>{if(!o.has(y)){let w=Jb(n.get(y),r.get(y));w!==null&&p.set(y,w),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$b(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(bi()),c=-1,u=o;return s.next(l=>F.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?F.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(f=>({batchId:c,changes:XV(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=ba();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ba();return this.indexManager.getCollectionParents(e,o).next(c=>F.forEach(c,u=>{let l=function(p,y){return new kr(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,fn.newInvalidDocument(f)))});let c=ba();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Ma(f.mutation,l,Ci.empty(),pt.now()),hd(n,l)&&(c=c.insert(u,l))}),c})}};var qg=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Lo(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:CL(i.bundledQuery),readTime:Lo(i.readTime)}}(n)),F.resolve()}};var Gg=class{constructor(){this.overlays=new Be(z.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=bi();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=bi(),o=n.length+1,s=new z(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Be((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=bi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=bi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return F.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Pg(n,r));let o=this.Ir.get(n);o===void 0&&(o=ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Wg=class{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var Ua=class{constructor(){this.Tr=new mt(qe.Er),this.dr=new mt(qe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new qe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new qe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new z(new Ve([])),r=new qe(n,e),i=new qe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new z(new Ve([])),r=new qe(n,e),i=new qe(n,e+1),o=ge();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new qe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},qe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return z.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||z.comparator(e.key,n.key)}};var Kg=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new mt(qe.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new xg(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new qe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new qe(n,0),i=new qe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(Ee);return n.forEach(i=>{let o=new qe(i,0),s=new qe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new qe(new z(o),0),c=new mt(Ee);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),F.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{let o=new qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new qe(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Qg=class{constructor(e){this.Mr=e,this.docs=function(){return new Be(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=Vr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Vr(),s=n.path,c=new z(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||VV(FV(f),r)<=0||(i.has(f.key)||hd(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ee()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Yg(this)}getSize(e){return F.resolve(this.size)}},Yg=class extends $g{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Jg=class{constructor(e){this.persistence=e,this.Nr=new Fr(n=>jy(n),Uy),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ua,this.targetCount=0,this.kr=ja.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ja(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}};var Zg=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Nb(0),this.Kr=!1,this.Kr=!0,this.$r=new Wg,this.referenceDelegate=e(this),this.Ur=new Jg(this),this.indexManager=new Ug,this.remoteDocumentCache=function(i){return new Qg(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new jg(n),this.Gr=new qg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Kg(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);let i=new Xg(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Xg=class extends pg{constructor(e){super(),this.currentSequenceNumber=e}},ey=class t{constructor(e){this.persistence=e,this.Jr=new Ua,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var ty=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ge(),i=ge();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var ny=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ry=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fC()?8:jV(Ut())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new ny;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ca()<=le.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Ca()<=le.DEBUG&&H("QueryEngine","Query:",No(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ca()<=le.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):F.resolve())}Yi(e,n){if(cb(n))return F.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bl(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,s,u.readTime)?this.Yi(e,Bl(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return cb(n)||i.isEqual(ie.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?F.resolve(null):(Ca()<=le.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),No(n)),this.rs(e,s,n,kV(i,-1)).next(c=>c))})}ts(e,n){let r=new mt(zb(e));return n.forEach((i,o)=>{hd(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ca()<=le.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",No(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ai.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var iy=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Be(Ee),this._s=new Fr(o=>jy(o),Uy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function bL(t,e,n,r){return new iy(t,e,n,r)}function cD(t,e){return S(this,null,function*(){let n=me(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ge();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function uD(t){let e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function DL(t,e){let n=me(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(gt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(p,w),function(P,R,B){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(y,w,f)&&c.push(n.Ur.updateTargetData(o,w))});let u=Vr(),l=ge();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(TL(o,s,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(ie.min())){let f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return F.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function TL(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Vr();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):H("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function SL(t,e){let n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new La(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function oy(t,e,n){return S(this,null,function*(){let r=me(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ka(s))throw s;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function _b(t,e,n){let r=me(t),i=ie.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=me(u),y=p._s.get(f);return y!==void 0?F.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,s,Nn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:ge())).next(c=>(AL(r,YV(e),c),{documents:c,Ts:o})))}function AL(t,e,n){let r=t.us.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Wl=class{constructor(){this.activeTargetIds=nL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var sy=class{constructor(){this.so=new Wl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ay=class{_o(e){}shutdown(){}};var Kl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Rl=null;function rg(){return Rl===null?Rl=function(){return 268435456+Math.round(2147483648*Math.random())}():Rl++,"0x"+Rl.toString(16)}var ML={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var cy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ft="WebChannelConnection",uy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=rg(),u=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(f=>(H("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Uo("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=ML[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=rg();return new Promise((s,c)=>{let u=new Ym;u.setWithCredentials(!0),u.listenOnce(Jm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ea.NO_ERROR:let f=u.getResponseJson();H(ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Ea.TIMEOUT:H(ft,`RPC '${e}' ${o} timed out`),c(new U(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ea.HTTP_ERROR:let p=u.getStatus();if(H(ft,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let M=function(R){let B=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(B)>=0?B:N.UNKNOWN}(w.status);c(new U(M,w.message))}else c(new U(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new U(N.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{H(ft,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);H(ft,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=rg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=eg(),c=Xm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");H(ft,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u),y=!1,w=!1,M=new cy({Io:R=>{w?H(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(H(ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),H(ft,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),P=(R,B,J)=>{R.listen(B,W=>{try{J(W)}catch(oe){setTimeout(()=>{throw oe},0)}})};return P(p,Ro.EventType.OPEN,()=>{w||(H(ft,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),P(p,Ro.EventType.CLOSE,()=>{w||(w=!0,H(ft,`RPC '${e}' stream ${i} transport closed`),M.So())}),P(p,Ro.EventType.ERROR,R=>{w||(w=!0,Uo(ft,`RPC '${e}' stream ${i} transport errored:`,R),M.So(new U(N.UNAVAILABLE,"The operation could not be completed")))}),P(p,Ro.EventType.MESSAGE,R=>{var B;if(!w){let J=R.data[0];je(!!J);let W=J,oe=W.error||((B=W[0])===null||B===void 0?void 0:B.error);if(oe){H(ft,`RPC '${e}' stream ${i} received error:`,oe);let Pe=oe.status,ne=function(v){let I=ze[v];if(I!==void 0)return Xb(I)}(Pe),E=oe.message;ne===void 0&&(ne=N.INTERNAL,E="Unknown error status: "+Pe+" with message "+oe.message),w=!0,M.So(new U(ne,E)),p.close()}else H(ft,`RPC '${e}' stream ${i} received:`,J),M.bo(J)}}),P(c,Zm.STAT_EVENT,R=>{R.stat===xl.PROXY?H(ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===xl.NOPROXY&&H(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function ig(){return typeof document<"u"?document:null}function fd(t){return new kg(t,!0)}var Ql=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ly=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ql(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},dy=class extends ly{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=mL(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?Lo(s.readTime):ie.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=vb(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=Sg(u)?{documents:gL(o,u)}:{query:yL(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=eD(o,s.resumeToken);let l=Fg(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){c.readTime=Vg(o,s.snapshotVersion.toTimestamp());let l=Fg(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=_L(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=vb(this.serializer),n.removeTarget=e,this.a_(n)}};var hy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Lg(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(N.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,Lg(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},fy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(er(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var py=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>S(this,null,function*(){Ja(this)&&(H("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=me(u);l.L_.add(4),yield Ya(l),l.q_.set("Unknown"),l.L_.delete(4),yield pd(l)})}(this))}))}),this.q_=new fy(r,i)}};function pd(t){return S(this,null,function*(){if(Ja(t))for(let e of t.B_)yield e(!0)})}function Ya(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function lD(t,e){let n=me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Gy(n)?qy(n):Zo(n).r_()&&zy(n,e))}function Hy(t,e){let n=me(t),r=Zo(n);n.N_.delete(e),r.r_()&&dD(n,e),n.N_.size===0&&(r.r_()?r.o_():Ja(n)&&n.q_.set("Unknown"))}function zy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(t).A_(e)}function dD(t,e){t.Q_.xe(e),Zo(t).R_(e)}function qy(t){t.Q_=new Og({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zo(t).start(),t.q_.v_()}function Gy(t){return Ja(t)&&!Zo(t).n_()&&t.N_.size>0}function Ja(t){return me(t).L_.size===0}function hD(t){t.Q_=void 0}function xL(t){return S(this,null,function*(){t.q_.set("Online")})}function PL(t){return S(this,null,function*(){t.N_.forEach((e,n)=>{zy(t,e)})})}function RL(t,e){return S(this,null,function*(){hD(t),Gy(t)?(t.q_.M_(e),qy(t)):t.q_.set("Unknown")})}function NL(t,e,n){return S(this,null,function*(){if(t.q_.set("Online"),e instanceof zl&&e.state===2&&e.cause)try{yield function(i,o){return S(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wb(t,r)}else if(e instanceof Vo?t.Q_.Ke(e):e instanceof Hl?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ie.min()))try{let r=yield uD(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(gt.EMPTY_BYTE_STRING,f.snapshotVersion)),dD(o,u);let p=new La(f.target,u,l,f.sequenceNumber);zy(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){H("RemoteStore","Failed to raise snapshot:",r),yield wb(t,r)}})}function wb(t,e,n){return S(this,null,function*(){if(!Ka(e))throw e;t.L_.add(1),yield Ya(t),t.q_.set("Offline"),n||(n=()=>uD(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){H("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield pd(t)}))})}function Ib(t,e){return S(this,null,function*(){let n=me(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");let r=Ja(n);n.L_.add(3),yield Ya(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield pd(n)})}function OL(t,e){return S(this,null,function*(){let n=me(t);e?(n.L_.delete(2),yield pd(n)):e||(n.L_.add(2),yield Ya(n),n.q_.set("Unknown"))})}function Zo(t){return t.K_||(t.K_=function(n,r,i){let o=me(n);return o.w_(),new dy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:xL.bind(null,t),Ro:PL.bind(null,t),mo:RL.bind(null,t),d_:NL.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.K_.s_(),Gy(t)?qy(t):t.q_.set("Unknown")):(yield t.K_.stop(),hD(t))}))),t.K_}var my=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function fD(t,e){if(er("AsyncQueue",`${e}: ${t}`),Ka(t))return new U(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Yl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=ba(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Jl=class{constructor(){this.W_=new Be(z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Qo=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,Yl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var gy=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},yy=class{constructor(){this.queries=Eb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=me(n),o=i.queries;i.queries=Eb(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new U(N.ABORTED,"Firestore shutting down"))}};function Eb(){return new Fr(t=>Hb(t),dd)}function pD(t,e){return S(this,null,function*(){let n=me(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new gy,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=fD(s,`Initialization of query '${No(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Wy(n)})}function mD(t,e){return S(this,null,function*(){let n=me(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function kL(t,e){let n=me(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&Wy(n)}function FL(t,e,n){let r=me(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Wy(t){t.Y_.forEach(e=>{e.next()})}var vy,Cb;(Cb=vy||(vy={})).ea="default",Cb.Cache="cache";var Zl=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vy.Cache}};var Xl=class{constructor(e){this.key=e}},ed=class{constructor(e){this.key=e}},_y=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=zb(e),this.Ra=new Yl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Jl,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),w=hd(this.query,p)?p:null,M=!!y&&this.mutatedKeys.has(y.key),P=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),R=!1;y&&w?y.data.isEqual(w.data)?M!==P&&(r.track({type:3,doc:w}),R=!0):this.ga(y,w)||(r.track({type:2,doc:w}),R=!0,(u&&this.Aa(w,u)>0||l&&this.Aa(w,l)<0)&&(c=!0)):!y&&w?(r.track({type:0,doc:w}),R=!0):y&&!w&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(c=!0)),R&&(w?(s=s.add(w),o=P?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(w,M){let P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return P(w)-P(M)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Qo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ed(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Xl(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Qo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},wy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Iy=class{constructor(e){this.key=e,this.va=!1}},Ey=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Fr(c=>Hb(c),dd),this.Ma=new Map,this.xa=new Set,this.Oa=new Be(z.comparator),this.Na=new Map,this.La=new Ua,this.Ba={},this.ka=new Map,this.qa=ja.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function VL(t,e,n=!0){return S(this,null,function*(){let r=wD(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield gD(r,e,n,!0),i})}function LL(t,e){return S(this,null,function*(){let n=wD(t);yield gD(n,e,!0,!1)})}function gD(t,e,n,r){return S(this,null,function*(){let i=yield SL(t.localStore,Nn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield jL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&lD(t.remoteStore,i),c})}function jL(t,e,n,r,i){return S(this,null,function*(){t.Ka=(p,y,w)=>function(P,R,B,J){return S(this,null,function*(){let W=R.view.ma(B);W.ns&&(W=yield _b(P.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,W)));let oe=J&&J.targetChanges.get(R.targetId),Pe=J&&J.targetMismatches.get(R.targetId)!=null,ne=R.view.applyChanges(W,P.isPrimaryClient,oe,Pe);return Db(P,R.targetId,ne.wa),ne.snapshot})}(t,p,y,w);let o=yield _b(t.localStore,e,!0),s=new _y(e,o.Ts),c=s.ma(o.documents),u=Va.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);Db(t,n,l.wa);let f=new wy(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function UL(t,e,n){return S(this,null,function*(){let r=me(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!dd(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield oy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Hy(r.remoteStore,i.targetId),Cy(r,i.targetId)}).catch(ky))):(Cy(r,i.targetId),yield oy(r.localStore,i.targetId,!0))})}function BL(t,e){return S(this,null,function*(){let n=me(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hy(n.remoteStore,r.targetId))})}function yD(t,e){return S(this,null,function*(){let n=me(t);try{let r=yield DL(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?je(s.va):i.removedDocuments.size>0&&(je(s.va),s.va=!1))}),yield _D(n,r,e)}catch(r){yield ky(r)}})}function bb(t,e,n){let r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=me(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&Wy(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $L(t,e,n){return S(this,null,function*(){let r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Be(z.comparator);s=s.insert(o,fn.newNoDocument(o,ie.min()));let c=ge().add(o),u=new $l(ie.min(),new Map,new Be(Ee),s,c);yield yD(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Ky(r)}else yield oy(r.localStore,e,!1).then(()=>Cy(r,e,n)).catch(ky)})}function Cy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vD(t,r)})}function vD(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Hy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ky(t))}function Db(t,e,n){for(let r of n)r instanceof Xl?(t.La.addReference(r.key,e),HL(t,r)):r instanceof ed?(H("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vD(t,r.key)):ee()}function HL(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(H("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ky(t))}function Ky(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new z(Ve.fromString(e)),r=t.qa.next();t.Na.set(r,new Iy(n)),t.Oa=t.Oa.insert(n,r),lD(t.remoteStore,new La(Nn(By(n.path)),r,"TargetPurposeLimboResolution",Nb.oe))}}function _D(t,e,n){return S(this,null,function*(){let r=me(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=ty.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return S(this,null,function*(){let f=me(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,y=>F.forEach(y.$i,w=>f.persistence.referenceDelegate.addReference(p,y.targetId,w)).next(()=>F.forEach(y.Ui,w=>f.persistence.referenceDelegate.removeReference(p,y.targetId,w)))))}catch(p){if(!Ka(p))throw p;H("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let w=f.os.get(y),M=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(M);f.os=f.os.insert(y,P)}}})}(r.localStore,o))})}function zL(t,e){return S(this,null,function*(){let n=me(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());let r=yield cD(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new U(N.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _D(n,r.hs)}})}function qL(t,e){let n=me(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let c=n.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function wD(t){let e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$L.bind(null,e),e.Ca.d_=kL.bind(null,e.eventManager),e.Ca.$a=FL.bind(null,e.eventManager),e}var Tb=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=fd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return bL(this.persistence,new ry,n.initialUser,this.serializer)}Ga(n){return new Zg(ey.Zr,this.serializer)}Wa(n){return new sy}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var GL=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zL.bind(null,this.syncEngine),yield OL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new yy}()}createDatastore(n){let r=fd(n.databaseInfo.databaseId),i=function(s){return new uy(s)}(n.databaseInfo);return function(s,c,u,l){return new hy(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new py(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>bb(this.syncEngine,r,0),function(){return Kl.D()?new Kl:new ay}())}createSyncEngine(n,r){return function(o,s,c,u,l,f,p){let y=new Ey(o,s,c,u,l,f);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(o){return S(this,null,function*(){let s=me(o);H("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Ya(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var td=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var by=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=kl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){H("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(H("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=fD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function og(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield cD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Sb(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield WL(t);H("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ib(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ib(e.remoteStore,i)),t._onlineComponents=e})}function WL(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield og(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),yield og(t,new Tb)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield og(t,new Tb);return t._offlineComponents})}function KL(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield Sb(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield Sb(t,new GL))),t._onlineComponents})}function ID(t){return S(this,null,function*(){let e=yield KL(t),n=e.eventManager;return n.onListen=VL.bind(null,e.syncEngine),n.onUnlisten=UL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BL.bind(null,e.syncEngine),n})}function QL(t,e,n={}){let r=new Pn;return t.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(o,s,c,u,l){let f=new td({next:y=>{f.Za(),s.enqueueAndForget(()=>mD(o,p));let w=y.docs.has(c);!w&&y.fromCache?l.reject(new U(N.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&u&&u.source==="server"?l.reject(new U(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new Zl(By(c.path),f,{includeMetadataChanges:!0,_a:!0});return pD(o,p)}(yield ID(t),t.asyncQueue,e,n,r)})),r.promise}function YL(t,e,n={}){let r=new Pn;return t.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(o,s,c,u,l){let f=new td({next:y=>{f.Za(),s.enqueueAndForget(()=>mD(o,p)),y.fromCache&&u.source==="server"?l.reject(new U(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new Zl(c,f,{includeMetadataChanges:!0,_a:!0});return pD(o,p)}(yield ID(t),t.asyncQueue,e,n,r)})),r.promise}function ED(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Ab=new Map;function CD(t,e,n){if(!n)throw new U(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JL(t,e,n,r){if(e===!0&&r===!0)throw new U(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mb(t){if(!z.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xb(t){if(z.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function Ba(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=md(t);throw new U(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ZL(t,e){if(e<=0)throw new U(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var nd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ED((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Yo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sg;switch(r.type){case"firstParty":return new lg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Ab.get(n);r&&(H("ComponentProvider","Removing Datastore"),Ab.delete(n),r.terminate())}(this),Promise.resolve()}};function bD(t,e,n,r={}){var i;let o=(t=Ba(t,Yo))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=et.MOCK_USER;else{c=cC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new et(l)}t._authCredentials=new ag(new Ol(c,u))}}var Lr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Bt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Nr=class t extends Lr{constructor(e,n,r){super(e,n,By(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function DD(t,e,...n){if(t=Mt(t),CD("collection","path",e),t instanceof Yo){let r=Ve.fromString(e,...n);return xb(r),new Nr(t,null,r)}{if(!(t instanceof Bt||t instanceof Nr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return xb(r),new Nr(t.firestore,null,r)}}function TD(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=kl.newId()),CD("doc","path",e),t instanceof Yo){let r=Ve.fromString(e,...n);return Mb(r),new Bt(t,null,new z(r))}{if(!(t instanceof Bt||t instanceof Nr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return Mb(r),new Bt(t.firestore,t instanceof Nr?t.converter:null,new z(r))}}var rd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ql(this,"async_queue_retry"),this.Vu=()=>{let r=ig();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=ig();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Pn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ka(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=my.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var $a=class extends Yo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new rd(e),this._firestoreClient=void 0,yield e}})}};function SD(t,e){let n=typeof t=="object"?t:mi(),r=typeof t=="string"?t:e||"(default)",i=ma(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=fl("firestore");o&&bD(i,...o)}return i}function AD(t){if(t._terminated)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XL(t),t._firestoreClient}function XL(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new mg(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ED(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new by(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Ha=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(gt.fromBase64String(e))}catch(n){throw new U(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var id=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var od=class{constructor(e){this._methodName=e}};var za=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var qa=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var e2=/^__.*__$/;function MD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var Dy=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Sy(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(MD(this.Cu)&&e2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Ty=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fd(e)}Qu(e,n,r,i=!1){return new Dy({Cu:e,methodName:n,qu:r,path:Zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function t2(t){let e=t._freezeSettings(),n=fd(t._databaseId);return new Ty(t._databaseId,!!e.ignoreUndefinedProperties,n)}function n2(t,e,n,r=!1){return Qy(n,t.Qu(r?4:3,e))}function Qy(t,e){if(xD(t=Mt(t)))return i2("Unsupported field value:",e,t),r2(t,e);if(t instanceof od)return function(r,i){if(!MD(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Qy(c,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=pt.fromDate(r);return{timestampValue:Vg(i.serializer,o)}}if(r instanceof pt){let o=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vg(i.serializer,o)}}if(r instanceof za)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ha)return{bytesValue:eD(i.serializer,r._byteString)};if(r instanceof Bt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qa)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return $y(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${md(r)}`)}(t,e)}function r2(t,e){let n={};return Ob(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(t,(r,i)=>{let o=Qy(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function xD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof za||t instanceof Ha||t instanceof Bt||t instanceof od||t instanceof qa)}function i2(t,e,n){if(!xD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=md(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}var o2=new RegExp("[~\\*/\\[\\]]");function s2(t,e,n){if(e.search(o2)>=0)throw Sy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new id(...e.split("."))._internalPath}catch{throw Sy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sy(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(N.INVALID_ARGUMENT,c+t+u)}var sd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ay(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(gd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Ay=class extends sd{data(){return super.data()}};function gd(t,e){return typeof e=="string"?s2(t,e):e instanceof id?e._internalPath:e._delegate._internalPath}function a2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ga=class{},Wa=class extends Ga{};function PD(t,e,...n){let r=[];e instanceof Ga&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof My).length,c=o.filter(u=>u instanceof ad).length;if(s>1||s>0&&c>0)throw new U(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ad=class t extends Wa{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return kD(e._query,n),new Lr(e.firestore,e.converter,Ag(e._query,n))}_parse(e){let n=t2(e.firestore);return function(o,s,c,u,l,f,p){let y;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new U(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Rb(p,f);let w=[];for(let M of p)w.push(Pb(u,o,M));y={arrayValue:{values:w}}}else y=Pb(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Rb(p,f),y=n2(c,s,p,f==="in"||f==="not-in");return Ge.create(l,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function RD(t,e,n){let r=e,i=gd("where",t);return ad._create(i,r,n)}var My=class t extends Ga{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)kD(s,u),s=Ag(s,u)}(e._query,n),new Lr(e.firestore,e.converter,Ag(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var xy=class t extends Wa{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new U(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xi(o,s)}(e._query,this._field,this._direction);return new Lr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new kr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function ND(t,e="asc"){let n=e,r=gd("orderBy",t);return xy._create(r,n)}var Py=class t extends Wa{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Lr(e.firestore,e.converter,Bl(e._query,this._limit,this._limitType))}};function OD(t){return ZL("limit",t),Py._create("limit",t,"F")}function Pb(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new U(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$b(e)&&n.indexOf("/")!==-1)throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ve.fromString(n));if(!z.isDocumentKey(r))throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nb(t,new z(r))}if(n instanceof Bt)return nb(t,n._key);throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(n)}.`)}function Rb(t,e){if(!Array.isArray(t)||t.length===0)throw new U(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kD(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Ry=class{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Qa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new qa(o)}convertGeoPoint(e){return new za(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Vy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){let n=tr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ve.fromString(e);je(aD(r));let i=new jl(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||er(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var Ti=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},cd=class extends sd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(gd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},jo=class extends cd{data(e={}){return super.data(e)}},Ny=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ti(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jo(this._firestore,this._userDataWriter,r.key,r,new Ti(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new jo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ti(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new jo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ti(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:c2(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function c2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function FD(t){t=Ba(t,Bt);let e=Ba(t.firestore,$a);return QL(AD(e),t._key).then(n=>u2(e,t,n))}var ud=class extends Ry{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ha(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}};function VD(t){t=Ba(t,Lr);let e=Ba(t.firestore,$a),n=AD(e),r=new ud(e);return a2(t._query),YL(n,t._query).then(i=>new Ny(e,r,t,i))}function u2(t,e,n){let r=n.docs.get(e._key),i=new ud(t);return new cd(t,i,e._key,r,new Ti(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Jo=i})(Mo),Mn(new xt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new $a(new cg(r.getProvider("auth-internal")),new hg(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Fe(ZC,"4.7.3",e),Fe(ZC,"4.7.3","esm2017")})();var Pi=class{constructor(e){return e}},LD="firestore",Yy=class{constructor(){return vi(LD)}};var Jy=new Z("angularfire2.firestore-instances");function l2(t,e){let n=ga(LD,t,e);return n&&new Pi(n)}function d2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pi(r)}}var h2={provide:Yy,deps:[[new dt,Jy]]},f2={provide:Pi,useFactory:l2,deps:[[new dt,Jy],Jn]};function jD(t,...e){return Fe("angularfire",xr.full,"fst"),In([f2,h2,{provide:Jy,useFactory:d2(t),multi:!0,deps:[De,Gt,_i,wi,[new dt,Po],[new dt,yi],...e]}])}var UD=It(DD,!0);var BD=It(TD,!0);var $D=It(FD,!0);var HD=It(VD,!0);var zD=It(SD,!0);var qD=It(OD,!0);var GD=It(ND,!0);var Xo=It(PD,!0);var Za=It(RD,!0);var es=(()=>{class t{constructor(){this.firestore=O(Pi)}getDesign(n){return S(this,null,function*(){return(yield $D(BD(this.firestore,"designs/"+n))).data()})}getDesigns(n){return S(this,null,function*(){let r=Xo(UD(this.firestore,"designs"),GD("createdAt","desc"));n.searchTerm&&(r=Xo(r,Za("name",">=",n.searchTerm),Za("name","<=",n.searchTerm+"\uF8FF"))),n.count&&(r=Xo(r,qD(n.count))),n.category&&(r=Xo(r,Za("category","==",n.category))),n.type&&(r=Xo(r,Za("type","==",n.type)));let i=yield HD(r),o=[];return i.forEach(s=>{o.push($({id:s.id},s.data()))}),o})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Xt=(()=>{class t{constructor(){this.cart=SE(this.loadCartFromStorage()||{items:[],totalAmount:0,isVisible:!1})}calculateTotalAmount(n){return n.reduce((r,i)=>r+i.design.price*i.quantity,0)}openCart(){this.cart.update(n=>(n.isVisible=!0,this.saveCartToStorage(n),n))}closeCart(){this.cart.update(n=>(n.isVisible=!1,this.saveCartToStorage(n),n))}addItem(n){this.cart.update(r=>{let i=r.items.find(o=>o.design.id===n.design.id&&o.size==n.size);return i?i.quantity+=n.quantity:r.items.push(n),r.totalAmount+=n.design.price*n.quantity,this.saveCartToStorage(r),r})}removeItem(n){this.cart.update(r=>{let i=r.items.find(o=>o.design.id===n.design.id&&o.size==n.size);return i&&(i.quantity--,i.quantity<1&&(r.items=r.items.filter(o=>o!=i))),r.totalAmount=this.calculateTotalAmount(r.items),this.saveCartToStorage(r),r})}deleteItem(n){this.cart.update(r=>{let i=r.items.find(o=>o.design.id===n.design.id&&o.size==n.size);return i&&(r.items=r.items.filter(o=>o!=i)),r.totalAmount=this.calculateTotalAmount(r.items),this.saveCartToStorage(r),r})}saveCartToStorage(n){localStorage.setItem("cart",JSON.stringify(n))}loadCartFromStorage(){let n=localStorage.getItem("cart");return n?JSON.parse(n):null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var yd=t=>({show:t}),WD=(()=>{class t{constructor(){this.isAnimationTriggered=!1,this.isHamburgerOpen=!1,this.cartService=O(Xt),this.router=O(Lt)}ngOnInit(){setTimeout(()=>{this.isAnimationTriggered=!0},0)}openProductPage(){this.router.navigate(["/products"])}openCart(){this.cartService.openCart()}toggleHamburger(){this.isHamburgerOpen=!this.isHamburgerOpen}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-navbar"]],standalone:!0,features:[Se],decls:52,vars:18,consts:[[1,"container"],[1,"black-overlay"],[1,"white-bar"],[1,"logo"],["routerLink","/"],["src","assets/current-wave-gradient.svg","alt","logo"],[1,"title"],[1,"cart"],["id","openCart",1,"cart-button",3,"click"],[1,"fas","fa-basket-shopping","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button",3,"click"],[1,"line"],[1,"logo-hamburger"],["src","assets/current-wave-white.svg","alt","logo"],["id","menu-overlay",1,"menu-overlay",3,"click"],["id","mobile-menu",1,"mobile-menu"],["routerLink","/",1,"menu-item"],[1,"fas","fa-house"],["routerLink","/products",1,"menu-item"],[1,"fas","fa-shirt"],["routerLink","/cart",1,"menu-item"],[1,"fas","fa-basket-shopping"],[1,"content"],["src","assets/current-wave-white.svg","alt","logo",1,"logo-secondary"],[1,"slogan"],[1,"browse-button",3,"click"],[1,"left-image-wrapper","wrapper-position"],["src","assets/apparel/cench.webp","alt","Kendrick",1,"left-image","tshirt","image",3,"ngClass"],[1,"left-image-wrapper-2","wrapper-position"],["src","assets/apparel/kendrick.webp","alt","Kendrick",1,"left-image-2","tshirt","image",3,"ngClass"],[1,"right-image-wrapper","wrapper-position"],["src","assets/apparel/gojo.webp","alt","Kendrick",1,"right-image","tshirt","image",3,"ngClass"],[1,"right-image-wrapper-2","wrapper-position"],["src","assets/apparel/travis.webp","alt","Kendrick",1,"right-image-2","tshirt","image",3,"ngClass"]],template:function(r,i){r&1&&(T(0,"div",0),j(1,"div",1),T(2,"div",2)(3,"div",3)(4,"a",4),j(5,"img",5),x()(),T(6,"div",6)(7,"a",4),k(8," CURRENT WAVE"),x()(),T(9,"div",7)(10,"div",8),Y("click",function(){return i.openCart()}),j(11,"i",9),x()()(),T(12,"div",10)(13,"div",11),Y("click",function(){return i.toggleHamburger()}),j(14,"span",12)(15,"span",12)(16,"span",12),x(),T(17,"div",13),j(18,"img",14),x(),j(19,"div"),x(),T(20,"div",15),Y("click",function(){return i.toggleHamburger()}),x(),T(21,"nav",16)(22,"ul")(23,"li")(24,"a",17),j(25,"i",18),T(26,"span"),k(27,"Home"),x()()(),T(28,"li")(29,"a",19),j(30,"i",20),T(31,"span"),k(32,"Kolekcija"),x()()(),T(33,"li")(34,"a",21),j(35,"i",22),T(36,"span"),k(37,"Korpa"),x()()()()(),T(38,"div",23),j(39,"img",24),T(40,"div",25),k(41,"Pridru\u017Ei se talasu."),x()(),T(42,"button",26),Y("click",function(){return i.openProductPage()}),k(43," Pogledaj kolekciju "),x(),T(44,"div",27),j(45,"img",28),x(),T(46,"div",29),j(47,"img",30),x(),T(48,"div",31),j(49,"img",32),x(),T(50,"div",33),j(51,"img",34),x()()),r&2&&(L(13),rt("is-active",i.isHamburgerOpen),L(7),rt("show",i.isHamburgerOpen),L(),rt("show",i.isHamburgerOpen),L(24),Q("ngClass",Bs(10,yd,i.isAnimationTriggered)),L(2),Q("ngClass",Bs(12,yd,i.isAnimationTriggered)),L(2),Q("ngClass",Bs(14,yd,i.isAnimationTriggered)),L(2),Q("ngClass",Bs(16,yd,i.isAnimationTriggered)))},dependencies:[ke,d0,To],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;min-height:25rem;background:var(--gradient-secondary);justify-content:center;overflow:hidden;position:relative}.black-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%;background-color:#000;z-index:1;pointer-events:none;opacity:.05;transition:opacity .5s ease}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:100%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.browse-button[_ngcontent-%COMP%]{position:relative;z-index:2;height:3rem;width:12rem;outline:none;border:none;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;box-shadow:0 2px 4px #0003;border:3px solid var(--white-primary)}.browse-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;z-index:2;flex-wrap:wrap;width:100%}.logo-secondary[_ngcontent-%COMP%]{max-width:22rem;max-height:22rem;color:var(--white-primary);display:block}.slogan[_ngcontent-%COMP%]{position:absolute;font-size:var(--fs-600);max-width:30rem;padding-inline:1.5rem;padding-bottom:1.5rem;font-family:var(--ff-secondary);color:var(--white-primary);-webkit-user-select:none;user-select:none;cursor:default;z-index:2;top:80%}.wrapper-position[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:0}.left-image-wrapper[_ngcontent-%COMP%]{top:-5rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-5rem;left:-30rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-5rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-4rem;right:-25rem}.image[_ngcontent-%COMP%]{max-width:60rem;max-height:60rem;transition:width .3s ease,height .3s ease}.left-image[_ngcontent-%COMP%]{transform:rotate(15deg);--rotation: 15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.right-image[_ngcontent-%COMP%]{transform:rotate(-15deg);--rotation: -15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.left-image-2[_ngcontent-%COMP%]{transform:rotate(-10deg);--rotation: -10deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.right-image-2[_ngcontent-%COMP%]{transform:rotate(25deg);--rotation: 25deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background:var(--gradient-primary);color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.line[_ngcontent-%COMP%]{background-color:var(--white-primary);width:20px;height:2px;display:block;margin:4px auto;transition:all .3s ease-in-out}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){-webkit-transform:translateY(6px) rotate(45deg);-ms-transform:translateY(6px) rotate(45deg);-o-transform:translateY(6px) rotate(45deg);transform:translateY(6px) rotate(45deg)}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){-webkit-transform:translateY(-6px) rotate(-45deg);-ms-transform:translateY(-6px) rotate(-45deg);-o-transform:translateY(-6px) rotate(-45deg);transform:translateY(-6px) rotate(-45deg)}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;opacity:0;visibility:hidden;transition:opacity .3s ease;z-index:8;display:none}.menu-overlay.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.mobile-menu[_ngcontent-%COMP%]{display:none;flex-direction:column;position:fixed;top:3rem;left:0;height:100vh;width:80%;background:var(--white-primary);opacity:0;transform:translate(-100%);transition:transform .3s ease,opacity .2s linear;z-index:9;pointer-events:none}.mobile-menu.show[_ngcontent-%COMP%]{opacity:1;transform:translate(0);pointer-events:auto}.mobile-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;text-align:left}.menu-item[_ngcontent-%COMP%]{position:relative;font-family:var(--ff-secondary);display:flex;align-items:center;gap:.8rem;padding:1rem;cursor:pointer;transition:.2s linear}.menu-item[_ngcontent-%COMP%]:before{position:absolute;content:"";inset:0;background:var(--gradient-secondary);z-index:1;transition:opacity .2s linear;opacity:0;-webkit-user-select:none;user-select:none}.menu-item[_ngcontent-%COMP%]:hover:before{opacity:1}.menu-item[_ngcontent-%COMP%]:hover{color:#fff}.menu-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{background:#fff;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;z-index:2;transition:.2s linear}.menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{z-index:2}@media screen and (max-width: 1770px){.image[_ngcontent-%COMP%]{max-width:55rem;max-height:55rem}.black-overlay[_ngcontent-%COMP%]{opacity:.1}.left-image-wrapper[_ngcontent-%COMP%]{top:-2rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-2rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;right:-20rem}}@media screen and (max-width: 1600px){.black-overlay[_ngcontent-%COMP%]{opacity:.15}}@media screen and (max-width: 1100px){.image[_ngcontent-%COMP%]{max-width:45rem;max-height:45rem}.black-overlay[_ngcontent-%COMP%]{opacity:.25}.left-image-wrapper[_ngcontent-%COMP%]{top:-1rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-1rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;right:-20rem}}@media screen and (max-width: 840px){.hamburger-bar[_ngcontent-%COMP%], .mobile-menu[_ngcontent-%COMP%]{display:flex}.menu-overlay[_ngcontent-%COMP%]{display:block}.white-bar[_ngcontent-%COMP%]{display:none}.browse-button[_ngcontent-%COMP%]{height:2.7rem;width:7rem;font-size:.8rem}.black-overlay[_ngcontent-%COMP%]{opacity:.35}.image[_ngcontent-%COMP%]{max-width:30rem;max-height:30rem}.left-image-wrapper[_ngcontent-%COMP%]{top:1rem;left:-4rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:1rem;left:-15rem}.right-image-wrapper[_ngcontent-%COMP%]{top:1rem;right:-4rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:2rem;right:-15rem}}@media screen and (max-width: 600px){.image[_ngcontent-%COMP%]{max-width:29rem;max-height:29rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{display:none}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{display:none}}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 370px){.image[_ngcontent-%COMP%]{max-width:25rem;max-height:25rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}}.tshirt[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px) rotate(0);animation-duration:.8s;animation-fill-mode:forwards;transition:transform .5s}@keyframes _ngcontent-%COMP%_slide-in{0%{opacity:0;transform:translateY(50px) rotate(0)}to{opacity:1;transform:translateY(0) rotate(var(--rotation))}}']})}}return t})();function p2(t,e){if(t&1&&(Lu(0),k(1),ju()),t&2){let n=Cn(2);L(),Ye(n.onContentRendered())}}function m2(t,e){if(t&1&&(T(0,"cw-home-card",8),Oe(1,p2,2,1,"ng-container",9),x()),t&2){let n=e.$implicit,r=e.last,i=Cn();Q("design",n),L(),Q("ngIf",r&&!i.contentRendered)}}function g2(t,e){if(t&1&&(Lu(0),k(1),ju()),t&2){let n=Cn(2);L(),Ye(n.onContentRendered())}}function y2(t,e){if(t&1&&(T(0,"cw-home-card",8),Oe(1,g2,2,1,"ng-container",9),x()),t&2){let n=e.$implicit,r=e.last,i=Cn();Q("design",n),L(),Q("ngIf",r&&!i.contentRendered)}}var KD=(()=>{class t{constructor(){this.contentRendered=!1,this.shirtDesigns=[],this.hoodieDesigns=[],this.changeDetector=O(bn),this.designService=O(es)}ngOnInit(){return S(this,null,function*(){yield this.loadDesigns()})}loadDesigns(n=""){return S(this,null,function*(){let r=yield this.designService.getDesigns({count:5,type:"Majica"}),i=yield this.designService.getDesigns({count:5,type:"Duks"});this.shirtDesigns=r,this.hoodieDesigns=i})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(n,r){return r.id}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-home"]],standalone:!0,features:[Se],decls:20,vars:4,consts:[[1,"wrapper"],[1,"title"],[1,"subtitle"],[1,"grid"],[3,"design",4,"ngFor","ngForOf","ngForTrackBy"],[1,"show-more"],[1,"content"],["src","assets/current-wave-white.svg","alt","current wave logo",1,"logo"],[3,"design"],[4,"ngIf"]],template:function(r,i){r&1&&(j(0,"cw-navbar"),T(1,"div",0)(2,"h1",1),k(3,"NA\u0160I PROIZVODI"),x(),T(4,"h2",2),k(5,"Majice"),x(),T(6,"div",3),Oe(7,m2,2,2,"cw-home-card",4),T(8,"div",5)(9,"div",6),j(10,"img",7),k(11,"Jo\u0161 proizvoda... "),x()()(),T(12,"h2",2),k(13,"Duksevi"),x(),T(14,"div",3),Oe(15,y2,2,2,"cw-home-card",4),T(16,"div",5)(17,"div",6),j(18,"img",7),k(19,"Jo\u0161 proizvoda... "),x()()()()),r&2&&(L(7),Q("ngForOf",i.shirtDesigns)("ngForTrackBy",i.identify),L(8),Q("ngForOf",i.hoodieDesigns)("ngForTrackBy",i.identify))},dependencies:[ll,ke,Dn,At,WD],styles:[".wrapper[_ngcontent-%COMP%]{max-width:min(90rem,90%);margin-inline:auto;box-sizing:border-box;margin-bottom:2rem;min-height:40rem}.title[_ngcontent-%COMP%]{text-align:center;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin-inline:auto}.subtitle[_ngcontent-%COMP%]{font-size:var(--fs-900);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:1rem;margin-inline:auto}.grid[_ngcontent-%COMP%]{--grid-layout-gap: 1rem;--grid-column-count: 3;--grid-item--min-width: 15rem;--gap-count: calc(var(--grid-column-count) - 1);--total-gap-width: calc(var(--gap-count) * var(--grid-layout-gap));--grid-item--max-width: calc( (100% - var(--total-gap-width)) / var(--grid-column-count) );display:grid;width:100%;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(max(var(--grid-item--min-width),var(--grid-item--max-width)),1fr));grid-auto-rows:1fr;justify-content:center;padding-bottom:2rem}.visible[_ngcontent-%COMP%]{display:grid}.show-more[_ngcontent-%COMP%]{font-family:var(--ff-secondary);width:100%;height:100%;position:relative;transition:.2s ease;border-radius:.8rem;display:flex;justify-content:center;align-items:center;overflow:hidden;padding:.25rem;background:linear-gradient(-45deg,#6fc2e4,#44bbed,#0cb3f8);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}.content[_ngcontent-%COMP%]{color:var(--white-primary);width:100%;height:100%;border-radius:.55rem;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:var(--fs-700);font-weight:700;text-align:center;-webkit-user-select:none;user-select:none}.show-more[_ngcontent-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}.logo[_ngcontent-%COMP%]{width:50%}@keyframes _ngcontent-%COMP%_gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]})}}return t})();function v2(t,e){if(t&1){let n=VE();T(0,"div",21),Y("click",function(){let i=yI(n).$implicit,o=Cn();return vI(o.selectSize(i))}),T(1,"span",22),k(2),x()()}if(t&2){let n=e.$implicit,r=Cn();rt("active",n===r.selectedSize),L(2),Je(" ",n," ")}}function _2(t,e){if(t&1&&j(0,"cw-home-card",23),t&2){let n=e.$implicit;Q("design",n)}}var QD=(()=>{class t{constructor(){this.sizes=["XS","S","M","L","XL","XXL"],this.selectedSize=this.sizes[0],this.id="",this.route=O(Kn),this.designService=O(es),this.cartService=O(Xt),this.contentRendered=!1,this.shirtDesigns=[],this.hoodieDesigns=[],this.changeDetector=O(bn)}ngOnInit(){return S(this,null,function*(){this.id=this.route.snapshot.paramMap.get("id"),this.designService.getDesign(this.id).then(n=>S(this,null,function*(){n?(this.design=n,this.selectedImage=this.design.image,yield this.loadDesigns()):console.error("Design not found")})).catch(n=>{console.error("Error fetching design:",n)})})}loadDesigns(){return S(this,null,function*(){let n=yield this.designService.getDesigns({count:5,type:this.design.type});this.shirtDesigns=n.filter(r=>r.id!==this.id)})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(n,r){return r.id}selectSize(n){this.selectedSize=n}showImage(n){this.selectedImage=n}addToCart(){if(!this.design)return;let n={design:this.design,quantity:1,size:this.selectedSize};this.cartService.addItem(n),this.cartService.openCart()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-design"]],standalone:!0,features:[Se],decls:32,vars:20,consts:[[1,"container"],[1,"row"],[1,"apparel-images"],[1,"image-wrapper"],[1,"main-image",3,"src","alt"],[1,"thumbnail-images"],[1,"thumbnail",3,"click"],[3,"src","alt"],[1,"apparel-info"],[1,"name"],[1,"category"],[1,"tag"],[1,"price"],[1,"all-sizes"],["class","selected-size",3,"active","click",4,"ngFor","ngForOf"],["id","addToCartBtn","text","Dodaj u korpu",1,"add-to-cart-btn",3,"clicked"],[1,"material"],[1,"featured-items"],[1,"subtitle"],[1,"grid"],["class","card",3,"design",4,"ngFor","ngForOf"],[1,"selected-size",3,"click"],[1,"size-text"],[1,"card",3,"design"]],template:function(r,i){r&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),j(4,"img",4),x(),T(5,"div",5)(6,"div",6),Y("click",function(){return i.showImage(i.design==null?null:i.design.image)}),j(7,"img",7),x(),T(8,"div",6),Y("click",function(){return i.showImage(i.design==null?null:i.design.front)}),j(9,"img",7),x(),T(10,"div",6),Y("click",function(){return i.showImage(i.design==null?null:i.design.back)}),j(11,"img",7),x()()(),T(12,"div",8)(13,"div",9),k(14),x(),T(15,"div",10)(16,"span",11),k(17),x(),T(18,"span",11),k(19),x()(),T(20,"div",12),k(21),x(),T(22,"div",13),Oe(23,v2,3,3,"div",14),x(),T(24,"cw-button",15),Y("clicked",function(){return i.addToCart()}),x(),T(25,"div",16),k(26,"100% pamuk. Prati na 30\xB0C"),x()()(),T(27,"div",17)(28,"h2",18),k(29,"Sli\u010Dni proizvodi"),x(),T(30,"div",19),Oe(31,_2,1,1,"cw-home-card",20),x()()()),r&2&&(L(4),wr("alt",i.design==null?null:i.design.name),Q("src",i.selectedImage,Kt),L(2),rt("selected",i.selectedImage===(i.design==null?null:i.design.image)),L(),wr("alt",i.design==null?null:i.design.name),Q("src",i.design==null?null:i.design.image,Kt),L(),rt("selected",i.selectedImage===(i.design==null?null:i.design.front)),L(),wr("alt",i.design==null?null:i.design.name),Q("src",i.design==null?null:i.design.front,Kt),L(),rt("selected",i.selectedImage===(i.design==null?null:i.design.back)),L(),wr("alt",i.design==null?null:i.design.name),Q("src",i.design==null?null:i.design.back,Kt),L(3),Ye(i.design==null?null:i.design.name),L(3),Ye(i.design==null?null:i.design.category),L(2),Ye(i.design==null?null:i.design.type),L(2),Je("",i.design==null?null:i.design.price,".00 RSD"),L(2),Q("ngForOf",i.sizes),L(8),Q("ngForOf",i.shirtDesigns))},dependencies:[ke,Dn,ll,Sr],styles:['.container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;padding:2rem}.row[_ngcontent-%COMP%]{display:flex;justify-content:center}.apparel-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:32rem;max-height:34rem;padding:2rem;padding-left:0;gap:1rem}.name[_ngcontent-%COMP%]{font-size:3rem}.category[_ngcontent-%COMP%]{display:flex;gap:.5rem}.tag[_ngcontent-%COMP%]{background:var(--gradient-secondary);background-repeat:no-repeat;background-clip:padding-box;padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-500);color:var(--white-primary);font-family:var(--ff-secondary)}.price[_ngcontent-%COMP%]{font-size:1.5rem;color:#000;font-family:var(--ff-secondary)}.size[_ngcontent-%COMP%]{font-size:1rem}.add-to-cart-btn[_ngcontent-%COMP%]{max-width:22rem;padding:2rem;margin-left:0;font-family:var(--ff-primary);font-size:var(--fs-600);cursor:pointer}.apparel-images[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:2rem}.thumbnail-images[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;gap:.5rem}.thumbnail[_ngcontent-%COMP%]{width:5rem;height:5rem;position:relative;cursor:pointer}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:.5rem;border:none}.thumbnail[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;opacity:0;transition:opacity .3s ease;border-radius:.5rem;z-index:1}.thumbnail[_ngcontent-%COMP%]:hover:before{opacity:1}.thumbnail.selected[_ngcontent-%COMP%]:before{opacity:1}.size-selection[_ngcontent-%COMP%]{padding-bottom:1rem}.selected-size[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background:var(--gradient-primary);background-repeat:no-repeat;z-index:2;transition:opacity .2s linear;opacity:0;-webkit-user-select:none;user-select:none}.selected-size[_ngcontent-%COMP%]:hover:before{opacity:1}.selected-size.active[_ngcontent-%COMP%]{background:var(--gradient-primary);background-repeat:no-repeat;border-color:var(--clr-primary);color:var(--white-primary)}.main-image[_ngcontent-%COMP%]{width:30rem;height:30rem;transition:transform .3s ease;border:none}.image-wrapper[_ngcontent-%COMP%]{width:30rem;height:30rem;overflow:hidden;position:relative;border-radius:1.5rem;cursor:zoom-in;border:none}.image-wrapper[_ngcontent-%COMP%]:hover   .main-image[_ngcontent-%COMP%]{transform:scale(1.05);cursor:pointer;transition:transform .5s ease}.all-sizes[_ngcontent-%COMP%]{display:flex;padding:.5rem;padding-left:0;flex-wrap:wrap;justify-content:flex-start;gap:.5rem;font-family:var(--ff-secondary)}.selected-size[_ngcontent-%COMP%]{position:relative;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;padding:.5rem;border:1px solid black;border-radius:1rem;height:auto;width:3.2rem;font-size:1.2rem;cursor:pointer;transition:.2s linear;box-sizing:border-box}.selected-size[_ngcontent-%COMP%]:hover{background:var(--gradient-primary);background-repeat:no-repeat;border-color:var(--clr-primary);color:var(--white-primary)}.content[_ngcontent-%COMP%]{color:var(--white-primary);width:100%;height:100%;border-radius:.55rem;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:var(--fs-700);font-weight:700;text-align:center;-webkit-user-select:none;user-select:none}.featured-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem}.grid[_ngcontent-%COMP%]{display:flex;gap:1rem}.subtitle[_ngcontent-%COMP%]{font-size:var(--fs-900);font-family:var(--ff-main);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:.5rem}.size-text[_ngcontent-%COMP%]{z-index:3}.card[_ngcontent-%COMP%]{min-width:11rem;min-height:11rem;max-width:21rem;max-height:21rem}.material[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}@media screen and (max-width: 800px){.row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.grid[_ngcontent-%COMP%]{flex-direction:column}.apparel-info[_ngcontent-%COMP%]{padding-left:2rem;padding-top:0rem;justify-content:center;width:20rem}.main-image[_ngcontent-%COMP%], .image-wrapper[_ngcontent-%COMP%]{width:20rem;height:20rem}.thumbnail-images[_ngcontent-%COMP%]{justify-content:center}.apparel-images[_ngcontent-%COMP%]{padding-top:0}.name[_ngcontent-%COMP%], .category[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{justify-content:flex-start}.name[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.category[_ngcontent-%COMP%]{font-size:1.2rem;text-align:center}.price[_ngcontent-%COMP%]{font-size:1.4rem;text-align:center}.add-to-cart-btn[_ngcontent-%COMP%]{width:12rem;height:4rem}.apparel-info[_ngcontent-%COMP%]{justify-content:center;align-items:center}.material[_ngcontent-%COMP%]{font-size:.8rem;text-align:center}.all-sizes[_ngcontent-%COMP%]{padding-left:.5rem}.all-sizes[_ngcontent-%COMP%]{justify-content:center}}']})}}return t})();function w2(t,e){t&1&&(T(0,"div",5),j(1,"img",6),x())}var YD=(()=>{class t{constructor(){this.imageLoaded=!1,this.router=O(Lt)}onImageLoad(){this.imageLoaded=!0}showDesign(){this.router.navigate(["/design",this.design.id])}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-product-card"]],inputs:{design:"design"},standalone:!0,features:[Se],decls:7,vars:4,consts:[[1,"image-wrapper",3,"click"],["loading","lazy",1,"main-card",3,"load","src"],["class","loader",4,"ngIf"],[1,"title",3,"click"],[1,"price",3,"click"],[1,"loader"],["src","assets/current-wave-skeleton.svg","alt","Loading..."]],template:function(r,i){r&1&&(T(0,"div",0),Y("click",function(){return i.showDesign()}),T(1,"img",1),Y("load",function(){return i.onImageLoad()}),x()(),Oe(2,w2,2,0,"div",2),T(3,"div",3),Y("click",function(){return i.showDesign()}),k(4),x(),T(5,"div",4),Y("click",function(){return i.showDesign()}),k(6),x()),r&2&&(L(),Q("src",i.design.image,Kt),L(),Q("ngIf",!i.imageLoaded),L(2),Ye(i.design.name),L(2),Je("",i.design.price,".00 RSD"))},dependencies:[ke,At],styles:[".loader[_ngcontent-%COMP%]{border-radius:.8rem;width:100%;overflow:hidden}.main-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;width:15rem;height:15rem;transition:transform .3s ease;border:none}.image-wrapper[_ngcontent-%COMP%]{width:15rem;height:15rem;overflow:hidden;position:relative;border-radius:1.5rem;cursor:pointer;border:none}.image-wrapper[_ngcontent-%COMP%]:hover   .main-card[_ngcontent-%COMP%]{transform:scale(1.05);cursor:pointer;transition:transform .5s ease}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-block:.5rem;cursor:pointer;font-family:var(--ff-secondary)}.price[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;font-family:var(--ff-secondary);font-weight:600}.image-wrapper[_ngcontent-%COMP%]:hover ~ .title[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]:hover{text-decoration:underline}.title[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return t})();var I2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(we(qn),we(Wt))}}static{this.\u0275dir=Tt({type:t})}}return t})(),ZD=(()=>{class t extends I2{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275dir=Tt({type:t,features:[Us]})}}return t})(),XD=new Z("");var E2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},l6=Me($({},E2),{"[class.ng-submitted]":"isSubmitted"});var C2=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>eT}),eT="always";var b2={provide:XD,useExisting:Vs(()=>nT),multi:!0};function tT(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function D2(t){return t.split(":")[0]}var nT=(()=>{class t extends ZD{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=tT(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=D2(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275dir=Tt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Y("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ip([b2]),Us]})}}return t})(),rT=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(tT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(we(Wt),we(qn),we(nT,9))}}static{this.\u0275dir=Tt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),T2={provide:XD,useExisting:Vs(()=>iT),multi:!0};function JD(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function S2(t){return t.split(":")[0]}var iT=(()=>{class t extends ZD{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let u=s[c],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=S2(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ui(t)))(i||t)}})()}static{this.\u0275dir=Tt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Y("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ip([T2]),Us]})}}return t})(),oT=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(JD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(JD(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(we(Wt),we(qn),we(iT,9))}}static{this.\u0275dir=Tt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var A2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({})}}return t})();var sT=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:C2,useValue:n.callSetDisabledState??eT}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=oi({type:t})}static{this.\u0275inj=ii({imports:[A2]})}}return t})();function x2(t,e){if(t&1&&j(0,"cw-product-card",25),t&2){let n=e.$implicit;Q("design",n)}}var aT=(()=>{class t{constructor(){this.shirtDesigns=[],this.filteredDesigns=[],this.selectedSort="new",this.selectedTypes=new Set,this.selectedCategories=new Set,this.designService=O(es)}ngOnInit(){return S(this,null,function*(){yield this.loadDesigns(),this.filteredDesigns=this.shirtDesigns})}loadDesigns(){return S(this,null,function*(){this.shirtDesigns=yield this.designService.getDesigns({}),this.filterAndSortDesigns()})}toggleType(n){this.selectedTypes.has(n)?this.selectedTypes.delete(n):this.selectedTypes.add(n),this.filterAndSortDesigns()}toggleCategory(n){this.selectedCategories.has(n)?this.selectedCategories.delete(n):this.selectedCategories.add(n),this.filterAndSortDesigns()}onSortChange(n){let r=n.target;this.selectedSort=r.value,this.filterAndSortDesigns()}filterAndSortDesigns(){this.filteredDesigns=this.shirtDesigns.filter(n=>{let r=this.selectedTypes.size===0||this.selectedTypes.has(n.type),i=this.selectedCategories.size===0||this.selectedCategories.has(n.category);return r&&i}),this.filteredDesigns.sort((n,r)=>{switch(this.selectedSort){case"new":return new Date(r.createdAt).getTime()-new Date(n.createdAt).getTime();case"old":return new Date(n.createdAt).getTime()-new Date(r.createdAt).getTime();case"price-higher":return r.price-n.price;case"price-lower":return n.price-r.price;default:return 0}})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-products-page"]],standalone:!0,features:[Se],decls:43,vars:1,consts:[[1,"container"],[1,"first-row"],[1,"title"],[1,"sort"],[1,"text"],["id","sortSelect",1,"select",3,"change"],["value","new"],["value","old"],["value","price-higher"],["value","price-lower"],[1,"line"],[1,"second-row"],[1,"filter"],[1,"filter-title"],[1,"filter-tools"],["for","majica"],["type","checkbox","id","majica",3,"change"],["for","duks"],["type","checkbox","id","duks",3,"change"],["for","anime"],["type","checkbox","id","anime",3,"change"],["for","rap"],["type","checkbox","id","rap",3,"change"],[1,"grid"],["class","card",3,"design",4,"ngFor","ngForOf"],[1,"card",3,"design"]],template:function(r,i){r&1&&(T(0,"div",0)(1,"div",1)(2,"div",2),k(3,"Svi proizvodi"),x(),T(4,"div",3)(5,"div",4),k(6,"Sortiraj prema:"),x(),T(7,"select",5),Y("change",function(s){return i.onSortChange(s)}),T(8,"option",6),k(9,"Novije"),x(),T(10,"option",7),k(11,"Starije"),x(),T(12,"option",8),k(13,"Visoj ceni"),x(),T(14,"option",9),k(15,"Nizoj ceni"),x()()()(),j(16,"div",10),T(17,"div",11)(18,"div",12)(19,"div",13),k(20,"Tip"),x(),T(21,"div",14)(22,"label",15),k(23,"Majica"),x(),T(24,"input",16),Y("change",function(){return i.toggleType("Majica")}),x()(),T(25,"div",14)(26,"label",17),k(27,"Duks"),x(),T(28,"input",18),Y("change",function(){return i.toggleType("Duks")}),x()(),j(29,"div",10),T(30,"div",13),k(31,"Kategorija"),x(),T(32,"div",14)(33,"label",19),k(34,"Anime"),x(),T(35,"input",20),Y("change",function(){return i.toggleCategory("Anime")}),x()(),T(36,"div",14)(37,"label",21),k(38,"Rap"),x(),T(39,"input",22),Y("change",function(){return i.toggleCategory("Rap")}),x()(),j(40,"div",10),x(),T(41,"div",23),Oe(42,x2,1,1,"cw-product-card",24),x()()()),r&2&&(L(42),Q("ngForOf",i.filteredDesigns))},dependencies:[ke,Dn,YD,sT,rT,oT],styles:[".container[_ngcontent-%COMP%]{display:flex;padding-block:1rem;flex-direction:column;padding-inline:20rem}.filter[_ngcontent-%COMP%]{display:flex;padding:.5rem;border-radius:1rem;min-height:30rem;min-width:15rem}.title[_ngcontent-%COMP%]{font-size:var(--fs-900);background:#000;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:1rem}.line[_ngcontent-%COMP%]{height:2px;width:100%;background:var(--gradient-primary);margin-bottom:1rem}.first-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.sort[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.select[_ngcontent-%COMP%]{width:6.2rem;height:1.7rem;margin-bottom:1rem;background:#000;border:none;border-radius:5px;font-size:var(--fs-400);color:var(--white-primary);font-family:var(--ff-secondary);font-weight:400;text-align:center}.text[_ngcontent-%COMP%]{font-family:var(--ff-secondary);font-weight:600;font-size:var(--fs-400);background:#000;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:1rem}.filter[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-title[_ngcontent-%COMP%]{padding-block:.5rem;font-size:var(--fs-700);font-family:var(--ff-secondary);font-weight:700;color:var(--gradient-primary)}.filter[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin-top:.5rem}.filter-tools[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-family:var(--ff-secondary);font-weight:400}.second-row[_ngcontent-%COMP%]{display:flex}.grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;padding-top:.5rem;padding-inline:1rem;justify-content:start;align-items:start}"]})}}return t})();var vd=(()=>{class t{constructor(){this.cartService=O(Xt)}decreaseQuantity(){this.cartService.removeItem(this.cartItem)}increaseQuantity(){this.cartService.addItem(Me($({},this.cartItem),{quantity:1}))}deleteItem(){this.cartService.deleteItem(this.cartItem)}quantityChanged(n){this.cartItem.quantity=n.target.value}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-cart-item"]],inputs:{cartItem:"cartItem"},standalone:!0,features:[Se],decls:22,vars:16,consts:[[1,"card"],["alt","product-image",1,"image",3,"src"],[1,"content"],[1,"title"],[1,"name"],["id","deleteItem",1,"delete","fa-regular","fa-trash-can",3,"click"],[1,"size"],[1,"price"],[1,"quantity"],[1,"quantity-input"],[1,"quantity-button",3,"click"],["disabled","","type","number","min","1","max","99","name","quantity","id","quantity",3,"value"],[1,"total"]],template:function(r,i){r&1&&(T(0,"div",0),j(1,"img",1),T(2,"div",2)(3,"div",3)(4,"span",4),k(5),x(),T(6,"i",5),Y("click",function(){return i.deleteItem()}),x()(),T(7,"div",6),k(8),x(),T(9,"div",7),k(10),kt(11,"currency"),x(),T(12,"div",8)(13,"div",9)(14,"div",10),Y("click",function(){return i.decreaseQuantity()}),k(15,"-"),x(),j(16,"input",11),T(17,"div",10),Y("click",function(){return i.increaseQuantity()}),k(18,"+"),x()(),T(19,"span",12),k(20),kt(21,"currency"),x()()()()),r&2&&(L(),Q("src",i.cartItem.design.image,Kt),L(4),Ye(i.cartItem.design.name),L(3),Je("Veli\u010Dina: ",i.cartItem.size,""),L(2),Je(" Cena: ",hn(11,6,i.cartItem.design.price,"","","1.0-0"),"RSD "),L(6),Q("value",i.cartItem.quantity),L(4),Je("",hn(21,11,i.cartItem.quantity*i.cartItem.design.price,"","","1.0-0"),"RSD"))},dependencies:[ke,Er],styles:[".card[_ngcontent-%COMP%]{display:flex;background-color:var(--white-primary);padding:1rem;border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a}.image[_ngcontent-%COMP%]{width:8rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding-left:1rem}.title[_ngcontent-%COMP%]{font-size:var(--fs-400);display:flex;align-items:center;justify-content:space-between}.title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--clr-error)}.price[_ngcontent-%COMP%], .size[_ngcontent-%COMP%]{font-size:var(--fs-400);font-family:var(--ff-secondary)}.quantity[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;flex-wrap:wrap;font-size:var(--fs-400)}.quantity-input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-family:var(--ff-secondary);-webkit-user-select:none;user-select:none}.quantity-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:4ch;-webkit-appearance:none;-moz-appearance:textfield;border:none;height:1.8rem;border-block:1px solid black;text-align:center}.quantity-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.quantity-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:1px solid black;width:2ch;height:1.8rem;text-align:center}.quantity-button[_ngcontent-%COMP%]:hover, .delete[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}}return t})();function P2(t,e){t&1&&(T(0,"div",10)(1,"div"),k(2,"Korpa je prazna"),x(),T(3,"a",11),j(4,"cw-button",12),x()())}function R2(t,e){if(t&1&&j(0,"cw-cart-item",13),t&2){let n=e.$implicit;Q("cartItem",n)}}var cT=(()=>{class t{constructor(){this.cartService=O(Xt),this.cart=this.cartService.cart,this.SHIPPING_COST=this.cart().items.length>0?430:0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-cart"]],standalone:!0,features:[Se],decls:26,vars:20,consts:[[1,"title"],[1,"wrapper"],[1,"items"],["class","empty",4,"ngIf"],[3,"cartItem",4,"ngFor","ngForOf"],[1,"info"],[1,"cost","subtotal"],[1,"cost","shipping"],[1,"cost","total"],["text","Poru\u010Di",1,"checkout"],[1,"empty"],["routerLink","/products"],["text","Pogledaj kolekciju"],[3,"cartItem"]],template:function(r,i){r&1&&(T(0,"h1",0),k(1,"KORPA"),x(),T(2,"div",1)(3,"div",2),Oe(4,P2,5,0,"div",3)(5,R2,1,1,"cw-cart-item",4),x(),T(6,"div",5)(7,"div",6)(8,"span"),k(9,"Cena:"),x(),T(10,"span"),k(11),kt(12,"currency"),x()(),T(13,"div",7)(14,"span"),k(15,"Po\u0161tarina:"),x(),T(16,"span"),k(17),kt(18,"currency"),x()(),T(19,"div",8)(20,"span"),k(21,"Ukupno:"),x(),T(22,"span"),k(23),kt(24,"currency"),x()(),j(25,"cw-button",9),x()()),r&2&&(L(4),Q("ngIf",i.cart().items.length<1),L(),Q("ngForOf",i.cart().items),L(6),Je("",hn(12,5,i.cart().totalAmount,"","","1.0-0"),"RSD"),L(6),Je("",hn(18,10,i.SHIPPING_COST,"","","1.0-0"),"RSD"),L(6),Je("",hn(24,15,i.cart().totalAmount+i.SHIPPING_COST,"","","1.0-0"),"RSD"))},dependencies:[vd,ke,Dn,At,Er,Sr,To],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;max-width:min(90rem,90%);min-height:40rem;margin-inline:auto;margin-bottom:2rem;justify-content:center;margin-top:2rem}.title[_ngcontent-%COMP%]{text-align:center;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin-inline:auto}.items[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;max-width:40rem;max-height:40rem;padding:2rem;display:flex;flex-direction:column;gap:1rem;overflow:auto;box-shadow:0 0 15px -3px #0000001a;border-radius:.5rem}.info[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;padding:2rem;display:flex;flex-direction:column;max-width:40rem}.cost[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.cost[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}.total[_ngcontent-%COMP%]{margin-top:.5rem;border-top:1px dashed black;font-family:var(--ff-main);font-size:var(--fs-600)}.checkout[_ngcontent-%COMP%]{width:100%;margin-block:1rem;height:2.5rem;font-size:1.3rem;font-family:var(--ff-main)}.empty[_ngcontent-%COMP%]{font-family:var(--ff-secondary);text-align:center;margin-block:auto}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 840px){.wrapper[_ngcontent-%COMP%]{flex-direction:column;gap:2rem}.items[_ngcontent-%COMP%]{padding:.5rem;max-height:60rem}.info[_ngcontent-%COMP%]{flex-grow:0}}"]})}}return t})();var uT=[{path:"",component:KD},{path:"design/:id",component:QD},{path:"products",component:aT},{path:"cart",component:cT}];var hT="functions";var Xy=class{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){return S(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return S(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return S(this,null,function*(){if(this.appCheck){let n=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(e){return S(this,null,function*(){let n=yield this.getAuthToken(),r=yield this.getMessagingToken(),i=yield this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}})}};var ev="us-central1";var tv=class{constructor(e,n,r,i,o=ev,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Xy(n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{let c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=ev}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function N2(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}var lT="@firebase/functions",dT="0.11.8";var O2="auth-internal",k2="app-check-internal",F2="messaging-internal";function V2(t,e){let n=(r,{instanceIdentifier:i})=>{let o=r.getProvider("app").getImmediate(),s=r.getProvider(O2),c=r.getProvider(F2),u=r.getProvider(k2);return new tv(o,s,c,u,i,t)};Mn(new xt(hT,n,"PUBLIC").setMultipleInstances(!0)),Fe(lT,dT,e),Fe(lT,dT,"esm2017")}function fT(t=mi(),e=ev){let r=ma(Mt(t),hT).getImmediate({identifier:e}),i=fl("functions");return i&&pT(r,...i),r}function pT(t,e,n){N2(Mt(t),e,n)}V2(fetch.bind(self));var Xa=class{constructor(e){return e}},mT="functions",nv=class{constructor(){return vi(mT)}};var rv=new Z("angularfire2.functions-instances");function L2(t,e){let n=ga(mT,t,e);return n&&new Xa(n)}function j2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xa(r)}}var U2={provide:nv,deps:[[new dt,rv]]},B2={provide:Xa,useFactory:L2,deps:[[new dt,rv],Jn]};function gT(t,...e){return Fe("angularfire",xr.full,"fn"),In([B2,U2,{provide:rv,useFactory:j2(t),multi:!0,deps:[De,Gt,_i,wi,[new dt,Po],[new dt,yi],...e]}])}var yT=It(fT,!0);var vT={providers:[tC(uT,nC()),xC(()=>PC({projectId:"currentwave-563b3",appId:"1:214702271750:web:4bf5a93092d8b0757c8287",storageBucket:"currentwave-563b3.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyATMkQlyO2nL_yKV3uwz-OuY_IAMZtX_-A",authDomain:"currentwave-563b3.firebaseapp.com",messagingSenderId:"214702271750",measurementId:"G-12H1ZL3EYH"})),jD(()=>zD()),gT(()=>yT())]};var _T=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-footer"]],standalone:!0,features:[Se],decls:38,vars:0,consts:[[1,"grid"],[1,"column","newsletter"],[1,"email"],["placeholder","Email address","type","email"],[1,"submit-btn"],[1,"column","socials"],[1,"icon","fa-brands","fa-instagram"],["href","https://www.instagram.com/nosicurrentwave/"],[1,"icon","fa-brands","fa-tiktok"],[1,"icon","fa-brands","fa-facebook"],[1,"column","about"],[1,"icon","fa-solid","fa-envelope"],[1,"icon","fa-solid","fa-phone"]],template:function(r,i){r&1&&(T(0,"div",0)(1,"div",1)(2,"h2"),k(3,"Newsletter"),x(),T(4,"p"),k(5," Want to know what we're up to? Sign up for the newsletter to recieve updates. "),x(),T(6,"div",2),j(7,"input",3),T(8,"button",4),k(9,"Subscribe"),x()()(),T(10,"div",5)(11,"h2"),k(12,"Socials"),x(),T(13,"ul")(14,"li"),j(15,"i",6),T(16,"a",7),k(17,"Instagram"),x()(),T(18,"li"),j(19,"i",8),T(20,"a",7),k(21,"TikTok"),x()(),T(22,"li"),j(23,"i",9),T(24,"a",7),k(25,"Facebook"),x()()()(),T(26,"div",10)(27,"h2"),k(28,"Info"),x(),T(29,"ul")(30,"li"),j(31,"i",11),T(32,"span"),k(33,"currentwavewear@gmail.com "),x()(),T(34,"li"),j(35,"i",12),T(36,"span"),k(37,"+38169758176"),x()()()()())},styles:["[_nghost-%COMP%]{margin-top:auto;width:100%;background:var(--gradient-secondary);display:block}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;color:var(--white-primary);padding-block:6rem;box-sizing:border-box;justify-items:center;gap:4rem;margin-inline:auto}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center}.newsletter[_ngcontent-%COMP%]{align-items:center}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-width:max-content}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.icon[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;justify-content:center;align-items:center}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;color:var(--white-primary)}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--clr-offwhite)}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:var(--ff-secondary);font-size:var(--fs-400)}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0}p[_ngcontent-%COMP%]{padding:.5rem;max-width:min(100%,40ch);line-height:1.25}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1rem}.email[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1rem}.email[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:var(--fs-500);padding:.5rem;border:2px solid var(--white-primary);outline:none;margin-left:auto}.submit-btn[_ngcontent-%COMP%]{border:2px solid var(--white-primary);outline:none;border-left:none;flex-grow:.3;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;margin-right:auto}.submit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9e9e9e}@media screen and (min-width: 800px){.grid[_ngcontent-%COMP%]{width:clamp(48rem,60%,64rem);grid-template-columns:repeat(4,1fr);gap:2rem}.newsletter[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:3}.submit-btn[_ngcontent-%COMP%]{flex-grow:.3;margin-right:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:.7;margin-left:0}}"]})}}return t})();var wT=(()=>{class t{constructor(){this.isHamburgerOpen=!1,this.cartService=O(Xt)}openCart(){this.cartService.openCart()}toggleHamburger(){this.isHamburgerOpen=!this.isHamburgerOpen}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-simple-nav"]],standalone:!0,features:[Se],decls:37,vars:6,consts:[[1,"container"],[1,"white-bar"],[1,"logo"],["routerLink","/"],["src","assets/current-wave-gradient.svg","alt","logo"],[1,"title"],[1,"cart"],["id","openCart",1,"cart-button",3,"click"],[1,"fas","fa-basket-shopping","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button",3,"click"],[1,"line"],["routerLink","/",1,"logo-hamburger"],["src","assets/current-wave-white.svg","alt","logo"],["id","menu-overlay",1,"menu-overlay",3,"click"],["id","mobile-menu",1,"mobile-menu"],["routerLink","/",1,"menu-item"],[1,"fas","fa-house"],["routerLink","/products",1,"menu-item"],[1,"fas","fa-shirt"],["routerLink","/cart",1,"menu-item"],[1,"fas","fa-basket-shopping"]],template:function(r,i){r&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),j(4,"img",4),x()(),T(5,"div",5)(6,"a",3),k(7," CURRENT WAVE"),x()(),T(8,"div",6)(9,"div",7),Y("click",function(){return i.openCart()}),j(10,"i",8),x()()(),T(11,"div",9)(12,"div",10),Y("click",function(){return i.toggleHamburger()}),j(13,"span",11)(14,"span",11)(15,"span",11),x(),T(16,"a",12),j(17,"img",13),x(),j(18,"div"),x(),T(19,"div",14),Y("click",function(){return i.toggleHamburger()}),x(),T(20,"nav",15)(21,"ul")(22,"li")(23,"a",16),j(24,"i",17),T(25,"span"),k(26,"Home"),x()()(),T(27,"li")(28,"a",18),j(29,"i",19),T(30,"span"),k(31,"Kolekcija"),x()()(),T(32,"li")(33,"a",20),j(34,"i",21),T(35,"span"),k(36,"Korpa"),x()()()()()()),r&2&&(L(12),rt("is-active",i.isHamburgerOpen),L(7),rt("show",i.isHamburgerOpen),L(),rt("show",i.isHamburgerOpen))},dependencies:[To],styles:['.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;width:100%;background:var(--gradient-primary)}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:75%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background:var(--gradient-primary);color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.line[_ngcontent-%COMP%]{background-color:var(--white-primary);width:20px;height:2px;display:block;margin:4px auto;transition:all .3s ease-in-out}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){-webkit-transform:translateY(6px) rotate(45deg);-ms-transform:translateY(6px) rotate(45deg);-o-transform:translateY(6px) rotate(45deg);transform:translateY(6px) rotate(45deg)}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){-webkit-transform:translateY(-6px) rotate(-45deg);-ms-transform:translateY(-6px) rotate(-45deg);-o-transform:translateY(-6px) rotate(-45deg);transform:translateY(-6px) rotate(-45deg)}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;opacity:0;visibility:hidden;transition:opacity .3s ease;z-index:8;display:none}.menu-overlay.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.mobile-menu[_ngcontent-%COMP%]{display:none;flex-direction:column;position:fixed;top:3rem;left:0;height:100vh;width:80%;background:var(--white-primary);opacity:0;transform:translate(-100%);transition:transform .3s ease,opacity .2s linear;z-index:9;pointer-events:none}.mobile-menu.show[_ngcontent-%COMP%]{opacity:1;transform:translate(0);pointer-events:auto}.mobile-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;text-align:left}.menu-item[_ngcontent-%COMP%]{position:relative;font-family:var(--ff-secondary);display:flex;align-items:center;gap:.8rem;padding:1rem;cursor:pointer;transition:.2s linear}.menu-item[_ngcontent-%COMP%]:before{position:absolute;content:"";inset:0;background:var(--gradient-secondary);z-index:1;transition:opacity .2s linear;opacity:0;-webkit-user-select:none;user-select:none}.menu-item[_ngcontent-%COMP%]:hover:before{opacity:1}.menu-item[_ngcontent-%COMP%]:hover{color:#fff}.menu-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{background:#fff;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;z-index:2;transition:.2s linear}.menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{z-index:2}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 840px){.container[_ngcontent-%COMP%]{background:none}.mobile-menu[_ngcontent-%COMP%]{display:flex}.menu-overlay[_ngcontent-%COMP%]{display:block}.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}}']})}}return t})();function $2(t,e){t&1&&(T(0,"div",14),k(1,"Korpa je prazna"),x())}function H2(t,e){if(t&1&&j(0,"cw-cart-item",15),t&2){let n=e.$implicit;Q("cartItem",n)}}var IT=(()=>{class t{constructor(){this.cartService=O(Xt),this.elRef=O(Wt),this.router=O(Lt),this.cart=this.cartService.cart,this.SHIPPING_COST=this.cart().items.length>0?430:0}closeCart(){this.cartService.closeCart()}goToCart(){this.cartService.closeCart(),this.router.navigateByUrl("/cart")}onDocumentClick(n){let r=this.elRef.nativeElement.contains(n.target),i=n.target,o=document.getElementById("openCart"),s=document.getElementById("addToCartBtn");!r&&!s?.contains(i)&&i.id!="addToCartBtn"&&!o?.contains(i)&&i.id!="openCart"&&i.id!="deleteItem"&&!i.classList.contains("quantity-button")&&!i.classList.contains("selected-size")&&this.cartService.closeCart()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["cw-cart-sidebar"]],hostBindings:function(r,i){r&1&&Y("click",function(s){return i.onDocumentClick(s)},!1,ZI)},standalone:!0,features:[Se],decls:30,vars:22,consts:[[1,"container"],[1,"top-bar"],[1,"title"],[1,"fas","fa-basket-shopping"],[1,"close",3,"click"],[1,"fa-solid","fa-xmark"],[1,"items"],["class","empty",4,"ngIf"],[3,"cartItem",4,"ngFor","ngForOf"],[1,"bottom-bar"],[1,"cost","subtotal"],[1,"cost","shipping"],[1,"cost","total"],["text","Poru\u010Di",1,"checkout",3,"clicked"],[1,"empty"],[3,"cartItem"]],template:function(r,i){r&1&&(T(0,"div",0)(1,"div",1)(2,"div",2),j(3,"i",3),k(4," Korpa "),x(),T(5,"div",4),Y("click",function(){return i.closeCart()}),j(6,"i",5),x()(),T(7,"div",6),Oe(8,$2,2,0,"div",7)(9,H2,1,1,"cw-cart-item",8),x(),T(10,"div",9)(11,"div",10)(12,"span"),k(13,"Cena:"),x(),T(14,"span"),k(15),kt(16,"currency"),x()(),T(17,"div",11)(18,"span"),k(19,"Po\u0161tarina:"),x(),T(20,"span"),k(21),kt(22,"currency"),x()(),T(23,"div",12)(24,"span"),k(25,"Ukupno:"),x(),T(26,"span"),k(27),kt(28,"currency"),x()(),T(29,"cw-button",13),Y("clicked",function(){return i.goToCart()}),x()()()),r&2&&(rt("visible",i.cart().isVisible),L(8),Q("ngIf",i.cart().items.length<1),L(),Q("ngForOf",i.cart().items),L(6),Je("",hn(16,7,i.cart().totalAmount,"","","1.0-0"),"RSD"),L(6),Je("",hn(22,12,i.SHIPPING_COST,"","","1.0-0"),"RSD"),L(6),Je("",hn(28,17,i.cart().totalAmount+i.SHIPPING_COST,"","","1.0-0"),"RSD"))},dependencies:[Sr,vd,ke,Dn,At,Er],styles:[".container[_ngcontent-%COMP%]{position:fixed;z-index:20;top:0;right:0;background-color:var(--white-primary);height:100%;width:clamp(24rem,20%,28rem);display:flex;flex-direction:column;-webkit-box-shadow:-12px 0px 29px -7px rgba(0,0,0,.65);-moz-box-shadow:-12px 0px 29px -7px rgba(0,0,0,.65);box-shadow:-12px 0 29px -7px #000000a6;border-top-left-radius:1rem;border-bottom-left-radius:1rem;transition:.5s ease;transform:translate(100%)}.empty[_ngcontent-%COMP%]{font-family:var(--ff-secondary);text-align:center;margin-block:auto}.visible[_ngcontent-%COMP%]{transform:translate(0)}.title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-size:var(--fs-800);font-family:var(--ff-main);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none}.top-bar[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:space-between;align-items:center}.close[_ngcontent-%COMP%]{font-size:var(--fs-700);color:var(--clr-error)}.close[_ngcontent-%COMP%]:hover{cursor:pointer}.bottom-bar[_ngcontent-%COMP%]{display:flex;padding-inline:1rem;padding-block:1rem;flex-direction:column;margin-top:auto;box-shadow:0 -2px 58px -13px #000000bf;-webkit-box-shadow:0px -2px 58px -13px rgba(0,0,0,.75);-moz-box-shadow:0px -2px 58px -13px rgba(0,0,0,.75)}.cost[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.cost[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}.total[_ngcontent-%COMP%]{margin-top:.5rem;border-top:1px dashed black;font-family:var(--ff-main);font-size:var(--fs-600)}.checkout[_ngcontent-%COMP%]{width:100%;margin-block:1rem;height:2.5rem;font-size:1.3rem;font-family:var(--ff-main)}.items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;height:100%;max-height:100%;overflow-y:auto;background-color:var(--clr-offwhite-700);padding:.5rem}@media screen and (max-width: 840px){.container[_ngcontent-%COMP%]{display:none}}"]})}}return t})();function z2(t,e){t&1&&j(0,"cw-simple-nav")}var ET=(()=>{class t{constructor(){this.title="current-wave",this.router=O(Lt)}isHomePage(){return this.router.url==="/"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Te({type:t,selectors:[["app-root"]],standalone:!0,features:[Se],decls:4,vars:1,consts:[[4,"ngIf"]],template:function(r,i){r&1&&(Oe(0,z2,1,0,"cw-simple-nav",0),j(1,"cw-cart-sidebar")(2,"router-outlet")(3,"cw-footer")),r&2&&Q("ngIf",!i.isHomePage())},dependencies:[im,_T,wT,ke,At,IT],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}"]})}}return t})();w0(ET,vT).catch(t=>console.error(t));
