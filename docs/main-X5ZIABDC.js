var ST=Object.defineProperty,AT=Object.defineProperties;var RT=Object.getOwnPropertyDescriptors;var Bv=Object.getOwnPropertySymbols;var xT=Object.prototype.hasOwnProperty,MT=Object.prototype.propertyIsEnumerable;var $v=(t,e,n)=>e in t?ST(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})xT.call(e,n)&&$v(t,n,e[n]);if(Bv)for(var n of Bv(e))MT.call(e,n)&&$v(t,n,e[n]);return t},Ae=(t,e)=>AT(t,RT(e));var T=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function PT(t,e){return Object.is(t,e)}var Ge=null,ic=!1,oc=1,Ci=Symbol("SIGNAL");function ve(t){let e=Ge;return Ge=t,e}var Rd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Hv(t){if(ic)throw new Error("");if(Ge===null)return;Ge.consumerOnSignalRead(t);let e=Ge.nextProducerIndex++;if(Di(Ge),e<Ge.producerNode.length&&Ge.producerNode[e]!==t&&is(Ge)){let n=Ge.producerNode[e];sc(n,Ge.producerIndexOfThis[e])}Ge.producerNode[e]!==t&&(Ge.producerNode[e]=t,Ge.producerIndexOfThis[e]=is(Ge)?Qv(t,Ge,e):0),Ge.producerLastReadVersion[e]=t.version}function NT(){oc++}function OT(t){if(!(is(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===oc)){if(!t.producerMustRecompute(t)&&!xd(t)){t.dirty=!1,t.lastCleanEpoch=oc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=oc}}function zv(t){if(t.liveConsumerNode===void 0)return;let e=ic;ic=!0;try{for(let n of t.liveConsumerNode)n.dirty||kT(n)}finally{ic=e}}function qv(){return Ge?.consumerAllowSignalWrites!==!1}function kT(t){t.dirty=!0,zv(t),t.consumerMarkedDirty?.(t)}function Gv(t){return t&&(t.nextProducerIndex=0),ve(t)}function Wv(t,e){if(ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(is(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)sc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function xd(t){Di(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(OT(n),r!==n.version))return!0}return!1}function Kv(t){if(Di(t),is(t))for(let e=0;e<t.producerNode.length;e++)sc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Qv(t,e,n){if(Yv(t),Di(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Qv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function sc(t,e){if(Yv(t),Di(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)sc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Di(i),i.producerIndexOfThis[r]=e}}function is(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Di(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Yv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function FT(){throw new Error}var Jv=FT;function Zv(){Jv()}function Xv(t){Jv=t}var LT=null;function e_(t){let e=Object.create(n_);e.value=t;let n=()=>(Hv(e),e.value);return n[Ci]=e,n}function Md(t,e){qv()||Zv(),t.equal(t.value,e)||(t.value=e,VT(t))}function t_(t,e){qv()||Zv(),Md(t,e(t.value))}var n_=Ae(j({},Rd),{equal:PT,value:void 0});function VT(t){t.version++,NT(),zv(t),LT?.()}function Y(t){return typeof t=="function"}function Ti(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ac=Ti(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Mr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof ac?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{r_(o)}catch(s){e=e??[],s instanceof ac?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ac(e)}}add(e){var n;if(e&&e!==this)if(this.closed)r_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mr(n,e)}remove(e){let{_finalizers:n}=this;n&&Mr(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var Pd=Fe.EMPTY;function cc(t){return t instanceof Fe||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function r_(t){Y(t)?t():t.unsubscribe()}var Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Si={setTimeout(t,e,...n){let{delegate:r}=Si;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Si;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function uc(t){Si.setTimeout(()=>{let{onUnhandledError:e}=Ht;if(e)e(t);else throw t})}function os(){}var i_=Nd("C",void 0,void 0);function o_(t){return Nd("E",void 0,t)}function s_(t){return Nd("N",t,void 0)}function Nd(t,e,n){return{kind:t,value:e,error:n}}var Pr=null;function Ai(t){if(Ht.useDeprecatedSynchronousErrorHandling){let e=!Pr;if(e&&(Pr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Pr;if(Pr=null,n)throw r}}else t()}function a_(t){Ht.useDeprecatedSynchronousErrorHandling&&Pr&&(Pr.errorThrown=!0,Pr.error=t)}var Nr=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cc(e)&&e.add(this)):this.destination=BT}static create(e,n,r){return new Ri(e,n,r)}next(e){this.isStopped?kd(s_(e),this):this._next(e)}error(e){this.isStopped?kd(o_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kd(i_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UT=Function.prototype.bind;function Od(t,e){return UT.call(t,e)}var Fd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){lc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){lc(r)}else lc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){lc(n)}}},Ri=class extends Nr{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ht.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Od(e.next,o),error:e.error&&Od(e.error,o),complete:e.complete&&Od(e.complete,o)}):i=e}this.destination=new Fd(i)}};function lc(t){Ht.useDeprecatedSynchronousErrorHandling?a_(t):uc(t)}function jT(t){throw t}function kd(t,e){let{onStoppedNotification:n}=Ht;n&&Si.setTimeout(()=>n(t,e))}var BT={closed:!0,next:os,error:jT,complete:os};var xi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bt(t){return t}function Ld(...t){return Vd(t)}function Vd(t){return t.length===0?bt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=HT(n)?n:new Ri(n,r,i);return Ai(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=c_(r),new r((i,o)=>{let s=new Ri({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[xi](){return this}pipe(...n){return Vd(n)(this)}toPromise(n){return n=c_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function c_(t){var e;return(e=t??Ht.Promise)!==null&&e!==void 0?e:Promise}function $T(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function HT(t){return t&&t instanceof Nr||$T(t)&&cc(t)}function Ud(t){return Y(t?.lift)}function le(t){return e=>{if(Ud(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new jd(t,e,n,r,i)}var jd=class extends Nr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Mi(){return le((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Pi=class extends ye{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ud(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Mi()(this)}};var u_=Ti(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pt=(()=>{class t extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new dc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new u_}next(n){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Pd:(this.currentObservers=null,o.push(n),new Fe(()=>{this.currentObservers=null,Mr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ye;return n.source=this,n}}return t.create=(e,n)=>new dc(e,n),t})(),dc=class extends pt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Pd}};var Ye=class extends pt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Bd={now(){return(Bd.delegate||Date).now()},delegate:void 0};var hc=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}};var ss={setInterval(t,e,...n){let{delegate:r}=ss;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ss;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ni=class extends hc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ss.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ss.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Mr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Oi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Oi.now=Bd.now;var ki=class extends Oi{constructor(e,n=Oi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var $d=new ki(Ni);var fc=class extends Ni{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var pc=class extends ki{};var Hd=new pc(fc);var Dt=new ye(t=>t.complete());function l_(t){return t&&Y(t.schedule)}function d_(t){return t[t.length-1]}function h_(t){return Y(d_(t))?t.pop():void 0}function Yn(t){return l_(d_(t))?t.pop():void 0}function zd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function p_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function f_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Or(t){return this instanceof Or?(this.v=t,this):new Or(t)}function g_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(A){return Promise.resolve(A).then(w,p)}}function c(w,A){r[w]&&(i[w]=function(x){return new Promise(function(N,U){o.push([w,x,N,U])>1||u(w,x)})},A&&(i[w]=A(i[w])))}function u(w,A){try{l(r[w](A))}catch(x){y(o[0][3],x)}}function l(w){w.value instanceof Or?Promise.resolve(w.value.v).then(f,p):y(o[0][2],w)}function f(w){u("next",w)}function p(w){u("throw",w)}function y(w,A){w(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function m_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof f_=="function"?f_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var gc=t=>t&&typeof t.length=="number"&&typeof t!="function";function mc(t){return Y(t?.then)}function yc(t){return Y(t[xi])}function vc(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function _c(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wc=zT();function Ic(t){return Y(t?.[wc])}function Ec(t){return g_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Or(n.read());if(i)return yield Or(void 0);yield yield Or(r)}}finally{n.releaseLock()}})}function bc(t){return Y(t?.getReader)}function We(t){if(t instanceof ye)return t;if(t!=null){if(yc(t))return qT(t);if(gc(t))return GT(t);if(mc(t))return WT(t);if(vc(t))return y_(t);if(Ic(t))return KT(t);if(bc(t))return QT(t)}throw _c(t)}function qT(t){return new ye(e=>{let n=t[xi]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GT(t){return new ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function WT(t){return new ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,uc)})}function KT(t){return new ye(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function y_(t){return new ye(e=>{YT(t,e).catch(n=>e.error(n))})}function QT(t){return y_(Ec(t))}function YT(t,e){var n,r,i,o;return p_(this,void 0,void 0,function*(){try{for(n=m_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Jn(t,e=0){return le((n,r)=>{n.subscribe(de(r,i=>vt(r,t,()=>r.next(i),e),()=>vt(r,t,()=>r.complete(),e),i=>vt(r,t,()=>r.error(i),e)))})}function Zn(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function v_(t,e){return We(t).pipe(Zn(e),Jn(e))}function __(t,e){return We(t).pipe(Zn(e),Jn(e))}function w_(t,e){return new ye(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function I_(t,e){return new ye(n=>{let r;return vt(n,e,()=>{r=t[wc](),vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Dc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ye(n=>{vt(n,e,()=>{let r=t[Symbol.asyncIterator]();vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function E_(t,e){return Dc(Ec(t),e)}function b_(t,e){if(t!=null){if(yc(t))return v_(t,e);if(gc(t))return w_(t,e);if(mc(t))return __(t,e);if(vc(t))return Dc(t,e);if(Ic(t))return I_(t,e);if(bc(t))return E_(t,e)}throw _c(t)}function $e(t,e){return e?b_(t,e):We(t)}function Z(...t){let e=Yn(t);return $e(t,e)}function Fi(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new ye(e?i=>e.schedule(r,0,i):r)}function qd(t){return!!t&&(t instanceof ye||Y(t.lift)&&Y(t.subscribe))}var Tn=Ti(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function he(t,e){return le((n,r)=>{let i=0;n.subscribe(de(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:JT}=Array;function ZT(t,e){return JT(e)?t(...e):t(e)}function D_(t){return he(e=>ZT(t,e))}var{isArray:XT}=Array,{getPrototypeOf:eS,prototype:tS,keys:nS}=Object;function C_(t){if(t.length===1){let e=t[0];if(XT(e))return{args:e,keys:null};if(rS(e)){let n=nS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function rS(t){return t&&typeof t=="object"&&eS(t)===tS}function T_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Cc(...t){let e=Yn(t),n=h_(t),{args:r,keys:i}=C_(t);if(r.length===0)return $e([],e);let o=new ye(iS(r,e,i?s=>T_(i,s):bt));return n?o.pipe(D_(n)):o}function iS(t,e,n=bt){return r=>{S_(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)S_(e,()=>{let l=$e(t[u],e),f=!1;l.subscribe(de(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function S_(t,e,n){t?vt(n,t,e):e()}function A_(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},w=x=>l<r?A(x):u.push(x),A=x=>{o&&e.next(x),l++;let N=!1;We(n(x,f++)).subscribe(de(e,U=>{i?.(U),o?w(U):e.next(U)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let U=u.shift();s?vt(e,s,()=>A(U)):A(U)}y()}catch(U){e.error(U)}}))};return t.subscribe(de(e,w,()=>{p=!0,y()})),()=>{c?.()}}function He(t,e,n=1/0){return Y(e)?He((r,i)=>he((o,s)=>e(r,o,i,s))(We(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>A_(r,i,t,n)))}function Gd(t=1/0){return He(bt,t)}function R_(){return Gd(1)}function Li(...t){return R_()($e(t,Yn(t)))}function Tc(t){return new ye(e=>{We(t()).subscribe(e)})}function zt(t,e){return le((n,r)=>{let i=0;n.subscribe(de(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Xn(t){return le((e,n)=>{let r=null,i=!1,o;r=e.subscribe(de(n,void 0,void 0,s=>{o=We(t(s,Xn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function x_(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(de(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Vi(t,e){return Y(e)?He(t,e,1):He(t,1)}function er(t){return le((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Sn(t){return t<=0?()=>Dt:le((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Wd(t){return he(()=>t)}function Sc(t=oS){return le((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function oS(){return new Tn}function as(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function nn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?zt((i,o)=>t(i,o,r)):bt,Sn(1),n?er(e):Sc(()=>new Tn))}function Ui(t){return t<=0?()=>Dt:le((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Kd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?zt((i,o)=>t(i,o,r)):bt,Ui(1),n?er(e):Sc(()=>new Tn))}function Qd(t,e){return le(x_(t,e,arguments.length>=2,!0))}function Yd(...t){let e=Yn(t);return le((n,r)=>{(e?Li(t,n,e):Li(t,n)).subscribe(r)})}function qt(t,e){return le((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,f=o++;We(t(u,f)).subscribe(i=de(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Jd(t){return le((e,n)=>{We(t).subscribe(de(n,()=>n.complete(),os)),!n.closed&&e.subscribe(n)})}function ze(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):bt}var hw="https://g.co/ng/security#xss",W=class extends Error{constructor(e,n){super(Zh(e,n)),this.code=e}};function Zh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Es(t){return{toString:t}.toString()}var Ac="__parameters__";function sS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function fw(t,e,n){return Es(()=>{let r=sS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Ac)?u[Ac]:Object.defineProperty(u,Ac,{value:[]})[Ac];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var An=globalThis;function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function gt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(gt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function hh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var aS=Ce({__forward_ref__:Ce});function pw(t){return t.__forward_ref__=pw,t.toString=function(){return gt(this())},t}function Ot(t){return gw(t)?t():t}function gw(t){return typeof t=="function"&&t.hasOwnProperty(aS)&&t.__forward_ref__===pw}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tu(t){return{providers:t.providers||[],imports:t.imports||[]}}function nu(t){return M_(t,yw)||M_(t,vw)}function mw(t){return nu(t)!==null}function M_(t,e){return t.hasOwnProperty(e)?t[e]:null}function cS(t){let e=t&&(t[yw]||t[vw]);return e||null}function P_(t){return t&&(t.hasOwnProperty(N_)||t.hasOwnProperty(uS))?t[N_]:null}var yw=Ce({\u0275prov:Ce}),N_=Ce({\u0275inj:Ce}),vw=Ce({ngInjectableDef:Ce}),uS=Ce({ngInjectorDef:Ce}),ee=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _w(t){return t&&!!t.\u0275providers}var lS=Ce({\u0275cmp:Ce}),dS=Ce({\u0275dir:Ce}),hS=Ce({\u0275pipe:Ce}),fS=Ce({\u0275mod:Ce}),kc=Ce({\u0275fac:Ce}),cs=Ce({__NG_ELEMENT_ID__:Ce}),O_=Ce({__NG_ENV_ID__:Ce});function Xh(t){return typeof t=="string"?t:t==null?"":String(t)}function pS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Xh(t)}function gS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new W(-200,t)}function ef(t,e){throw new W(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),fh;function ww(){return fh}function _t(t){let e=fh;return fh=t,e}function Iw(t,e,n){let r=nu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;ef(t,"Injector")}var mS={},us=mS,ph="__NG_DI_FLAG__",Fc="ngTempTokenPath",yS="ngTokenPath",vS=/\n/gm,_S="\u0275",k_="__source",Hi;function wS(){return Hi}function tr(t){let e=Hi;return Hi=t,e}function IS(t,e=ie.Default){if(Hi===void 0)throw new W(-203,!1);return Hi===null?Iw(t,void 0,e):Hi.get(t,e&ie.Optional?null:void 0,e)}function oe(t,e=ie.Default){return(ww()||IS)(Ot(t),e)}function k(t,e=ie.Default){return oe(t,ru(e))}function ru(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function gh(t){let e=[];for(let n=0;n<t.length;n++){let r=Ot(t[n]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let c=r[s],u=ES(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(oe(i,o))}else e.push(oe(r))}return e}function Ew(t,e){return t[ph]=e,t.prototype[ph]=e,t}function ES(t){return t[ph]}function bS(t,e,n,r){let i=t[Fc];throw e[k_]&&i.unshift(e[k_]),t.message=DS(`
`+t.message,i,n,r),t[yS]=i,t[Fc]=null,t}function DS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==_S?t.slice(2):t;let i=gt(e);if(Array.isArray(e))i=e.map(gt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):gt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vS,`
  `)}`}var at=Ew(fw("Optional"),8);var bw=Ew(fw("SkipSelf"),4);function Vr(t,e){let n=t.hasOwnProperty(kc);return n?t[kc]:null}function tf(t,e){t.forEach(n=>Array.isArray(n)?tf(n,e):e(n))}function Dw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Lc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function CS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function nf(t,e,n){let r=bs(t,e);return r>=0?t[r|1]=n:(r=~r,CS(t,r,e,n)),r}function Zd(t,e){let n=bs(t,e);if(n>=0)return t[n|1]}function bs(t,e){return TS(t,e,1)}function TS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ls={},Ct=[],qi=new ee(""),Cw=new ee("",-1),Tw=new ee(""),Vc=class{get(e,n=us){if(n===us){let r=new Error(`NullInjectorError: No provider for ${gt(e)}!`);throw r.name="NullInjectorError",r}return n}},Sw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Sw||{}),sn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(sn||{}),Rn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Rn||{});function SS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function mh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];RS(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function AS(t){return t===3||t===4||t===6}function RS(t){return t.charCodeAt(0)===64}function rf(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?F_(t,n,i,null,e[++r]):F_(t,n,i,null,null))}}return t}function F_(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Aw="ng-template";function xS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(of(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function of(t){return t.type===4&&t.value!==Aw}function MS(t,e,n){let r=t.type===4&&!n?Aw:t.value;return e===r}function PS(t,e,n){let r=4,i=t.attrs,o=i!==null?kS(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Gt(r)&&!Gt(u))return!1;if(s&&Gt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!MS(t,u,n)||u===""&&e.length===1){if(Gt(r))return!1;s=!0}}else if(r&8){if(i===null||!xS(t,i,u,n)){if(Gt(r))return!1;s=!0}}else{let l=e[++c],f=NS(u,i,of(t),n);if(f===-1){if(Gt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Gt(r))return!1;s=!0}}}}return Gt(r)||s}function Gt(t){return(t&1)===0}function NS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return FS(e,t)}function OS(t,e,n=!1){for(let r=0;r<e.length;r++)if(PS(t,e[r],n))return!0;return!1}function kS(t){for(let e=0;e<t.length;e++){let n=t[e];if(AS(n))return e}return t.length}function FS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function L_(t,e){return t?":not("+e.trim()+")":e}function LS(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Gt(s)&&(e+=L_(o,i),i=""),r=s,o=o||!Gt(r);n++}return i!==""&&(e+=L_(o,i)),e}function VS(t){return t.map(LS).join(",")}function US(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Gt(i))break;i=o}r++}return{attrs:e,classes:n}}function xe(t){return Es(()=>{let e=Ow(t),n=Ae(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Sw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||sn.Emulated,styles:t.styles||Ct,_:null,schemas:t.schemas||null,tView:null,id:""});kw(n);let r=t.dependencies;return n.directiveDefs=U_(r,!1),n.pipeDefs=U_(r,!0),n.id=$S(n),n})}function jS(t){return Ur(t)||xw(t)}function BS(t){return t!==null}function iu(t){return Es(()=>({type:t.type,bootstrap:t.bootstrap||Ct,declarations:t.declarations||Ct,imports:t.imports||Ct,exports:t.exports||Ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function V_(t,e){if(t==null)return ls;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=Rn.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==Rn.None?[r,c]:r,e[o]=s):n[o]=r}return n}function Yi(t){return Es(()=>{let e=Ow(t);return kw(e),e})}function Rw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ur(t){return t[lS]||null}function xw(t){return t[dS]||null}function Mw(t){return t[hS]||null}function Pw(t){let e=Ur(t)||xw(t)||Mw(t);return e!==null?e.standalone:!1}function Nw(t,e){let n=t[fS]||null;if(!n&&e===!0)throw new Error(`Type ${gt(t)} does not have '\u0275mod' property.`);return n}function Ow(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ls,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ct,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:V_(t.inputs,e),outputs:V_(t.outputs),debugInfo:null}}function kw(t){t.features?.forEach(e=>e(t))}function U_(t,e){if(!t)return null;let n=e?Mw:jS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(BS)}function $S(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function un(t){return{\u0275providers:t}}function HS(...t){return{\u0275providers:Fw(!0,t),\u0275fromNgModule:!0}}function Fw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return tf(e,s=>{let c=s;yh(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Lw(i,o),n}function Lw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];sf(i,o=>{e(o,r)})}}function yh(t,e,n,r){if(t=Ot(t),!t)return!1;let i=null,o=P_(t),s=!o&&Ur(t);if(!o&&!s){let u=t.ngModule;if(o=P_(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)yh(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{tf(o.imports,f=>{yh(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Lw(l,e)}if(!c){let l=Vr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ct},i),e({provide:Tw,useValue:i,multi:!0},i),e({provide:qi,useValue:()=>oe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;sf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function sf(t,e){for(let n of t)_w(n)&&(n=n.\u0275providers),Array.isArray(n)?sf(n,e):e(n)}var zS=Ce({provide:String,useValue:Ce});function Vw(t){return t!==null&&typeof t=="object"&&zS in t}function qS(t){return!!(t&&t.useExisting)}function GS(t){return!!(t&&t.useFactory)}function vh(t){return typeof t=="function"}var ou=new ee(""),xc={},WS={},Xd;function af(){return Xd===void 0&&(Xd=new Vc),Xd}var Ft=class{},ds=class extends Ft{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wh(e,s=>this.processProvider(s)),this.records.set(Cw,ji(void 0,this)),i.has("environment")&&this.records.set(Ft,ji(void 0,this));let o=this.records.get(ou);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Tw,Ct,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=tr(this),r=_t(void 0),i;try{return e()}finally{tr(n),_t(r)}}get(e,n=us,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(O_))return e[O_](this);r=ru(r);let i,o=tr(this),s=_t(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=XS(e)&&nu(e);l&&this.injectableDefInScope(l)?u=ji(_h(e),xc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ie.Self?af():this.parent;return n=r&ie.Optional&&n===us?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Fc]=c[Fc]||[]).unshift(gt(e)),o)throw c;return bS(c,e,"R3InjectorError",this.source)}else throw c}finally{_t(s),tr(o)}}resolveInjectorInitializers(){let e=ve(null),n=tr(this),r=_t(void 0),i;try{let o=this.get(qi,Ct,ie.Self);for(let s of o)s()}finally{tr(n),_t(r),ve(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(gt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=Ot(e);let n=vh(e)?e:Ot(e&&e.provide),r=QS(e);if(!vh(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ji(void 0,xc,!0),i.factory=()=>gh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ve(null);try{return n.value===xc&&(n.value=WS,n.value=n.factory()),typeof n.value=="object"&&n.value&&ZS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ot(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _h(t){let e=nu(t),n=e!==null?e.factory:Vr(t);if(n!==null)return n;if(t instanceof ee)throw new W(204,!1);if(t instanceof Function)return KS(t);throw new W(204,!1)}function KS(t){if(t.length>0)throw new W(204,!1);let n=cS(t);return n!==null?()=>n.factory(t):()=>new t}function QS(t){if(Vw(t))return ji(void 0,t.useValue);{let e=YS(t);return ji(e,xc)}}function YS(t,e,n){let r;if(vh(t)){let i=Ot(t);return Vr(i)||_h(i)}else if(Vw(t))r=()=>Ot(t.useValue);else if(GS(t))r=()=>t.useFactory(...gh(t.deps||[]));else if(qS(t))r=()=>oe(Ot(t.useExisting));else{let i=Ot(t&&(t.useClass||t.provide));if(JS(t))r=()=>new i(...gh(t.deps));else return Vr(i)||_h(i)}return r}function ji(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JS(t){return!!t.deps}function ZS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function XS(t){return typeof t=="function"||typeof t=="object"&&t instanceof ee}function wh(t,e){for(let n of t)Array.isArray(n)?wh(n,e):n&&_w(n)?wh(n.\u0275providers,e):e(n)}function Gr(t,e){t instanceof ds&&t.assertNotDestroyed();let n,r=tr(t),i=_t(void 0);try{return e()}finally{tr(r),_t(i)}}function eA(){return ww()!==void 0||wS()!=null}function tA(t){return typeof t=="function"}var Pn=0,ce=1,Q=2,st=3,Kt=4,Jt=5,Uc=6,hs=7,Qt=8,Gi=9,Yt=10,qe=11,fs=12,j_=13,Ji=14,an=15,su=16,Bi=17,Wi=18,au=19,Uw=20,nr=21,eh=22,jr=23,Lt=25,jw=1;var Br=7,jc=8,Bc=9,kt=10,cf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(cf||{});function Fr(t){return Array.isArray(t)&&typeof t[jw]=="object"}function Nn(t){return Array.isArray(t)&&t[jw]===!0}function uf(t){return(t.flags&4)!==0}function cu(t){return t.componentOffset>-1}function uu(t){return(t.flags&1)===1}function Ds(t){return!!t.template}function nA(t){return(t[Q]&512)!==0}var Ih=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Bw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function lu(){return $w}function $w(t){return t.type.prototype.ngOnChanges&&(t.setInput=iA),rA}lu.ngInherit=!0;function rA(){let t=zw(this),e=t?.current;if(e){let n=t.previous;if(n===ls)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function iA(t,e,n,r,i){let o=this.declaredInputs[r],s=zw(t)||oA(t,{previous:ls,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Ih(l&&l.currentValue,n,u===ls),Bw(t,e,i,n)}var Hw="__ngSimpleChanges__";function zw(t){return t[Hw]||null}function oA(t,e){return t[Hw]=e}var B_=null;var rn=function(t,e,n){B_?.(t,e,n)},sA="svg",aA="math",cA=!1;function uA(){return cA}function cn(t){for(;Array.isArray(t);)t=t[Pn];return t}function qw(t,e){return cn(e[t])}function Zt(t,e){return cn(e[t.index])}function Gw(t,e){return t.data[e]}function Ww(t,e){return t[e]}function sr(t,e){let n=e[t];return Fr(n)?n:n[Pn]}function lf(t){return(t[Q]&128)===128}function lA(t){return Nn(t[st])}function Ki(t,e){return e==null?null:t[e]}function Kw(t){t[Bi]=0}function dA(t){t[Q]&1024||(t[Q]|=1024,lf(t)&&ps(t))}function hA(t,e){for(;t>0;)e=e[Ji],t--;return e}function df(t){return!!(t[Q]&9216||t[jr]?.dirty)}function Eh(t){t[Yt].changeDetectionScheduler?.notify(1),df(t)?ps(t):t[Q]&64&&(uA()?(t[Q]|=1024,ps(t)):t[Yt].changeDetectionScheduler?.notify())}function ps(t){t[Yt].changeDetectionScheduler?.notify();let e=gs(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!lf(e)));)e=gs(e)}function Qw(t,e){if((t[Q]&256)===256)throw new W(911,!1);t[nr]===null&&(t[nr]=[]),t[nr].push(e)}function fA(t,e){if(t[nr]===null)return;let n=t[nr].indexOf(e);n!==-1&&t[nr].splice(n,1)}function gs(t){let e=t[st];return Nn(e)?e[st]:e}var se={lFrame:sI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pA(){return se.lFrame.elementDepthCount}function gA(){se.lFrame.elementDepthCount++}function mA(){se.lFrame.elementDepthCount--}function Yw(){return se.bindingsEnabled}function yA(){return se.skipHydrationRootTNode!==null}function vA(t){return se.skipHydrationRootTNode===t}function _A(){se.skipHydrationRootTNode=null}function be(){return se.lFrame.lView}function St(){return se.lFrame.tView}function Jw(t){return se.lFrame.contextLView=t,t[Qt]}function Zw(t){return se.lFrame.contextLView=null,t}function Vt(){let t=Xw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Xw(){return se.lFrame.currentTNode}function wA(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Wr(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function hf(){return se.lFrame.isParent}function eI(){se.lFrame.isParent=!1}function ff(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function IA(t){return se.lFrame.bindingIndex=t}function tI(){return se.lFrame.bindingIndex++}function nI(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function EA(){return se.lFrame.inI18n}function bA(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,bh(e)}function DA(){return se.lFrame.currentDirectiveIndex}function bh(t){se.lFrame.currentDirectiveIndex=t}function CA(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function rI(t){se.lFrame.currentQueryIndex=t}function TA(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function iI(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=TA(o),i===null||(o=o[Ji],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=se.lFrame=oI();return r.currentTNode=e,r.lView=t,!0}function pf(t){let e=oI(),n=t[ce];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oI(){let t=se.lFrame,e=t===null?null:t.child;return e===null?sI(t):e}function sI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function aI(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cI=aI;function gf(){let t=aI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function SA(t){return(se.lFrame.contextLView=hA(t,se.lFrame.contextLView))[Qt]}function Kr(){return se.lFrame.selectedIndex}function $r(t){se.lFrame.selectedIndex=t}function uI(){let t=se.lFrame;return Gw(t.tView,t.selectedIndex)}function AA(){return se.lFrame.currentNamespace}var lI=!0;function du(){return lI}function hu(t){lI=t}function RA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=$w(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function fu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Mc(t,e,n){dI(t,e,3,n)}function Pc(t,e,n,r){(t[Q]&3)===n&&dI(t,e,n,r)}function th(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function dI(t,e,n,r){let i=r!==void 0?t[Bi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Bi]+=65536),(c<o||o==-1)&&(xA(t,n,e,u),t[Bi]=(t[Bi]&4294901760)+u+2),u++}function $_(t,e){rn(4,t,e);let n=ve(null);try{e.call(t)}finally{ve(n),rn(5,t,e)}}function xA(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[Q]>>14<t[Bi]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,$_(c,o)):$_(c,o)}var zi=-1,ms=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function MA(t){return t instanceof ms}function PA(t){return(t.flags&8)!==0}function NA(t){return(t.flags&16)!==0}function hI(t){return t!==zi}function $c(t){return t&32767}function OA(t){return t>>16}function Hc(t,e){let n=OA(t),r=e;for(;n>0;)r=r[Ji],n--;return r}var Dh=!0;function zc(t){let e=Dh;return Dh=t,e}var kA=256,fI=kA-1,pI=5,FA=0,on={};function LA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(cs)&&(r=n[cs]),r==null&&(r=n[cs]=FA++);let i=r&fI,o=1<<i;e.data[t+(i>>pI)]|=o}function gI(t,e){let n=mI(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,nh(r.data,t),nh(e,null),nh(r.blueprint,null));let i=mf(t,e),o=t.injectorIndex;if(hI(i)){let s=$c(i),c=Hc(i,e),u=c[ce].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function nh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function mf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=II(i),r===null)return zi;if(n++,i=i[Ji],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return zi}function VA(t,e,n){LA(t,e,n)}function yI(t,e,n){if(n&ie.Optional||t!==void 0)return t;ef(e,"NodeInjector")}function vI(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),!(n&(ie.Self|ie.Host))){let i=t[Gi],o=_t(void 0);try{return i?i.get(e,r,n&ie.Optional):Iw(e,r,n&ie.Optional)}finally{_t(o)}}return yI(r,e,n)}function _I(t,e,n,r=ie.Default,i){if(t!==null){if(e[Q]&2048&&!(r&ie.Self)){let s=HA(t,e,n,r,on);if(s!==on)return s}let o=wI(t,e,n,r,on);if(o!==on)return o}return vI(e,n,r,i)}function wI(t,e,n,r,i){let o=BA(n);if(typeof o=="function"){if(!iI(e,t,r))return r&ie.Host?yI(i,n,r):vI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))ef(n);else return s}finally{cI()}}else if(typeof o=="number"){let s=null,c=mI(t,e),u=zi,l=r&ie.Host?e[an][Jt]:null;for((c===-1||r&ie.SkipSelf)&&(u=c===-1?mf(t,e):e[c+8],u===zi||!z_(r,!1)?c=-1:(s=e[ce],c=$c(u),e=Hc(u,e)));c!==-1;){let f=e[ce];if(H_(o,c,f.data)){let p=UA(c,e,n,s,r,l);if(p!==on)return p}u=e[c+8],u!==zi&&z_(r,e[ce].data[c+8]===l)&&H_(o,c,e)?(s=f,c=$c(u),e=Hc(u,e)):c=-1}}return i}function UA(t,e,n,r,i,o){let s=e[ce],c=s.data[t+8],u=r==null?cu(c)&&Dh:r!=s&&(c.type&3)!==0,l=i&ie.Host&&o===c,f=jA(c,s,n,u,l);return f!==null?ys(e,s,f,c):on}function jA(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,y=i?c+f:l;for(let w=p;w<y;w++){let A=s[w];if(w<u&&n===A||w>=u&&A.type===n)return w}if(i){let w=s[u];if(w&&Ds(w)&&w.type===n)return u}return null}function ys(t,e,n,r){let i=t[n],o=e.data;if(MA(i)){let s=i;s.resolving&&gS(pS(o[n]));let c=zc(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?_t(s.injectImpl):null,f=iI(t,r,ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&RA(n,o[n],e)}finally{l!==null&&_t(l),zc(c),s.resolving=!1,cI()}}return i}function BA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(cs)?t[cs]:void 0;return typeof e=="number"?e>=0?e&fI:$A:e}function H_(t,e,n){let r=1<<t;return!!(n[e+(t>>pI)]&r)}function z_(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var Lr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return _I(this._tNode,this._lView,e,ru(r),n)}};function $A(){return new Lr(Vt(),be())}function yf(t){return Es(()=>{let e=t.prototype.constructor,n=e[kc]||Ch(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[kc]||Ch(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ch(t){return gw(t)?()=>{let e=Ch(Ot(t));return e&&e()}:Vr(t)}function HA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let c=wI(o,s,n,r|ie.Self,on);if(c!==on)return c;let u=o.parent;if(!u){let l=s[Uw];if(l){let f=l.get(n,on,r);if(f!==on)return f}u=II(s),s=s[Ji]}o=u}return i}function II(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function q_(t,e=null,n=null,r){let i=EI(t,e,n,r);return i.resolveInjectorInitializers(),i}function EI(t,e=null,n=null,r,i=new Set){let o=[n||Ct,HS(t)];return r=r||(typeof t=="object"?void 0:gt(t)),new ds(o,e||af(),r||null,i)}var Xt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return q_({name:""},i,r,"");{let o=r.name??"";return q_({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=us,e.NULL=new Vc,e.\u0275prov=z({token:e,providedIn:"any",factory:()=>oe(Cw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var zA="ngOriginalError";function rh(t){return t[zA]}var xn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&rh(e);for(;n&&rh(n);)n=rh(n);return n||null}},bI=new ee("",{providedIn:"root",factory:()=>k(xn).handleError.bind(void 0)}),DI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Th=class extends DI{constructor(e){super(),this._lView=e}onDestroy(e){return Qw(this._lView,e),()=>fA(this._lView,e)}};function qA(){return new Th(be())}function GA(){return pu(Vt(),be())}function pu(t,e){return new Qr(Zt(t,e))}var Qr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=GA;let t=e;return t})();var Sh=class extends pt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,eA()&&(this.destroyRef=k(DI,{optional:!0})??void 0)}emit(e){let n=ve(null);try{super.next(e)}finally{ve(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=ih(o),i&&(i=ih(i)),s&&(s=ih(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(c),c}};function ih(t){return e=>{setTimeout(t,void 0,e)}}var Tt=Sh;function CI(t){return(t.flags&128)===128}var TI=new Map,WA=0;function KA(){return WA++}function QA(t){TI.set(t[au],t)}function YA(t){TI.delete(t[au])}var G_="__ngContext__";function rr(t,e){Fr(e)?(t[G_]=e[au],QA(e)):t[G_]=e}function SI(t){return RI(t[fs])}function AI(t){return RI(t[Kt])}function RI(t){for(;t!==null&&!Nn(t);)t=t[Kt];return t}var Ah;function xI(t){Ah=t}function JA(){if(Ah!==void 0)return Ah;if(typeof document<"u")return document;throw new W(210,!1)}var vf=new ee("",{providedIn:"root",factory:()=>ZA}),ZA="ng",_f=new ee(""),ar=new ee("",{providedIn:"platform",factory:()=>"unknown"});var wf=new ee("",{providedIn:"root",factory:()=>JA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XA="h",eR="b";var tR=()=>null;function If(t,e,n=!1){return tR(t,e,n)}var MI=!1,nR=new ee("",{providedIn:"root",factory:()=>MI});var qc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hw})`}};function Cs(t){return t instanceof qc?t.changingThisBreaksApplicationSecurity:t}function PI(t,e){let n=rR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${hw})`)}return n===e}function rR(t){return t instanceof qc&&t.getTypeName()||null}var iR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function NI(t){return t=String(t),t.match(iR)?t:"unsafe:"+t}var Ef=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ef||{});function On(t){let e=oR();return e?e.sanitize(Ef.URL,t)||"":PI(t,"URL")?Cs(t):NI(Xh(t))}function oR(){let t=be();return t&&t[Yt].sanitizer}var sR=/^>|^->|<!--|-->|--!>|<!-$/g,aR=/(<|>)/g,cR="\u200B$1\u200B";function uR(t){return t.replace(sR,e=>e.replace(aR,cR))}function OI(t){return t.ownerDocument}function kI(t){return t instanceof Function?t():t}var Mn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mn||{}),lR;function bf(t,e){return lR(t,e)}function $i(t,e,n,r,i){if(r!=null){let o,s=!1;Nn(r)?o=r:Fr(r)&&(s=!0,r=r[Pn]);let c=cn(r);t===0&&n!==null?i==null?jI(e,n,c):Gc(e,n,c,i||null,!0):t===1&&n!==null?Gc(e,n,c,i||null,!0):t===2?AR(e,c,s):t===3&&e.destroyNode(c),o!=null&&xR(e,t,o,n,i)}}function dR(t,e){return t.createText(e)}function hR(t,e,n){t.setValue(e,n)}function fR(t,e){return t.createComment(uR(e))}function FI(t,e,n){return t.createElement(e,n)}function pR(t,e){LI(t,e),e[Pn]=null,e[Jt]=null}function gR(t,e,n,r,i,o){r[Pn]=i,r[Jt]=e,mu(t,r,n,1,i,o)}function LI(t,e){e[Yt].changeDetectionScheduler?.notify(1),mu(t,e,e[qe],2,null,null)}function mR(t){let e=t[fs];if(!e)return oh(t[ce],t);for(;e;){let n=null;if(Fr(e))n=e[fs];else{let r=e[kt];r&&(n=r)}if(!n){for(;e&&!e[Kt]&&e!==t;)Fr(e)&&oh(e[ce],e),e=e[st];e===null&&(e=t),Fr(e)&&oh(e[ce],e),n=e&&e[Kt]}e=n}}function yR(t,e,n,r){let i=kt+r,o=n.length;r>0&&(n[i-1][Kt]=e),r<o-kt?(e[Kt]=n[i],Dw(n,kt+r,e)):(n.push(e),e[Kt]=null),e[st]=n;let s=e[su];s!==null&&n!==s&&vR(s,e);let c=e[Wi];c!==null&&c.insertView(t),Eh(e),e[Q]|=128}function vR(t,e){let n=t[Bc],i=e[st][st][an];e[an]!==i&&(t[Q]|=cf.HasTransplantedViews),n===null?t[Bc]=[e]:n.push(e)}function VI(t,e){let n=t[Bc],r=n.indexOf(e);n.splice(r,1)}function Rh(t,e){if(t.length<=kt)return;let n=kt+e,r=t[n];if(r){let i=r[su];i!==null&&i!==t&&VI(i,r),e>0&&(t[n-1][Kt]=r[Kt]);let o=Lc(t,kt+e);pR(r[ce],r);let s=o[Wi];s!==null&&s.detachView(o[ce]),r[st]=null,r[Kt]=null,r[Q]&=-129}return r}function UI(t,e){if(!(e[Q]&256)){let n=e[qe];n.destroyNode&&mu(t,e,n,3,null,null),mR(e)}}function oh(t,e){if(e[Q]&256)return;let n=ve(null);try{e[Q]&=-129,e[Q]|=256,e[jr]&&Kv(e[jr]),wR(t,e),_R(t,e),e[ce].type===1&&e[qe].destroy();let r=e[su];if(r!==null&&Nn(e[st])){r!==e[st]&&VI(r,e);let i=e[Wi];i!==null&&i.detachView(t)}YA(e)}finally{ve(n)}}function _R(t,e){let n=t.cleanup,r=e[hs];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[hs]=null);let i=e[nr];if(i!==null){e[nr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function wR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ms)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];rn(4,c,u);try{u.call(c)}finally{rn(5,c,u)}}else{rn(4,i,o);try{o.call(i)}finally{rn(5,i,o)}}}}}function IR(t,e,n){return ER(t,e.parent,n)}function ER(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Pn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===sn.None||o===sn.Emulated)return null}return Zt(r,n)}}function Gc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jI(t,e,n){t.appendChild(e,n)}function W_(t,e,n,r,i){r!==null?Gc(t,e,n,r,i):jI(t,e,n)}function bR(t,e,n,r){t.removeChild(e,n,r)}function Df(t,e){return t.parentNode(e)}function DR(t,e){return t.nextSibling(e)}function CR(t,e,n){return SR(t,e,n)}function TR(t,e,n){return t.type&40?Zt(t,n):null}var SR=TR,K_;function gu(t,e,n,r){let i=IR(t,r,e),o=e[qe],s=r.parent||e[Jt],c=CR(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)W_(o,i,n[u],c,!1);else W_(o,i,n,c,!1);K_!==void 0&&K_(o,r,e,n,i)}function Nc(t,e){if(e!==null){let n=e.type;if(n&3)return Zt(e,t);if(n&4)return xh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Nc(t,r);{let i=t[e.index];return Nn(i)?xh(-1,i):cn(i)}}else{if(n&32)return bf(e,t)()||cn(t[e.index]);{let r=BI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=gs(t[an]);return Nc(i,r)}else return Nc(t,e.next)}}}return null}function BI(t,e){if(e!==null){let r=t[an][Jt],i=e.projection;return r.projection[i]}return null}function xh(t,e){let n=kt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return Nc(r,i)}return e[Br]}function AR(t,e,n){let r=Df(t,e);r&&bR(t,r,e,n)}function Cf(t,e,n,r,i,o,s){for(;n!=null;){let c=r[n.index],u=n.type;if(s&&e===0&&(c&&rr(cn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Cf(t,e,n.child,r,i,o,!1),$i(e,t,i,c,o);else if(u&32){let l=bf(n,r),f;for(;f=l();)$i(e,t,i,f,o);$i(e,t,i,c,o)}else u&16?RR(t,e,r,n,i,o):$i(e,t,i,c,o);n=s?n.projectionNext:n.next}}function mu(t,e,n,r,i,o){Cf(n,r,t.firstChild,e,i,o,!1)}function RR(t,e,n,r,i,o){let s=n[an],u=s[Jt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];$i(e,t,i,f,o)}else{let l=u,f=s[st];CI(r)&&(l.flags|=128),Cf(t,e,l,f,i,o,!0)}}function xR(t,e,n,r,i){let o=n[Br],s=cn(n);o!==s&&$i(e,t,r,o,i);for(let c=kt;c<n.length;c++){let u=n[c];mu(u[ce],u,t,e,r,o)}}function MR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Mn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mn.Important),t.setStyle(n,r,i,o))}}function PR(t,e,n){t.setAttribute(e,"style",n)}function $I(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function HI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&mh(t,e,r),i!==null&&$I(t,e,i),o!==null&&PR(t,e,o)}var ln={};function q(t=1){zI(St(),be(),Kr()+t,!1)}function zI(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Mc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Pc(e,o,0,n)}$r(n)}function mt(t,e=ie.Default){let n=be();if(n===null)return oe(t,e);let r=Vt();return _I(r,n,Ot(t),e)}function qI(t,e,n,r,i,o){let s=ve(null);try{let c=null;i&Rn.SignalBased&&(c=e[r][Ci]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&Rn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):Bw(e,c,r,o)}finally{ve(s)}}function NR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)$r(~i);else{let o=i,s=n[++r],c=n[++r];bA(s,o);let u=e[o];c(2,u)}}}finally{$r(-1)}}function yu(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Pn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),Kw(p),p[st]=p[Ji]=t,p[Qt]=n,p[Yt]=s||t&&t[Yt],p[qe]=c||t&&t[qe],p[Gi]=u||t&&t[Gi]||null,p[Jt]=o,p[au]=KA(),p[Uc]=f,p[Uw]=l,p[an]=e.type==2?t[an]:p,p}function Ts(t,e,n,r,i){let o=t.data[e];if(o===null)o=OR(t,e,n,r,i),EA()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=wA();o.injectorIndex=s===null?-1:s.injectorIndex}return Wr(o,!0),o}function OR(t,e,n,r,i){let o=Xw(),s=hf(),c=s?o:o&&o.parent,u=t.data[e]=UR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function GI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function WI(t,e,n,r,i){let o=Kr(),s=r&2;try{$r(-1),s&&e.length>Lt&&zI(t,e,Lt,!1),rn(s?2:0,i),n(r,i)}finally{$r(o),rn(s?3:1,i)}}function Tf(t,e,n){if(uf(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{ve(r)}}}function Sf(t,e,n){Yw()&&(qR(t,e,n,Zt(n,e)),(n.flags&64)===64&&JI(t,e,n))}function Af(t,e,n=Zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function KI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Rf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Rf(t,e,n,r,i,o,s,c,u,l,f){let p=Lt+r,y=p+i,w=kR(p,y),A=typeof l=="function"?l():l;return w[ce]={type:t,blueprint:w,template:n,queries:null,viewQuery:c,declTNode:e,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function kR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ln);return n}function FR(t,e,n,r){let o=r.get(nR,MI)||n===sn.ShadowDom,s=t.selectRootElement(e,o);return LR(s),s}function LR(t){VR(t)}var VR=()=>null;function UR(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return yA()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Q_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=Rn.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Y_(r,n,l,c,u):Y_(r,n,l,c)}return r}function Y_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function jR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=o[f],y=n?n.get(p):null,w=y?y.inputs:null,A=y?y.outputs:null;u=Q_(0,p.inputs,f,u,w),l=Q_(1,p.outputs,f,l,A);let x=u!==null&&s!==null&&!of(e)?ex(u,f,s):null;c.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function BR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function QI(t,e,n,r,i,o,s,c){let u=Zt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Mf(t,n,f,r,i),cu(e)&&$R(n,e.index)):e.type&3?(r=BR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function $R(t,e){let n=sr(e,t);n[Q]&16||(n[Q]|=64)}function xf(t,e,n,r){if(Yw()){let i=r===null?null:{"":-1},o=WR(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&YI(t,e,n,s,i,c),i&&KR(n,r,i)}n.mergedAttrs=rf(n.mergedAttrs,n.attrs)}function YI(t,e,n,r,i,o){for(let l=0;l<r.length;l++)VA(gI(n,e),t,r[l].type);YR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=GI(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=rf(n.mergedAttrs,f.hostAttrs),JR(t,n,e,u,f),QR(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}jR(t,n,o)}function HR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;zR(s)!=c&&s.push(c),s.push(n,r,o)}}function zR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function qR(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;cu(n)&&ZR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||gI(n,e),rr(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],l=ys(e,t,c,n);if(rr(l,e),s!==null&&XR(e,c-i,l,u,n,s),Ds(u)){let f=sr(n.index,e);f[Qt]=ys(e,t,c,n)}}}function JI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=DA();try{$r(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];bh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&GR(u,l)}}finally{$r(-1),bh(s)}}function GR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function WR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(OS(e,s.selectors,!1))if(r||(r=[]),Ds(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;Mh(t,e,u)}else r.unshift(s),Mh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Mh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new W(-301,!1);r.push(e[i],o)}}}function QR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ds(e)&&(n[""]=t)}}function YR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function JR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Vr(i.type,!0)),s=new ms(o,Ds(i),mt);t.blueprint[r]=s,n[r]=s,HR(t,e,r,GI(t,n,i.hostVars,ln),i)}function ZR(t,e,n){let r=Zt(e,t),i=KI(n),o=t[Yt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=vu(t,yu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function XR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],f=s[c++],p=s[c++];qI(r,n,u,l,f,p)}}function ex(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function ZI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function XI(t,e){let n=t.contentQueries;if(n!==null){let r=ve(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];rI(o),c.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function vu(t,e){return t[fs]?t[j_][Kt]=e:t[fs]=e,t[j_]=e,e}function Ph(t,e,n){rI(0);let r=ve(null);try{e(t,n)}finally{ve(r)}}function tx(t){return t[hs]||(t[hs]=[])}function nx(t){return t.cleanup||(t.cleanup=[])}function eE(t,e){let n=t[Gi],r=n?n.get(xn,null):null;r&&r.handleError(e)}function Mf(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],l=e[s],f=t.data[s];qI(f,l,r,c,u,i)}}function rx(t,e,n){let r=qw(e,t);hR(t[qe],r,n)}function ix(t,e){let n=sr(e,t),r=n[ce];ox(r,n);let i=n[Pn];i!==null&&n[Uc]===null&&(n[Uc]=If(i,n[Gi])),Pf(r,n,n[Qt])}function ox(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Pf(t,e,n){pf(e);try{let r=t.viewQuery;r!==null&&Ph(1,r,n);let i=t.template;i!==null&&WI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Wi]?.finishViewCreation(t),t.staticContentQueries&&XI(t,e),t.staticViewQueries&&Ph(2,t.viewQuery,n);let o=t.components;o!==null&&sx(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,gf()}}function sx(t,e){for(let n=0;n<e.length;n++)ix(t,e[n])}function ax(t,e,n,r){let i=ve(null);try{let o=e.tView,c=t[Q]&4096?4096:16,u=yu(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[su]=l;let f=t[Wi];return f!==null&&(u[Wi]=f.createEmbeddedView(o)),Pf(o,u,n),u}finally{ve(i)}}function J_(t,e){return!e||e.firstChild===null||CI(t)}function cx(t,e,n,r=!0){let i=e[ce];if(yR(i,e,t,n),r){let s=xh(n,t),c=e[qe],u=Df(c,t[Br]);u!==null&&gR(i,t[Jt],c,e,u,s)}let o=e[Uc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wc(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(cn(o)),Nn(o)&&ux(o,r);let s=n.type;if(s&8)Wc(t,e,n.child,r);else if(s&32){let c=bf(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=BI(e,n);if(Array.isArray(c))r.push(...c);else{let u=gs(e[an]);Wc(u[ce],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function ux(t,e){for(let n=kt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&Wc(r[ce],r,i,e)}t[Br]!==t[Pn]&&e.push(t[Br])}var tE=[];function lx(t){return t[jr]??dx(t)}function dx(t){let e=tE.pop()??Object.create(fx);return e.lView=t,e}function hx(t){t.lView[jr]!==t&&(t.lView=null,tE.push(t))}var fx=Ae(j({},Rd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ps(t.lView)},consumerOnSignalRead(){this.lView[jr]=this}}),nE=100;function rE(t,e=!0,n=0){let r=t[Yt],i=r.rendererFactory,o=!1;o||i.begin?.();try{px(t,n)}catch(s){throw e&&eE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function px(t,e){Nh(t,e);let n=0;for(;df(t);){if(n===nE)throw new W(103,!1);n++,Nh(t,1)}}function gx(t,e,n,r){let i=e[Q];if((i&256)===256)return;let o=!1;!o&&e[Yt].inlineEffectRunner?.flush(),pf(e);let s=null,c=null;!o&&mx(t)&&(c=lx(e),s=Gv(c));try{Kw(e),IA(t.bindingStartIndex),n!==null&&WI(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Mc(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Pc(e,p,0,null),th(e,0)}if(yx(e),iE(e,0),t.contentQueries!==null&&XI(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Mc(e,p)}else{let p=t.contentHooks;p!==null&&Pc(e,p,1),th(e,1)}NR(t,e);let l=t.components;l!==null&&sE(e,l,0);let f=t.viewQuery;if(f!==null&&Ph(2,f,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Mc(e,p)}else{let p=t.viewHooks;p!==null&&Pc(e,p,2),th(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[eh]){for(let p of e[eh])p();e[eh]=null}o||(e[Q]&=-73)}catch(u){throw ps(e),u}finally{c!==null&&(Wv(c,s),hx(c)),gf()}}function mx(t){return t.type!==2}function iE(t,e){for(let n=SI(t);n!==null;n=AI(n))for(let r=kt;r<n.length;r++){let i=n[r];oE(i,e)}}function yx(t){for(let e=SI(t);e!==null;e=AI(e)){if(!(e[Q]&cf.HasTransplantedViews))continue;let n=e[Bc];for(let r=0;r<n.length;r++){let i=n[r],o=i[st];dA(i)}}}function vx(t,e,n){let r=sr(e,t);oE(r,n)}function oE(t,e){lf(t)&&Nh(t,e)}function Nh(t,e){let r=t[ce],i=t[Q],o=t[jr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&xd(o)),o&&(o.dirty=!1),t[Q]&=-9217,s)gx(r,t,r.template,t[Qt]);else if(i&8192){iE(t,1);let c=r.components;c!==null&&sE(t,c,1)}}function sE(t,e,n){for(let r=0;r<e.length;r++)vx(t,e[r],n)}function Nf(t){for(t[Yt].changeDetectionScheduler?.notify();t;){t[Q]|=64;let e=gs(t);if(nA(t)&&!e)return t;t=e}return null}var Hr=class{get rootNodes(){let e=this._lView,n=e[ce];return Wc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(e){this._lView[Qt]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(Nn(e)){let n=e[jc],r=n?n.indexOf(this):-1;r>-1&&(Rh(e,r),Lc(n,r))}this._attachedToViewContainer=!1}UI(this._lView[ce],this._lView)}onDestroy(e){Qw(this._lView,e)}markForCheck(){Nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){Eh(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,rE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,LI(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e,Eh(this._lView)}},_u=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ix;let t=e;return t})(),_x=_u,wx=class extends _x{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ax(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Hr(i)}};function Ix(){return Ex(Vt(),be())}function Ex(t,e){return t.type&4?new wx(e,t,pu(t,e)):null}var XH=new RegExp(`^(\\d+)*(${eR}|${XA})*(.*)`);var bx=()=>null;function Z_(t,e){return bx(t,e)}var Oh=class{},kh=class{},Kc=class{};function Dx(t){let e=Error(`No component factory found for ${gt(t)}.`);return e[Cx]=t,e}var Cx="ngComponent";var Fh=class{resolveComponentFactory(e){throw Dx(e)}},wu=(()=>{let e=class e{};e.NULL=new Fh;let t=e;return t})(),vs=class{},Iu=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Tx();let t=e;return t})();function Tx(){let t=be(),e=Vt(),n=sr(e.index,t);return(Fr(n)?n:t)[qe]}var Sx=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),sh={};var X_=new Set;function Of(t){X_.has(t)||(X_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ew(...t){}function Ax(){let t=typeof An.requestAnimationFrame=="function",e=An[t?"requestAnimationFrame":"setTimeout"],n=An[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ee=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tt(!1),this.onMicrotaskEmpty=new Tt(!1),this.onStable=new Tt(!1),this.onError=new Tt(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Ax().nativeRequestAnimationFrame,Mx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new W(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Rx,ew,ew);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Rx={};function kf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(An,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Lh(t),t.isCheckStableRunning=!0,kf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Lh(t))}function Mx(t){let e=()=>{xx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,c)=>{if(Px(c))return n.invokeTask(i,o,s,c);try{return tw(t),n.invokeTask(i,o,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),nw(t)}},onInvoke:(n,r,i,o,s,c,u)=>{try{return tw(t),n.invoke(i,o,s,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),nw(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Lh(t),kf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Lh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function tw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nw(t){t._nesting--,kf(t)}function Px(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var aE=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Qc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=hh(i,c);else if(o==2){let u=c,l=e[++s];r=hh(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Yc=class extends wu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ur(e);return new _s(n,this.ngModule)}};function rw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Nx(t){let e=t.toLowerCase();return e==="svg"?sA:e==="math"?aA:null}var Vh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ru(r);let i=this.injector.get(e,sh,r);return i!==sh||n===sh?i:this.parentInjector.get(e,n,r)}},_s=class extends Kc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=rw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return rw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=VS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof Ft?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new Vh(e,s):e,u=c.get(vs,null);if(u===null)throw new W(407,!1);let l=c.get(Sx,null),f=c.get(aE,null),p=c.get(Oh,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},w=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=r?FR(w,r,this.componentDef.encapsulation,c):FI(w,A,Nx(A)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let U=null;x!==null&&(U=If(x,c,!0));let K=Rf(0,null,null,1,0,null,null,null,null,null,null),G=yu(null,K,null,N,null,null,y,w,c,null,U);pf(G);let re,Te;try{let X=this.componentDef,E,m=null;X.findHostDirectiveDefs?(E=[],m=new Map,X.findHostDirectiveDefs(X,E,m),E.push(X)):E=[X];let v=Ox(G,x),I=kx(v,x,X,E,G,y,w);Te=Gw(K,Lt),x&&Vx(w,X,x,r),n!==void 0&&Ux(Te,this.ngContentSelectors,n),re=Lx(I,X,E,m,G,[jx]),Pf(K,G,null)}finally{gf()}return new Uh(this.componentType,re,pu(Te,G),G,Te)}finally{ve(o)}}},Uh=class extends kh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Hr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Mf(o[ce],o,i,e,n),this.previousInputValues.set(e,n);let s=sr(this._tNode.index,o);Nf(s)}}get injector(){return new Lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ox(t,e){let n=t[ce],r=Lt;return t[r]=e,Ts(n,r,2,"#host",null)}function kx(t,e,n,r,i,o,s){let c=i[ce];Fx(r,t,e,s);let u=null;e!==null&&(u=If(e,i[Gi]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=yu(i,KI(n),null,f,i[t.index],t,o,l,null,null,u);return c.firstCreatePass&&Mh(c,t,r.length-1),vu(i,p),i[t.index]=p}function Fx(t,e,n,r){for(let i of t)e.mergedAttrs=rf(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Qc(e,e.mergedAttrs,!0),n!==null&&HI(r,n,e))}function Lx(t,e,n,r,i,o){let s=Vt(),c=i[ce],u=Zt(s,i);YI(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let p=s.directiveStart+f,y=ys(i,c,p,s);rr(y,i)}JI(c,i,s),u&&rr(u,i);let l=ys(i,c,s.directiveStart+s.componentOffset,s);if(t[Qt]=i[Qt]=l,o!==null)for(let f of o)f(l,e);return Tf(c,s,i),l}function Vx(t,e,n,r){if(r)mh(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=US(e.selectors[0]);i&&mh(t,n,i),o&&o.length>0&&$I(t,n,o.join(" "))}}function Ux(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function jx(){let t=Vt();fu(be()[ce],t)}var cr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Bx;let t=e;return t})();function Bx(){let t=Vt();return Hx(t,be())}var $x=cr,cE=class extends $x{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return pu(this._hostTNode,this._hostLView)}get injector(){return new Lr(this._hostTNode,this._hostLView)}get parentInjector(){let e=mf(this._hostTNode,this._hostLView);if(hI(e)){let n=Hc(e,this._hostLView),r=$c(e),i=n[ce].data[r+8];return new Lr(i,n)}else return new Lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=iw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Z_(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,J_(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!tA(e),c;if(s)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new _s(Ur(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(s?l:this.parentInjector).get(Ft,null);x&&(o=x)}let f=Ur(u.componentType??{}),p=Z_(this._lContainer,f?.id??null),y=p?.firstChild??null,w=u.create(l,i,y,o);return this.insertImpl(w.hostView,c,J_(this._hostTNode,p)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(lA(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[st],l=new cE(u,u[Jt],u[st]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return cx(s,i,o,r),e.attachToViewContainerRef(),Dw(ah(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=iw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Rh(this._lContainer,n);r&&(Lc(ah(this._lContainer),n),UI(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=Rh(this._lContainer,n);return r&&Lc(ah(this._lContainer),n)!=null?new Hr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function iw(t){return t[jc]}function ah(t){return t[jc]||(t[jc]=[])}function Hx(t,e){let n,r=e[t.index];return Nn(r)?n=r:(n=ZI(r,e,null,t),e[t.index]=n,vu(e,n)),qx(n,e,t,r),new cE(n,t,e)}function zx(t,e){let n=t[qe],r=n.createComment(""),i=Zt(e,t),o=Df(n,i);return Gc(n,o,r,DR(n,i),!1),r}var qx=Kx,Gx=()=>!1;function Wx(t,e,n){return Gx(t,e,n)}function Kx(t,e,n,r){if(t[Br])return;let i;n.type&8?i=cn(r):i=zx(e,n),t[Br]=i}function uE(t,e){Of("NgSignals");let n=e_(t),r=n[Ci];return e?.equal&&(r.equal=e.equal),n.set=i=>Md(r,i),n.update=i=>t_(r,i),n.asReadonly=Qx.bind(n),n}function Qx(){let t=this[Ci];if(t.readonlyFn===void 0){let e=()=>this();e[Ci]=t,t.readonlyFn=e}return t.readonlyFn}var ir=class{},ws=class{};var jh=class extends ir{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yc(this);let i=Nw(e);this._bootstrapComponents=kI(i.bootstrap),this._r3Injector=EI(e,n,[{provide:ir,useValue:this},{provide:wu,useValue:this.componentFactoryResolver},...r],gt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bh=class extends ws{constructor(e){super(),this.moduleType=e}create(e){return new jh(this.moduleType,e,[])}};var Jc=class extends ir{constructor(e){super(),this.componentFactoryResolver=new Yc(this),this.instance=null;let n=new ds([...e.providers,{provide:ir,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],e.parent||af(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ff(t,e,n=null){return new Jc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Eu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lE(t){return Jx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Yx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Jx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Lf(t,e,n){return t[e]=n}function zr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function $h(t,e,n,r){let i=zr(t,e,n);return zr(t,e+1,r)||i}function Zx(t,e,n,r,i,o){let s=$h(t,e,n,r);return $h(t,e+2,i,o)||s}function Xx(t){return(t.flags&32)===32}function eM(t,e,n,r,i,o,s,c,u){let l=e.consts,f=Ts(e,t,4,s||null,Ki(l,c));xf(e,n,f,Ki(l,u)),fu(e,f);let p=f.tView=Rf(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Je(t,e,n,r,i,o,s,c){let u=be(),l=St(),f=t+Lt,p=l.firstCreatePass?eM(f,l,u,e,n,r,i,o,s):l.data[f];Wr(p,!1);let y=tM(l,u,p,t);du()&&gu(l,u,y,p),rr(y,u);let w=ZI(y,u,y,p);return u[f]=w,vu(u,w),Wx(w,p,u),uu(p)&&Sf(l,u,p),s!=null&&Af(u,p,c),Je}var tM=nM;function nM(t,e,n,r){return hu(!0),e[qe].createComment("")}function dE(t,e,n,r){return zr(t,tI(),n)?e+Xh(n)+r:ln}function Rc(t,e){return t<<17|e<<2}function qr(t){return t>>17&32767}function rM(t){return(t&2)==2}function iM(t,e){return t&131071|e<<17}function Hh(t){return t|2}function Qi(t){return(t&131068)>>2}function ch(t,e){return t&-131069|e<<2}function oM(t){return(t&1)===1}function zh(t){return t|1}function sM(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=qr(s),u=Qi(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||bs(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=qr(t[c+1]);t[r+1]=Rc(y,c),y!==0&&(t[y+1]=ch(t[y+1],r)),t[c+1]=iM(t[c+1],r)}else t[r+1]=Rc(c,0),c!==0&&(t[c+1]=ch(t[c+1],r)),c=r;else t[r+1]=Rc(u,0),c===0?c=r:t[u+1]=ch(t[u+1],r),u=r;l&&(t[r+1]=Hh(t[r+1])),ow(t,f,r,!0),ow(t,f,r,!1),aM(e,f,t,r,o),s=Rc(c,u),o?e.classBindings=s:e.styleBindings=s}function aM(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&bs(o,e)>=0&&(n[r+1]=zh(n[r+1]))}function ow(t,e,n,r){let i=t[n+1],o=e===null,s=r?qr(i):Qi(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];cM(u,e)&&(c=!0,t[s+1]=r?zh(l):Hh(l)),s=r?qr(l):Qi(l)}c&&(t[n+1]=r?Hh(i):zh(i))}function cM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?bs(t,e)>=0:!1}var Wt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uM(t){return t.substring(Wt.key,Wt.keyEnd)}function lM(t){return dM(t),hE(t,fE(t,0,Wt.textEnd))}function hE(t,e){let n=Wt.textEnd;return n===e?-1:(e=Wt.keyEnd=hM(t,Wt.key=e,n),fE(t,e,n))}function dM(t){Wt.key=0,Wt.keyEnd=0,Wt.value=0,Wt.valueEnd=0,Wt.textEnd=t.length}function fE(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function hM(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ue(t,e,n){let r=be(),i=tI();if(zr(r,i,e)){let o=St(),s=uI();QI(o,s,r,t,e,r[qe],n,!1)}return ue}function qh(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Mf(t,n,o[s],s,r)}function ur(t,e){return pM(t,e,null,!0),ur}function pE(t){gM(IM,fM,t,!0)}function fM(t,e){for(let n=lM(e);n>=0;n=hE(e,n))nf(t,uM(e),!0)}function pM(t,e,n,r){let i=be(),o=St(),s=nI(2);if(o.firstUpdatePass&&mE(o,t,s,r),e!==ln&&zr(i,s,e)){let c=o.data[Kr()];yE(o,c,i,i[qe],t,i[s+1]=bM(e,n),r,s)}}function gM(t,e,n,r){let i=St(),o=nI(2);i.firstUpdatePass&&mE(i,null,o,r);let s=be();if(n!==ln&&zr(s,o,n)){let c=i.data[Kr()];if(vE(c,r)&&!gE(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=hh(u,n||"")),qh(i,c,s,n,r)}else EM(i,c,s,s[qe],s[o+1],s[o+1]=wM(t,e,n),r,o)}}function gE(t,e){return e>=t.expandoStartIndex}function mE(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Kr()],s=gE(t,n);vE(o,r)&&e===null&&!s&&(e=!1),e=mM(i,o,e,r),sM(i,o,e,n,s,r)}}function mM(t,e,n,r){let i=CA(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=uh(null,t,e,n,r),n=Is(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=uh(i,t,e,n,r),o===null){let u=yM(t,e,r);u!==void 0&&Array.isArray(u)&&(u=uh(null,t,e,u[1],r),u=Is(u,e.attrs,r),vM(t,e,r,u))}else o=_M(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function yM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Qi(r)!==0)return t[qr(r)]}function vM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[qr(i)]=r}function _M(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Is(r,s,n)}return Is(r,e.attrs,n)}function uh(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Is(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Is(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),nf(t,s,n?!0:e[++o]))}return t===void 0?null:t}function wM(t,e,n){if(n==null||n==="")return Ct;let r=[],i=Cs(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function IM(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&nf(t,r,n)}function EM(t,e,n,r,i,o,s,c){i===ln&&(i=Ct);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let y=u<i.length?i[u+1]:void 0,w=l<o.length?o[l+1]:void 0,A=null,x;f===p?(u+=2,l+=2,y!==w&&(A=p,x=w)):p===null||f!==null&&f<p?(u+=2,A=f):(l+=2,A=p,x=w),A!==null&&yE(t,e,n,r,A,x,s,c),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function yE(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=oM(l)?sw(u,e,n,i,Qi(l),s):void 0;if(!Zc(f)){Zc(o)||rM(l)&&(o=sw(u,null,n,i,c,s));let p=qw(Kr(),n);MR(r,s,p,i,o)}}function sw(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=n[i+1];y===ln&&(y=p?Ct:void 0);let w=p?Zd(y,r):f===r?y:void 0;if(l&&!Zc(w)&&(w=Zd(u,r)),Zc(w)&&(c=w,s))return c;let A=t[i+1];i=s?qr(A):Qi(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Zd(u,r))}return c}function Zc(t){return t!==void 0}function bM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=gt(Cs(t)))),t}function vE(t,e){return(t.flags&(e?8:16))!==0}function DM(t,e,n,r,i,o){let s=e.consts,c=Ki(s,i),u=Ts(e,t,2,r,c);return xf(e,n,u,Ki(s,o)),u.attrs!==null&&Qc(u,u.attrs,!1),u.mergedAttrs!==null&&Qc(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function R(t,e,n,r){let i=be(),o=St(),s=Lt+t,c=i[qe],u=o.firstCreatePass?DM(s,o,i,e,n,r):o.data[s],l=CM(o,i,u,c,e,t);i[s]=l;let f=uu(u);return Wr(u,!0),HI(c,l,u),!Xx(u)&&du()&&gu(o,i,l,u),pA()===0&&rr(l,i),gA(),f&&(Sf(o,i,u),Tf(o,u,i)),r!==null&&Af(i,u),R}function P(){let t=Vt();hf()?eI():(t=t.parent,Wr(t,!1));let e=t;vA(e)&&_A(),mA();let n=St();return n.firstCreatePass&&(fu(n,t),uf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&PA(e)&&qh(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&NA(e)&&qh(n,e,be(),e.stylesWithoutHost,!1),P}function $(t,e,n,r){return R(t,e,n,r),P(),$}var CM=(t,e,n,r,i,o)=>(hu(!0),FI(r,i,AA()));function TM(t,e,n,r,i){let o=e.consts,s=Ki(o,r),c=Ts(e,t,8,"ng-container",s);s!==null&&Qc(c,s,!0);let u=Ki(o,i);return xf(e,n,c,u),e.queries!==null&&e.queries.elementStart(e,c),c}function bu(t,e,n){let r=be(),i=St(),o=t+Lt,s=i.firstCreatePass?TM(o,i,r,e,n):i.data[o];Wr(s,!0);let c=SM(i,r,s,t);return r[o]=c,du()&&gu(i,r,c,s),rr(c,r),uu(s)&&(Sf(i,r,s),Tf(i,s,r)),n!=null&&Af(r,s),bu}function Du(){let t=Vt(),e=St();return hf()?eI():(t=t.parent,Wr(t,!1)),e.firstCreatePass&&(fu(e,t),uf(t)&&e.queries.elementEnd(t)),Du}var SM=(t,e,n,r)=>(hu(!0),fR(e[qe],""));function _E(){return be()}var kr=void 0;function AM(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var RM=["en",[["a","p"],["AM","PM"],kr],[["AM","PM"],kr,kr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kr,"{1} 'at' {0}",kr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",AM],lh={};function Cu(t){let e=xM(t),n=aw(e);if(n)return n;let r=e.split("-")[0];if(n=aw(r),n)return n;if(r==="en")return RM;throw new W(701,!1)}function aw(t){return t in lh||(lh[t]=An.ng&&An.ng.common&&An.ng.common.locales&&An.ng.common.locales[t]),lh[t]}var Yr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Yr||{});function xM(t){return t.toLowerCase().replace(/_/g,"-")}var Xc="en-US",MM="USD";var PM=Xc;function NM(t){typeof t=="string"&&(PM=t.toLowerCase().replace(/_/g,"-"))}function Re(t,e,n,r){let i=be(),o=St(),s=Vt();return kM(o,i,i[qe],s,t,e,r),Re}function OM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[hs],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function kM(t,e,n,r,i,o,s){let c=uu(r),l=t.firstCreatePass&&nx(t),f=e[Qt],p=tx(e),y=!0;if(r.type&3||s){let x=Zt(r,e),N=s?s(x):x,U=p.length,K=s?re=>s(cn(re[r.index])):r.index,G=null;if(!s&&c&&(G=OM(t,e,i,r.index)),G!==null){let re=G.__ngLastListenerFn__||G;re.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,y=!1}else{o=uw(r,e,f,o,!1);let re=n.listen(N,i,o);p.push(o,re),l&&l.push(i,K,U,U+1)}}else o=uw(r,e,f,o,!1);let w=r.outputs,A;if(y&&w!==null&&(A=w[i])){let x=A.length;if(x)for(let N=0;N<x;N+=2){let U=A[N],K=A[N+1],Te=e[U][K].subscribe(o),X=p.length;p.push(o,Te),l&&l.push(i,r.index,X,-(X+1))}}}function cw(t,e,n,r){let i=ve(null);try{return rn(6,e,n),n(r)!==!1}catch(o){return eE(t,o),!1}finally{rn(7,e,n),ve(i)}}function uw(t,e,n,r,i){return function o(s){if(s===Function)return r;let c=t.componentOffset>-1?sr(t.index,e):e;Nf(c);let u=cw(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=cw(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function dn(t=1){return SA(t)}function Vf(t,e,n){return wE(t,"",e,"",n),Vf}function wE(t,e,n,r,i){let o=be(),s=dE(o,e,n,r);if(s!==ln){let c=St(),u=uI();QI(c,u,o,t,s,o[qe],i,!1)}return wE}function FM(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function B(t,e=""){let n=be(),r=St(),i=t+Lt,o=r.firstCreatePass?Ts(r,i,1,e,null):r.data[i],s=LM(r,n,o,e,t);n[i]=s,du()&&gu(r,n,s,o),Wr(o,!1)}var LM=(t,e,n,r,i)=>(hu(!0),dR(e[qe],r));function Ze(t){return At("",t,""),Ze}function At(t,e,n){let r=be(),i=dE(r,t,e,n);return i!==ln&&rx(r,Kr(),i),At}var VM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Fw(!1,r.type),o=i.length>0?Ff([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(oe(Ft))});let t=e;return t})();function Me(t){Of("NgStandalone"),t.getStandaloneInjector=e=>e.get(VM).getOrCreateStandaloneInjector(t)}function Ss(t,e,n,r){return UM(be(),ff(),t,e,n,r)}function Uf(t,e){let n=t[e];return n===ln?void 0:n}function UM(t,e,n,r,i,o){let s=e+n;return zr(t,s,i)?Lf(t,s+1,o?r.call(o,i):r(i)):Uf(t,s+1)}function jM(t,e,n,r,i,o,s){let c=e+n;return $h(t,c,i,o)?Lf(t,c+2,s?r.call(s,i,o):r(i,o)):Uf(t,c+2)}function BM(t,e,n,r,i,o,s,c,u){let l=e+n;return Zx(t,l,i,o,s,c)?Lf(t,l+4,u?r.call(u,i,o,s,c):r(i,o,s,c)):Uf(t,l+4)}function kn(t,e){let n=St(),r,i=t+Lt;n.firstCreatePass?(r=$M(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Vr(r.type,!0)),s,c=_t(mt);try{let u=zc(!1),l=o();return zc(u),FM(n,be(),i,l),l}finally{_t(c)}}function $M(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function IE(t,e,n,r){let i=t+Lt,o=be(),s=Ww(o,i);return EE(o,i)?jM(o,ff(),e,s.transform,n,r,s):s.transform(n,r)}function Jr(t,e,n,r,i,o){let s=t+Lt,c=be(),u=Ww(c,s);return EE(c,s)?BM(c,ff(),e,u.transform,n,r,i,o,u):u.transform(n,r,i,o)}function EE(t,e){return t[ce].data[e].pure}var or=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},bE=new or("17.3.12"),Tu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var DE=new ee("");function As(t){return!!t&&typeof t.then=="function"}function CE(t){return!!t&&typeof t.subscribe=="function"}var TE=new ee(""),SE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(TE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(As(s))r.push(s);else if(CE(s)){let c=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jf=new ee("");function HM(){Xv(()=>{throw new W(600,!1)})}function zM(t){return t.isBoundToModule}function qM(t,e,n){try{let r=n();return As(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Rs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(bI),this.afterRenderEffectManager=k(aE),this.externalTestViews=new Set,this.beforeRender=new pt,this.afterTick=new pt,this.componentTypes=[],this.components=[],this.isStable=k(Eu).hasPendingTasks.pipe(he(r=>!r)),this._injector=k(Ft)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Kc;if(!this._injector.get(SE).done){let w=!o&&Pw(r),A=!1;throw new W(405,A)}let c;o?c=r:c=this._injector.get(wu).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=zM(c)?void 0:this._injector.get(ir),l=i||c.selector,f=c.create(Xt.NULL,[],l,u),p=f.location.nativeElement,y=f.injector.get(DE,null);return y?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),dh(this.components,f),y?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new W(101,!1);let i=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ve(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===nE)throw new W(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:c,notifyErrorHandler:u}of this._views)GM(c,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Gh(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Gh(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;dh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(jf,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>dh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new W(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GM(t,e,n){!e&&!Gh(t)||WM(t,n,e)}function Gh(t){return df(t)}function WM(t,e,n){let r;n?(r=0,t[Q]|=1024):t[Q]&64?r=0:r=1,rE(t,e,r)}var Wh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Bf=(()=>{let e=class e{compileModuleSync(r){return new Bh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Nw(r),s=kI(o.declarations).reduce((c,u)=>{let l=Ur(u);return l&&c.push(new _s(l)),c},[]);return new Wh(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var KM=(()=>{let e=class e{constructor(){this.zone=k(Ee),this.applicationRef=k(Rs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QM(t){return[{provide:Ee,useFactory:t},{provide:qi,multi:!0,useFactory:()=>{let e=k(KM,{optional:!0});return()=>e.initialize()}},{provide:qi,multi:!0,useFactory:()=>{let e=k(XM);return()=>{e.initialize()}}},{provide:bI,useFactory:YM}]}function YM(){let t=k(Ee),e=k(xn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function JM(t){let e=QM(()=>new Ee(ZM(t)));return un([[],e])}function ZM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var XM=(()=>{let e=class e{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=k(Ee),this.pendingTasks=k(Eu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eP(){return typeof $localize<"u"&&$localize.locale||Xc}var Su=new ee("",{providedIn:"root",factory:()=>k(Su,ie.Optional|ie.SkipSelf)||eP()}),AE=new ee("",{providedIn:"root",factory:()=>MM});var RE=new ee("");var Oc=null;function tP(t=[],e){return Xt.create({name:e,providers:[{provide:ou,useValue:"platform"},{provide:RE,useValue:new Set([()=>Oc=null])},...t]})}function nP(t=[]){if(Oc)return Oc;let e=tP(t);return Oc=e,HM(),rP(e),e}function rP(t){t.get(_f,null)?.forEach(n=>n())}var Fn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iP;let t=e;return t})();function iP(t){return oP(Vt(),be(),(t&16)===16)}function oP(t,e,n){if(cu(t)&&!n){let r=sr(t.index,e);return new Hr(r,r)}else if(t.type&47){let r=e[an];return new Hr(r,e)}return null}var Kh=class{constructor(){}supports(e){return lE(e)}create(e){return new Qh(e)}},sP=(t,e)=>e,Qh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<lw(r,i,o)?n:r,c=lw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){let w=y<o.length?o[y]:o[y]=0,A=w+y;f<=A&&A<l&&(o[y]=w+1)}let p=s.previousIndex;o[p]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!lE(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Yx(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Yh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new eu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new eu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Yh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Jh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},eu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Jh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function lw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function dw(){return new $f([new Kh])}var $f=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||dw()),deps:[[e,new bw,new at]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new W(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:dw});let t=e;return t})();function xE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=nP(r),o=[JM(),...n||[]],c=new Jc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(Ee);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(xn,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:w=>{l.handleError(w)}})});let p=()=>c.destroy(),y=i.get(RE);return y.add(p),c.onDestroy(()=>{f.unsubscribe(),y.delete(p)}),qM(l,u,()=>{let w=c.get(SE);return w.runInitializers(),w.donePromise.then(()=>{let A=c.get(Su,Xc);NM(A||Xc);let x=c.get(Rs);return e!==void 0&&x.bootstrap(e),x})})})}catch(e){return Promise.reject(e)}}var VE=null;function Zi(){return VE}function UE(t){VE??=t}var Au=class{};var Ut=new ee(""),Kf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(lP),providedIn:"platform"});let t=e;return t})();var lP=(()=>{let e=class e extends Kf{constructor(){super(),this._doc=k(Ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zi().getBaseHref(this._doc)}onPopState(r){let i=Zi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Zi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Qf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ME(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ln(t){return t&&t[0]!=="?"?"?"+t:t}var Xi=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(BE),providedIn:"root"});let t=e;return t})(),jE=new ee(""),BE=(()=>{let e=class e extends Xi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Qf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ln(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+Ln(s));this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+Ln(s));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(oe(Kf),oe(jE,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$E=(()=>{let e=class e extends Xi{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Qf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+Ln(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+Ln(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(oe(Kf),oe(jE,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Ps=(()=>{let e=class e{constructor(r){this._subject=new Tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=fP(ME(PE(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ln(i))}normalize(r){return e.stripTrailingSlash(hP(this._basePath,PE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ln(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ln(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Ln,e.joinWithSlash=Qf,e.stripTrailingSlash=ME,e.\u0275fac=function(i){return new(i||e)(oe(Xi))},e.\u0275prov=z({token:e,factory:()=>dP(),providedIn:"root"});let t=e;return t})();function dP(){return new Ps(oe(Xi))}function hP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function PE(t){return t.replace(/\/index.html$/,"")}function fP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var HE={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},zE=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(zE||{});var Vn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function xs(t,e){let n=Cu(t),r=n[Yr.NumberSymbols][e];if(typeof r>"u"){if(e===Vn.CurrencyDecimal)return n[Yr.NumberSymbols][Vn.Decimal];if(e===Vn.CurrencyGroup)return n[Yr.NumberSymbols][Vn.Group]}return r}function pP(t,e){return Cu(t)[Yr.NumberFormats][e]}function gP(t){return Cu(t)[Yr.Currencies]}function mP(t,e,n="en"){let r=gP(n)[t]||HE[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var yP=2;function vP(t){let e,n=HE[t];return n&&(e=n[2]),typeof e=="number"?e:yP}var _P=/^(\d+)?\.((\d+)(-(\d+))?)?$/,NE=22,Ru=".",Ms="0",wP=";",IP=",",Hf="#",OE="\xA4";function EP(t,e,n,r,i,o,s=!1){let c="",u=!1;if(!isFinite(t))c=xs(n,Vn.Infinity);else{let l=TP(t);s&&(l=CP(l));let f=e.minInt,p=e.minFrac,y=e.maxFrac;if(o){let K=o.match(_P);if(K===null)throw new Error(`${o} is not a valid digit info`);let G=K[1],re=K[3],Te=K[5];G!=null&&(f=zf(G)),re!=null&&(p=zf(re)),Te!=null?y=zf(Te):re!=null&&p>y&&(y=p)}SP(l,p,y);let w=l.digits,A=l.integerLen,x=l.exponent,N=[];for(u=w.every(K=>!K);A<f;A++)w.unshift(0);for(;A<0;A++)w.unshift(0);A>0?N=w.splice(A,w.length):(N=w,w=[0]);let U=[];for(w.length>=e.lgSize&&U.unshift(w.splice(-e.lgSize,w.length).join(""));w.length>e.gSize;)U.unshift(w.splice(-e.gSize,w.length).join(""));w.length&&U.unshift(w.join("")),c=U.join(xs(n,r)),N.length&&(c+=xs(n,i)+N.join("")),x&&(c+=xs(n,Vn.Exponential)+"+"+x)}return t<0&&!u?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function bP(t,e,n,r,i){let o=pP(e,zE.Currency),s=DP(o,xs(e,Vn.MinusSign));return s.minFrac=vP(r),s.maxFrac=s.minFrac,EP(t,s,e,Vn.CurrencyGroup,Vn.CurrencyDecimal,i).replace(OE,n).replace(OE,"").trim()}function DP(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(wP),i=r[0],o=r[1],s=i.indexOf(Ru)!==-1?i.split(Ru):[i.substring(0,i.lastIndexOf(Ms)+1),i.substring(i.lastIndexOf(Ms)+1)],c=s[0],u=s[1]||"";n.posPre=c.substring(0,c.indexOf(Hf));for(let f=0;f<u.length;f++){let p=u.charAt(f);p===Ms?n.minFrac=n.maxFrac=f+1:p===Hf?n.maxFrac=f+1:n.posSuf+=p}let l=c.split(IP);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Hf);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function CP(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function TP(t){let e=Math.abs(t)+"",n=0,r,i,o,s,c;for((i=e.indexOf(Ru))>-1&&(e=e.replace(Ru,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Ms;o++);if(o===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===Ms;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(e.charAt(o))}return i>NE&&(r=r.splice(0,NE-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function SP(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,c=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(c>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,f=r.reduceRight(function(p,y,w,A){return y=y+p,A[w]=y<10?y:y-10,u&&(A[w]===0&&w>=l?A.pop():u=!1),y>=10?1:0},0);f&&(r.unshift(f),t.integerLen++)}function zf(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function qE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qf=/\s+/,kE=[],GE=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=kE,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(qf):kE}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(qf):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(qf).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(mt(Qr),mt(Iu))},e.\u0275dir=Yi({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Rn.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Gf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},eo=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,c)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Gf(o.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,c),FE(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);FE(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(mt(cr),mt(_u),mt($f))},e.\u0275dir=Yi({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function FE(t,e){t.context.$implicit=e.item}var hn=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Wf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){LE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){LE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(mt(cr),mt(_u))},e.\u0275dir=Yi({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Wf=class{constructor(){this.$implicit=null,this.ngIf=null}};function LE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${gt(e)}'.`)}function AP(t,e){return new W(2100,!1)}var to=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,o="symbol",s,c){if(!RP(r))return null;c||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let u=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?u=mP(u,o==="symbol"?"wide":"narrow",c):u=o);try{let l=xP(r);return bP(l,c,u,i,s)}catch(l){throw AP(e,l.message)}}};e.\u0275fac=function(i){return new(i||e)(mt(Su,16),mt(AE,16))},e.\u0275pipe=Rw({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function RP(t){return!(t==null||t===""||t!==t)}function xP(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var et=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=iu({type:e}),e.\u0275inj=tu({});let t=e;return t})(),WE="browser",MP="server";function Yf(t){return t===MP}var xu=class{};var Xf=class extends Au{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ep=class t extends Xf{static makeCurrent(){UE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=PP();return n==null?null:NP(n)}resetBaseElement(){Ns=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qE(document.cookie,e)}},Ns=null;function PP(){return Ns=Ns||document.querySelector("base"),Ns?Ns.getAttribute("href"):null}function NP(t){return new URL(t,document.baseURI).pathname}var OP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),tp=new ee(""),JE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new W(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(oe(tp),oe(Ee))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Mu=class{constructor(e){this._doc=e}},Jf="ng-app-id",ZE=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yf(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Jf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Jf),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Jf,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,c=s.get(i)?.elements;c?c.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(oe(Ut),oe(vf),oe(wf,8),oe(ar))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Zf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rp=/%COMP%/g,XE="%COMP%",kP=`_nghost-${XE}`,FP=`_ngcontent-${XE}`,LP=!0,VP=new ee("",{providedIn:"root",factory:()=>LP});function UP(t){return FP.replace(rp,t)}function jP(t){return kP.replace(rp,t)}function e0(t,e){return e.map(n=>n.replace(rp,t))}var KE=(()=>{let e=class e{constructor(r,i,o,s,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Yf(u),this.defaultRenderer=new Os(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===sn.ShadowDom&&(i=Ae(j({},i),{encapsulation:sn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Pu?o.applyToHost(r):o instanceof ks&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case sn.Emulated:s=new Pu(l,f,i,this.appId,p,c,u,y);break;case sn.ShadowDom:return new np(l,f,r,i,c,u,this.nonce,y);default:s=new ks(l,f,i,p,c,u,y);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(oe(JE),oe(ZE),oe(vf),oe(VP),oe(Ut),oe(ar),oe(Ee),oe(wf))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),Os=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Zf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(QE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(QE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Zf[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Zf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(n,r,i&Mn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Zi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function QE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var np=class extends Os{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=e0(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ks=class extends Os{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?e0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Pu=class extends ks{constructor(e,n,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,c,u,l),this.contentAttr=UP(l),this.hostAttr=jP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},BP=(()=>{let e=class e extends Mu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(oe(Ut))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),YE=["alt","control","meta","shift"],$P={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},zP=(()=>{let e=class e extends Mu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zi().onAndCancel(r,s.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),YE.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),c+=f+".")}),c+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let o=$P[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),YE.forEach(c=>{if(c!==o){let u=HP[c];u(r)&&(s+=c+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(oe(Ut))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function t0(t,e){return xE(j({rootComponent:t},qP(e)))}function qP(t){return{appProviders:[...YP,...t?.providers??[]],platformProviders:QP}}function GP(){ep.makeCurrent()}function WP(){return new xn}function KP(){return xI(document),document}var QP=[{provide:ar,useValue:WE},{provide:_f,useValue:GP,multi:!0},{provide:Ut,useFactory:KP,deps:[]}];var YP=[{provide:ou,useValue:"root"},{provide:xn,useFactory:WP,deps:[]},{provide:tp,useClass:BP,multi:!0,deps:[Ut,Ee,ar]},{provide:tp,useClass:zP,multi:!0,deps:[Ut]},KE,ZE,JE,{provide:vs,useExisting:KE},{provide:xu,useClass:OP,deps:[]},[]];var n0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(oe(Ut))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var te="primary",Ys=Symbol("RouteTitle"),cp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function so(t){return new cp(t)}function ZP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s.startsWith(":"))i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function XP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fn(t[n],e[n]))return!1;return!0}function fn(t,e){let n=t?up(t):void 0,r=e?up(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!c0(t[i],e[i]))return!1;return!0}function up(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function c0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function u0(t){return t.length>0?t[t.length-1]:null}function pr(t){return qd(t)?t:As(t)?$e(Promise.resolve(t)):Z(t)}var eN={exact:d0,subset:h0},l0={exact:tN,subset:nN,ignored:()=>!0};function r0(t,e,n){return eN[n.paths](t.root,e.root,n.matrixParams)&&l0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function tN(t,e){return fn(t,e)}function d0(t,e,n){if(!Xr(t.segments,e.segments)||!ku(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!d0(t.children[r],e.children[r],n))return!1;return!0}function nN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>c0(t[n],e[n]))}function h0(t,e,n){return f0(t,e,e.segments,n)}function f0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Xr(i,n)||e.hasChildren()||!ku(i,n,r))}else if(t.segments.length===n.length){if(!Xr(t.segments,n)||!ku(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!h0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Xr(t.segments,i)||!ku(t.segments,i,r)||!t.children[te]?!1:f0(t.children[te],e,o,r)}}function ku(t,e,n){return e.every((r,i)=>l0[n](t[i].parameters,r.parameters))}var dr=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=so(this.queryParams),this._queryParamMap}toString(){return oN.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fu(this)}},Zr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=so(this.parameters),this._parameterMap}toString(){return g0(this)}};function rN(t,e){return Xr(t,e)&&t.every((n,r)=>fn(n.parameters,e[r].parameters))}function Xr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function iN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}var kp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new Vu,providedIn:"root"});let t=e;return t})(),Vu=class{parse(e){let n=new dp(e);return new dr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Fs(e.root,!0)}`,r=cN(e.queryParams),i=typeof e.fragment=="string"?`#${sN(e.fragment)}`:"";return`${n}${r}${i}`}},oN=new Vu;function Fu(t){return t.segments.map(e=>g0(e)).join("/")}function Fs(t,e){if(!t.hasChildren())return Fu(t);if(e){let n=t.children[te]?Fs(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${Fs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=iN(t,(r,i)=>i===te?[Fs(t.children[te],!1)]:[`${i}:${Fs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${Fu(t)}/${n[0]}`:`${Fu(t)}/(${n.join("//")})`}}function p0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nu(t){return p0(t).replace(/%3B/gi,";")}function sN(t){return encodeURI(t)}function lp(t){return p0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lu(t){return decodeURIComponent(t)}function i0(t){return Lu(t.replace(/\+/g,"%20"))}function g0(t){return`${lp(t.path)}${aN(t.parameters)}`}function aN(t){return Object.entries(t).map(([e,n])=>`;${lp(e)}=${lp(n)}`).join("")}function cN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Nu(n)}=${Nu(i)}`).join("&"):`${Nu(n)}=${Nu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var uN=/^[^\/()?;#]+/;function ip(t){let e=t.match(uN);return e?e[0]:""}var lN=/^[^\/()?;=#]+/;function dN(t){let e=t.match(lN);return e?e[0]:""}var hN=/^[^=?&#]+/;function fN(t){let e=t.match(hN);return e?e[0]:""}var pN=/^[^&#]+/;function gN(t){let e=t.match(pN);return e?e[0]:""}var dp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new Ie(e,n)),r}parseSegment(){let e=ip(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new Zr(Lu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=dN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ip(this.remaining);i&&(r=i,this.capture(r))}e[Lu(n)]=Lu(r)}parseQueryParam(e){let n=fN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=gN(this.remaining);s&&(r=s,this.capture(r))}let i=i0(n),o=i0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ip(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[te]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function m0(t){return t.segments.length>0?new Ie([],{[te]:t}):t}function y0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=y0(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ie(t.segments,e);return mN(n)}function mN(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new Ie(t.segments.concat(e.segments),e.children)}return t}function ao(t){return t instanceof dr}function yN(t,e,n=null,r=null){let i=v0(t);return _0(i,e,n,r)}function v0(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new Ie(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=m0(r);return e??i}function _0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return op(i,i,i,n,r);let o=vN(e);if(o.toRoot())return op(i,i,new Ie([],{}),n,r);let s=_N(o,i,t),c=s.processChildren?Us(s.segmentGroup,s.index,o.commands):I0(s.segmentGroup,s.index,o.commands);return op(i,s.segmentGroup,c,n,r)}function Uu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function $s(t){return typeof t=="object"&&t!=null&&t.outlets}function op(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=w0(t,e,n);let c=m0(y0(s));return new dr(c,o,i)}function w0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=w0(o,e,n)}),new Ie(t.segments,r)}var ju=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Uu(r[0]))throw new W(4003,!1);let i=r.find($s);if(i&&i!==u0(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ju(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new ju(n,e,r)}var io=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function _N(t,e,n){if(t.isAbsolute)return new io(e,!0,0);if(!n)return new io(e,!1,NaN);if(n.parent===null)return new io(n,!0,0);let r=Uu(t.commands[0])?0:1,i=n.segments.length-1+r;return wN(n,i,t.numberOfDoubleDots)}function wN(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new io(r,!1,i-o)}function IN(t){return $s(t[0])?t[0].outlets:{[te]:t}}function I0(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return Us(t,e,n);let r=EN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[te]=new Ie(t.segments.slice(r.pathIndex),t.children),Us(o,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?hp(t,e,n):r.match?Us(t,0,i):hp(t,e,n)}function Us(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=IN(n),i={};if(Object.keys(r).some(o=>o!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let o=Us(t.children[te],e,n);return new Ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=I0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(t.segments,i)}}function EN(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if($s(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!s0(u,l,s))return o;r+=2}else{if(!s0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if($s(o)){let u=bN(o.outlets);return new Ie(r,u)}if(i===0&&Uu(n[0])){let u=t.segments[e];r.push(new Zr(u.path,o0(n[0]))),i++;continue}let s=$s(o)?o.outlets[te]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Uu(c)?(r.push(new Zr(s,o0(c))),i+=2):(r.push(new Zr(s,{})),i++)}return new Ie(r,{})}function bN(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=hp(new Ie([],{}),0,r))}),e}function o0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function s0(t,e,n){return t==n.path&&fn(e,n.parameters)}var js="imperative",tt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(tt||{}),jt=class{constructor(e,n){this.id=e,this.url=n}},Hs=class extends jt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=tt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ei=class extends jt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xt||{}),fp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(fp||{}),hr=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ti=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=tt.NavigationSkipped}},zs=class extends jt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bu=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pp=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gp=class extends jt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mp=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yp=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vp=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_p=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wp=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ip=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ep=class{constructor(e){this.snapshot=e,this.type=tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bp=class{constructor(e){this.snapshot=e,this.type=tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var qs=class{},Gs=class{constructor(e){this.url=e}};var Dp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wu,this.attachRef=null}},Wu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Dp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$u=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Cp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Cp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Tp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Tp(e,this._root).map(n=>n.value)}};function Cp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Cp(t,n);if(r)return r}return null}function Tp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Tp(t,n);if(r.length)return r.unshift(e),r}return[]}var Rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ro(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Hu=class extends $u{constructor(e,n){super(e),this.snapshot=n,Lp(this,e)}toString(){return this.snapshot.toString()}};function E0(t){let e=DN(t),n=new Ye([new Zr("",{})]),r=new Ye({}),i=new Ye({}),o=new Ye({}),s=new Ye(""),c=new fr(n,r,o,s,i,te,t,e.root);return c.snapshot=e.root,new Hu(new Rt(c,[]),e)}function DN(t){let e={},n={},r={},i="",o=new Ws([],e,r,i,n,te,t,null,{});return new zu("",new Rt(o,[]))}var fr=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(he(l=>l[Ys]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(e=>so(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(e=>so(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&D0(i)&&(r.resolve[Ys]=i.title),r}var Ws=class{get title(){return this.data?.[Ys]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=so(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=so(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},zu=class extends $u{constructor(e,n){super(n),this.url=e,Lp(this,n)}toString(){return b0(this._root)}};function Lp(t,e){e.value._routerState=t,e.children.forEach(n=>Lp(t,n))}function b0(t){let e=t.children.length>0?` { ${t.children.map(b0).join(", ")} } `:"";return`${t.value}${e}`}function sp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),fn(e.params,n.params)||t.paramsSubject.next(n.params),XP(e.url,n.url)||t.urlSubject.next(n.url),fn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sp(t,e){let n=fn(t.params,e.params)&&rN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Sp(t.parent,e.parent))}function D0(t){return typeof t.title=="string"||t.title===null}var Vp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new Tt,this.deactivateEvents=new Tt,this.attachEvents=new Tt,this.detachEvents=new Tt,this.parentContexts=k(Wu),this.location=k(cr),this.changeDetector=k(Fn),this.environmentInjector=k(Ft),this.inputBinder=k(Up,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=r;let o=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Ap(r,u,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Yi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lu]});let t=e;return t})(),Ap=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fr?this.route:e===Wu?this.childContexts:this.parent.get(e,n)}},Up=new ee("");function CN(t,e,n){let r=Ks(t,e._root,n?n._root:void 0);return new Hu(r,e)}function Ks(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=TN(t,e,n);return new Rt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Ks(t,c)),s}}let r=SN(e.value),i=e.children.map(o=>Ks(t,o));return new Rt(r,i)}}function TN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ks(t,r,i);return Ks(t,r)})}function SN(t){return new fr(new Ye(t.url),new Ye(t.params),new Ye(t.queryParams),new Ye(t.fragment),new Ye(t.data),t.outlet,t.component,t)}var C0="ngNavigationCancelingError";function T0(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ao(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=S0(!1,xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function S0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[C0]=!0,n.cancellationCode=e,n}function AN(t){return A0(t)&&ao(t.url)}function A0(t){return!!t&&t[C0]}var RN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Me],decls:1,vars:0,template:function(i,o){i&1&&$(0,"router-outlet")},dependencies:[Vp],encapsulation:2});let t=e;return t})();function xN(t,e){return t.providers&&!t._injector&&(t._injector=Ff(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jp(t){let e=t.children&&t.children.map(jp),n=e?Ae(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=RN),n}function pn(t){return t.outlet||te}function MN(t,e){let n=t.filter(r=>pn(r)===e);return n.push(...t.filter(r=>pn(r)!==e)),n}function Js(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var PN=(t,e,n,r)=>he(i=>(new Rp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Rp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),sp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ro(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ro(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ro(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ro(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new bp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ip(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(sp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),sp(c.route.value),this.activateChildRoutes(e,null,s.children)}else{let c=Js(i.snapshot);s.attachRef=null,s.route=i,s.injector=c,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},qu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},oo=class{constructor(e,n){this.component=e,this.route=n}};function NN(t,e,n){let r=t._root,i=e?e._root:null;return Ls(r,i,n,[r.value])}function ON(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function uo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!mw(t)?t:e.get(t):r}function Ls(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ro(e);return t.children.forEach(s=>{kN(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Bs(c,n.getContext(s),i)),i}function kN(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=FN(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new qu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ls(t,e,c?c.children:null,r,i):Ls(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new oo(c.outlet.component,s))}else s&&Bs(e,c,i),i.canActivateChecks.push(new qu(r)),o.component?Ls(t,null,c?c.children:null,r,i):Ls(t,null,n,r,i);return i}function FN(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Xr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xr(t.url,e.url)||!fn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sp(t,e)||!fn(t.queryParams,e.queryParams);case"paramsChange":default:return!Sp(t,e)}}function Bs(t,e,n){let r=ro(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Bs(s,e.children.getContext(o),n):Bs(s,null,n):Bs(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new oo(e.outlet.component,i)):n.canDeactivateChecks.push(new oo(null,i)):n.canDeactivateChecks.push(new oo(null,i))}function Zs(t){return typeof t=="function"}function LN(t){return typeof t=="boolean"}function VN(t){return t&&Zs(t.canLoad)}function UN(t){return t&&Zs(t.canActivate)}function jN(t){return t&&Zs(t.canActivateChild)}function BN(t){return t&&Zs(t.canDeactivate)}function $N(t){return t&&Zs(t.canMatch)}function R0(t){return t instanceof Tn||t?.name==="EmptyError"}var Ou=Symbol("INITIAL_VALUE");function co(){return qt(t=>Cc(t.map(e=>e.pipe(Sn(1),Yd(Ou)))).pipe(he(e=>{for(let n of e)if(n!==!0){if(n===Ou)return Ou;if(n===!1||n instanceof dr)return n}return!0}),zt(e=>e!==Ou),Sn(1)))}function HN(t,e){return He(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(Ae(j({},n),{guardsResult:!0})):zN(s,r,i,t).pipe(He(c=>c&&LN(c)?qN(r,o,t,e):Z(c)),he(c=>Ae(j({},n),{guardsResult:c})))})}function zN(t,e,n,r){return $e(t).pipe(He(i=>YN(i.component,i.route,n,e,r)),nn(i=>i!==!0,!0))}function qN(t,e,n,r){return $e(e).pipe(Vi(i=>Li(WN(i.route.parent,r),GN(i.route,r),QN(t,i.path,n),KN(t,i.route,n))),nn(i=>i!==!0,!0))}function GN(t,e){return t!==null&&e&&e(new Ep(t)),Z(!0)}function WN(t,e){return t!==null&&e&&e(new wp(t)),Z(!0)}function KN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Tc(()=>{let s=Js(e)??n,c=uo(o,s),u=UN(c)?c.canActivate(e,t):Gr(s,()=>c(e,t));return pr(u).pipe(nn())}));return Z(i).pipe(co())}function QN(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>ON(s)).filter(s=>s!==null).map(s=>Tc(()=>{let c=s.guards.map(u=>{let l=Js(s.node)??n,f=uo(u,l),p=jN(f)?f.canActivateChild(r,t):Gr(l,()=>f(r,t));return pr(p).pipe(nn())});return Z(c).pipe(co())}));return Z(o).pipe(co())}function YN(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(c=>{let u=Js(e)??i,l=uo(c,u),f=BN(l)?l.canDeactivate(t,e,n,r):Gr(u,()=>l(t,e,n,r));return pr(f).pipe(nn())});return Z(s).pipe(co())}function JN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let c=uo(s,t),u=VN(c)?c.canLoad(e,n):Gr(t,()=>c(e,n));return pr(u)});return Z(o).pipe(co(),x0(r))}function x0(t){return Ld(ze(e=>{if(ao(e))throw T0(t,e)}),he(e=>e===!0))}function ZN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let c=uo(s,t),u=$N(c)?c.canMatch(e,n):Gr(t,()=>c(e,n));return pr(u)});return Z(o).pipe(co(),x0(r))}var Qs=class{constructor(e){this.segmentGroup=e||null}},Gu=class extends Error{constructor(e){super(),this.urlTree=e}};function no(t){return Fi(new Qs(t))}function XN(t){return Fi(new W(4e3,!1))}function eO(t){return Fi(S0(!1,xt.GuardRejected))}var xp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[te])return XN(e.redirectTo);i=i.children[te]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Gu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new dr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Mp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tO(t,e,n,r,i){let o=Bp(t,e,n);return o.matched?(r=xN(e,r),ZN(r,e,n,i).pipe(he(s=>s===!0?o:j({},Mp)))):Z(o)}function Bp(t,e,n){if(e.path==="**")return nO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},Mp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ZP)(n,t,e);if(!i)return j({},Mp);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function nO(t){return{matched:!0,parameters:t.length>0?u0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function a0(t,e,n,r){return n.length>0&&oO(t,n,r)?{segmentGroup:new Ie(e,iO(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&sO(t,n,r)?{segmentGroup:new Ie(t.segments,rO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function rO(t,e,n,r){let i={};for(let o of n)if(Ku(t,e,o)&&!r[pn(o)]){let s=new Ie([],{});i[pn(o)]=s}return j(j({},r),i)}function iO(t,e){let n={};n[te]=e;for(let r of t)if(r.path===""&&pn(r)!==te){let i=new Ie([],{});n[pn(r)]=i}return n}function oO(t,e,n){return n.some(r=>Ku(t,e,r)&&pn(r)!==te)}function sO(t,e,n){return n.some(r=>Ku(t,e,r))}function Ku(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function aO(t,e,n,r){return pn(t)!==r&&(r===te||!Ku(e,n,t))?!1:Bp(e,t,n).matched}function cO(t,e,n){return e.length===0&&!t.children[n]}var Pp=class{};function uO(t,e,n,r,i,o,s="emptyOnly"){return new Np(t,e,n,r,i,s,o).recognize()}var lO=31,Np=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new xp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=a0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(he(n=>{let r=new Ws([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),i=new Rt(r,n),o=new zu("",i),s=yN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,te).pipe(Xn(r=>{if(r instanceof Gu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Qs?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Fp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(he(o=>o instanceof Rt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return $e(i).pipe(Vi(o=>{let s=r.children[o],c=MN(n,o);return this.processSegmentGroup(e,c,s,o)}),Qd((o,s)=>(o.push(...s),o)),er(null),Kd(),He(o=>{if(o===null)return no(r);let s=M0(o);return dO(s),Z(s)}))}processSegment(e,n,r,i,o,s){return $e(n).pipe(Vi(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s).pipe(Xn(u=>{if(u instanceof Qs)return Z(null);throw u}))),nn(c=>!!c),Xn(c=>{if(R0(c))return cO(r,i,o)?Z(new Pp):no(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,c){return aO(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):no(i):no(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=Bp(n,i,o);if(!c)return no(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lO&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(He(y=>this.processSegment(e,r,n,y.concat(f),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=tO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(qt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:y}=c,w=new Ws(f,y,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,fO(r),pn(r),r.component??r._loadedComponent??null,r,pO(r)),{segmentGroup:A,slicedSegments:x}=a0(n,f,p,u);if(x.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(he(U=>U===null?null:new Rt(w,U)));if(u.length===0&&x.length===0)return Z(new Rt(w,[]));let N=pn(r)===o;return this.processSegment(l,u,A,x,N?te:o,!0).pipe(he(U=>new Rt(w,U instanceof Rt?[U]:[])))}))):no(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):JN(e,n,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,n).pipe(ze(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):eO(n))):Z({routes:[],injector:e})}};function dO(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function hO(t){let e=t.value.routeConfig;return e&&e.path===""}function M0(t){let e=[],n=new Set;for(let r of t){if(!hO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=M0(r.children);e.push(new Rt(r.value,i))}return e.filter(r=>!n.has(r))}function fO(t){return t.data||{}}function pO(t){return t.resolve||{}}function gO(t,e,n,r,i,o){return He(s=>uO(t,e,n,r,s.extractedUrl,i,o).pipe(he(({state:c,tree:u})=>Ae(j({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function mO(t,e){return He(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of P0(u))s.add(l);let c=0;return $e(s).pipe(Vi(u=>o.has(u)?yO(u,r,t,e):(u.data=Fp(u,u.parent,t).resolve,Z(void 0))),ze(()=>c++),Ui(1),He(u=>c===s.size?Z(n):Dt))})}function P0(t){let e=t.children.map(n=>P0(n)).flat();return[t,...e]}function yO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!D0(i)&&(o[Ys]=i.title),vO(o,t,e,r).pipe(he(s=>(t._resolvedData=s,t.data=Fp(t,t.parent,n).resolve,null)))}function vO(t,e,n,r){let i=up(t);if(i.length===0)return Z({});let o={};return $e(i).pipe(He(s=>_O(t[s],e,n,r).pipe(nn(),ze(c=>{o[s]=c}))),Ui(1),Wd(o),Xn(s=>R0(s)?Dt:Fi(s)))}function _O(t,e,n,r){let i=Js(e)??r,o=uo(t,i),s=o.resolve?o.resolve(e,n):Gr(i,()=>o(e,n));return pr(s)}function ap(t){return qt(e=>{let n=t(e);return n?$e(n).pipe(he(()=>e)):Z(e)})}var N0=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===te);return i}getResolvedTitleForRoute(r){return r.data[Ys]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(wO),providedIn:"root"});let t=e;return t})(),wO=(()=>{let e=class e extends N0{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(oe(n0))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$p=new ee("",{providedIn:"root",factory:()=>({})}),Hp=new ee(""),IO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Bf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=pr(r.loadComponent()).pipe(he(O0),ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),as(()=>{this.componentLoaders.delete(r)})),o=new Pi(i,()=>new pt).pipe(Mi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=EO(i,this.compiler,r,this.onLoadEndListener).pipe(as(()=>{this.childrenLoaders.delete(i)})),c=new Pi(s,()=>new pt).pipe(Mi());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function EO(t,e,n,r){return pr(t.loadChildren()).pipe(he(O0),He(i=>i instanceof ws||Array.isArray(i)?Z(i):$e(e.compileModuleAsync(i))),he(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Hp,[],{optional:!0,self:!0}).flat()),{routes:s.map(jp),injector:o}}))}function bO(t){return t&&typeof t=="object"&&"default"in t}function O0(t){return bO(t)?t.default:t}var zp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(DO),providedIn:"root"});let t=e;return t})(),DO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CO=new ee("");var TO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pt,this.transitionAbortSubject=new pt,this.configLoader=k(IO),this.environmentInjector=k(Ft),this.urlSerializer=k(kp),this.rootContexts=k(Wu),this.location=k(Ps),this.inputBindingEnabled=k(Up,{optional:!0})!==null,this.titleStrategy=k(N0),this.options=k($p,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(zp),this.createViewTransition=k(CO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let r=o=>this.events.next(new vp(o)),i=o=>this.events.next(new _p(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ae(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:js,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zt(s=>s.id!==0),he(s=>Ae(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),qt(s=>{let c=!1,u=!1;return Z(s).pipe(qt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),Dt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let y="";return this.events.next(new ti(l.id,this.urlSerializer.serialize(l.rawUrl),y,fp.IgnoredSameUrlNavigation)),l.resolve(null),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(qt(y=>{let w=this.transitions?.getValue();return this.events.next(new Hs(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),w!==this.transitions?.getValue()?Dt:Promise.resolve(y)}),gO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Ae(j({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let w=new Bu(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:w,source:A,restoredState:x,extras:N}=l,U=new Hs(y,this.urlSerializer.serialize(w),A,x);this.events.next(U);let K=E0(this.rootComponentType).snapshot;return this.currentTransition=s=Ae(j({},l),{targetSnapshot:K,urlAfterRedirects:w,extras:Ae(j({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,Z(s)}else{let y="";return this.events.next(new ti(l.id,this.urlSerializer.serialize(l.extractedUrl),y,fp.IgnoredByUrlHandlingStrategy)),l.resolve(null),Dt}}),ze(l=>{let f=new pp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),he(l=>(this.currentTransition=s=Ae(j({},l),{guards:NN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),HN(this.environmentInjector,l=>this.events.next(l)),ze(l=>{if(s.guardsResult=l.guardsResult,ao(l.guardsResult))throw T0(this.urlSerializer,l.guardsResult);let f=new gp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),zt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",xt.GuardRejected),!1)),ap(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(ze(f=>{let p=new mp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),qt(f=>{let p=!1;return Z(f).pipe(mO(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",xt.NoDataFromResolver)}}))}),ze(f=>{let p=new yp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),ap(l=>{let f=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(ze(w=>{p.component=w}),he(()=>{})));for(let w of p.children)y.push(...f(w));return y};return Cc(f(l.targetSnapshot.root)).pipe(er(null),Sn(1))}),ap(()=>this.afterPreactivation()),qt(()=>{let{currentSnapshot:l,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?$e(p).pipe(he(()=>s)):Z(s)}),he(l=>{let f=CN(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ae(j({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),ze(()=>{this.events.next(new qs)}),PN(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Sn(1),ze({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ei(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Jd(this.transitionAbortSubject.pipe(ze(l=>{throw l}))),as(()=>{!c&&!u&&this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xn(l=>{if(u=!0,A0(l))this.events.next(new hr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),AN(l)?this.events.next(new Gs(l.url)):s.resolve(!1);else{this.events.next(new zs(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return Dt}))}))}cancelNavigationTransition(r,i,o){let s=new hr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SO(t){return t!==js}var AO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(RO),providedIn:"root"});let t=e;return t})(),Op=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},RO=(()=>{let e=class e extends Op{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=yf(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>k(xO),providedIn:"root"});let t=e;return t})(),xO=(()=>{let e=class e extends k0{constructor(){super(...arguments),this.location=k(Ps),this.urlSerializer=k(kp),this.options=k($p,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(zp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new dr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=E0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Hs)this.stateMemento=this.createStateMemento();else if(r instanceof ti)this.rawUrlTree=i.initialUrl;else if(r instanceof Bu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof qs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof hr&&(r.code===xt.GuardRejected||r.code===xt.NoDataFromResolver)?this.restoreHistory(i):r instanceof zs?this.restoreHistory(i,!0):r instanceof ei&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,c=j(j({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",c)}else{let s=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=yf(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Vs||{});function MO(t,e){t.events.pipe(zt(n=>n instanceof ei||n instanceof hr||n instanceof zs||n instanceof ti),he(n=>n instanceof ei||n instanceof ti?Vs.COMPLETE:(n instanceof hr?n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation:!1)?Vs.REDIRECTING:Vs.FAILED),zt(n=>n!==Vs.REDIRECTING),Sn(1)).subscribe(()=>{e()})}function PO(t){throw t}var NO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Tu),this.stateManager=k(k0),this.options=k($p,{optional:!0})||{},this.pendingTasks=k(Eu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(TO),this.urlSerializer=k(kp),this.location=k(Ps),this.urlHandlingStrategy=k(zp),this._events=new pt,this.errorHandler=this.options.errorHandler||PO,this.navigated=!1,this.routeReuseStrategy=k(AO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Hp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Up,{optional:!0}),this.eventsSubscription=new Fe,this.isNgZoneEnabled=k(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof hr&&i.code!==xt.Redirect&&i.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ei)this.navigated=!0;else if(i instanceof Gs){let c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||SO(o.source)};this.scheduleNavigation(c,js,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}FO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),js,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(jp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,p=null;switch(u){case"merge":p=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let w=o?o.snapshot:this.routerState.snapshot.root;y=v0(w)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),y=this.currentUrlTree.root}return _0(y,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ao(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,js,null,i)}navigate(r,i={skipLocationChange:!1}){return kO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=j({},NO):i===!1?o=j({},OO):o=i,ao(r))return r0(this.currentUrlTree,r,o);let s=this.parseUrl(r);return r0(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((y,w)=>{u=y,l=w});let p=this.pendingTasks.add();return MO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new W(4008,!1)}function FO(t){return!(t instanceof qs)&&!(t instanceof Gs)}var LO=new ee("");function F0(t,...e){return un([{provide:Hp,multi:!0,useValue:t},[],{provide:fr,useFactory:VO,deps:[gr]},{provide:jf,multi:!0,useFactory:jO},e.map(n=>n.\u0275providers)])}function VO(t){return t.routerState.root}function UO(t,e){return{\u0275kind:t,\u0275providers:e}}function jO(){let t=k(Xt);return e=>{let n=t.get(Rs);if(e!==n.components[0])return;let r=t.get(gr),i=t.get(BO);t.get($O)===1&&r.initialNavigation(),t.get(HO,null,ie.Optional)?.setUpPreloading(),t.get(LO,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var BO=new ee("",{factory:()=>new pt}),$O=new ee("",{providedIn:"root",factory:()=>1});var HO=new ee("");function L0(){return UO(6,[{provide:Xi,useClass:$E}])}function zO(t,e){if(t&1&&$(0,"i",2),t&2){let n=dn();pE(n.iconClasses)}}var lo=(()=>{let e=class e{constructor(r){this.viewContainerRef=r,this.clicked=new Tt}ngOnInit(){this.viewContainerRef.element.nativeElement.addEventListener("click",i=>{this.clicked.emit(i)})}};e.\u0275fac=function(i){return new(i||e)(mt(cr))},e.\u0275cmp=xe({type:e,selectors:[["cw-button"]],inputs:{iconClasses:"iconClasses",text:"text"},outputs:{clicked:"clicked"},standalone:!0,features:[Me],decls:3,vars:2,consts:[["class","icon",3,"class",4,"ngIf"],[1,"text"],[1,"icon"]],template:function(i,o){i&1&&(Je(0,zO,1,2,"i",0),R(1,"div",1),B(2),P()),i&2&&(ue("ngIf",o.iconClasses),q(2),Ze(o.text))},dependencies:[et,hn],styles:['[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative;padding:1rem;color:var(--white-primary);gap:1rem}[_nghost-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]:hover:before{opacity:1}[_nghost-%COMP%]:hover{border-color:#000}[_nghost-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.icon[_ngcontent-%COMP%]{z-index:4}.text[_ngcontent-%COMP%]{z-index:4;transition:color .2s ease-in}']});let t=e;return t})();function qO(t,e){t&1&&(R(0,"div",12),$(1,"img",13),P())}var Qu=(()=>{let e=class e{constructor(){this.imageLoaded=!1,this.router=k(gr)}onImageLoad(){this.imageLoaded=!0}showDesign(){this.router.navigate(["/design",this.design.id])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["cw-home-card"]],inputs:{design:"design"},standalone:!0,features:[Me],decls:19,vars:9,consts:[[3,"click"],["loading","lazy",1,"card",3,"load","src"],["class","loader",4,"ngIf"],[1,"info",3,"click"],[1,"row","basic-info"],[1,"name"],[1,"price"],[1,"row","tags"],[1,"tag"],[1,"row","bottom"],[1,"click"],["iconClasses","fas fa-basket-shopping","text","Dodaj u korpu",3,"click"],[1,"loader"],["src","assets/current-wave-skeleton.svg","alt","Loading..."]],template:function(i,o){i&1&&(R(0,"div",0),Re("click",function(){return o.showDesign()}),R(1,"img",1),Re("load",function(){return o.onImageLoad()}),P()(),Je(2,qO,2,0,"div",2),R(3,"div",3),Re("click",function(){return o.showDesign()}),R(4,"div",4)(5,"div",5),B(6),P(),R(7,"div",6),B(8),kn(9,"currency"),P()(),R(10,"div",7)(11,"div",8),B(12),P(),R(13,"div",8),B(14),P()(),R(15,"div",9)(16,"div",10),B(17,"(Klikni za jo\u0161 informacija)"),P(),R(18,"cw-button",11),Re("click",function(){return o.showDesign()}),P()()()),i&2&&(q(),ue("src",o.design.image,On),q(),ue("ngIf",!o.imageLoaded),q(4),Ze(o.design.name),q(2),Ze(IE(9,6,o.design.price,"RSD")),q(4),Ze(o.design.category),q(2),Ze(o.design.type))},dependencies:[lo,et,hn,to],styles:["[_nghost-%COMP%]{width:100%;position:relative;transition:.2s ease;border-radius:.8rem}[_nghost-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}[_nghost-%COMP%]:hover   .info[_ngcontent-%COMP%]{height:max(13rem,30%);background-color:var(--white-primary)}.card[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{border-radius:.8rem;width:100%;overflow:hidden}.info[_ngcontent-%COMP%]{position:absolute;bottom:0;height:0px;background-color:var(--white-primary);width:100%;border-radius:.8rem;padding-inline:1rem;box-sizing:border-box;overflow:hidden;display:flex;flex-direction:column;transition:.4s ease-in-out;-webkit-user-select:none;user-select:none}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.name[_ngcontent-%COMP%]{flex-grow:1;padding:5px}.basic-info[_ngcontent-%COMP%]{border-bottom:1px solid black;padding-bottom:5px;margin-top:2rem}.price[_ngcontent-%COMP%]{background:var(--gradient-primary);color:var(--white-primary);display:flex;justify-content:center;align-items:center;padding:5px;border-radius:5px}.tags[_ngcontent-%COMP%]{margin-top:5px;justify-content:start;gap:3px;font-family:var(--ff-secondary)}.tag[_ngcontent-%COMP%]{background-color:var(--clr-primary-700);padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-300);color:var(--white-primary)}.bottom[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:2rem}.click[_ngcontent-%COMP%]{color:var(--white-primary-transparent);font-family:var(--ff-secondary);opacity:.5;font-size:var(--fs-300)}a[_ngcontent-%COMP%]{text-decoration:none;height:100%}"]});let t=e;return t})();var U0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},j0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|l>>6,w=l&63;u||(w=64,s||(y=64)),r.push(n[f],n[p],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Gp;let y=o<<2|c>>4;if(r.push(y),l!==64){let w=c<<4&240|l>>2;if(r.push(w),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Gp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},WO=function(t){let e=U0(t);return j0.encodeByteArray(e,!0)},Xs=function(t){return WO(t).replace(/\./g,"")},Kp=function(t){try{return j0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var QO=()=>KO().__FIREBASE_DEFAULTS__,YO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Kp(t[1]);return e&&JSON.parse(e)},Ju=()=>{try{return QO()||YO()||JO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},B0=t=>{var e,n;return(n=(e=Ju())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Zu=t=>{let e=B0(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qp=()=>{var t;return(t=Ju())===null||t===void 0?void 0:t.config},$0=t=>{var e;return(e=Ju())===null||e===void 0?void 0:e[`_${t}`]};var Yu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function H0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xs(JSON.stringify(n)),Xs(JSON.stringify(s)),""].join(".")}function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function ZO(){var t;let e=(t=Ju())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K0(){return!ZO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yp(){try{return typeof indexedDB=="object"}catch{return!1}}function Q0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var XO="FirebaseError",Mt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}},Un=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?e1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Mt(i,c,r)}};function e1(t,e){return t.replace(t1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var t1=/\{\$([^}]+)}/g;function ho(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(V0(o)&&V0(s)){if(!ho(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function V0(t){return t!==null&&typeof t=="object"}function Jp(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Y0(t,e){let n=new Wp(t,e);return n.subscribe.bind(n)}var Wp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");n1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qp),i.error===void 0&&(i.error=qp),i.complete===void 0&&(i.complete=qp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function n1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qp(){}var Oq=4*60*60*1e3;function wt(t){return t&&t._delegate?t._delegate:t}var It=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ni="[DEFAULT]";var Zp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Yu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i1(e))try{this.getOrInitializeService({instanceIdentifier:ni})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ni){return this.instances.has(e)}getOptions(e=ni){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ni){return this.component?this.component.multipleInstances?e:ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function r1(t){return t===ni?void 0:t}function i1(t){return t.instantiationMode==="EAGER"}var Xu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Zp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var o1=[],ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ae||{}),s1={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},a1=ae.INFO,c1={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},u1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=c1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mr=class{constructor(e){this.name=e,this._logLevel=a1,this._logHandler=u1,this._userLogHandler=null,o1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var l1=(t,e)=>e.some(n=>t instanceof n),J0,Z0;function d1(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h1(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var X0=new WeakMap,eg=new WeakMap,eb=new WeakMap,Xp=new WeakMap,ng=new WeakMap;function f1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(gn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&X0.set(n,t)}).catch(()=>{}),ng.set(e,t),e}function p1(t){if(eg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});eg.set(t,e)}var tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tb(t){tg=t(tg)}function g1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(el(this),e,...n);return eb.set(r,e.sort?e.sort():[e]),gn(r)}:h1().includes(t)?function(...e){return t.apply(el(this),e),gn(X0.get(this))}:function(...e){return gn(t.apply(el(this),e))}}function m1(t){return typeof t=="function"?g1(t):(t instanceof IDBTransaction&&p1(t),l1(t,d1())?new Proxy(t,tg):t)}function gn(t){if(t instanceof IDBRequest)return f1(t);if(Xp.has(t))return Xp.get(t);let e=m1(t);return e!==t&&(Xp.set(t,e),ng.set(e,t)),e}var el=t=>ng.get(t);function rb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=gn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(gn(s.result),u.oldVersion,u.newVersion,gn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var y1=["get","getKey","getAll","getAllKeys","count"],v1=["put","add","delete","clear"],rg=new Map;function nb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=v1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||y1.includes(n)))return;let o=function(s,...c){return T(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return rg.set(e,o),o}tb(t=>Ae(j({},t),{get:(e,n,r)=>nb(e,n)||t.get(e,n,r),has:(e,n)=>!!nb(e,n)||t.has(e,n)}));var og=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function _1(t){let e=t.getComponent();return e?.type==="VERSION"}var sg="@firebase/app",ib="0.10.11";var jn=new mr("@firebase/app"),w1="@firebase/app-compat",I1="@firebase/analytics-compat",E1="@firebase/analytics",b1="@firebase/app-check-compat",D1="@firebase/app-check",C1="@firebase/auth",T1="@firebase/auth-compat",S1="@firebase/database",A1="@firebase/database-compat",R1="@firebase/functions",x1="@firebase/functions-compat",M1="@firebase/installations",P1="@firebase/installations-compat",N1="@firebase/messaging",O1="@firebase/messaging-compat",k1="@firebase/performance",F1="@firebase/performance-compat",L1="@firebase/remote-config",V1="@firebase/remote-config-compat",U1="@firebase/storage",j1="@firebase/storage-compat",B1="@firebase/firestore",$1="@firebase/vertexai-preview",H1="@firebase/firestore-compat",z1="firebase",q1="10.13.2";var ag="[DEFAULT]",G1={[sg]:"fire-core",[w1]:"fire-core-compat",[E1]:"fire-analytics",[I1]:"fire-analytics-compat",[D1]:"fire-app-check",[b1]:"fire-app-check-compat",[C1]:"fire-auth",[T1]:"fire-auth-compat",[S1]:"fire-rtdb",[A1]:"fire-rtdb-compat",[R1]:"fire-fn",[x1]:"fire-fn-compat",[M1]:"fire-iid",[P1]:"fire-iid-compat",[N1]:"fire-fcm",[O1]:"fire-fcm-compat",[k1]:"fire-perf",[F1]:"fire-perf-compat",[L1]:"fire-rc",[V1]:"fire-rc-compat",[U1]:"fire-gcs",[j1]:"fire-gcs-compat",[B1]:"fire-fst",[H1]:"fire-fst-compat",[$1]:"fire-vertex","fire-js":"fire-js",[z1]:"fire-js-all"};var ea=new Map,W1=new Map,cg=new Map;function ob(t,e){try{t.container.addComponent(e)}catch(n){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mn(t){let e=t.name;if(cg.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;cg.set(e,t);for(let n of ea.values())ob(n,t);for(let n of W1.values())ob(n,t);return!0}function na(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fo(t){return t.settings!==void 0}var K1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new Un("app","Firebase",K1);var ug=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}};var po=q1;function hg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ag,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw yr.create("bad-app-name",{appName:String(i)});if(n||(n=Qp()),!n)throw yr.create("no-options");let o=ea.get(i);if(o){if(ho(n,o.options)&&ho(r,o.config))return o;throw yr.create("duplicate-app",{appName:i})}let s=new Xu(i);for(let u of cg.values())s.addComponent(u);let c=new ug(n,r,s);return ea.set(i,c),c}function ri(t=ag){let e=ea.get(t);if(!e&&t===ag&&Qp())return hg();if(!e)throw yr.create("no-app",{appName:t});return e}function tl(){return Array.from(ea.values())}function Ne(t,e,n){var r;let i=(r=G1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(c.join(" "));return}mn(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Q1="firebase-heartbeat-database",Y1=1,ta="firebase-heartbeat-store",ig=null;function ub(){return ig||(ig=rb(Q1,Y1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ta)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),ig}function J1(t){return T(this,null,function*(){try{let n=(yield ub()).transaction(ta),r=yield n.objectStore(ta).get(lb(t));return yield n.done,r}catch(e){if(e instanceof Mt)jn.warn(e.message);else{let n=yr.create("idb-get",{originalErrorMessage:e?.message});jn.warn(n.message)}}})}function sb(t,e){return T(this,null,function*(){try{let r=(yield ub()).transaction(ta,"readwrite");yield r.objectStore(ta).put(e,lb(t)),yield r.done}catch(n){if(n instanceof Mt)jn.warn(n.message);else{let r=yr.create("idb-set",{originalErrorMessage:n?.message});jn.warn(r.message)}}})}function lb(t){return`${t.name}!${t.options.appId}`}var Z1=1024,X1=30*24*60*60*1e3,lg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new dg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ab();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=X1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){jn.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ab(),{heartbeatsToSend:r,unsentEntries:i}=ek(this._heartbeatsCache.heartbeats),o=Xs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return jn.warn(n),""}})}};function ab(){return new Date().toISOString().substring(0,10)}function ek(t,e=Z1){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),cb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var dg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return Yp()?Q0().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield J1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cb(t){return Xs(JSON.stringify({version:2,heartbeats:t})).length}function tk(t){mn(new It("platform-logger",e=>new og(e),"PRIVATE")),mn(new It("heartbeat",e=>new lg(e),"PRIVATE")),Ne(sg,ib,t),Ne(sg,ib,"esm2017"),Ne("fire-js","")}tk("");var nk="firebase",rk="10.13.2";Ne(nk,rk,"app");var vr=new or("ANGULARFIRE2_VERSION");function ra(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var si=(t,e)=>{let n=e?[e]:tl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},oi=class{constructor(){return si(ik)}},ik="app-check";function go(){}var nl=class{zone;delegate;constructor(e,n=Hd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},fg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",go,{},go,go)),n.pipe(ze({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ai=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new nl(Zone.current)),this.insideAngular=n.run(()=>new nl(Zone.current,$d)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(oe(Ee))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ok(t){return rl().ngZone.runOutsideAngular(()=>t())}function ii(t){return rl().ngZone.run(()=>t())}function sk(t){return ak(rl())(t)}function ak(t){return function(n){return n=n.lift(new fg(t.ngZone)),n.pipe(Zn(t.outsideAngular),Jn(t.insideAngular))}}var ck=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ii(()=>t.apply(void 0,r))},yt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ii(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",go,{},go,go))),r[o]=ck(r[o],n));let i=ok(()=>t.apply(this,r));if(!e)if(i instanceof ye){let o=rl();return i.pipe(Zn(o.outsideAngular),Jn(o.insideAngular))}else return ii(()=>i);return i instanceof ye?i.pipe(sk):i instanceof Promise?ii(()=>new Promise((o,s)=>i.then(c=>ii(()=>o(c)),c=>ii(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ii(()=>i)};var Bn=class{constructor(e){return e}},ci=class{constructor(){return tl()}};function uk(t){return t&&t.length===1?t[0]:new Bn(ri())}var pg=new ee("angularfire2._apps"),lk={provide:Bn,useFactory:uk,deps:[[new at,pg]]},dk={provide:ci,deps:[[new at,pg]]};function hk(t){return(e,n)=>{let r=n.get(ar);Ne("angularfire",vr.full,"core"),Ne("angularfire",vr.full,"app"),Ne("angular",bE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Bn(i)}}function db(t,...e){return un([lk,dk,{provide:pg,useFactory:hk(t),multi:!0,deps:[Ee,Xt,ai,...e]}])}var hb=yt(hg,!0);function wb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ib=wb,Eb=new Un("auth","Firebase",wb());var al=new mr("@firebase/auth");function pk(t,...e){al.logLevel<=ae.WARN&&al.warn(`Auth (${po}): ${t}`,...e)}function ol(t,...e){al.logLevel<=ae.ERROR&&al.error(`Auth (${po}): ${t}`,...e)}function fb(t,...e){throw Tg(t,...e)}function Cg(t,...e){return Tg(t,...e)}function bb(t,e,n){let r=Object.assign(Object.assign({},Ib()),{[e]:n});return new Un("auth","Firebase",r).create(e,{appName:t.name})}function sl(t){return bb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Eb.create(t,...e)}function _e(t,e,...n){if(!t)throw Tg(e,...n)}function ia(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ol(e),new Error(e)}function cl(t,e){t||ia(e)}function gk(){return pb()==="http:"||pb()==="https:"}function pb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function mk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gk()||G0()||"connection"in navigator)?navigator.onLine:!0}function yk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var li=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,cl(n>e,"Short delay should be less than long delay!"),this.isMobile=z0()||W0()}get(){return mk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vk(t,e){cl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ul=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ia("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ia("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ia("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var wk=new li(3e4,6e4);function Db(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function fl(o,s,c,u){return T(this,arguments,function*(t,e,n,r,i={}){return Cb(t,i,()=>T(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Jp(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:y},l);return q0()||(w.referrerPolicy="no-referrer"),ul.fetch()(Tb(t,t.config.apiHost,n,p),w)}))})}function Cb(t,e,n){return T(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},_k),e);try{let i=new yg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw il(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw il(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw il(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw il(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw bb(t,f,l);fb(t,f)}}catch(i){if(i instanceof Mt)throw i;fb(t,"network-request-failed",{message:String(i)})}})}function Tb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?vk(t.config,i):`${t.config.apiScheme}://${i}`}var yg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cg(this.auth,"network-request-failed")),wk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function il(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Cg(t,e,r);return i.customData._tokenResponse=n,i}function Ik(t,e){return T(this,null,function*(){return fl(t,"POST","/v1/accounts:delete",e)})}function Sb(t,e){return T(this,null,function*(){return fl(t,"POST","/v1/accounts:lookup",e)})}function oa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Sg(t,e=!1){return T(this,null,function*(){let n=wt(t),r=yield n.getIdToken(e),i=Ab(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:oa(gg(i.auth_time)),issuedAtTime:oa(gg(i.iat)),expirationTime:oa(gg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function gg(t){return Number(t)*1e3}function Ab(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ol("JWT malformed, contained fewer than 3 sections"),null;try{let i=Kp(n);return i?JSON.parse(i):(ol("Failed to decode base64 JWT payload"),null)}catch(i){return ol("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gb(t){let e=Ab(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function vg(t,e,n=!1){return T(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Mt&&Ek(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Ek({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var _g=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),n)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var aa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oa(this.lastLoginAt),this.creationTime=oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ll(t){return T(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield vg(t,Sb(n,{idToken:r}));_e(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Rb(o.providerUserInfo):[],c=bk(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new aa(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Ag(t){return T(this,null,function*(){let e=wt(t);yield ll(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function bk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rb(t){return t.map(e=>{var{providerId:n}=e,r=zd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Dk(t,e){return T(this,null,function*(){let n=yield Cb(t,{},()=>T(this,null,function*(){let r=Jp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Tb(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ul.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Ck(t,e){return T(this,null,function*(){return fl(t,"POST","/v2/accounts:revokeToken",Db(t,e))})}var sa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let n=gb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return T(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Dk(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ia("not implemented")}};function _r(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ca=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=zd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _g(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new aa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let n=yield vg(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Sg(this,e)}reload(){return Ag(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ll(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(fo(this.auth.app))return Promise.reject(sl(this.auth));let e=yield this.getIdToken();return yield vg(this,Ik(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,U=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:G,emailVerified:re,isAnonymous:Te,providerData:X,stsTokenManager:E}=n;_e(G&&E,e,"internal-error");let m=sa.fromJSON(this.name,E);_e(typeof G=="string",e,"internal-error"),_r(p,e.name),_r(y,e.name),_e(typeof re=="boolean",e,"internal-error"),_e(typeof Te=="boolean",e,"internal-error"),_r(w,e.name),_r(A,e.name),_r(x,e.name),_r(N,e.name),_r(U,e.name),_r(K,e.name);let v=new t({uid:G,auth:e,email:y,emailVerified:re,displayName:p,isAnonymous:Te,photoURL:A,phoneNumber:w,tenantId:x,stsTokenManager:m,createdAt:U,lastLoginAt:K});return X&&Array.isArray(X)&&(v.providerData=X.map(I=>Object.assign({},I))),N&&(v._redirectEventId=N),v}static _fromIdTokenResponse(e,n,r=!1){return T(this,null,function*(){let i=new sa;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ll(o),o})}static _fromGetAccountInfoResponse(e,n,r){return T(this,null,function*(){let i=n.users[0];_e(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Rb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new sa;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new aa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var mb=new Map;function ui(t){cl(t instanceof Function,"Expected a class definition");let e=mb.get(t);return e?(cl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mb.set(t,e),e)}var Tk=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(n,r){return T(this,null,function*(){this.storage[n]=r})}_get(n){return T(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return T(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),wg=Tk;function mg(t,e,n){return`firebase:${t}:${e}:${n}`}var dl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=mg(this.userKey,i.apiKey,o),this.fullPersistenceKey=mg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ca._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return T(this,null,function*(){if(!n.length)return new t(ui(wg),e,r);let i=(yield Promise.all(n.map(l=>T(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ui(wg),s=mg(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let p=ca._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>T(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function yb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pk(e))return"Blackberry";if(Nk(e))return"Webos";if(Ak(e))return"Safari";if((e.includes("chrome/")||Rk(e))&&!e.includes("edge/"))return"Chrome";if(Mk(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Sk(t=Pt()){return/firefox\//i.test(t)}function Ak(t=Pt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rk(t=Pt()){return/crios\//i.test(t)}function xk(t=Pt()){return/iemobile/i.test(t)}function Mk(t=Pt()){return/android/i.test(t)}function Pk(t=Pt()){return/blackberry/i.test(t)}function Nk(t=Pt()){return/webos/i.test(t)}function xb(t,e=[]){let n;switch(t){case"Browser":n=yb(Pt());break;case"Worker":n=`${yb(Pt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${r}`}var Ig=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Ok(n){return T(this,arguments,function*(t,e={}){return fl(t,"GET","/v2/passwordPolicy",Db(t,e))})}var kk=6,Eg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:kk,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var bg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hl(this),this.idTokenSubscription=new hl(this),this.beforeStateQueue=new Ig(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield dl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let n=yield Sb(this,{idToken:e}),r=yield ca._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var n;if(fo(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield ll(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=yk()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(fo(this.app))return Promise.reject(sl(this));let n=e?wt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return T(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return fo(this.app)?Promise.reject(sl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return fo(this.app)?Promise.reject(sl(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(ui(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield Ok(this),n=new Eg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Ck(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ui(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=yield dl.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return T(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&pk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Fk(t){return wt(t)}var hl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Y0(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Lk={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vk(t){Lk=t}function Uk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function jk(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ui);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var M4=Uk("rcb"),P4=new li(3e4,6e4);var N4=new li(2e3,1e4);var O4=10*60*1e3;var k4=new li(3e4,6e4);var F4=new li(5e3,15e3);var L4=encodeURIComponent("fac");var vb="@firebase/auth",_b="1.7.9";var Dg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Bk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $k(t){mn(new It("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xb(t)},l=new bg(r,i,o,u);return jk(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mn(new It("auth-internal",e=>{let n=Fk(e.getProvider("auth").getImmediate());return(r=>new Dg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ne(vb,_b,Bk(t)),Ne(vb,_b,"esm2017")}var Hk=5*60,V4=$0("authIdTokenMaxAge")||Hk;function zk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Vk({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Cg("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",zk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$k("Browser");var HF="auth";var mo=class{constructor(){return si(HF)}};var Mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pb={};var wr,Rg;(function(){var t;function e(E,m){function v(){}v.prototype=m.prototype,E.D=m.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(I,b,C){for(var _=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)_[bn-2]=arguments[bn];return m.prototype[b].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,v){v||(v=0);var I=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)I[b]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(b=0;16>b;++b)I[b]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=E.g[0],v=E.g[1],b=E.g[2];var C=E.g[3],_=m+(C^v&(b^C))+I[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+I[1]+3905402710&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+I[2]+606105819&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+I[3]+3250441966&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(C^v&(b^C))+I[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+I[5]+1200080426&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+I[6]+2821735955&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+I[7]+4249261313&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(C^v&(b^C))+I[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+I[9]+2336552879&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+I[10]+4294925233&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+I[11]+2304563134&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(C^v&(b^C))+I[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+I[13]+4254626195&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+I[14]+2792965006&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+I[15]+1236535329&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(b^C&(v^b))+I[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+I[6]+3225465664&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+I[11]+643717713&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+I[0]+3921069994&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^C&(v^b))+I[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+I[10]+38016083&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+I[15]+3634488961&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+I[4]+3889429448&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^C&(v^b))+I[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+I[14]+3275163606&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+I[3]+4107603335&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+I[8]+1163531501&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^C&(v^b))+I[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+I[2]+4243563512&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+I[7]+1735328473&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+I[12]+2368359562&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(v^b^C)+I[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+I[8]+2272392833&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+I[11]+1839030562&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+I[14]+4259657740&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^C)+I[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+I[4]+1272893353&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+I[7]+4139469664&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+I[10]+3200236656&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^C)+I[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+I[0]+3936430074&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+I[3]+3572445317&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+I[6]+76029189&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^C)+I[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+I[12]+3873151461&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+I[15]+530742520&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+I[2]+3299628645&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(b^(v|~C))+I[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+I[7]+1126891415&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+I[14]+2878612391&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+I[5]+4237533241&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~C))+I[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+I[3]+2399980690&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+I[10]+4293915773&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+I[1]+2240044497&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~C))+I[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+I[15]+4264355552&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+I[6]+2734768916&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+I[13]+1309151649&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~C))+I[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+I[11]+3174756917&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+I[2]+718787259&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var v=m-this.blockSize,I=this.B,b=this.h,C=0;C<m;){if(b==0)for(;C<=v;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<m;)if(I[b++]=E.charCodeAt(C++),b==this.blockSize){i(this,I),b=0;break}}else for(;C<m;)if(I[b++]=E[C++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var v=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=v&255,v/=256;for(this.u(E),E=Array(16),m=v=0;4>m;++m)for(var I=0;32>I;I+=8)E[v++]=this.g[m]>>>I&255;return E};function o(E,m){var v=c;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=m(E)}function s(E,m){this.h=m;for(var v=[],I=!0,b=E.length-1;0<=b;b--){var C=E[b]|0;I&&C==m||(v[b]=C,I=!1)}this.g=v}var c={};function u(E){return-128<=E&&128>E?o(E,function(m){return new s([m|0],0>m?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return N(l(-E));for(var m=[],v=1,I=0;E>=v;I++)m[I]=E/v|0,v*=4294967296;return new s(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return N(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),I=p,b=0;b<E.length;b+=8){var C=Math.min(8,E.length-b),_=parseInt(E.substring(b,b+C),m);8>C?(C=l(Math.pow(m,C)),I=I.j(C).add(l(_))):(I=I.j(v),I=I.add(l(_)))}return I}var p=u(0),y=u(1),w=u(16777216);t=s.prototype,t.m=function(){if(x(this))return-N(this).m();for(var E=0,m=1,v=0;v<this.g.length;v++){var I=this.i(v);E+=(0<=I?I:4294967296+I)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(x(this))return"-"+N(this).toString(E);for(var m=l(Math.pow(E,6)),v=this,I="";;){var b=re(v,m).g;v=U(v,b.j(m));var C=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=b,A(v))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=U(this,E),x(E)?-1:A(E)?0:1};function N(E){for(var m=E.g.length,v=[],I=0;I<m;I++)v[I]=~E.g[I];return new s(v,~E.h).add(y)}t.abs=function(){return x(this)?N(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0,b=0;b<=m;b++){var C=I+(this.i(b)&65535)+(E.i(b)&65535),_=(C>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);I=_>>>16,C&=65535,_&=65535,v[b]=_<<16|C}return new s(v,v[v.length-1]&-2147483648?-1:0)};function U(E,m){return E.add(N(m))}t.j=function(E){if(A(this)||A(E))return p;if(x(this))return x(E)?N(this).j(N(E)):N(N(this).j(E));if(x(E))return N(this.j(N(E)));if(0>this.l(w)&&0>E.l(w))return l(this.m()*E.m());for(var m=this.g.length+E.g.length,v=[],I=0;I<2*m;I++)v[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<E.g.length;b++){var C=this.i(I)>>>16,_=this.i(I)&65535,bn=E.i(b)>>>16,Uo=E.i(b)&65535;v[2*I+2*b]+=_*Uo,K(v,2*I+2*b),v[2*I+2*b+1]+=C*Uo,K(v,2*I+2*b+1),v[2*I+2*b+1]+=_*bn,K(v,2*I+2*b+1),v[2*I+2*b+2]+=C*bn,K(v,2*I+2*b+2)}for(I=0;I<m;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=m;I<2*m;I++)v[I]=0;return new s(v,0)};function K(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function G(E,m){this.g=E,this.h=m}function re(E,m){if(A(m))throw Error("division by zero");if(A(E))return new G(p,p);if(x(E))return m=re(N(E),m),new G(N(m.g),N(m.h));if(x(m))return m=re(E,N(m)),new G(N(m.g),m.h);if(30<E.g.length){if(x(E)||x(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,I=m;0>=I.l(E);)v=Te(v),I=Te(I);var b=X(v,1),C=X(I,1);for(I=X(I,2),v=X(v,2);!A(I);){var _=C.add(I);0>=_.l(E)&&(b=b.add(v),C=_),I=X(I,1),v=X(v,1)}return m=U(E,b.j(m)),new G(b,m)}for(b=p;0<=E.l(m);){for(v=Math.max(1,Math.floor(E.m()/m.m())),I=Math.ceil(Math.log(v)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(v),_=C.j(m);x(_)||0<_.l(E);)v-=I,C=l(v),_=C.j(m);A(C)&&(C=y),b=b.add(C),E=U(E,_)}return new G(b,E)}t.A=function(E){return re(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)&E.i(I);return new s(v,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)|E.i(I);return new s(v,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)^E.i(I);return new s(v,this.h^E.h)};function Te(E){for(var m=E.g.length+1,v=[],I=0;I<m;I++)v[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(v,E.h)}function X(E,m){var v=m>>5;m%=32;for(var I=E.g.length-v,b=[],C=0;C<I;C++)b[C]=0<m?E.i(C+v)>>>m|E.i(C+v+1)<<32-m:E.i(C+v);return new s(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Rg=Pb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,wr=Pb.Integer=s}).apply(typeof Mb<"u"?Mb:typeof self<"u"?self:typeof window<"u"?window:{});var pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$n={};var xg,Mg,yo,Pg,ua,gl,Ng,Og,kg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof pl=="object"&&pl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in h))break e;h=h[D]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,D={next:function(){if(!g&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function w(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,D,S){for(var F=Array(arguments.length-2),De=2;De<arguments.length;De++)F[De-2]=arguments[De];return d.prototype[D].apply(g,F)}}function x(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function N(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let D=a.length||0,S=g.length||0;a.length=D+S;for(let F=0;F<S;F++)a[D+F]=g[F]}else a.push(g)}}class U{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(a){return/^[\s\xa0]*$/.test(a)}function G(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function re(a){return re[" "](a),a}re[" "]=function(){};var Te=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function X(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)a[h]=g[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function b(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=id;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class bn{constructor(){this.h=this.g=null}add(d,h){let g=Uo.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Uo=new U(()=>new WC,a=>a.reset());class WC{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let jo,Bo=!1,id=new bn,jy=()=>{let a=c.Promise.resolve(void 0);jo=()=>{a.then(KC)}};var KC=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){C(h)}var d=Uo;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Bo=!1};function Gn(){this.s=this.s,this.C=this.C}Gn.prototype.s=!1,Gn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Gn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var QC=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function $o(a,d){if(nt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Te){e:{try{re(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:YC[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&$o.aa.h.call(this)}}A($o,nt);var YC={2:"touch",3:"pen",4:"mouse"};$o.prototype.h=function(){$o.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ho="closure_listenable_"+(1e6*Math.random()|0),JC=0;function ZC(a,d,h,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++JC,this.da=this.fa=!1}function Ba(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function $a(a){this.src=a,this.g={},this.h=0}$a.prototype.add=function(a,d,h,g,D){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var F=sd(a,d,g,D);return-1<F?(d=a[F],h||(d.fa=!1)):(d=new ZC(d,this.src,S,!!g,D),d.fa=h,a.push(d)),d};function od(a,d){var h=d.type;if(h in a.g){var g=a.g[h],D=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=D)&&Array.prototype.splice.call(g,D,1),S&&(Ba(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function sd(a,d,h,g){for(var D=0;D<a.length;++D){var S=a[D];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return D}return-1}var ad="closure_lm_"+(1e6*Math.random()|0),cd={};function By(a,d,h,g,D){if(g&&g.once)return Hy(a,d,h,g,D);if(Array.isArray(d)){for(var S=0;S<d.length;S++)By(a,d[S],h,g,D);return null}return h=hd(h),a&&a[Ho]?a.K(d,h,l(g)?!!g.capture:!!g,D):$y(a,d,h,!1,g,D)}function $y(a,d,h,g,D,S){if(!d)throw Error("Invalid event type");var F=l(D)?!!D.capture:!!D,De=ld(a);if(De||(a[ad]=De=new $a(a)),h=De.add(d,h,g,F,S),h.proxy)return h;if(g=XC(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)QC||(D=F),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(qy(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function XC(){function a(h){return d.call(a.src,a.listener,h)}let d=eT;return a}function Hy(a,d,h,g,D){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Hy(a,d[S],h,g,D);return null}return h=hd(h),a&&a[Ho]?a.L(d,h,l(g)?!!g.capture:!!g,D):$y(a,d,h,!0,g,D)}function zy(a,d,h,g,D){if(Array.isArray(d))for(var S=0;S<d.length;S++)zy(a,d[S],h,g,D);else g=l(g)?!!g.capture:!!g,h=hd(h),a&&a[Ho]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=sd(S,h,g,D),-1<h&&(Ba(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=ld(a))&&(d=a.g[d.toString()],a=-1,d&&(a=sd(d,h,g,D)),(h=-1<a?d[a]:null)&&ud(h))}function ud(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ho])od(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(qy(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=ld(d))?(od(h,a),h.h==0&&(h.src=null,d[ad]=null)):Ba(a)}}}function qy(a){return a in cd?cd[a]:cd[a]="on"+a}function eT(a,d){if(a.da)a=!0;else{d=new $o(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&ud(a),a=h.call(g,d)}return a}function ld(a){return a=a[ad],a instanceof $a?a:null}var dd="__closure_events_fn_"+(1e9*Math.random()>>>0);function hd(a){return typeof a=="function"?a:(a[dd]||(a[dd]=function(d){return a.handleEvent(d)}),a[dd])}function rt(){Gn.call(this),this.i=new $a(this),this.M=this,this.F=null}A(rt,Gn),rt.prototype[Ho]=!0,rt.prototype.removeEventListener=function(a,d,h,g){zy(this,a,d,h,g)};function ht(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new nt(d,a);else if(d instanceof nt)d.target=d.target||a;else{var D=d;d=new nt(g,a),I(d,D)}if(D=!0,h)for(var S=h.length-1;0<=S;S--){var F=d.g=h[S];D=Ha(F,g,!0,d)&&D}if(F=d.g=a,D=Ha(F,g,!0,d)&&D,D=Ha(F,g,!1,d)&&D,h)for(S=0;S<h.length;S++)F=d.g=h[S],D=Ha(F,g,!1,d)&&D}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Ba(h[g]);delete a.g[d],a.h--}}this.F=null},rt.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},rt.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Ha(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,S=0;S<d.length;++S){var F=d[S];if(F&&!F.da&&F.capture==h){var De=F.listener,Qe=F.ha||F.src;F.fa&&od(a.i,F),D=De.call(Qe,g)!==!1&&D}}return D&&!g.defaultPrevented}function Gy(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Wy(a){a.g=Gy(()=>{a.g=null,a.i&&(a.i=!1,Wy(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class tT extends Gn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Wy(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zo(a){Gn.call(this),this.h=a,this.g={}}A(zo,Gn);var Ky=[];function Qy(a){X(a.g,function(d,h){this.g.hasOwnProperty(h)&&ud(d)},a),a.g={}}zo.prototype.N=function(){zo.aa.N.call(this),Qy(this)},zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fd=c.JSON.stringify,nT=c.JSON.parse,rT=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function pd(){}pd.prototype.h=null;function Yy(a){return a.h||(a.h=a.i())}function Jy(){}var qo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gd(){nt.call(this,"d")}A(gd,nt);function md(){nt.call(this,"c")}A(md,nt);var Sr={},Zy=null;function za(){return Zy=Zy||new rt}Sr.La="serverreachability";function Xy(a){nt.call(this,Sr.La,a)}A(Xy,nt);function Go(a){let d=za();ht(d,new Xy(d))}Sr.STAT_EVENT="statevent";function ev(a,d){nt.call(this,Sr.STAT_EVENT,a),this.stat=d}A(ev,nt);function ft(a){let d=za();ht(d,new ev(d,a))}Sr.Ma="timingevent";function tv(a,d){nt.call(this,Sr.Ma,a),this.size=d}A(tv,nt);function Wo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ko(){this.g=!0}Ko.prototype.xa=function(){this.g=!1};function iT(a,d,h,g,D,S){a.info(function(){if(a.g)if(S)for(var F="",De=S.split("&"),Qe=0;Qe<De.length;Qe++){var me=De[Qe].split("=");if(1<me.length){var it=me[0];me=me[1];var ot=it.split("_");F=2<=ot.length&&ot[1]=="type"?F+(it+"="+me+"&"):F+(it+"=redacted&")}}else F=null;else F=S;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+F})}function oT(a,d,h,g,D,S,F){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+S+" "+F})}function wi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+aT(a,h)+(g?" "+g:"")})}function sT(a,d){a.info(function(){return"TIMEOUT: "+d})}Ko.prototype.info=function(){};function aT(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var S=D[0];if(S!="noop"&&S!="stop"&&S!="close")for(var F=1;F<D.length;F++)D[F]=""}}}}return fd(h)}catch{return d}}var qa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yd;function Ga(){}A(Ga,pd),Ga.prototype.g=function(){return new XMLHttpRequest},Ga.prototype.i=function(){return{}},yd=new Ga;function Wn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new zo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rv}function rv(){this.i=null,this.g="",this.h=!1}var iv={},vd={};function _d(a,d,h){a.L=1,a.v=Ya(Dn(d)),a.m=h,a.P=!0,ov(a,null)}function ov(a,d){a.F=Date.now(),Wa(a),a.A=Dn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),_v(h.i,"t",g),a.C=0,h=a.j.J,a.h=new rv,a.g=Lv(a.j,h?d:null,!a.m),0<a.O&&(a.M=new tT(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Ky[0]=D.toString()),D=Ky);for(var S=0;S<D.length;S++){var F=By(h,D[S],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Go(),iT(a.i,a.u,a.A,a.l,a.R,a.m)}Wn.prototype.ca=function(a){a=a.target;let d=this.M;d&&Cn(a)==3?d.j():this.Y(a)},Wn.prototype.Y=function(a){try{if(a==this.g)e:{let ot=Cn(this.g);var d=this.g.Ba();let bi=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||Tv(this.g)))){this.J||ot!=4||d==7||(d==8||0>=bi?Go(3):Go(2)),wd(this);var h=this.g.Z();this.X=h;t:if(sv(this)){var g=Tv(this.g);a="";var D=g.length,S=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),Qo(this);var F="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=h==200,oT(this.i,this.u,this.A,this.l,this.R,ot,h),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Qe=this.g;if((De=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(De)){var me=De;break t}}me=null}if(h=me)wi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Id(this,h);else{this.o=!1,this.s=3,ft(12),Ar(this),Qo(this);break e}}if(this.P){h=!0;let $t;for(;!this.J&&this.C<F.length;)if($t=cT(this,F),$t==vd){ot==4&&(this.s=4,ft(14),h=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if($t==iv){this.s=4,ft(15),wi(this.i,this.l,F,"[Invalid Chunk]"),h=!1;break}else wi(this.i,this.l,$t,null),Id(this,$t);if(sv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||F.length!=0||this.h.h||(this.s=1,ft(16),h=!1),this.o=this.o&&h,!h)wi(this.i,this.l,F,"[Invalid Chunked Response]"),Ar(this),Qo(this);else if(0<F.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Sd(it),it.M=!0,ft(11))}}else wi(this.i,this.l,F,null),Id(this,F);ot==4&&Ar(this),this.o&&!this.J&&(ot==4?Nv(this.j,this):(this.o=!1,Wa(this)))}else CT(this.g),h==400&&0<F.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Ar(this),Qo(this)}}}catch{}finally{}};function sv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function cT(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?vd:(h=Number(d.substring(h,g)),isNaN(h)?iv:(g+=1,g+h>d.length?vd:(d=d.slice(g,g+h),a.C=g+h,d)))}Wn.prototype.cancel=function(){this.J=!0,Ar(this)};function Wa(a){a.S=Date.now()+a.I,av(a,a.I)}function av(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Wo(y(a.ba,a),d)}function wd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Wn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(sT(this.i,this.A),this.L!=2&&(Go(),ft(17)),Ar(this),this.s=2,Qo(this)):av(this,this.S-a)};function Qo(a){a.j.G==0||a.J||Nv(a.j,a)}function Ar(a){wd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Qy(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Id(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Ed(h.h,a))){if(!a.K&&Ed(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)tc(h),Xa(h);else break e;Td(h),ft(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Wo(y(h.Za,h),6e3));if(1>=lv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else xr(h,11)}else if((a.K||h.g==a)&&tc(h),!K(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let me=D[d];if(h.T=me[0],me=me[1],h.G==2)if(me[0]=="c"){h.K=me[1],h.ia=me[2];let it=me[3];it!=null&&(h.la=it,h.j.info("VER="+h.la));let ot=me[4];ot!=null&&(h.Aa=ot,h.j.info("SVER="+h.Aa));let bi=me[5];bi!=null&&typeof bi=="number"&&0<bi&&(g=1.5*bi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let $t=a.g;if($t){let rc=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rc){var S=g.h;S.g||rc.indexOf("spdy")==-1&&rc.indexOf("quic")==-1&&rc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(bd(S,S.h),S.h=null))}if(g.D){let Ad=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;Ad&&(g.ya=Ad,Se(g.I,g.D,Ad))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var F=a;if(g.qa=Fv(g,g.J?g.ia:null,g.W),F.K){dv(g.h,F);var De=F,Qe=g.L;Qe&&(De.I=Qe),De.B&&(wd(De),Wa(De)),g.g=F}else Mv(g);0<h.i.length&&ec(h)}else me[0]!="stop"&&me[0]!="close"||xr(h,7);else h.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?xr(h,7):Cd(h):me[0]!="noop"&&h.l&&h.l.ta(me),h.v=0)}}Go(4)}catch{}}var uT=class{constructor(a,d){this.g=a,this.map=d}};function cv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function lv(a){return a.h?1:a.g?a.g.size:0}function Ed(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function bd(a,d){a.g?a.g.add(d):a.h=d}function dv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}cv.prototype.cancel=function(){if(this.i=hv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function hv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return x(a.i)}function lT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function dT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function fv(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=dT(a),g=lT(a),D=g.length,S=0;S<D;S++)d.call(void 0,g[S],h&&h[S],a)}var pv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hT(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),D=null;if(0<=g){var S=a[h].substring(0,g);D=a[h].substring(g+1)}else S=a[h];d(S,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Rr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Rr){this.h=a.h,Ka(this,a.j),this.o=a.o,this.g=a.g,Qa(this,a.s),this.l=a.l;var d=a.i,h=new Zo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),gv(this,h),this.m=a.m}else a&&(d=String(a).match(pv))?(this.h=!1,Ka(this,d[1]||"",!0),this.o=Yo(d[2]||""),this.g=Yo(d[3]||"",!0),Qa(this,d[4]),this.l=Yo(d[5]||"",!0),gv(this,d[6]||"",!0),this.m=Yo(d[7]||"")):(this.h=!1,this.i=new Zo(null,this.h))}Rr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Jo(d,mv,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Jo(d,mv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Jo(h,h.charAt(0)=="/"?gT:pT,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Jo(h,yT)),a.join("")};function Dn(a){return new Rr(a)}function Ka(a,d,h){a.j=h?Yo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Qa(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function gv(a,d,h){d instanceof Zo?(a.i=d,vT(a.i,a.h)):(h||(d=Jo(d,mT)),a.i=new Zo(d,a.h))}function Se(a,d,h){a.i.set(d,h)}function Ya(a){return Se(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Yo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Jo(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,fT),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function fT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var mv=/[#\/\?@]/g,pT=/[#\?:]/g,gT=/[#\?]/g,mT=/[#\?@]/g,yT=/#/g;function Zo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Kn(a){a.g||(a.g=new Map,a.h=0,a.i&&hT(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Zo.prototype,t.add=function(a,d){Kn(this),this.i=null,a=Ii(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function yv(a,d){Kn(a),d=Ii(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function vv(a,d){return Kn(a),d=Ii(a,d),a.g.has(d)}t.forEach=function(a,d){Kn(this),this.g.forEach(function(h,g){h.forEach(function(D){a.call(d,D,g,this)},this)},this)},t.na=function(){Kn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let D=a[g];for(let S=0;S<D.length;S++)h.push(d[g])}return h},t.V=function(a){Kn(this);let d=[];if(typeof a=="string")vv(this,a)&&(d=d.concat(this.g.get(Ii(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Kn(this),this.i=null,a=Ii(this,a),vv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function _v(a,d,h){yv(a,d),0<h.length&&(a.i=null,a.g.set(Ii(a,d),x(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var D=S;F[g]!==""&&(D+="="+encodeURIComponent(String(F[g]))),a.push(D)}}return this.i=a.join("&")};function Ii(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function vT(a,d){d&&!a.j&&(Kn(a),a.i=null,a.g.forEach(function(h,g){var D=g.toLowerCase();g!=D&&(yv(this,g),_v(this,D,h))},a)),a.j=d}function _T(a,d){let h=new Ko;if(c.Image){let g=new Image;g.onload=w(Qn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=w(Qn,h,"TestLoadImage: error",!1,d,g),g.onabort=w(Qn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=w(Qn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function wT(a,d){let h=new Ko,g=new AbortController,D=setTimeout(()=>{g.abort(),Qn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(D),S.ok?Qn(h,"TestPingServer: ok",!0,d):Qn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Qn(h,"TestPingServer: error",!1,d)})}function Qn(a,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function IT(){this.g=new rT}function ET(a,d,h){let g=h||"";try{fv(a,function(D,S){let F=D;l(D)&&(F=fd(D)),d.push(g+S+"="+encodeURIComponent(F))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Xo(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Xo,pd),Xo.prototype.g=function(){return new Ja(this.l,this.j)},Xo.prototype.i=function(a){return function(){return a}}({});function Ja(a,d){rt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ja,rt),t=Ja.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ts(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function wv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?es(this):ts(this),this.readyState==3&&wv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,es(this))},t.Qa=function(a){this.g&&(this.response=a,es(this))},t.ga=function(){this.g&&es(this)};function es(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ts(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function ts(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Iv(a){let d="";return X(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Dd(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=Iv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Se(a,d,h))}function ke(a){rt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ke,rt);var bT=/^https?$/i,DT=["POST","PUT"];t=ke.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yd.g(),this.v=this.o?Yy(this.o):Yy(yd),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){Ev(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(DT,d,void 0))||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,F]of h)this.g.setRequestHeader(S,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cv(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){Ev(this,S)}};function Ev(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,bv(a),Za(a)}function bv(a){a.A||(a.A=!0,ht(a,"complete"),ht(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ht(this,"complete"),ht(this,"abort"),Za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Za(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Dv(this):this.bb())},t.bb=function(){Dv(this)};function Dv(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Cn(a)!=4||a.Z()!=2)){if(a.u&&Cn(a)==4)Gy(a.Ea,0,a);else if(ht(a,"readystatechange"),Cn(a)==4){a.h=!1;try{let F=a.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=F===0){var D=String(a.D).match(pv)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!bT.test(D?D.toLowerCase():"")}h=g}if(h)ht(a,"complete"),ht(a,"success");else{a.m=6;try{var S=2<Cn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",bv(a)}}finally{Za(a)}}}}function Za(a,d){if(a.g){Cv(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ht(a,"ready");try{h.onreadystatechange=g}catch{}}}function Cv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Cn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),nT(d)}};function Tv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function CT(a){let d={};a=(a.g&&2<=Cn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(K(a[g]))continue;var h=b(a[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[D]||[];d[D]=S,S.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function Sv(a){this.Aa=0,this.i=[],this.j=new Ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,a),this.cb=ns("retryDelaySeedMs",1e4,a),this.Wa=ns("forwardChannelMaxRetries",2,a),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new cv(a&&a.concurrentRequestLimit),this.Da=new IT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sv.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){ft(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=Fv(this,null,this.W),ec(this)};function Cd(a){if(Av(a),a.G==3){var d=a.U++,h=Dn(a.I);if(Se(h,"SID",a.K),Se(h,"RID",d),Se(h,"TYPE","terminate"),rs(a,h),d=new Wn(a,a.j,d),d.L=2,d.v=Ya(Dn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=Lv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Wa(d)}kv(a)}function Xa(a){a.g&&(Sd(a),a.g.cancel(),a.g=null)}function Av(a){Xa(a),a.u&&(c.clearTimeout(a.u),a.u=null),tc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function ec(a){if(!uv(a.h)&&!a.s){a.s=!0;var d=a.Ga;jo||jy(),Bo||(jo(),Bo=!0),id.add(d,a),a.B=0}}function TT(a,d){return lv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Wo(y(a.Ga,a,d),Ov(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new Wn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(D.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=xv(this,D,d),h=Dn(this.I),Se(h,"RID",a),Se(h,"CVER",22),this.D&&Se(h,"X-HTTP-Session-Id",this.D),rs(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(Iv(S)))+"&"+d:this.m&&Dd(h,this.m,S)),bd(this.h,D),this.Ua&&Se(h,"TYPE","init"),this.P?(Se(h,"$req",d),Se(h,"SID","null"),D.T=!0,_d(D,h,null)):_d(D,h,d),this.G=2}}else this.G==3&&(a?Rv(this,a):this.i.length==0||uv(this.h)||Rv(this))};function Rv(a,d){var h;d?h=d.l:h=a.U++;let g=Dn(a.I);Se(g,"SID",a.K),Se(g,"RID",h),Se(g,"AID",a.T),rs(a,g),a.m&&a.o&&Dd(g,a.m,a.o),h=new Wn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=xv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),bd(a.h,h),_d(h,g,d)}function rs(a,d){a.H&&X(a.H,function(h,g){Se(d,g,h)}),a.l&&fv({},function(h,g){Se(d,g,h)})}function xv(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var D=a.i;let S=-1;for(;;){let F=["count="+h];S==-1?0<h?(S=D[0].g,F.push("ofs="+S)):S=0:F.push("ofs="+S);let De=!0;for(let Qe=0;Qe<h;Qe++){let me=D[Qe].g,it=D[Qe].map;if(me-=S,0>me)S=Math.max(0,D[Qe].g-100),De=!1;else try{ET(it,F,"req"+me+"_")}catch{g&&g(it)}}if(De){g=F.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function Mv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;jo||jy(),Bo||(jo(),Bo=!0),id.add(d,a),a.v=0}}function Td(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Wo(y(a.Fa,a),Ov(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Pv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Wo(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Xa(this),Pv(this))};function Sd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Pv(a){a.g=new Wn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Dn(a.qa);Se(d,"RID","rpc"),Se(d,"SID",a.K),Se(d,"AID",a.T),Se(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Se(d,"TO",a.ja),Se(d,"TYPE","xmlhttp"),rs(a,d),a.m&&a.o&&Dd(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Ya(Dn(d)),h.m=null,h.P=!0,ov(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Xa(this),Td(this),ft(19))};function tc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Nv(a,d){var h=null;if(a.g==d){tc(a),Sd(a),a.g=null;var g=2}else if(Ed(a.h,d))h=d.D,dv(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=za(),ht(g,new tv(g,h)),ec(a)}else Mv(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&TT(a,d)||g==2&&Td(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),D){case 1:xr(a,5);break;case 4:xr(a,10);break;case 3:xr(a,6);break;default:xr(a,2)}}}function Ov(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function xr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let D=!g;g=new Rr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ka(g,"https"),Ya(g),D?_T(g.toString(),h):wT(g.toString(),h)}else ft(2);a.G=0,a.l&&a.l.sa(d),kv(a),Av(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function kv(a){if(a.G=0,a.ka=[],a.l){let d=hv(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function Fv(a,d,h){var g=h instanceof Rr?Dn(h):new Rr(h);if(g.g!="")d&&(g.g=d+"."+g.g),Qa(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var S=new Rr(null);g&&Ka(S,g),d&&(S.g=d),D&&Qa(S,D),h&&(S.l=h),g=S}return h=a.D,d=a.ya,h&&d&&Se(g,h,d),Se(g,"VER",a.la),rs(a,g),g}function Lv(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new ke(new Xo({eb:h})):new ke(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vv(){}t=Vv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nc(){}nc.prototype.g=function(a,d){return new Et(a,d)};function Et(a,d){rt.call(this),this.g=new Sv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!K(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ei(this)}A(Et,rt),Et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){Cd(this.g)},Et.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=fd(a),a=h);d.i.push(new uT(d.Ya++,a)),d.G==3&&ec(d)},Et.prototype.N=function(){this.g.l=null,delete this.j,Cd(this.g),delete this.g,Et.aa.N.call(this)};function Uv(a){gd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(Uv,gd);function jv(){md.call(this),this.status=1}A(jv,md);function Ei(a){this.g=a}A(Ei,Vv),Ei.prototype.ua=function(){ht(this.g,"a")},Ei.prototype.ta=function(a){ht(this.g,new Uv(a))},Ei.prototype.sa=function(a){ht(this.g,new jv)},Ei.prototype.ra=function(){ht(this.g,"b")},nc.prototype.createWebChannel=nc.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,kg=$n.createWebChannelTransport=function(){return new nc},Og=$n.getStatEventTarget=function(){return za()},Ng=$n.Event=Sr,gl=$n.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qa.NO_ERROR=0,qa.TIMEOUT=8,qa.HTTP_ERROR=6,ua=$n.ErrorCode=qa,nv.COMPLETE="complete",Pg=$n.EventType=nv,Jy.EventType=qo,qo.OPEN="a",qo.CLOSE="b",qo.ERROR="c",qo.MESSAGE="d",rt.prototype.listen=rt.prototype.K,yo=$n.WebChannel=Jy,Mg=$n.FetchXmlHttpFactory=Xo,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,xg=$n.XhrIo=ke}).apply(typeof pl<"u"?pl:typeof self<"u"?self:typeof window<"u"?window:{});var Nb="@firebase/firestore";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var Fo="10.13.2";var gi=new mr("@firebase/firestore");function la(){return gi.logLevel}function V(t,...e){if(gi.logLevel<=ae.DEBUG){let n=e.map(yy);gi.debug(`Firestore (${Fo}): ${t}`,...n)}}function zn(t,...e){if(gi.logLevel<=ae.ERROR){let n=e.map(yy);gi.error(`Firestore (${Fo}): ${t}`,...n)}}function Co(t,...e){if(gi.logLevel<=ae.WARN){let n=e.map(yy);gi.warn(`Firestore (${Fo}): ${t}`,...n)}}function yy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function J(t="Unexpected state"){let e=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+t;throw zn(e),new Error(e)}function Be(t,e){t||J()}function pe(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Mt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var _l=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Bg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}},$g=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Hg=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>T(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new _l(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Ke(e)}},zg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},qg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Gg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Wg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new Gg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function zF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var wl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=zF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function we(t,e){return t<e?-1:t>e?1:0}function To(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ut=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ut(0,0))}static max(){return new t(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Il=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Oe=class t extends Il{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},qF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class t extends Il{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return qF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Oe.fromString(e))}static fromName(e){return new t(Oe.fromString(e).popFirst(5))}static empty(){return new t(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Oe(e.slice()))}};var Kg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Kg.UNKNOWN_ID=-1;function GF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new mi(i,H.empty(),e)}function WF(t){return new mi(t.readTime,t.key,-1)}var mi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),H.empty(),-1)}static max(){return new t(ne.max(),H.empty(),-1)}};function KF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}var QF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function vy(t){return T(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==QF)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function YF(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ka(t){return t.name==="IndexedDbTransactionError"}var fD=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ql(t){return t==null}function ya(t){return t===0&&1/t==-1/0}function JF(t){return typeof t=="number"&&Number.isInteger(t)&&!ya(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ZF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],U3=[...ZF,"documentOverlays"],XF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eL=XF,tL=[...eL,"indexConfiguration","indexState","indexEntries"];var j3=[...tL,"globals"];function Ob(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Le=class t{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Io(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Io(this.root,e,this.comparator,!1)}getReverseIterator(){return new Io(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Io(this.root,e,this.comparator,!0)}},Io=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_n=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();let e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}};_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,o){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var lt=class t{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new El(this.data.getIterator())}getIteratorFrom(e){return new El(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},El=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var di=class t{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new lt(Bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var bl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bl("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};dt.EMPTY_BYTE_STRING=new dt("");var nL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qn(t){if(Be(!!t),typeof t=="string"){let e=0,n=nL.exec(t);if(Be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Er(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}function _y(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wy(t){let e=t.mapValue.fields.__previous_value__;return _y(e)?wy(e):e}function va(t){let e=qn(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}var Yg=class{constructor(e,n,r,i,o,s,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Dl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_y(t)?4:mD(t)?9007199254740991:gD(t)?10:11:J()}function In(t,e){if(t===e)return!0;let n=yi(t);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return va(t).isEqual(va(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=qn(i.timestampValue),c=qn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Er(i.bytesValue).isEqual(Er(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Pe(i.doubleValue),c=Pe(o.doubleValue);return s===c?ya(s)===ya(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return To(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(Ob(s)!==Ob(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!In(s[u],c[u])))return!1;return!0}(t,e);default:return J()}}function _a(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function So(t,e){if(t===e)return 0;let n=yi(t),r=yi(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Pe(o.integerValue||o.doubleValue),u=Pe(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return kb(t.timestampValue,e.timestampValue);case 4:return kb(va(t),va(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Er(o),u=Er(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=we(c[l],u[l]);if(f!==0)return f}return we(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=we(Pe(o.latitude),Pe(s.latitude));return c!==0?c:we(Pe(o.longitude),Pe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Fb(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},y=s.fields||{},w=(c=p.value)===null||c===void 0?void 0:c.arrayValue,A=(u=y.value)===null||u===void 0?void 0:u.arrayValue,x=we(((l=w?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:Fb(w,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ml.mapValue&&s===ml.mapValue)return 0;if(o===ml.mapValue)return 1;if(s===ml.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=we(u[p],f[p]);if(y!==0)return y;let w=So(c[u[p]],l[f[p]]);if(w!==0)return w}return we(u.length,f.length)}(t.mapValue,e.mapValue);default:throw J()}}function kb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);let n=qn(t),r=qn(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function Fb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=So(n[i],r[i]);if(o)return o}return we(n.length,r.length)}function Ao(t){return Jg(t)}function Jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=qn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Er(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Jg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Jg(n.fields[s])}`;return i+"}"}(t.mapValue):J()}function Lb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zg(t){return!!t&&"integerValue"in t}function Iy(t){return!!t&&"arrayValue"in t}function Vb(t){return!!t&&"nullValue"in t}function Ub(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fg(t){return!!t&&"mapValue"in t}function gD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Fa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ha(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Hn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ha(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=ha(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Fg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fa(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ha(this.value))}};var en=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ro=class{constructor(e,n){this.position=e,this.inclusive=n}};function jb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=So(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}var vi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function rL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Cl=class{},je=class t extends Cl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new em(e,n,r):n==="array-contains"?new rm(e,r):n==="in"?new im(e,r):n==="not-in"?new om(e,r):n==="array-contains-any"?new sm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tm(e,r):new nm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(So(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},tn=class t extends Cl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return yD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function yD(t){return t.op==="and"}function vD(t){return iL(t)&&yD(t)}function iL(t){for(let e of t.filters)if(e instanceof tn)return!1;return!0}function Xg(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+Ao(t.value);if(vD(t))return t.filters.map(e=>Xg(e)).join(",");{let e=t.filters.map(n=>Xg(n)).join(",");return`${t.op}(${e})`}}function _D(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&In(r.value,i.value)}(t,e):t instanceof tn?function(r,i){return i instanceof tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&_D(s,i.filters[c]),!0):!1}(t,e):void J()}function wD(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(t):t instanceof tn?function(n){return n.op.toString()+" {"+n.getFilters().map(wD).join(" ,")+"}"}(t):"Filter"}var em=class extends je{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},tm=class extends je{constructor(e,n){super(e,"in",n),this.keys=ID("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},nm=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=ID("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ID(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var rm=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Iy(n)&&_a(n.arrayValue,this.value)}},im=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&_a(this.value.arrayValue,n)}},om=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(_a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!_a(this.value.arrayValue,n)}},sm=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_a(this.value.arrayValue,r))}};var am=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function $b(t,e=null,n=[],r=[],i=null,o=null,s=null){return new am(t,e,n,r,i,o,s)}function Ey(t){let e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ql(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ao(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ao(r)).join(",")),e.ue=n}return e.ue}function by(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_D(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bb(t.startAt,e.startAt)&&Bb(t.endAt,e.endAt)}function cm(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var br=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function oL(t,e,n,r,i,o,s,c){return new br(t,e,n,r,i,o,s,c)}function Dy(t){return new br(t)}function Hb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ED(t){return t.collectionGroup!==null}function fa(t){let e=pe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new lt(Bt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new vi(o,r))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new vi(Bt.keyField(),r))}return e.ce}function wn(t){let e=pe(t);return e.le||(e.le=sL(e,fa(t))),e.le}function sL(t,e){if(t.limitType==="F")return $b(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new vi(i.field,o)});let n=t.endAt?new Ro(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ro(t.startAt.position,t.startAt.inclusive):null;return $b(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function um(t,e){let n=t.filters.concat([e]);return new br(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tl(t,e,n){return new br(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yl(t,e){return by(wn(t),wn(e))&&t.limitType===e.limitType}function bD(t){return`${Ey(wn(t))}|lt:${t.limitType}`}function vo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wD(i)).join(", ")}]`),Ql(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ao(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ao(i)).join(",")),`Target(${r})`}(wn(t))}; limitType=${t.limitType})`}function Jl(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of fa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=jb(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,fa(r),i)||r.endAt&&!function(s,c,u){let l=jb(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,fa(r),i))}(t,e)}function aL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DD(t){return(e,n)=>{let r=!1;for(let i of fa(t)){let o=cL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function cL(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?So(u,l):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}var Dr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return pD(this.inner)}size(){return this.innerSize}};var uL=new Le(H.comparator);function Cr(){return uL}var CD=new Le(H.comparator);function da(...t){let e=CD;for(let n of t)e=e.insert(n.key,n);return e}function lL(t){let e=CD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hi(){return pa()}function TD(){return pa()}function pa(){return new Dr(t=>t.toString(),(t,e)=>t.isEqual(e))}var $3=new Le(H.comparator),dL=new lt(H.comparator);function ge(...t){let e=dL;for(let n of t)e=e.add(n);return e}var hL=new lt(we);function fL(){return hL}function Cy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ya(e)?"-0":e}}function SD(t){return{integerValue:""+t}}function pL(t,e){return JF(e)?SD(e):Cy(t,e)}var xo=class{constructor(){this._=void 0}};function gL(t,e,n){return t instanceof wa?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&_y(o)&&(o=wy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Mo?AD(t,e):t instanceof Po?RD(t,e):function(i,o){let s=yL(i,o),c=zb(s)+zb(i.Pe);return Zg(s)&&Zg(i.Pe)?SD(c):Cy(i.serializer,c)}(t,e)}function mL(t,e,n){return t instanceof Mo?AD(t,e):t instanceof Po?RD(t,e):n}function yL(t,e){return t instanceof Ia?function(r){return Zg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var wa=class extends xo{},Mo=class extends xo{constructor(e){super(),this.elements=e}};function AD(t,e){let n=xD(e);for(let r of t.elements)n.some(i=>In(i,r))||n.push(r);return{arrayValue:{values:n}}}var Po=class extends xo{constructor(e){super(),this.elements=e}};function RD(t,e){let n=xD(e);for(let r of t.elements)n=n.filter(i=>!In(i,r));return{arrayValue:{values:n}}}var Ia=class extends xo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function zb(t){return Pe(t.integerValue||t.doubleValue)}function xD(t){return Iy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Mo&&i instanceof Mo||r instanceof Po&&i instanceof Po?To(r.elements,i.elements,In):r instanceof Ia&&i instanceof Ia?In(r.Pe,i.Pe):r instanceof wa&&i instanceof wa}(t.transform,e.transform)}var ga=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function vl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ea=class{};function MD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lm(t.key,ga.none()):new ba(t.key,t.data,ga.none());{let n=t.data,r=Hn.empty(),i=new lt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new No(t.key,r,new di(i.toArray()),ga.none())}}function _L(t,e,n){t instanceof ba?function(i,o,s){let c=i.value.clone(),u=Gb(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof No?function(i,o,s){if(!vl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=Gb(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(PD(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ma(t,e,n,r){return t instanceof ba?function(o,s,c,u){if(!vl(o.precondition,s))return c;let l=o.value.clone(),f=Wb(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof No?function(o,s,c,u){if(!vl(o.precondition,s))return c;let l=Wb(o.fieldTransforms,u,s),f=s.data;return f.setAll(PD(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return vl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function qb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&To(r,i,(o,s)=>vL(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ba=class extends Ea{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},No=class extends Ea{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function PD(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function Gb(t,e,n){let r=new Map;Be(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,mL(s,c,n[i]))}return r}function Wb(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,gL(o,s,e))}return r}var lm=class extends Ea{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var dm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&_L(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=TD();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=MD(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,r)=>qb(n,r))&&To(this.baseMutations,e.baseMutations,(n,r)=>qb(n,r))}};var hm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ve,fe;function ND(t){if(t===void 0)return zn("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ve.OK:return M.OK;case Ve.CANCELLED:return M.CANCELLED;case Ve.UNKNOWN:return M.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return M.INTERNAL;case Ve.UNAVAILABLE:return M.UNAVAILABLE;case Ve.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ve.NOT_FOUND:return M.NOT_FOUND;case Ve.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ve.ABORTED:return M.ABORTED;case Ve.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ve.DATA_LOSS:return M.DATA_LOSS;default:return J()}}(fe=Ve||(Ve={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var Kb=null;function wL(){return new TextEncoder}var IL=new wr([4294967295,4294967295],0);function Qb(t){let e=wL().encode(t),n=new Rg;return n.update(e),new Uint8Array(n.digest())}function Yb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wr([n,r],0),new wr([i,o],0)]}var pm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fi(`Invalid padding: ${n}`);if(r<0)throw new fi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=wr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(wr.fromNumber(r)));return i.compare(IL)===1&&(i=new wr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=Qb(e),[r,i]=Yb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let n=Qb(e),[r,i]=Yb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},fi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Da.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Le(we),Cr(),ge())}},Da=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var Eo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Al=class{constructor(e,n){this.targetId=e,this.me=n}},Rl=class{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},xl=class{constructor(){this.fe=0,this.ge=Zb(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),r=ge();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new Da(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Zb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},gm=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cr(),this.qe=Jb(),this.Qe=new Le(we)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(cm(o))if(r===0){let s=new H(o.path);this.Ue(n,s,en.newNoDocument(s,ne.min()))}else Be(r===1);else{let s=this.Ye(n);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}Kb?.et(function(f,p,y,w,A){var x,N,U,K,G,re;let Te={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},X=p.unchangedNames;return X&&(Te.bloomFilter={applied:A===0,hashCount:(x=X?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(K=(U=(N=X?.bits)===null||N===void 0?void 0:N.bitmap)===null||U===void 0?void 0:U.length)!==null&&K!==void 0?K:0,padding:(re=(G=X?.bits)===null||G===void 0?void 0:G.padding)!==null&&re!==void 0?re:0,mightContain:E=>{var m;return(m=w?.mightContain(E))!==null&&m!==void 0&&m}}),Te}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=Er(r).toUint8Array()}catch(u){if(u instanceof bl)return Co("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new pm(s,i,o)}catch(u){return Co(u instanceof fi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&cm(c.target)){let u=new H(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,en.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ge();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Sl(e,n,this.Qe,this.ke,r);return this.ke=Cr(),this.qe=Jb(),this.Qe=new Le(we),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new xl,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new lt(we),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Jb(){return new Le(H.comparator)}function Zb(){return new Le(H.comparator)}var EL={asc:"ASCENDING",desc:"DESCENDING"},bL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DL={and:"AND",or:"OR"},mm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ym(t,e){return t.useProto3Json||Ql(e)?e:{value:e}}function vm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bo(t){return Be(!!t),ne.fromTimestamp(function(n){let r=qn(n);return new ut(r.seconds,r.nanos)}(t))}function kD(t,e){return _m(t,e).canonicalString()}function _m(t,e){let n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FD(t){let e=Oe.fromString(t);return Be(BD(e)),e}function Lg(t,e){let n=FD(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(VD(n))}function LD(t,e){return kD(t.databaseId,e)}function CL(t){let e=FD(t);return e.length===4?Oe.emptyPath():VD(e)}function Xb(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VD(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TL(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(Be(f===void 0||typeof f=="string"),dt.fromBase64String(f||"")):(Be(f===void 0||f instanceof Buffer||f instanceof Uint8Array),dt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?M.UNKNOWN:ND(l.code);return new L(f,l.message||"")}(s);n=new Rl(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Lg(t,r.document.name),o=bo(r.document.updateTime),s=r.document.createTime?bo(r.document.createTime):ne.min(),c=new Hn({mapValue:{fields:r.document.fields}}),u=en.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Eo(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Lg(t,r.document),o=r.readTime?bo(r.readTime):ne.min(),s=en.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Eo([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Lg(t,r.document),o=r.removedTargetIds||[];n=new Eo([],o,i,null)}else{if(!("filter"in e))return J();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new fm(i,o),c=r.targetId;n=new Al(c,s)}}return n}function SL(t,e){return{documents:[LD(t,e.path)]}}function AL(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LD(t,i);let o=function(l){if(l.length!==0)return jD(tn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:_o(y.field),direction:ML(y.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=ym(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function RL(t){let e=CL(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Be(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let y=UD(p);return y instanceof tn&&vD(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(A){return new vi(wo(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Ql(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,w=p.values||[];return new Ro(w,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,w=p.values||[];return new Ro(w,y)}(n.endAt)),oL(e,i,s,o,c,"F",u,l)}function xL(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=wo(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=wo(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=wo(n.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=wo(n.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return je.create(wo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tn.create(n.compositeFilter.filters.map(r=>UD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function ML(t){return EL[t]}function PL(t){return bL[t]}function NL(t){return DL[t]}function _o(t){return{fieldPath:t.canonicalString()}}function wo(t){return Bt.fromServerFormat(t.fieldPath)}function jD(t){return t instanceof je?function(n){if(n.op==="=="){if(Ub(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(Vb(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ub(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(Vb(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:PL(n.op),value:n.value}}}(t):t instanceof tn?function(n){let r=n.getFilters().map(i=>jD(i));return r.length===1?r[0]:{compositeFilter:{op:NL(n.op),filters:r}}}(t):J()}function BD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ca=class t{constructor(e,n,r,i,o=ne.min(),s=ne.min(),c=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var wm=class{constructor(e){this.ct=e}};function OL(t){let e=RL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tl(e,e.limit,"L"):e}var Ml=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ya(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=qn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Er(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?mD(e)?this.dt(n,Number.MAX_SAFE_INTEGER):gD(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):J()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Pe(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),H.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Ml.vt=new Ml;var Im=class{constructor(){this.un=new Em}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(mi.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},Em=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Oe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Oe.comparator)).toArray()}};var H3=new Uint8Array(0);var yn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);var Ta=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var bm=class{constructor(){this.changes=new Dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Dm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Cm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ma(r.mutation,i,di.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=da();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Cr(),s=pa(),c=function(){return pa()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof No)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),ma(f.mutation,l,f.mutation.getFieldMask(),ut.now())):s.set(l.key,di.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new Dm(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=pa(),i=new Le((s,c)=>s-c),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||di.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ge()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=TD();f.forEach(y=>{if(!o.has(y)){let w=MD(n.get(y),r.get(y));w!==null&&p.set(y,w),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ED(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(hi()),c=-1,u=o;return s.next(l=>O.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?O.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(f=>({batchId:c,changes:lL(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=da();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=da();return this.indexManager.getCollectionParents(e,o).next(c=>O.forEach(c,u=>{let l=function(p,y){return new br(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,en.newInvalidDocument(f)))});let c=da();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&ma(f.mutation,l,di.empty(),ut.now()),Jl(n,l)&&(c=c.insert(u,l))}),c})}};var Tm=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bo(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:OL(i.bundledQuery),readTime:bo(i.readTime)}}(n)),O.resolve()}};var Sm=class{constructor(){this.overlays=new Le(H.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=hi();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=hi(),o=n.length+1,s=new H(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Le((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=hi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=hi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return O.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new hm(n,r));let o=this.Ir.get(n);o===void 0&&(o=ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Am=class{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var Sa=class{constructor(){this.Tr=new lt(Ue.Er),this.dr=new lt(Ue.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ue(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ue(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new H(new Oe([])),r=new Ue(n,e),i=new Ue(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new H(new Oe([])),r=new Ue(n,e),i=new Ue(n,e+1),o=ge();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ue(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ue=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return H.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||H.comparator(e.key,n.key)}};var Rm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new lt(Ue.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new dm(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Ue(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ue(n,0),i=new Ue(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(we);return n.forEach(i=>{let o=new Ue(i,0),s=new Ue(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Ue(new H(o),0),c=new lt(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),O.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let o=new Ue(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ue(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var xm=class{constructor(e){this.Mr=e,this.docs=function(){return new Le(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=Cr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():en.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Cr(),s=n.path,c=new H(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||KF(WF(f),r)<=0||(i.has(f.key)||Jl(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){J()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mm(this)}getSize(e){return O.resolve(this.size)}},Mm=class extends bm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Pm=class{constructor(e){this.persistence=e,this.Nr=new Dr(n=>Ey(n),by),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sa,this.targetCount=0,this.kr=Ta.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var Nm=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new fD(0),this.Kr=!1,this.Kr=!0,this.$r=new Am,this.referenceDelegate=e(this),this.Ur=new Pm(this),this.indexManager=new Im,this.remoteDocumentCache=function(i){return new xm(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new wm(n),this.Gr=new Tm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Rm(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new Om(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Om=class extends Qg{constructor(e){super(),this.currentSequenceNumber=e}},km=class t{constructor(e){this.persistence=e,this.Jr=new Sa,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Fm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ge(),i=ge();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Lm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Vm=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return K0()?8:YF(Pt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Lm;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(la()<=ae.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(la()<=ae.DEBUG&&V("QueryEngine","Query:",vo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(la()<=ae.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wn(n))):O.resolve())}Yi(e,n){if(Hb(n))return O.resolve(null);let r=wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tl(n,null,"F"),r=wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,s,u.readTime)?this.Yi(e,Tl(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return Hb(n)||i.isEqual(ne.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?O.resolve(null):(la()<=ae.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vo(n)),this.rs(e,s,n,GF(i,-1)).next(c=>c))})}ts(e,n){let r=new lt(DD(e));return n.forEach((i,o)=>{Jl(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return la()<=ae.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",vo(n)),this.Ji.getDocumentsMatchingQuery(e,n,mi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Um=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Le(we),this._s=new Dr(o=>Ey(o),by),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function kL(t,e,n,r){return new Um(t,e,n,r)}function $D(t,e){return T(this,null,function*(){let n=pe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ge();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function HD(t){let e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function FL(t,e){let n=pe(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(dt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(p,w),function(x,N,U){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(y,w,f)&&c.push(n.Ur.updateTargetData(o,w))});let u=Cr(),l=ge();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(LL(o,s,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(ne.min())){let f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return O.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function LL(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Cr();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):V("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function VL(t,e){let n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Ca(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function jm(t,e,n){return T(this,null,function*(){let r=pe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ka(s))throw s;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function eD(t,e,n){let r=pe(t),i=ne.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=pe(u),y=p._s.get(f);return y!==void 0?O.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,s,wn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:ge())).next(c=>(UL(r,aL(e),c),{documents:c,Ts:o})))}function UL(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Pl=class{constructor(){this.activeTargetIds=fL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Bm=class{constructor(){this.so=new Pl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Pl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var $m=class{_o(e){}shutdown(){}};var Nl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var yl=null;function Vg(){return yl===null?yl=function(){return 268435456+Math.round(2147483648*Math.random())}():yl++,"0x"+yl.toString(16)}var jL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Hm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ct="WebChannelConnection",zm=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=Vg(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(f=>(V("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Co("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=jL[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Vg();return new Promise((s,c)=>{let u=new xg;u.setWithCredentials(!0),u.listenOnce(Pg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ua.NO_ERROR:let f=u.getResponseJson();V(ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case ua.TIMEOUT:V(ct,`RPC '${e}' ${o} timed out`),c(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case ua.HTTP_ERROR:let p=u.getStatus();if(V(ct,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let A=function(N){let U=N.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(U)>=0?U:M.UNKNOWN}(w.status);c(new L(A,w.message))}else c(new L(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new L(M.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{V(ct,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);V(ct,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Vg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kg(),c=Og(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Mg({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");V(ct,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u),y=!1,w=!1,A=new Hm({Io:N=>{w?V(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(y||(V(ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),V(ct,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),x=(N,U,K)=>{N.listen(U,G=>{try{K(G)}catch(re){setTimeout(()=>{throw re},0)}})};return x(p,yo.EventType.OPEN,()=>{w||(V(ct,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),x(p,yo.EventType.CLOSE,()=>{w||(w=!0,V(ct,`RPC '${e}' stream ${i} transport closed`),A.So())}),x(p,yo.EventType.ERROR,N=>{w||(w=!0,Co(ct,`RPC '${e}' stream ${i} transport errored:`,N),A.So(new L(M.UNAVAILABLE,"The operation could not be completed")))}),x(p,yo.EventType.MESSAGE,N=>{var U;if(!w){let K=N.data[0];Be(!!K);let G=K,re=G.error||((U=G[0])===null||U===void 0?void 0:U.error);if(re){V(ct,`RPC '${e}' stream ${i} received error:`,re);let Te=re.status,X=function(v){let I=Ve[v];if(I!==void 0)return ND(I)}(Te),E=re.message;X===void 0&&(X=M.INTERNAL,E="Unknown error status: "+Te+" with message "+re.message),w=!0,A.So(new L(X,E)),p.close()}else V(ct,`RPC '${e}' stream ${i} received:`,K),A.bo(K)}}),x(c,Ng.STAT_EVENT,N=>{N.stat===gl.PROXY?V(ct,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===gl.NOPROXY&&V(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Ug(){return typeof document<"u"?document:null}function Zl(t){return new mm(t,!0)}var Ol=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var qm=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ol(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return T(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return T(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return T(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(zn(n.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>T(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Gm=class extends qm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=TL(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?bo(s.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Xb(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=cm(u)?{documents:SL(o,u)}:{query:AL(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=OD(o,s.resumeToken);let l=ym(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){c.readTime=vm(o,s.snapshotVersion.toTimestamp());let l=ym(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=xL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Xb(this.serializer),n.removeTarget=e,this.a_(n)}};var Wm=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,_m(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,_m(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Km=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zn(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Qm=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>T(this,null,function*(){Va(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return T(this,null,function*(){let l=pe(u);l.L_.add(4),yield La(l),l.q_.set("Unknown"),l.L_.delete(4),yield Xl(l)})}(this))}))}),this.q_=new Km(r,i)}};function Xl(t){return T(this,null,function*(){if(Va(t))for(let e of t.B_)yield e(!0)})}function La(t){return T(this,null,function*(){for(let e of t.B_)yield e(!1)})}function zD(t,e){let n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ry(n)?Ay(n):Lo(n).r_()&&Sy(n,e))}function Ty(t,e){let n=pe(t),r=Lo(n);n.N_.delete(e),r.r_()&&qD(n,e),n.N_.size===0&&(r.r_()?r.o_():Va(n)&&n.q_.set("Unknown"))}function Sy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(t).A_(e)}function qD(t,e){t.Q_.xe(e),Lo(t).R_(e)}function Ay(t){t.Q_=new gm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Lo(t).start(),t.q_.v_()}function Ry(t){return Va(t)&&!Lo(t).n_()&&t.N_.size>0}function Va(t){return pe(t).L_.size===0}function GD(t){t.Q_=void 0}function BL(t){return T(this,null,function*(){t.q_.set("Online")})}function $L(t){return T(this,null,function*(){t.N_.forEach((e,n)=>{Sy(t,e)})})}function HL(t,e){return T(this,null,function*(){GD(t),Ry(t)?(t.q_.M_(e),Ay(t)):t.q_.set("Unknown")})}function zL(t,e,n){return T(this,null,function*(){if(t.q_.set("Online"),e instanceof Rl&&e.state===2&&e.cause)try{yield function(i,o){return T(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tD(t,r)}else if(e instanceof Eo?t.Q_.Ke(e):e instanceof Al?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield HD(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(dt.EMPTY_BYTE_STRING,f.snapshotVersion)),qD(o,u);let p=new Ca(f.target,u,l,f.sequenceNumber);Sy(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield tD(t,r)}})}function tD(t,e,n){return T(this,null,function*(){if(!ka(e))throw e;t.L_.add(1),yield La(t),t.q_.set("Offline"),n||(n=()=>HD(t.localStore)),t.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Xl(t)}))})}function nD(t,e){return T(this,null,function*(){let n=pe(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=Va(n);n.L_.add(3),yield La(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Xl(n)})}function qL(t,e){return T(this,null,function*(){let n=pe(t);e?(n.L_.delete(2),yield Xl(n)):e||(n.L_.add(2),yield La(n),n.q_.set("Unknown"))})}function Lo(t){return t.K_||(t.K_=function(n,r,i){let o=pe(n);return o.w_(),new Gm(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:BL.bind(null,t),Ro:$L.bind(null,t),mo:HL.bind(null,t),d_:zL.bind(null,t)}),t.B_.push(e=>T(this,null,function*(){e?(t.K_.s_(),Ry(t)?Ay(t):t.q_.set("Unknown")):(yield t.K_.stop(),GD(t))}))),t.K_}var Ym=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function WD(t,e){if(zn("AsyncQueue",`${e}: ${t}`),ka(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var kl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=da(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Fl=class{constructor(){this.W_=new Le(H.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Oo=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,kl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Jm=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Zm=class{constructor(){this.queries=rD(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=pe(n),o=i.queries;i.queries=rD(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function rD(){return new Dr(t=>bD(t),Yl)}function KD(t,e){return T(this,null,function*(){let n=pe(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Jm,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=WD(s,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&xy(n)})}function QD(t,e){return T(this,null,function*(){let n=pe(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function GL(t,e){let n=pe(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&xy(n)}function WL(t,e,n){let r=pe(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function xy(t){t.Y_.forEach(e=>{e.next()})}var Xm,iD;(iD=Xm||(Xm={})).ea="default",iD.Cache="cache";var Ll=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xm.Cache}};var Vl=class{constructor(e){this.key=e}},Ul=class{constructor(e){this.key=e}},ey=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=DD(e),this.Ra=new kl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Fl,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),w=Jl(this.query,p)?p:null,A=!!y&&this.mutatedKeys.has(y.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),N=!1;y&&w?y.data.isEqual(w.data)?A!==x&&(r.track({type:3,doc:w}),N=!0):this.ga(y,w)||(r.track({type:2,doc:w}),N=!0,(u&&this.Aa(w,u)>0||l&&this.Aa(w,l)<0)&&(c=!0)):!y&&w?(r.track({type:0,doc:w}),N=!0):y&&!w&&(r.track({type:1,doc:y}),N=!0,(u||l)&&(c=!0)),N&&(w?(s=s.add(w),o=x?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(w,A){let x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return x(w)-x(A)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Oo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ge(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Ul(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Vl(r))}),n}ba(e){this.Ta=e.Ts,this.da=ge();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Oo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},ty=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},ny=class{constructor(e){this.key=e,this.va=!1}},ry=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Dr(c=>bD(c),Yl),this.Ma=new Map,this.xa=new Set,this.Oa=new Le(H.comparator),this.Na=new Map,this.La=new Sa,this.Ba={},this.ka=new Map,this.qa=Ta.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function KL(t,e,n=!0){return T(this,null,function*(){let r=eC(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield YD(r,e,n,!0),i})}function QL(t,e){return T(this,null,function*(){let n=eC(t);yield YD(n,e,!0,!1)})}function YD(t,e,n,r){return T(this,null,function*(){let i=yield VL(t.localStore,wn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield YL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&zD(t.remoteStore,i),c})}function YL(t,e,n,r,i){return T(this,null,function*(){t.Ka=(p,y,w)=>function(x,N,U,K){return T(this,null,function*(){let G=N.view.ma(U);G.ns&&(G=yield eD(x.localStore,N.query,!1).then(({documents:E})=>N.view.ma(E,G)));let re=K&&K.targetChanges.get(N.targetId),Te=K&&K.targetMismatches.get(N.targetId)!=null,X=N.view.applyChanges(G,x.isPrimaryClient,re,Te);return sD(x,N.targetId,X.wa),X.snapshot})}(t,p,y,w);let o=yield eD(t.localStore,e,!0),s=new ey(e,o.Ts),c=s.ma(o.documents),u=Da.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);sD(t,n,l.wa);let f=new ty(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function JL(t,e,n){return T(this,null,function*(){let r=pe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Yl(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield jm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ty(r.remoteStore,i.targetId),iy(r,i.targetId)}).catch(vy))):(iy(r,i.targetId),yield jm(r.localStore,i.targetId,!0))})}function ZL(t,e){return T(this,null,function*(){let n=pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ty(n.remoteStore,r.targetId))})}function JD(t,e){return T(this,null,function*(){let n=pe(t);try{let r=yield FL(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Be(s.va):i.removedDocuments.size>0&&(Be(s.va),s.va=!1))}),yield XD(n,r,e)}catch(r){yield vy(r)}})}function oD(t,e,n){let r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=pe(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&xy(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function XL(t,e,n){return T(this,null,function*(){let r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Le(H.comparator);s=s.insert(o,en.newNoDocument(o,ne.min()));let c=ge().add(o),u=new Sl(ne.min(),new Map,new Le(we),s,c);yield JD(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),My(r)}else yield jm(r.localStore,e,!1).then(()=>iy(r,e,n)).catch(vy)})}function iy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ZD(t,r)})}function ZD(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Ty(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),My(t))}function sD(t,e,n){for(let r of n)r instanceof Vl?(t.La.addReference(r.key,e),eV(t,r)):r instanceof Ul?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ZD(t,r.key)):J()}function eV(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),My(t))}function My(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new H(Oe.fromString(e)),r=t.qa.next();t.Na.set(r,new ny(n)),t.Oa=t.Oa.insert(n,r),zD(t.remoteStore,new Ca(wn(Dy(n.path)),r,"TargetPurposeLimboResolution",fD.oe))}}function XD(t,e,n){return T(this,null,function*(){let r=pe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Fm.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return T(this,null,function*(){let f=pe(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,y=>O.forEach(y.$i,w=>f.persistence.referenceDelegate.addReference(p,y.targetId,w)).next(()=>O.forEach(y.Ui,w=>f.persistence.referenceDelegate.removeReference(p,y.targetId,w)))))}catch(p){if(!ka(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let w=f.os.get(y),A=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(y,x)}}})}(r.localStore,o))})}function tV(t,e){return T(this,null,function*(){let n=pe(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield $D(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield XD(n,r.hs)}})}function nV(t,e){let n=pe(t),r=n.Na.get(e);if(r&&r.va)return ge().add(r.key);{let i=ge(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let c=n.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function eC(t){let e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XL.bind(null,e),e.Ca.d_=GL.bind(null,e.eventManager),e.Ca.$a=WL.bind(null,e.eventManager),e}var jl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return T(this,null,function*(){this.serializer=Zl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return kL(this.persistence,new Vm,e.initialUser,this.serializer)}createPersistence(e){return new Nm(km.Zr,this.serializer)}createSharedClientState(e){return new Bm}terminate(){return T(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var oy=class{initialize(e,n){return T(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tV.bind(null,this.syncEngine),yield qL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Zm}()}createDatastore(e){let n=Zl(e.databaseInfo.databaseId),r=function(o){return new zm(o)}(e.databaseInfo);return function(o,s,c,u){return new Wm(o,s,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,c){return new Qm(r,i,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,n=>oD(this.syncEngine,n,0),function(){return Nl.D()?new Nl:new $m}())}createSyncEngine(e,n){return function(i,o,s,c,u,l,f){let p=new ry(i,o,s,c,u,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return T(this,null,function*(){var e,n;yield function(i){return T(this,null,function*(){let o=pe(i);V("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield La(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Bl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var sy=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=wl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>T(this,null,function*(){V("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=WD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function jg(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>T(this,null,function*(){r.isEqual(i)||(yield $D(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function aD(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield iV(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>nD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>nD(e.remoteStore,i)),t._onlineComponents=e})}function rV(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function iV(t){return T(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!rV(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),yield jg(t,new jl)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield jg(t,new jl);return t._offlineComponents})}function oV(t){return T(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield aD(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield aD(t,new oy))),t._onlineComponents})}function tC(t){return T(this,null,function*(){let e=yield oV(t),n=e.eventManager;return n.onListen=KL.bind(null,e.syncEngine),n.onUnlisten=JL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZL.bind(null,e.syncEngine),n})}function sV(t,e,n={}){let r=new vn;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,c,u,l){let f=new Bl({next:y=>{s.enqueueAndForget(()=>QD(o,p));let w=y.docs.has(c);!w&&y.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&u&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new Ll(Dy(c.path),f,{includeMetadataChanges:!0,_a:!0});return KD(o,p)}(yield tC(t),t.asyncQueue,e,n,r)})),r.promise}function aV(t,e,n={}){let r=new vn;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,c,u,l){let f=new Bl({next:y=>{s.enqueueAndForget(()=>QD(o,p)),y.fromCache&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new Ll(c,f,{includeMetadataChanges:!0,_a:!0});return KD(o,p)}(yield tC(t),t.asyncQueue,e,n,r)})),r.promise}function nC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var cD=new Map;function rC(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cV(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uD(t){if(!H.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lD(t){if(H.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ed(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function Aa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ed(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function uV(t,e){if(e<=0)throw new L(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var $l=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ko=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $l({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $l(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Bg;switch(r.type){case"firstParty":return new qg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=cD.get(n);r&&(V("ComponentProvider","Removing Datastore"),cD.delete(n),r.terminate())}(this),Promise.resolve()}};function iC(t,e,n,r={}){var i;let o=(t=Aa(t,ko))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ke.MOCK_USER;else{c=H0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ke(l)}t._authCredentials=new $g(new _l(c,u))}}var Tr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Nt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ir=class t extends Tr{constructor(e,n,r){super(e,n,Dy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function oC(t,e,...n){if(t=wt(t),rC("collection","path",e),t instanceof ko){let r=Oe.fromString(e,...n);return lD(r),new Ir(t,null,r)}{if(!(t instanceof Nt||t instanceof Ir))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return lD(r),new Ir(t.firestore,null,r)}}function sC(t,e,...n){if(t=wt(t),arguments.length===1&&(e=wl.newId()),rC("doc","path",e),t instanceof ko){let r=Oe.fromString(e,...n);return uD(r),new Nt(t,null,new H(r))}{if(!(t instanceof Nt||t instanceof Ir))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return uD(r),new Nt(t.firestore,t instanceof Ir?t.converter:null,new H(r))}}var ay=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Ol(this,"async_queue_retry"),this.Eu=()=>{let n=Ug();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Ug();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new vn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return T(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ka(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Ym.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&J()}verifyOperationInProgress(){}mu(){return T(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var Ra=class extends ko{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ay}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uC(this),this._firestoreClient.terminate()}};function aC(t,e){let n=typeof t=="object"?t:ri(),r=typeof t=="string"?t:e||"(default)",i=na(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Zu("firestore");o&&iC(i,...o)}return i}function cC(t){return t._firestoreClient||uC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function uC(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new Yg(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,nC(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new sy(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var xa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(dt.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Hl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var zl=class{constructor(e){this._methodName=e}};var Ma=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var Pa=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var lV=/^__.*__$/;function lC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}var cy=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return ly(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(lC(this.wu)&&lV.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},uy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zl(e)}Nu(e,n,r,i=!1){return new cy({wu:e,methodName:n,Ou:r,path:Bt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function dV(t){let e=t._freezeSettings(),n=Zl(t._databaseId);return new uy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hV(t,e,n,r=!1){return Py(n,t.Nu(r?4:3,e))}function Py(t,e){if(dC(t=wt(t)))return pV("Unsupported field value:",e,t),fV(t,e);if(t instanceof zl)return function(r,i){if(!lC(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Py(c,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ut.fromDate(r);return{timestampValue:vm(i.serializer,o)}}if(r instanceof ut){let o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vm(i.serializer,o)}}if(r instanceof Ma)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xa)return{bytesValue:OD(i.serializer,r._byteString)};if(r instanceof Nt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pa)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return Cy(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${ed(r)}`)}(t,e)}function fV(t,e){let n={};return pD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(t,(r,i)=>{let o=Py(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function dC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Ma||t instanceof xa||t instanceof Nt||t instanceof zl||t instanceof Pa)}function pV(t,e,n){if(!dC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ed(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}var gV=new RegExp("[~\\*/\\[\\]]");function mV(t,e,n){if(e.search(gV)>=0)throw ly(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hl(...e.split("."))._internalPath}catch{throw ly(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ly(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,c+t+u)}var ql=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new dy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(td("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},dy=class extends ql{data(){return super.data()}};function td(t,e){return typeof e=="string"?mV(t,e):e instanceof Hl?e._internalPath:e._delegate._internalPath}function yV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Na=class{},Oa=class extends Na{};function hC(t,e,...n){let r=[];e instanceof Na&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof hy).length,c=o.filter(u=>u instanceof Gl).length;if(s>1||s>0&&c>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Gl=class t extends Oa{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return mC(e._query,n),new Tr(e.firestore,e.converter,um(e._query,n))}_parse(e){let n=dV(e.firestore);return function(o,s,c,u,l,f,p){let y;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){hD(p,f);let w=[];for(let A of p)w.push(dD(u,o,A));y={arrayValue:{values:w}}}else y=dD(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||hD(p,f),y=hV(c,s,p,f==="in"||f==="not-in");return je.create(l,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function fC(t,e,n){let r=e,i=td("where",t);return Gl._create(i,r,n)}var hy=class t extends Na{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)mC(s,u),s=um(s,u)}(e._query,n),new Tr(e.firestore,e.converter,um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var fy=class t extends Oa{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vi(o,s)}(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new br(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function pC(t,e="asc"){let n=e,r=td("orderBy",t);return fy._create(r,n)}var py=class t extends Oa{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Tr(e.firestore,e.converter,Tl(e._query,this._limit,this._limitType))}};function gC(t){return uV("limit",t),py._create("limit",t,"F")}function dD(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ED(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Oe.fromString(n));if(!H.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lb(t,new H(r))}if(n instanceof Nt)return Lb(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ed(n)}.`)}function hD(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mC(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var gy=class{convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Fa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pe(s.doubleValue));return new Pa(o)}convertGeoPoint(e){return new Ma(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=wy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){let n=qn(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Oe.fromString(e);Be(BD(r));let i=new Dl(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||zn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var pi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Wl=class extends ql{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Do(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(td("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Do=class extends Wl{data(e={}){return super.data(e)}},my=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Do(this._firestore,this._userDataWriter,r.key,r,new pi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Do(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Do(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:vV(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function vV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}function yC(t){t=Aa(t,Nt);let e=Aa(t.firestore,Ra);return sV(cC(e),t._key).then(n=>_V(e,t,n))}var Kl=class extends gy{constructor(e){super(),this.firestore=e}convertBytes(e){return new xa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}};function vC(t){t=Aa(t,Tr);let e=Aa(t.firestore,Ra),n=cC(e),r=new Kl(e);return yV(t._query),aV(n,t._query).then(i=>new my(e,r,t,i))}function _V(t,e,n){let r=n.docs.get(e._key),i=new Kl(t);return new Wl(t,i,e._key,r,new pi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Fo=i})(po),mn(new It("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Ra(new Hg(r.getProvider("auth-internal")),new Wg(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ne(Nb,"4.7.2",e),Ne(Nb,"4.7.2","esm2017")})();var _i=class{constructor(e){return e}},_C="firestore",Ny=class{constructor(){return si(_C)}};var Oy=new ee("angularfire2.firestore-instances");function wV(t,e){let n=ra(_C,t,e);return n&&new _i(n)}function IV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _i(r)}}var EV={provide:Ny,deps:[[new at,Oy]]},bV={provide:_i,useFactory:wV,deps:[[new at,Oy],Bn]};function wC(t,...e){return Ne("angularfire",vr.full,"fst"),un([bV,EV,{provide:Oy,useFactory:IV(t),multi:!0,deps:[Ee,Xt,ai,ci,[new at,mo],[new at,oi],...e]}])}var IC=yt(oC,!0);var EC=yt(sC,!0);var bC=yt(yC,!0);var DC=yt(vC,!0);var CC=yt(aC,!0);var TC=yt(gC,!0);var SC=yt(pC,!0);var Vo=yt(hC,!0);var Ua=yt(fC,!0);var nd=(()=>{let e=class e{constructor(){this.firestore=k(_i)}getDesign(r){return T(this,null,function*(){return(yield bC(EC(this.firestore,"designs/"+r))).data()})}getDesigns(r){return T(this,null,function*(){let i=Vo(IC(this.firestore,"designs"),SC("createdAt","desc"));r.searchTerm&&(i=Vo(i,Ua("name",">=",r.searchTerm),Ua("name","<=",r.searchTerm+"\uF8FF"))),r.count&&(i=Vo(i,TC(r.count))),r.category&&(i=Vo(i,Ua("category","==",r.category))),r.type&&(i=Vo(i,Ua("type","==",r.type)));let o=yield DC(i),s=[];return o.forEach(c=>{s.push(j({id:c.id},c.data()))}),s})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var En=(()=>{let e=class e{constructor(){this.cart=uE(this.loadCartFromStorage()||{items:[],totalAmount:0,isVisible:!1})}calculateTotalAmount(r){return r.reduce((i,o)=>i+o.design.price*o.quantity,0)}openCart(){this.cart.update(r=>(r.isVisible=!0,r))}closeCart(){this.cart.update(r=>(r.isVisible=!1,r))}addItem(r){this.cart.update(i=>{let o=i.items.find(s=>s.design.id===r.design.id&&s.size==r.size);return o?o.quantity+=r.quantity:i.items.push(r),i.totalAmount+=r.design.price*r.quantity,this.saveCartToStorage(i),i})}removeItem(r){this.cart.update(i=>{let o=i.items.find(s=>s.design.id===r.design.id&&s.size==r.size);return o&&(o.quantity--,o.quantity<1&&(i.items=i.items.filter(s=>s!=o))),i.totalAmount=this.calculateTotalAmount(i.items),this.saveCartToStorage(i),i})}deleteItem(r){this.cart.update(i=>{let o=i.items.find(s=>s.design.id===r.design.id&&s.size==r.size);return o&&(i.items=i.items.filter(s=>s!=o)),i.totalAmount=this.calculateTotalAmount(i.items),this.saveCartToStorage(i),i})}saveCartToStorage(r){localStorage.setItem("cart",JSON.stringify(r))}loadCartFromStorage(){let r=localStorage.getItem("cart");return r?JSON.parse(r):null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rd=t=>({show:t}),AC=(()=>{let e=class e{constructor(){this.isAnimationTriggered=!1,this.cartService=k(En),this.router=k(gr)}ngOnInit(){setTimeout(()=>{this.isAnimationTriggered=!0},0)}openProductPage(){this.router.navigate(["/products"])}openCart(){this.cartService.openCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["cw-navbar"]],standalone:!0,features:[Me],decls:32,vars:12,consts:[[1,"container"],[1,"black-overlay"],[1,"white-bar"],[1,"logo"],["href","/"],["src","assets/current-wave-gradient.svg"],[1,"title"],[1,"cart"],["id","openCart",1,"cart-button",3,"click"],[1,"fas","fa-basket-shopping","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button"],[1,"fas","fa-bars","cart-icon"],[1,"logo-hamburger"],[1,"content"],["src","assets/current-wave-white.svg",1,"logo-secondary"],[1,"slogan"],[1,"browse-button",3,"click"],[1,"left-image-wrapper","wrapper-position"],["src","assets/apparel/cench.png","alt","Kendrick",1,"left-image","tshirt","image",3,"ngClass"],[1,"left-image-wrapper-2","wrapper-position"],["src","assets/apparel/kendrick.png","alt","Kendrick",1,"left-image-2","tshirt","image",3,"ngClass"],[1,"right-image-wrapper","wrapper-position"],["src","assets/apparel/gojo.png","alt","Kendrick",1,"right-image","tshirt","image",3,"ngClass"],[1,"right-image-wrapper-2","wrapper-position"],["src","assets/apparel/travis.png","alt","Kendrick",1,"right-image-2","tshirt","image",3,"ngClass"]],template:function(i,o){i&1&&(R(0,"div",0),$(1,"div",1),R(2,"div",2)(3,"div",3)(4,"a",4),$(5,"img",5),P()(),R(6,"div",6)(7,"a",4),B(8," CURRENT WAVE"),P()(),R(9,"div",7)(10,"div",8),Re("click",function(){return o.openCart()}),$(11,"i",9),P()()(),R(12,"div",10)(13,"div",11),$(14,"i",12),P(),R(15,"div",13),$(16,"img",5),P(),$(17,"div"),P(),R(18,"div",14),$(19,"img",15),R(20,"div",16),B(21,"Pridru\u017Ei se talasu."),P()(),R(22,"button",17),Re("click",function(){return o.openProductPage()}),B(23," Pogledaj kolekciju "),P(),R(24,"div",18),$(25,"img",19),P(),R(26,"div",20),$(27,"img",21),P(),R(28,"div",22),$(29,"img",23),P(),R(30,"div",24),$(31,"img",25),P()()),i&2&&(q(25),ue("ngClass",Ss(4,rd,o.isAnimationTriggered)),q(2),ue("ngClass",Ss(6,rd,o.isAnimationTriggered)),q(2),ue("ngClass",Ss(8,rd,o.isAnimationTriggered)),q(2),ue("ngClass",Ss(10,rd,o.isAnimationTriggered)))},dependencies:[et,GE],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;min-height:25rem;background:var(--gradient-secondary);justify-content:center;overflow:hidden;position:relative}.black-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%;background-color:#000;z-index:1;pointer-events:none;opacity:.05;transition:opacity .5s ease}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:100%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.browse-button[_ngcontent-%COMP%]{position:relative;z-index:2;height:3rem;width:12rem;outline:none;border:none;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;box-shadow:0 2px 4px #0003;border:3px solid var(--white-primary)}.browse-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;z-index:2;flex-wrap:wrap;width:100%}.logo-secondary[_ngcontent-%COMP%]{max-width:22rem;max-height:22rem;color:var(--white-primary);display:block}.slogan[_ngcontent-%COMP%]{position:absolute;font-size:var(--fs-600);max-width:30rem;padding-inline:1.5rem;padding-bottom:1.5rem;font-family:var(--ff-secondary);color:var(--white-primary);-webkit-user-select:none;user-select:none;cursor:default;z-index:2;top:80%}.wrapper-position[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:0}.left-image-wrapper[_ngcontent-%COMP%]{top:-5rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-5rem;left:-30rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-5rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-4rem;right:-25rem}.image[_ngcontent-%COMP%]{max-width:60rem;max-height:60rem;transition:width .3s ease,height .3s ease}.left-image[_ngcontent-%COMP%]{transform:rotate(15deg);--rotation: 15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.right-image[_ngcontent-%COMP%]{transform:rotate(-15deg);--rotation: -15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.left-image-2[_ngcontent-%COMP%]{transform:rotate(-10deg);--rotation: -10deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.right-image-2[_ngcontent-%COMP%]{transform:rotate(25deg);--rotation: 25deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background-color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.hamburger-button[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}@media screen and (max-width: 1770px){.image[_ngcontent-%COMP%]{max-width:55rem;max-height:55rem}.black-overlay[_ngcontent-%COMP%]{opacity:.1}.left-image-wrapper[_ngcontent-%COMP%]{top:-2rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-2rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;right:-20rem}}@media screen and (max-width: 1600px){.black-overlay[_ngcontent-%COMP%]{opacity:.15}}@media screen and (max-width: 1100px){.image[_ngcontent-%COMP%]{max-width:45rem;max-height:45rem}.black-overlay[_ngcontent-%COMP%]{opacity:.25}.left-image-wrapper[_ngcontent-%COMP%]{top:-1rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-1rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;right:-20rem}}@media screen and (max-width: 840px){.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}.browse-button[_ngcontent-%COMP%]{height:2.7rem;width:7rem;font-size:.8rem}.black-overlay[_ngcontent-%COMP%]{opacity:.35}.image[_ngcontent-%COMP%]{max-width:30rem;max-height:30rem}.left-image-wrapper[_ngcontent-%COMP%]{top:1rem;left:-4rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:1rem;left:-15rem}.right-image-wrapper[_ngcontent-%COMP%]{top:1rem;right:-4rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:2rem;right:-15rem}}@media screen and (max-width: 600px){.image[_ngcontent-%COMP%]{max-width:29rem;max-height:29rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{display:none}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{display:none}}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 370px){.image[_ngcontent-%COMP%]{max-width:25rem;max-height:25rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}}.tshirt[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px) rotate(0);animation-duration:.8s;animation-fill-mode:forwards;transition:transform .5s}@keyframes _ngcontent-%COMP%_slide-in{0%{opacity:0;transform:translateY(50px) rotate(0)}to{opacity:1;transform:translateY(0) rotate(var(--rotation))}}']});let t=e;return t})();function DV(t,e){if(t&1&&(bu(0),B(1),Du()),t&2){let n=dn(2);q(),Ze(n.onContentRendered())}}function CV(t,e){if(t&1&&(R(0,"cw-home-card",8),Je(1,DV,2,1,"ng-container",9),P()),t&2){let n=e.$implicit,r=e.last,i=dn();ue("design",n),q(),ue("ngIf",r&&!i.contentRendered)}}function TV(t,e){if(t&1&&(bu(0),B(1),Du()),t&2){let n=dn(2);q(),Ze(n.onContentRendered())}}function SV(t,e){if(t&1&&(R(0,"cw-home-card",8),Je(1,TV,2,1,"ng-container",9),P()),t&2){let n=e.$implicit,r=e.last,i=dn();ue("design",n),q(),ue("ngIf",r&&!i.contentRendered)}}var RC=(()=>{let e=class e{constructor(){this.contentRendered=!1,this.shirtDesigns=[],this.hoodieDesigns=[],this.changeDetector=k(Fn),this.designService=k(nd)}ngOnInit(){return T(this,null,function*(){yield this.loadDesigns()})}loadDesigns(r=""){return T(this,null,function*(){let i=yield this.designService.getDesigns({count:5,type:"Majica"}),o=yield this.designService.getDesigns({count:5,type:"Duks"});this.shirtDesigns=i,this.hoodieDesigns=o})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(r,i){return i.id}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["cw-home"]],standalone:!0,features:[Me],decls:20,vars:4,consts:[[1,"wrapper"],[1,"title"],[1,"subtitle"],[1,"grid"],[3,"design",4,"ngFor","ngForOf","ngForTrackBy"],[1,"show-more"],[1,"content"],["src","assets/current-wave-white.svg","alt","current wave logo",1,"logo"],[3,"design"],[4,"ngIf"]],template:function(i,o){i&1&&($(0,"cw-navbar"),R(1,"div",0)(2,"h1",1),B(3,"NA\u0160I PROIZVODI"),P(),R(4,"h2",2),B(5,"Majice"),P(),R(6,"div",3),Je(7,CV,2,2,"cw-home-card",4),R(8,"div",5)(9,"div",6),$(10,"img",7),B(11,"Jo\u0161 proizvoda... "),P()()(),R(12,"h2",2),B(13,"Duksevi"),P(),R(14,"div",3),Je(15,SV,2,2,"cw-home-card",4),R(16,"div",5)(17,"div",6),$(18,"img",7),B(19,"Jo\u0161 proizvoda... "),P()()()()),i&2&&(q(7),ue("ngForOf",o.shirtDesigns)("ngForTrackBy",o.identify),q(8),ue("ngForOf",o.hoodieDesigns)("ngForTrackBy",o.identify))},dependencies:[Qu,et,eo,hn,AC],styles:[".wrapper[_ngcontent-%COMP%]{max-width:min(90rem,90%);margin-inline:auto;box-sizing:border-box;margin-bottom:2rem;min-height:40rem}.title[_ngcontent-%COMP%]{text-align:center;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin-inline:auto}.subtitle[_ngcontent-%COMP%]{font-size:var(--fs-900);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:1rem;margin-inline:auto}.grid[_ngcontent-%COMP%]{--grid-layout-gap: 1rem;--grid-column-count: 3;--grid-item--min-width: 15rem;--gap-count: calc(var(--grid-column-count) - 1);--total-gap-width: calc(var(--gap-count) * var(--grid-layout-gap));--grid-item--max-width: calc( (100% - var(--total-gap-width)) / var(--grid-column-count) );display:grid;width:100%;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(max(var(--grid-item--min-width),var(--grid-item--max-width)),1fr));grid-auto-rows:1fr;justify-content:center;padding-bottom:2rem}.visible[_ngcontent-%COMP%]{display:grid}.show-more[_ngcontent-%COMP%]{font-family:var(--ff-secondary);width:100%;height:100%;position:relative;transition:.2s ease;border-radius:.8rem;display:flex;justify-content:center;align-items:center;overflow:hidden;padding:.25rem;background:linear-gradient(-45deg,#6fc2e4,#44bbed,#0cb3f8);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}.content[_ngcontent-%COMP%]{color:var(--white-primary);width:100%;height:100%;border-radius:.55rem;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:var(--fs-700);font-weight:700;text-align:center;-webkit-user-select:none;user-select:none}.show-more[_ngcontent-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}.logo[_ngcontent-%COMP%]{width:50%}@keyframes _ngcontent-%COMP%_gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]});let t=e;return t})();function AV(t,e){if(t&1){let n=_E();R(0,"div",21),Re("click",function(){let i=Jw(n).$implicit,o=dn();return Zw(o.selectSize(i))}),B(1),P()}if(t&2){let n=e.$implicit,r=dn();ur("active",n===r.selectedSize),q(),At(" ",n," ")}}function RV(t,e){if(t&1&&$(0,"cw-home-card",22),t&2){let n=e.$implicit;ue("design",n)}}var xC=(()=>{let e=class e{constructor(){this.sizes=["XS","S","M","L","XL","XXL"],this.selectedSize=this.sizes[0],this.id="",this.route=k(fr),this.designService=k(nd),this.cartService=k(En),this.contentRendered=!1,this.shirtDesigns=[],this.hoodieDesigns=[],this.changeDetector=k(Fn)}ngOnInit(){return T(this,null,function*(){this.id=this.route.snapshot.paramMap.get("id"),this.designService.getDesign(this.id).then(r=>T(this,null,function*(){r?(this.design=r,this.selectedImage=this.design.image,yield this.loadDesigns()):console.error("Design not found")})).catch(r=>{console.error("Error fetching design:",r)})})}loadDesigns(){return T(this,null,function*(){let r=yield this.designService.getDesigns({count:5,type:this.design.type});this.shirtDesigns=r.filter(i=>i.id!==this.id)})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(r,i){return i.id}selectSize(r){this.selectedSize=r}showImage(r){this.selectedImage=r}addToCart(){if(!this.design)return;let r={design:this.design,quantity:1,size:this.selectedSize};this.cartService.addItem(r),this.cartService.openCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["cw-design"]],standalone:!0,features:[Me],decls:32,vars:17,consts:[[1,"container"],[1,"row"],[1,"apparel-images"],[1,"image-wrapper"],[1,"main-image",3,"src","alt"],[1,"thumbnail-images"],[1,"thumbnail",3,"click"],[3,"src"],[1,"apparel-info"],[1,"name"],[1,"category"],[1,"tag"],[1,"price"],[1,"all-sizes"],["class","selected-size",3,"active","click",4,"ngFor","ngForOf"],["id","addToCartBtn","text","Dodaj u korpu",1,"add-to-cart-btn",3,"clicked"],[1,"material"],[1,"featured-items"],[1,"subtitle"],[1,"grid"],["class","card",3,"design",4,"ngFor","ngForOf"],[1,"selected-size",3,"click"],[1,"card",3,"design"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),$(4,"img",4),P(),R(5,"div",5)(6,"div",6),Re("click",function(){return o.showImage(o.design==null?null:o.design.image)}),$(7,"img",7),P(),R(8,"div",6),Re("click",function(){return o.showImage(o.design==null?null:o.design.front)}),$(9,"img",7),P(),R(10,"div",6),Re("click",function(){return o.showImage(o.design==null?null:o.design.back)}),$(11,"img",7),P()()(),R(12,"div",8)(13,"div",9),B(14),P(),R(15,"div",10)(16,"span",11),B(17),P(),R(18,"span",11),B(19),P()(),R(20,"div",12),B(21),P(),R(22,"div",13),Je(23,AV,2,3,"div",14),P(),R(24,"cw-button",15),Re("clicked",function(){return o.addToCart()}),P(),R(25,"div",16),B(26,"100% pamuk. Prati na 30\xB0C"),P()()(),R(27,"div",17)(28,"h2",18),B(29,"Sli\u010Dni proizvodi"),P(),R(30,"div",19),Je(31,RV,1,1,"cw-home-card",20),P()()()),i&2&&(q(4),Vf("alt",o.design==null?null:o.design.name),ue("src",o.selectedImage,On),q(2),ur("selected",o.selectedImage===(o.design==null?null:o.design.image)),q(),ue("src",o.design==null?null:o.design.image,On),q(),ur("selected",o.selectedImage===(o.design==null?null:o.design.front)),q(),ue("src",o.design==null?null:o.design.front,On),q(),ur("selected",o.selectedImage===(o.design==null?null:o.design.back)),q(),ue("src",o.design==null?null:o.design.back,On),q(3),Ze(o.design==null?null:o.design.name),q(3),Ze(o.design==null?null:o.design.category),q(2),Ze(o.design==null?null:o.design.type),q(2),At("",o.design==null?null:o.design.price,".00 rsd"),q(2),ue("ngForOf",o.sizes),q(8),ue("ngForOf",o.shirtDesigns))},dependencies:[et,eo,Qu,lo],styles:['.container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;padding:2rem}.row[_ngcontent-%COMP%]{display:flex;justify-content:center}.apparel-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:32rem;max-height:34rem;padding:2rem;padding-left:0;gap:1rem}.name[_ngcontent-%COMP%]{font-size:3rem}.category[_ngcontent-%COMP%]{display:flex;gap:.5rem}.tag[_ngcontent-%COMP%]{background-color:var(--clr-primary-700);padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-500);color:var(--white-primary);font-family:var(--ff-secondary)}.price[_ngcontent-%COMP%]{font-size:1.5rem;color:#000;font-family:var(--ff-secondary)}.size[_ngcontent-%COMP%]{font-size:1rem}.add-to-cart-btn[_ngcontent-%COMP%]{max-width:22rem;padding:2rem;margin-left:0;font-family:var(--ff-primary);font-size:1.4rem;cursor:pointer}.apparel-images[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:2rem}.thumbnail-images[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;gap:.5rem}.thumbnail[_ngcontent-%COMP%]{width:5rem;height:5rem;position:relative;cursor:pointer}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:.5rem;border:none}.thumbnail[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;opacity:0;transition:opacity .3s ease;border-radius:.5rem;z-index:1}.thumbnail[_ngcontent-%COMP%]:hover:before{opacity:1}.thumbnail.selected[_ngcontent-%COMP%]:before{opacity:1}.size-selection[_ngcontent-%COMP%]{padding-bottom:1rem}.selected-size.active[_ngcontent-%COMP%]{background-color:#000;color:var(--white-primary)}.main-image[_ngcontent-%COMP%]{width:30rem;height:30rem;transition:transform .3s ease;border:none}.image-wrapper[_ngcontent-%COMP%]{width:30rem;height:30rem;overflow:hidden;position:relative;border-radius:1.5rem;cursor:zoom-in;border:none}.image-wrapper[_ngcontent-%COMP%]:hover   .main-image[_ngcontent-%COMP%]{transform:scale(1.05);cursor:pointer;transition:transform .5s ease}.all-sizes[_ngcontent-%COMP%]{display:flex;padding:.5rem;padding-left:0;flex-wrap:wrap;justify-content:flex-start;gap:.5rem}.selected-size[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;padding:.5rem;border:1px solid black;border-radius:1rem;height:auto;width:3.2rem;font-size:1.2rem;cursor:pointer;transition:background-color .3s ease,color .3s ease;box-sizing:border-box}.selected-size[_ngcontent-%COMP%]:hover{background-color:#000;color:var(--white-primary)}.content[_ngcontent-%COMP%]{color:var(--white-primary);width:100%;height:100%;border-radius:.55rem;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:var(--fs-700);font-weight:700;text-align:center;-webkit-user-select:none;user-select:none}.featured-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem}.grid[_ngcontent-%COMP%]{display:flex;gap:1rem}.subtitle[_ngcontent-%COMP%]{font-size:var(--fs-900);font-family:var(--ff-main);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:.5rem}.card[_ngcontent-%COMP%]{min-width:11rem;min-height:11rem;max-width:21rem;max-height:21rem}.material[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}@media screen and (max-width: 800px){.row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.grid[_ngcontent-%COMP%]{flex-direction:column}.apparel-info[_ngcontent-%COMP%]{padding-left:2rem;padding-top:0rem;justify-content:center;width:20rem}.main-image[_ngcontent-%COMP%], .image-wrapper[_ngcontent-%COMP%]{width:20rem;height:20rem}.thumbnail-images[_ngcontent-%COMP%]{justify-content:center}.apparel-images[_ngcontent-%COMP%]{padding-top:0}.name[_ngcontent-%COMP%], .category[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{justify-content:flex-start}.name[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.category[_ngcontent-%COMP%]{font-size:1.2rem;text-align:center}.price[_ngcontent-%COMP%]{font-size:1.4rem;text-align:center}.add-to-cart-btn[_ngcontent-%COMP%]{width:12rem;height:4rem}.apparel-info[_ngcontent-%COMP%]{justify-content:center;align-items:center}.material[_ngcontent-%COMP%]{font-size:.8rem;text-align:center}.all-sizes[_ngcontent-%COMP%]{padding-left:.5rem}.all-sizes[_ngcontent-%COMP%]{justify-content:center}}']});let t=e;return t})();var MC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["cw-products-page"]],standalone:!0,features:[Me],decls:2,vars:0,template:function(i,o){i&1&&(R(0,"p"),B(1,"products-page works!"),P())}});let t=e;return t})();var PC=[{path:"",component:RC},{path:"design/:id",component:xC},{path:"products",component:MC}];var kC="functions";var ky=class{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){return T(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return T(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return T(this,null,function*(){if(this.appCheck){let n=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(e){return T(this,null,function*(){let n=yield this.getAuthToken(),r=yield this.getMessagingToken(),i=yield this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}})}};var Fy="us-central1";var Ly=class{constructor(e,n,r,i,o=Fy,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new ky(n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{let c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=Fy}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function xV(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}var NC="@firebase/functions",OC="0.11.8";var MV="auth-internal",PV="app-check-internal",NV="messaging-internal";function OV(t,e){let n=(r,{instanceIdentifier:i})=>{let o=r.getProvider("app").getImmediate(),s=r.getProvider(MV),c=r.getProvider(NV),u=r.getProvider(PV);return new Ly(o,s,c,u,i,t)};mn(new It(kC,n,"PUBLIC").setMultipleInstances(!0)),Ne(NC,OC,e),Ne(NC,OC,"esm2017")}function FC(t=ri(),e=Fy){let r=na(wt(t),kC).getImmediate({identifier:e}),i=Zu("functions");return i&&LC(r,...i),r}function LC(t,e,n){xV(wt(t),e,n)}OV(fetch.bind(self));var ja=class{constructor(e){return e}},VC="functions",Vy=class{constructor(){return si(VC)}};var Uy=new ee("angularfire2.functions-instances");function kV(t,e){let n=ra(VC,t,e);return n&&new ja(n)}function FV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ja(r)}}var LV={provide:Vy,deps:[[new at,Uy]]},VV={provide:ja,useFactory:kV,deps:[[new at,Uy],Bn]};function UC(t,...e){return Ne("angularfire",vr.full,"fn"),un([VV,LV,{provide:Uy,useFactory:FV(t),multi:!0,deps:[Ee,Xt,ai,ci,[new at,mo],[new at,oi],...e]}])}var jC=yt(FC,!0);var BC={providers:[F0(PC,L0()),db(()=>hb({projectId:"currentwave-563b3",appId:"1:214702271750:web:4bf5a93092d8b0757c8287",storageBucket:"currentwave-563b3.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyATMkQlyO2nL_yKV3uwz-OuY_IAMZtX_-A",authDomain:"currentwave-563b3.firebaseapp.com",messagingSenderId:"214702271750",measurementId:"G-12H1ZL3EYH"})),wC(()=>CC()),UC(()=>jC())]};var $C=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["cw-footer"]],standalone:!0,features:[Me],decls:42,vars:0,consts:[[1,"grid"],[1,"column","newsletter"],[1,"email"],["placeholder","Email address","type","email"],[1,"submit-btn"],[1,"column","socials"],[1,"icon","fa-brands","fa-instagram"],["href","https://www.instagram.com/nosicurrentwave/"],[1,"icon","fa-brands","fa-tiktok"],[1,"icon","fa-brands","fa-facebook"],[1,"column","about"],[1,"icon","fa-solid","fa-envelope"],[1,"icon","fa-solid","fa-phone"],[1,"icon","fa-solid","fa-circle-info"],["href","#"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"h2"),B(3,"Newsletter"),P(),R(4,"p"),B(5," Want to know what we're up to? Sign up for the newsletter to recieve updates. "),P(),R(6,"div",2),$(7,"input",3),R(8,"button",4),B(9,"Subscribe"),P()()(),R(10,"div",5)(11,"h2"),B(12,"Socials"),P(),R(13,"ul")(14,"li"),$(15,"i",6),R(16,"a",7),B(17,"Instagram"),P()(),R(18,"li"),$(19,"i",8),R(20,"a",7),B(21,"TikTok"),P()(),R(22,"li"),$(23,"i",9),R(24,"a",7),B(25,"Facebook"),P()()()(),R(26,"div",10)(27,"h2"),B(28,"Info"),P(),R(29,"ul")(30,"li"),$(31,"i",11),R(32,"span"),B(33,"currentwavewear@gmail.com "),P()(),R(34,"li"),$(35,"i",12),R(36,"span"),B(37,"+38169758176"),P()(),R(38,"li"),$(39,"i",13),R(40,"a",14),B(41,"O Nama"),P()()()()())},styles:["[_nghost-%COMP%]{margin-top:auto;width:100%;background:var(--gradient-secondary);display:block}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;color:var(--white-primary);padding-block:6rem;box-sizing:border-box;justify-items:center;gap:4rem;margin-inline:auto}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center}.newsletter[_ngcontent-%COMP%]{align-items:center}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-width:max-content}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.icon[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;justify-content:center;align-items:center}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;color:var(--white-primary)}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--clr-offwhite)}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:var(--ff-secondary);font-size:var(--fs-400)}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0}p[_ngcontent-%COMP%]{padding:.5rem;max-width:min(100%,40ch);line-height:1.25}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1rem}.email[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1rem}.email[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:var(--fs-500);padding:.5rem;border:2px solid var(--white-primary);outline:none;margin-left:auto}.submit-btn[_ngcontent-%COMP%]{border:2px solid var(--white-primary);outline:none;border-left:none;flex-grow:.3;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;margin-right:auto}.submit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9e9e9e}@media screen and (min-width: 800px){.grid[_ngcontent-%COMP%]{width:clamp(48rem,60%,64rem);grid-template-columns:repeat(4,1fr);gap:2rem}.newsletter[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:3}.submit-btn[_ngcontent-%COMP%]{flex-grow:.3;margin-right:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:.7;margin-left:0}}"]});let t=e;return t})();var HC=(()=>{let e=class e{constructor(){this.cartService=k(En)}openCart(){this.cartService.openCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["cw-simple-nav"]],standalone:!0,features:[Me],decls:17,vars:0,consts:[[1,"container"],[1,"white-bar"],[1,"logo"],["href","/"],["src","assets/current-wave-gradient.svg"],[1,"title"],[1,"cart"],["id","openCart",1,"cart-button",3,"click"],[1,"fas","fa-basket-shopping","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button"],[1,"fas","fa-bars","cart-icon"],[1,"logo-hamburger"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),$(4,"img",4),P()(),R(5,"div",5)(6,"a",3),B(7," CURRENT WAVE"),P()(),R(8,"div",6)(9,"div",7),Re("click",function(){return o.openCart()}),$(10,"i",8),P()()(),R(11,"div",9)(12,"div",10),$(13,"i",11),P(),R(14,"div",12),$(15,"img",4),P(),$(16,"div"),P()())},styles:['.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;width:100%;background:var(--gradient-primary)}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:75%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background-color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.hamburger-button[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 800px){.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}}']});let t=e;return t})();var zC=(()=>{let e=class e{constructor(){this.cartService=k(En)}decreaseQuantity(){this.cartService.removeItem(this.cartItem)}increaseQuantity(){this.cartService.addItem(Ae(j({},this.cartItem),{quantity:1}))}deleteItem(){this.cartService.deleteItem(this.cartItem)}quantityChanged(r){this.cartItem.quantity=r.target.value}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["cw-cart-item"]],inputs:{cartItem:"cartItem"},standalone:!0,features:[Me],decls:22,vars:16,consts:[[1,"card"],[1,"image",3,"src"],[1,"content"],[1,"title"],[1,"name"],["id","deleteItem",1,"delete","fa-regular","fa-trash-can",3,"click"],[1,"size"],[1,"price"],[1,"quantity"],[1,"quantity-input"],[1,"quantity-button",3,"click"],["disabled","","type","number","min","1","max","99","name","quantity","id","quantity",3,"value"],[1,"total"]],template:function(i,o){i&1&&(R(0,"div",0),$(1,"img",1),R(2,"div",2)(3,"div",3)(4,"span",4),B(5),P(),R(6,"i",5),Re("click",function(){return o.deleteItem()}),P()(),R(7,"div",6),B(8),P(),R(9,"div",7),B(10),kn(11,"currency"),P(),R(12,"div",8)(13,"div",9)(14,"div",10),Re("click",function(){return o.decreaseQuantity()}),B(15,"-"),P(),$(16,"input",11),R(17,"div",10),Re("click",function(){return o.increaseQuantity()}),B(18,"+"),P()(),R(19,"span",12),B(20),kn(21,"currency"),P()()()()),i&2&&(q(),ue("src",o.cartItem.design.image,On),q(4),Ze(o.cartItem.design.name),q(3),At("Veli\u010Dina: ",o.cartItem.size,""),q(2),At(" Cena: ",Jr(11,6,o.cartItem.design.price,"","","1.0-0"),"RSD "),q(6),ue("value",o.cartItem.quantity),q(4),At("",Jr(21,11,o.cartItem.quantity*o.cartItem.design.price,"","","1.0-0"),"RSD"))},dependencies:[et,to],styles:[".card[_ngcontent-%COMP%]{display:flex;background-color:var(--white-primary);padding:1rem;border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a}.image[_ngcontent-%COMP%]{width:8rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding-left:1rem}.title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--clr-error)}.price[_ngcontent-%COMP%], .size[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}.quantity[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.quantity-input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-family:var(--ff-secondary);-webkit-user-select:none;user-select:none}.quantity-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:4ch;-webkit-appearance:none;-moz-appearance:textfield;border:none;height:1.8rem;border-block:1px solid black;text-align:center}.quantity-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.quantity-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:1px solid black;width:2ch;height:1.8rem;text-align:center}.quantity-button[_ngcontent-%COMP%]:hover, .delete[_ngcontent-%COMP%]:hover{cursor:pointer}"]});let t=e;return t})();function jV(t,e){t&1&&(R(0,"div",14),B(1,"Korpa je prazna"),P())}function BV(t,e){if(t&1&&$(0,"cw-cart-item",15),t&2){let n=e.$implicit;ue("cartItem",n)}}var qC=(()=>{let e=class e{constructor(){this.cartService=k(En),this.elRef=k(Qr),this.cart=this.cartService.cart,this.SHIPPING_COST=this.cart().items.length>0?430:0}closeCart(){this.cartService.closeCart()}onDocumentClick(r){let i=this.elRef.nativeElement.contains(r.target),o=r.target,s=document.getElementById("openCart"),c=document.getElementById("addToCartBtn");!i&&!c?.contains(o)&&o.id!="addToCartBtn"&&!s?.contains(o)&&o.id!="openCart"&&o.id!="deleteItem"&&!o.classList.contains("quantity-button")&&!o.classList.contains("selected-size")&&this.cartService.closeCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["cw-cart-sidebar"]],hostBindings:function(i,o){i&1&&Re("click",function(c){return o.onDocumentClick(c)},!1,OI)},standalone:!0,features:[Me],decls:30,vars:22,consts:[[1,"container"],[1,"top-bar"],[1,"title"],[1,"fas","fa-basket-shopping"],[1,"close",3,"click"],[1,"fa-solid","fa-xmark"],[1,"items"],["class","empty",4,"ngIf"],[3,"cartItem",4,"ngFor","ngForOf"],[1,"bottom-bar"],[1,"cost","subtotal"],[1,"cost","shipping"],[1,"cost","total"],["text","Checkout",1,"checkout"],[1,"empty"],[3,"cartItem"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"div",2),$(3,"i",3),B(4," Korpa "),P(),R(5,"div",4),Re("click",function(){return o.closeCart()}),$(6,"i",5),P()(),R(7,"div",6),Je(8,jV,2,0,"div",7)(9,BV,1,1,"cw-cart-item",8),P(),R(10,"div",9)(11,"div",10)(12,"span"),B(13,"Cena:"),P(),R(14,"span"),B(15),kn(16,"currency"),P()(),R(17,"div",11)(18,"span"),B(19,"Po\u0161tarina:"),P(),R(20,"span"),B(21),kn(22,"currency"),P()(),R(23,"div",12)(24,"span"),B(25,"Ukupno:"),P(),R(26,"span"),B(27),kn(28,"currency"),P()(),$(29,"cw-button",13),P()()),i&2&&(ur("visible",o.cart().isVisible),q(8),ue("ngIf",o.cart().items.length<1),q(),ue("ngForOf",o.cart().items),q(6),At("",Jr(16,7,o.cart().totalAmount,"","","1.0-0"),"RSD"),q(6),At("",Jr(22,12,o.SHIPPING_COST,"","","1.0-0"),"RSD"),q(6),At("",Jr(28,17,o.cart().totalAmount+o.SHIPPING_COST,"","","1.0-0"),"RSD"))},dependencies:[lo,zC,et,eo,hn,to],styles:[".container[_ngcontent-%COMP%]{position:fixed;z-index:20;top:0;right:0;background-color:var(--white-primary);height:100%;width:clamp(24rem,20%,28rem);display:flex;flex-direction:column;-webkit-box-shadow:-12px 0px 29px -7px rgba(0,0,0,.65);-moz-box-shadow:-12px 0px 29px -7px rgba(0,0,0,.65);box-shadow:-12px 0 29px -7px #000000a6;border-top-left-radius:1rem;border-bottom-left-radius:1rem;transition:.5s ease;transform:translate(100%)}.empty[_ngcontent-%COMP%]{font-family:var(--ff-secondary);text-align:center;margin-block:auto}.visible[_ngcontent-%COMP%]{transform:translate(0)}.title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-size:var(--fs-800);font-family:var(--ff-main);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none}.top-bar[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:space-between;align-items:center}.close[_ngcontent-%COMP%]{font-size:var(--fs-700);color:var(--clr-error)}.close[_ngcontent-%COMP%]:hover{cursor:pointer}.bottom-bar[_ngcontent-%COMP%]{display:flex;padding-inline:1rem;padding-block:1rem;flex-direction:column;margin-top:auto;box-shadow:0 -2px 58px -13px #000000bf;-webkit-box-shadow:0px -2px 58px -13px rgba(0,0,0,.75);-moz-box-shadow:0px -2px 58px -13px rgba(0,0,0,.75)}.cost[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.cost[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}.total[_ngcontent-%COMP%]{margin-top:.5rem;border-top:1px dashed black;font-family:var(--ff-main);font-size:var(--fs-600)}.checkout[_ngcontent-%COMP%]{width:100%;margin-block:1rem;height:2.5rem}.items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;height:100%;max-height:100%;overflow-y:auto;background-color:var(--clr-offwhite-700);padding:.5rem}@media screen and (max-width: 384px){.container[_ngcontent-%COMP%]{display:none}}"]});let t=e;return t})();function $V(t,e){t&1&&$(0,"cw-simple-nav")}var GC=(()=>{let e=class e{constructor(){this.title="current-wave",this.router=k(gr)}isHomePage(){return this.router.url==="/"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xe({type:e,selectors:[["app-root"]],standalone:!0,features:[Me],decls:4,vars:1,consts:[[4,"ngIf"]],template:function(i,o){i&1&&(Je(0,$V,1,0,"cw-simple-nav",0),$(1,"cw-cart-sidebar")(2,"router-outlet")(3,"cw-footer")),i&2&&ue("ngIf",!o.isHomePage())},dependencies:[Vp,$C,HC,et,hn,qC],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}"]});let t=e;return t})();t0(GC,BC).catch(t=>console.error(t));
