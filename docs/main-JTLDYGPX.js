var sS=Object.defineProperty,aS=Object.defineProperties;var cS=Object.getOwnPropertyDescriptors;var c_=Object.getOwnPropertySymbols;var uS=Object.prototype.hasOwnProperty,lS=Object.prototype.propertyIsEnumerable;var u_=(t,e,n)=>e in t?sS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$=(t,e)=>{for(var n in e||={})uS.call(e,n)&&u_(t,n,e[n]);if(c_)for(var n of c_(e))lS.call(e,n)&&u_(t,n,e[n]);return t},Me=(t,e)=>aS(t,cS(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function dS(t,e){return Object.is(t,e)}var Ze=null,yc=!1,vc=1,Li=Symbol("SIGNAL");function _e(t){let e=Ze;return Ze=t,e}var zd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function l_(t){if(yc)throw new Error("");if(Ze===null)return;Ze.consumerOnSignalRead(t);let e=Ze.nextProducerIndex++;if(Fi(Ze),e<Ze.producerNode.length&&Ze.producerNode[e]!==t&&ws(Ze)){let n=Ze.producerNode[e];_c(n,Ze.producerIndexOfThis[e])}Ze.producerNode[e]!==t&&(Ze.producerNode[e]=t,Ze.producerIndexOfThis[e]=ws(Ze)?m_(t,Ze,e):0),Ze.producerLastReadVersion[e]=t.version}function hS(){vc++}function fS(t){if(!(ws(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vc)){if(!t.producerMustRecompute(t)&&!qd(t)){t.dirty=!1,t.lastCleanEpoch=vc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vc}}function d_(t){if(t.liveConsumerNode===void 0)return;let e=yc;yc=!0;try{for(let n of t.liveConsumerNode)n.dirty||pS(n)}finally{yc=e}}function h_(){return Ze?.consumerAllowSignalWrites!==!1}function pS(t){t.dirty=!0,d_(t),t.consumerMarkedDirty?.(t)}function f_(t){return t&&(t.nextProducerIndex=0),_e(t)}function p_(t,e){if(_e(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ws(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_c(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function qd(t){Fi(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(fS(n),r!==n.version))return!0}return!1}function g_(t){if(Fi(t),ws(t))for(let e=0;e<t.producerNode.length;e++)_c(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function m_(t,e,n){if(y_(t),Fi(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=m_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function _c(t,e){if(y_(t),Fi(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)_c(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Fi(i),i.producerIndexOfThis[r]=e}}function ws(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function y_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function gS(){throw new Error}var v_=gS;function __(){v_()}function w_(t){v_=t}var mS=null;function I_(t){let e=Object.create(C_);e.value=t;let n=()=>(l_(e),e.value);return n[Li]=e,n}function Gd(t,e){h_()||__(),t.equal(t.value,e)||(t.value=e,yS(t))}function E_(t,e){h_()||__(),Gd(t,e(t.value))}var C_=Me($({},zd),{equal:dS,value:void 0});function yS(t){t.version++,hS(),d_(t),mS?.()}function X(t){return typeof t=="function"}function Vi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wc=Vi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Hr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var je=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof wc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{b_(o)}catch(s){e=e??[],s instanceof wc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)b_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Hr(n,e)}remove(e){let{_finalizers:n}=this;n&&Hr(n,e),e instanceof t&&e._removeParent(this)}};je.EMPTY=(()=>{let t=new je;return t.closed=!0,t})();var Wd=je.EMPTY;function Ic(t){return t instanceof je||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function b_(t){X(t)?t():t.unsubscribe()}var tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ji={setTimeout(t,e,...n){let{delegate:r}=ji;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ji;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ec(t){ji.setTimeout(()=>{let{onUnhandledError:e}=tn;if(e)e(t);else throw t})}function Is(){}var D_=Kd("C",void 0,void 0);function T_(t){return Kd("E",void 0,t)}function S_(t){return Kd("N",t,void 0)}function Kd(t,e,n){return{kind:t,value:e,error:n}}var zr=null;function Ui(t){if(tn.useDeprecatedSynchronousErrorHandling){let e=!zr;if(e&&(zr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=zr;if(zr=null,n)throw r}}else t()}function A_(t){tn.useDeprecatedSynchronousErrorHandling&&zr&&(zr.errorThrown=!0,zr.error=t)}var qr=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ic(e)&&e.add(this)):this.destination=wS}static create(e,n,r){return new Bi(e,n,r)}next(e){this.isStopped?Yd(S_(e),this):this._next(e)}error(e){this.isStopped?Yd(T_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yd(D_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vS=Function.prototype.bind;function Qd(t,e){return vS.call(t,e)}var Jd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Cc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Cc(r)}else Cc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Cc(n)}}},Bi=class extends qr{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qd(e.next,o),error:e.error&&Qd(e.error,o),complete:e.complete&&Qd(e.complete,o)}):i=e}this.destination=new Jd(i)}};function Cc(t){tn.useDeprecatedSynchronousErrorHandling?A_(t):Ec(t)}function _S(t){throw t}function Yd(t,e){let{onStoppedNotification:n}=tn;n&&ji.setTimeout(()=>n(t,e))}var wS={closed:!0,next:Is,error:_S,complete:Is};var $i=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(t){return t}function Zd(...t){return Xd(t)}function Xd(t){return t.length===0?Rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ES(n)?n:new Bi(n,r,i);return Ui(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=M_(r),new r((i,o)=>{let s=new Bi({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$i](){return this}pipe(...n){return Xd(n)(this)}toPromise(n){return n=M_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function M_(t){var e;return(e=t??tn.Promise)!==null&&e!==void 0?e:Promise}function IS(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function ES(t){return t&&t instanceof qr||IS(t)&&Ic(t)}function eh(t){return X(t?.lift)}function de(t){return e=>{if(eh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new th(t,e,n,r,i)}var th=class extends qr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hi(){return de((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var zi=class extends ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,eh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return Hi()(this)}};var x_=Vi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class t extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new bc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new x_}next(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wd:(this.currentObservers=null,o.push(n),new je(()=>{this.currentObservers=null,Hr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ve;return n.source=this,n}}return t.create=(e,n)=>new bc(e,n),t})(),bc=class extends ut{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Wd}};var nt=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var nh={now(){return(nh.delegate||Date).now()},delegate:void 0};var Dc=class extends je{constructor(e,n){super()}schedule(e,n=0){return this}};var Es={setInterval(t,e,...n){let{delegate:r}=Es;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Es;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var qi=class extends Dc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Es.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Es.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Gi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Gi.now=nh.now;var Wi=class extends Gi{constructor(e,n=Gi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var rh=new Wi(qi);var Tc=class extends qi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Sc=class extends Wi{};var ih=new Sc(Tc);var Nt=new ve(t=>t.complete());function P_(t){return t&&X(t.schedule)}function R_(t){return t[t.length-1]}function N_(t){return X(R_(t))?t.pop():void 0}function sr(t){return P_(R_(t))?t.pop():void 0}function oh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function k_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function O_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gr(t){return this instanceof Gr?(this.v=t,this):new Gr(t)}function F_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(A){return Promise.resolve(A).then(v,p)}}function a(v,A){r[v]&&(i[v]=function(P){return new Promise(function(R,B){o.push([v,P,R,B])>1||u(v,P)})},A&&(i[v]=A(i[v])))}function u(v,A){try{l(r[v](A))}catch(P){m(o[0][3],P)}}function l(v){v.value instanceof Gr?Promise.resolve(v.value.v).then(h,p):m(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,A){v(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function L_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof O_=="function"?O_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ac=t=>t&&typeof t.length=="number"&&typeof t!="function";function Mc(t){return X(t?.then)}function xc(t){return X(t[$i])}function Pc(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function Rc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function CS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nc=CS();function Oc(t){return X(t?.[Nc])}function kc(t){return F_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Gr(n.read());if(i)return yield Gr(void 0);yield yield Gr(r)}}finally{n.releaseLock()}})}function Fc(t){return X(t?.getReader)}function Xe(t){if(t instanceof ve)return t;if(t!=null){if(xc(t))return bS(t);if(Ac(t))return DS(t);if(Mc(t))return TS(t);if(Pc(t))return V_(t);if(Oc(t))return SS(t);if(Fc(t))return AS(t)}throw Rc(t)}function bS(t){return new ve(e=>{let n=t[$i]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function DS(t){return new ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function TS(t){return new ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ec)})}function SS(t){return new ve(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function V_(t){return new ve(e=>{MS(t,e).catch(n=>e.error(n))})}function AS(t){return V_(kc(t))}function MS(t,e){var n,r,i,o;return k_(this,void 0,void 0,function*(){try{for(n=L_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Et(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ar(t,e=0){return de((n,r)=>{n.subscribe(he(r,i=>Et(r,t,()=>r.next(i),e),()=>Et(r,t,()=>r.complete(),e),i=>Et(r,t,()=>r.error(i),e)))})}function cr(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function j_(t,e){return Xe(t).pipe(cr(e),ar(e))}function U_(t,e){return Xe(t).pipe(cr(e),ar(e))}function B_(t,e){return new ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function $_(t,e){return new ve(n=>{let r;return Et(n,e,()=>{r=t[Nc](),Et(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function Lc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ve(n=>{Et(n,e,()=>{let r=t[Symbol.asyncIterator]();Et(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function H_(t,e){return Lc(kc(t),e)}function z_(t,e){if(t!=null){if(xc(t))return j_(t,e);if(Ac(t))return B_(t,e);if(Mc(t))return U_(t,e);if(Pc(t))return Lc(t,e);if(Oc(t))return $_(t,e);if(Fc(t))return H_(t,e)}throw Rc(t)}function We(t,e){return e?z_(t,e):Xe(t)}function te(...t){let e=sr(t);return We(t,e)}function Ki(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new ve(e?i=>e.schedule(r,0,i):r)}function sh(t){return!!t&&(t instanceof ve||X(t.lift)&&X(t.subscribe))}var Vn=Vi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function fe(t,e){return de((n,r)=>{let i=0;n.subscribe(he(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:xS}=Array;function PS(t,e){return xS(e)?t(...e):t(e)}function q_(t){return fe(e=>PS(t,e))}var{isArray:RS}=Array,{getPrototypeOf:NS,prototype:OS,keys:kS}=Object;function G_(t){if(t.length===1){let e=t[0];if(RS(e))return{args:e,keys:null};if(FS(e)){let n=kS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function FS(t){return t&&typeof t=="object"&&NS(t)===OS}function W_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Vc(...t){let e=sr(t),n=N_(t),{args:r,keys:i}=G_(t);if(r.length===0)return We([],e);let o=new ve(LS(r,e,i?s=>W_(i,s):Rt));return n?o.pipe(q_(n)):o}function LS(t,e,n=Rt){return r=>{K_(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)K_(e,()=>{let l=We(t[u],e),h=!1;l.subscribe(he(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function K_(t,e,n){t?Et(n,t,e):e()}function Q_(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=P=>l<r?A(P):u.push(P),A=P=>{o&&e.next(P),l++;let R=!1;Xe(n(P,h++)).subscribe(he(e,B=>{i?.(B),o?v(B):e.next(B)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let B=u.shift();s?Et(e,s,()=>A(B)):A(B)}m()}catch(B){e.error(B)}}))};return t.subscribe(he(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Ke(t,e,n=1/0){return X(e)?Ke((r,i)=>fe((o,s)=>e(r,o,i,s))(Xe(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>Q_(r,i,t,n)))}function ah(t=1/0){return Ke(Rt,t)}function Y_(){return ah(1)}function Qi(...t){return Y_()(We(t,sr(t)))}function jc(t){return new ve(e=>{Xe(t()).subscribe(e)})}function nn(t,e){return de((n,r)=>{let i=0;n.subscribe(he(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ur(t){return de((e,n)=>{let r=null,i=!1,o;r=e.subscribe(he(n,void 0,void 0,s=>{o=Xe(t(s,ur(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function J_(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(he(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Yi(t,e){return X(e)?Ke(t,e,1):Ke(t,1)}function lr(t){return de((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function jn(t){return t<=0?()=>Nt:de((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ch(t){return fe(()=>t)}function Uc(t=VS){return de((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function VS(){return new Vn}function Cs(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function gn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nn((i,o)=>t(i,o,r)):Rt,jn(1),n?lr(e):Uc(()=>new Vn))}function Ji(t){return t<=0?()=>Nt:de((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function uh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?nn((i,o)=>t(i,o,r)):Rt,Ji(1),n?lr(e):Uc(()=>new Vn))}function lh(t,e){return de(J_(t,e,arguments.length>=2,!0))}function dh(...t){let e=sr(t);return de((n,r)=>{(e?Qi(t,n,e):Qi(t,n)).subscribe(r)})}function rn(t,e){return de((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=o++;Xe(t(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function hh(t){return de((e,n)=>{Xe(t).subscribe(he(n,()=>n.complete(),Is)),!n.closed&&e.subscribe(n)})}function Qe(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Rt}var Ow="https://g.co/ng/security#xss",q=class extends Error{constructor(e,n){super(vf(e,n)),this.code=e}};function vf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Fs(t){return{toString:t}.toString()}var Bc="__parameters__";function jS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function kw(t,e,n){return Fs(()=>{let r=jS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Bc)?u[Bc]:Object.defineProperty(u,Bc,{value:[]})[Bc];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var an=globalThis;function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function US(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Mh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var BS=xe({__forward_ref__:xe});function Ls(t){return t.__forward_ref__=Ls,t.toString=function(){return wt(this())},t}function _t(t){return Fw(t)?t():t}function Fw(t){return typeof t=="function"&&t.hasOwnProperty(BS)&&t.__forward_ref__===Ls}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ii(t){return{providers:t.providers||[],imports:t.imports||[]}}function yu(t){return Z_(t,Vw)||Z_(t,jw)}function Lw(t){return yu(t)!==null}function Z_(t,e){return t.hasOwnProperty(e)?t[e]:null}function $S(t){let e=t&&(t[Vw]||t[jw]);return e||null}function X_(t){return t&&(t.hasOwnProperty(ew)||t.hasOwnProperty(HS))?t[ew]:null}var Vw=xe({\u0275prov:xe}),ew=xe({\u0275inj:xe}),jw=xe({ngInjectableDef:xe}),HS=xe({ngInjectorDef:xe}),Z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Uw(t){return t&&!!t.\u0275providers}var zS=xe({\u0275cmp:xe}),qS=xe({\u0275dir:xe}),GS=xe({\u0275pipe:xe}),WS=xe({\u0275mod:xe}),Yc=xe({\u0275fac:xe}),bs=xe({__NG_ELEMENT_ID__:xe}),tw=xe({__NG_ENV_ID__:xe});function vu(t){return typeof t=="string"?t:t==null?"":String(t)}function KS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():vu(t)}function QS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,t)}function _f(t,e){throw new q(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),xh;function Bw(){return xh}function Ct(t){let e=xh;return xh=t,e}function $w(t,e,n){let r=yu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;_f(t,"Injector")}var YS={},Ds=YS,Ph="__NG_DI_FLAG__",Jc="ngTempTokenPath",JS="ngTokenPath",ZS=/\n/gm,XS="\u0275",nw="__source",to;function eA(){return to}function dr(t){let e=to;return to=t,e}function tA(t,e=se.Default){if(to===void 0)throw new q(-203,!1);return to===null?$w(t,void 0,e):to.get(t,e&se.Optional?null:void 0,e)}function ae(t,e=se.Default){return(Bw()||tA)(_t(t),e)}function O(t,e=se.Default){return ae(t,_u(e))}function _u(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rh(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let a=r[s],u=nA(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ae(i,o))}else e.push(ae(r))}return e}function Hw(t,e){return t[Ph]=e,t.prototype[Ph]=e,t}function nA(t){return t[Ph]}function rA(t,e,n,r){let i=t[Jc];throw e[nw]&&i.unshift(e[nw]),t.message=iA(`
`+t.message,i,n,r),t[JS]=i,t[Jc]=null,t}function iA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==XS?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):wt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ZS,`
  `)}`}var dt=Hw(kw("Optional"),8);var zw=Hw(kw("SkipSelf"),4);function Yr(t,e){let n=t.hasOwnProperty(Yc);return n?t[Yc]:null}function wf(t,e){t.forEach(n=>Array.isArray(n)?wf(n,e):e(n))}function qw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function oA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function If(t,e,n){let r=Vs(t,e);return r>=0?t[r|1]=n:(r=~r,oA(t,r,e,n)),r}function fh(t,e){let n=Vs(t,e);if(n>=0)return t[n|1]}function Vs(t,e){return sA(t,e,1)}function sA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ro={},bt=[],io=new Z(""),Gw=new Z("",-1),Ww=new Z(""),Xc=class{get(e,n=Ds){if(n===Ds){let r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return n}},Kw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Kw||{}),vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{}),Ot=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ot||{});function aA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Nh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];cA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Qw(t){return t===3||t===4||t===6}function cA(t){return t.charCodeAt(0)===64}function Ts(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?rw(t,n,i,null,e[++r]):rw(t,n,i,null,null))}}return t}function rw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Yw="ng-template";function uA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&aA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ef(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ef(t){return t.type===4&&t.value!==Yw}function lA(t,e,n){let r=t.type===4&&!n?Yw:t.value;return e===r}function dA(t,e,n){let r=4,i=t.attrs,o=i!==null?pA(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!on(r)&&!on(u))return!1;if(s&&on(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!lA(t,u,n)||u===""&&e.length===1){if(on(r))return!1;s=!0}}else if(r&8){if(i===null||!uA(t,i,u,n)){if(on(r))return!1;s=!0}}else{let l=e[++a],h=hA(u,i,Ef(t),n);if(h===-1){if(on(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(on(r))return!1;s=!0}}}}return on(r)||s}function on(t){return(t&1)===0}function hA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return gA(e,t)}function fA(t,e,n=!1){for(let r=0;r<e.length;r++)if(dA(t,e[r],n))return!0;return!1}function pA(t){for(let e=0;e<t.length;e++){let n=t[e];if(Qw(n))return e}return t.length}function gA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function iw(t,e){return t?":not("+e.trim()+")":e}function mA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!on(s)&&(e+=iw(o,i),i=""),r=s,o=o||!on(r);n++}return i!==""&&(e+=iw(o,i)),e}function yA(t){return t.map(mA).join(",")}function vA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!on(i))break;i=o}r++}return{attrs:e,classes:n}}function Te(t){return Fs(()=>{let e=nI(t),n=Me($({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Kw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||bt,_:null,schemas:t.schemas||null,tView:null,id:""});rI(n);let r=t.dependencies;return n.directiveDefs=sw(r,!1),n.pipeDefs=sw(r,!0),n.id=IA(n),n})}function _A(t){return Jr(t)||Zw(t)}function wA(t){return t!==null}function oi(t){return Fs(()=>({type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ow(t,e){if(t==null)return ro;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Ot.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Ot.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Tt(t){return Fs(()=>{let e=nI(t);return rI(e),e})}function Jw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jr(t){return t[zS]||null}function Zw(t){return t[qS]||null}function Xw(t){return t[GS]||null}function eI(t){let e=Jr(t)||Zw(t)||Xw(t);return e!==null?e.standalone:!1}function tI(t,e){let n=t[WS]||null;if(!n&&e===!0)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function nI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ro,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ow(t.inputs,e),outputs:ow(t.outputs),debugInfo:null}}function rI(t){t.features?.forEach(e=>e(t))}function sw(t,e){if(!t)return null;let n=e?Xw:_A;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(wA)}function IA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function In(t){return{\u0275providers:t}}function EA(...t){return{\u0275providers:iI(!0,t),\u0275fromNgModule:!0}}function iI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return wf(e,s=>{let a=s;Oh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&oI(i,o),n}function oI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Cf(i,o=>{e(o,r)})}}function Oh(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,o=X_(t),s=!o&&Jr(t);if(!o&&!s){let u=t.ngModule;if(o=X_(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Oh(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{wf(o.imports,h=>{Oh(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&oI(l,e)}if(!a){let l=Yr(i)||(()=>new i);e({provide:i,useFactory:l,deps:bt},i),e({provide:Ww,useValue:i,multi:!0},i),e({provide:io,useValue:()=>ae(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Cf(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Cf(t,e){for(let n of t)Uw(n)&&(n=n.\u0275providers),Array.isArray(n)?Cf(n,e):e(n)}var CA=xe({provide:String,useValue:xe});function sI(t){return t!==null&&typeof t=="object"&&CA in t}function bA(t){return!!(t&&t.useExisting)}function DA(t){return!!(t&&t.useFactory)}function oo(t){return typeof t=="function"}function TA(t){return!!t.useClass}var wu=new Z(""),qc={},SA={},ph;function bf(){return ph===void 0&&(ph=new Xc),ph}var Ht=class{},Ss=class extends Ht{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fh(e,s=>this.processProvider(s)),this.records.set(Gw,Zi(void 0,this)),i.has("environment")&&this.records.set(Ht,Zi(void 0,this));let o=this.records.get(wu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ww,bt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=dr(this),r=Ct(void 0),i;try{return e()}finally{dr(n),Ct(r)}}get(e,n=Ds,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tw))return e[tw](this);r=_u(r);let i,o=dr(this),s=Ct(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=RA(e)&&yu(e);l&&this.injectableDefInScope(l)?u=Zi(kh(e),qc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?bf():this.parent;return n=r&se.Optional&&n===Ds?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Jc]=a[Jc]||[]).unshift(wt(e)),o)throw a;return rA(a,e,"R3InjectorError",this.source)}else throw a}finally{Ct(s),dr(o)}}resolveInjectorInitializers(){let e=_e(null),n=dr(this),r=Ct(void 0),i;try{let o=this.get(io,bt,se.Self);for(let s of o)s()}finally{dr(n),Ct(r),_e(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){e=_t(e);let n=oo(e)?e:_t(e&&e.provide),r=MA(e);if(!oo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zi(void 0,qc,!0),i.factory=()=>Rh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=_e(null);try{return n.value===qc&&(n.value=SA,n.value=n.factory()),typeof n.value=="object"&&n.value&&PA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kh(t){let e=yu(t),n=e!==null?e.factory:Yr(t);if(n!==null)return n;if(t instanceof Z)throw new q(204,!1);if(t instanceof Function)return AA(t);throw new q(204,!1)}function AA(t){if(t.length>0)throw new q(204,!1);let n=$S(t);return n!==null?()=>n.factory(t):()=>new t}function MA(t){if(sI(t))return Zi(void 0,t.useValue);{let e=aI(t);return Zi(e,qc)}}function aI(t,e,n){let r;if(oo(t)){let i=_t(t);return Yr(i)||kh(i)}else if(sI(t))r=()=>_t(t.useValue);else if(DA(t))r=()=>t.useFactory(...Rh(t.deps||[]));else if(bA(t))r=()=>ae(_t(t.useExisting));else{let i=_t(t&&(t.useClass||t.provide));if(xA(t))r=()=>new i(...Rh(t.deps));else return Yr(i)||kh(i)}return r}function Zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xA(t){return!!t.deps}function PA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function RA(t){return typeof t=="function"||typeof t=="object"&&t instanceof Z}function Fh(t,e){for(let n of t)Array.isArray(n)?Fh(n,e):n&&Uw(n)?Fh(n.\u0275providers,e):e(n)}function si(t,e){t instanceof Ss&&t.assertNotDestroyed();let n,r=dr(t),i=Ct(void 0);try{return e()}finally{dr(r),Ct(i)}}function NA(){return Bw()!==void 0||eA()!=null}function OA(t){return typeof t=="function"}var Hn=0,ue=1,Q=2,lt=3,cn=4,dn=5,eu=6,As=7,un=8,so=9,ln=10,Be=11,Ms=12,aw=13,ho=14,_n=15,Iu=16,Xi=17,ao=18,Eu=19,cI=20,hr=21,gh=22,Zr=23,zt=25,uI=1;var Xr=7,tu=8,nu=9,$t=10,Df=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Df||{});function Kr(t){return Array.isArray(t)&&typeof t[uI]=="object"}function zn(t){return Array.isArray(t)&&t[uI]===!0}function Tf(t){return(t.flags&4)!==0}function Cu(t){return t.componentOffset>-1}function bu(t){return(t.flags&1)===1}function fr(t){return!!t.template}function kA(t){return(t[Q]&512)!==0}var Lh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function lI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function fo(){return dI}function dI(t){return t.type.prototype.ngOnChanges&&(t.setInput=LA),FA}fo.ngInherit=!0;function FA(){let t=fI(this),e=t?.current;if(e){let n=t.previous;if(n===ro)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function LA(t,e,n,r,i){let o=this.declaredInputs[r],s=fI(t)||VA(t,{previous:ro,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Lh(l&&l.currentValue,n,u===ro),lI(t,e,i,n)}var hI="__ngSimpleChanges__";function fI(t){return t[hI]||null}function VA(t,e){return t[hI]=e}var cw=null;var mn=function(t,e,n){cw?.(t,e,n)},jA="svg",UA="math",BA=!1;function $A(){return BA}function wn(t){for(;Array.isArray(t);)t=t[Hn];return t}function pI(t,e){return wn(e[t])}function qt(t,e){return wn(e[t.index])}function gI(t,e){return t.data[e]}function mI(t,e){return t[e]}function yr(t,e){let n=e[t];return Kr(n)?n:n[Hn]}function Sf(t){return(t[Q]&128)===128}function HA(t){return zn(t[lt])}function co(t,e){return e==null?null:t[e]}function yI(t){t[Xi]=0}function zA(t){t[Q]&1024||(t[Q]|=1024,Sf(t)&&xs(t))}function qA(t,e){for(;t>0;)e=e[ho],t--;return e}function Af(t){return!!(t[Q]&9216||t[Zr]?.dirty)}function Vh(t){t[ln].changeDetectionScheduler?.notify(1),Af(t)?xs(t):t[Q]&64&&($A()?(t[Q]|=1024,xs(t)):t[ln].changeDetectionScheduler?.notify())}function xs(t){t[ln].changeDetectionScheduler?.notify();let e=Ps(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Sf(e)));)e=Ps(e)}function vI(t,e){if((t[Q]&256)===256)throw new q(911,!1);t[hr]===null&&(t[hr]=[]),t[hr].push(e)}function GA(t,e){if(t[hr]===null)return;let n=t[hr].indexOf(e);n!==-1&&t[hr].splice(n,1)}function Ps(t){let e=t[lt];return zn(e)?e[lt]:e}var ce={lFrame:AI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function WA(){return ce.lFrame.elementDepthCount}function KA(){ce.lFrame.elementDepthCount++}function QA(){ce.lFrame.elementDepthCount--}function _I(){return ce.bindingsEnabled}function YA(){return ce.skipHydrationRootTNode!==null}function JA(t){return ce.skipHydrationRootTNode===t}function ZA(){ce.skipHydrationRootTNode=null}function Ce(){return ce.lFrame.lView}function ht(){return ce.lFrame.tView}function wI(t){return ce.lFrame.contextLView=t,t[un]}function II(t){return ce.lFrame.contextLView=null,t}function St(){let t=EI();for(;t!==null&&t.type===64;)t=t.parent;return t}function EI(){return ce.lFrame.currentTNode}function XA(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ai(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function Mf(){return ce.lFrame.isParent}function CI(){ce.lFrame.isParent=!1}function xf(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function eM(t){return ce.lFrame.bindingIndex=t}function Pf(){return ce.lFrame.bindingIndex++}function bI(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tM(){return ce.lFrame.inI18n}function nM(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,jh(e)}function rM(){return ce.lFrame.currentDirectiveIndex}function jh(t){ce.lFrame.currentDirectiveIndex=t}function iM(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function DI(t){ce.lFrame.currentQueryIndex=t}function oM(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[dn]:null}function TI(t,e,n){if(n&se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=oM(o),i===null||(o=o[ho],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ce.lFrame=SI();return r.currentTNode=e,r.lView=t,!0}function Rf(t){let e=SI(),n=t[ue];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function SI(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?AI(t):e}function AI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function MI(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var xI=MI;function Nf(){let t=MI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sM(t){return(ce.lFrame.contextLView=qA(t,ce.lFrame.contextLView))[un]}function ci(){return ce.lFrame.selectedIndex}function ei(t){ce.lFrame.selectedIndex=t}function Of(){let t=ce.lFrame;return gI(t.tView,t.selectedIndex)}function aM(){return ce.lFrame.currentNamespace}var PI=!0;function Du(){return PI}function Tu(t){PI=t}function cM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=dI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Su(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Gc(t,e,n){RI(t,e,3,n)}function Wc(t,e,n,r){(t[Q]&3)===n&&RI(t,e,n,r)}function mh(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function RI(t,e,n,r){let i=r!==void 0?t[Xi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Xi]+=65536),(a<o||o==-1)&&(uM(t,n,e,u),t[Xi]=(t[Xi]&4294901760)+u+2),u++}function uw(t,e){mn(4,t,e);let n=_e(null);try{e.call(t)}finally{_e(n),mn(5,t,e)}}function uM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Q]>>14<t[Xi]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,uw(a,o)):uw(a,o)}var no=-1,ti=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function lM(t){return t instanceof ti}function dM(t){return(t.flags&8)!==0}function hM(t){return(t.flags&16)!==0}function NI(t){return t!==no}function ru(t){return t&32767}function fM(t){return t>>16}function iu(t,e){let n=fM(t),r=e;for(;n>0;)r=r[ho],n--;return r}var Uh=!0;function ou(t){let e=Uh;return Uh=t,e}var pM=256,OI=pM-1,kI=5,gM=0,yn={};function mM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(bs)&&(r=n[bs]),r==null&&(r=n[bs]=gM++);let i=r&OI,o=1<<i;e.data[t+(i>>kI)]|=o}function su(t,e){let n=FI(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,yh(r.data,t),yh(e,null),yh(r.blueprint,null));let i=kf(t,e),o=t.injectorIndex;if(NI(i)){let s=ru(i),a=iu(i,e),u=a[ue].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function yh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function FI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function kf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=BI(i),r===null)return no;if(n++,i=i[ho],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return no}function Bh(t,e,n){mM(t,e,n)}function yM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Qw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function LI(t,e,n){if(n&se.Optional||t!==void 0)return t;_f(e,"NodeInjector")}function VI(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[so],o=Ct(void 0);try{return i?i.get(e,r,n&se.Optional):$w(e,r,n&se.Optional)}finally{Ct(o)}}return LI(r,e,n)}function jI(t,e,n,r=se.Default,i){if(t!==null){if(e[Q]&2048&&!(r&se.Self)){let s=EM(t,e,n,r,yn);if(s!==yn)return s}let o=UI(t,e,n,r,yn);if(o!==yn)return o}return VI(e,n,r,i)}function UI(t,e,n,r,i){let o=wM(n);if(typeof o=="function"){if(!TI(e,t,r))return r&se.Host?LI(i,n,r):VI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))_f(n);else return s}finally{xI()}}else if(typeof o=="number"){let s=null,a=FI(t,e),u=no,l=r&se.Host?e[_n][dn]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?kf(t,e):e[a+8],u===no||!dw(r,!1)?a=-1:(s=e[ue],a=ru(u),e=iu(u,e)));a!==-1;){let h=e[ue];if(lw(o,a,h.data)){let p=vM(a,e,n,s,r,l);if(p!==yn)return p}u=e[a+8],u!==no&&dw(r,e[ue].data[a+8]===l)&&lw(o,a,e)?(s=h,a=ru(u),e=iu(u,e)):a=-1}}return i}function vM(t,e,n,r,i,o){let s=e[ue],a=s.data[t+8],u=r==null?Cu(a)&&Uh:r!=s&&(a.type&3)!==0,l=i&se.Host&&o===a,h=_M(a,s,n,u,l);return h!==null?uo(e,s,h,a):yn}function _M(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let A=s[v];if(v<u&&n===A||v>=u&&A.type===n)return v}if(i){let v=s[u];if(v&&fr(v)&&v.type===n)return u}return null}function uo(t,e,n,r){let i=t[n],o=e.data;if(lM(i)){let s=i;s.resolving&&QS(KS(o[n]));let a=ou(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ct(s.injectImpl):null,h=TI(t,r,se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&cM(n,o[n],e)}finally{l!==null&&Ct(l),ou(a),s.resolving=!1,xI()}}return i}function wM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(bs)?t[bs]:void 0;return typeof e=="number"?e>=0?e&OI:IM:e}function lw(t,e,n){let r=1<<t;return!!(n[e+(t>>kI)]&r)}function dw(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var Qr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jI(this._tNode,this._lView,e,_u(r),n)}};function IM(){return new Qr(St(),Ce())}function ui(t){return Fs(()=>{let e=t.prototype.constructor,n=e[Yc]||$h(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Yc]||$h(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $h(t){return Fw(t)?()=>{let e=$h(_t(t));return e&&e()}:Yr(t)}function EM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=UI(o,s,n,r|se.Self,yn);if(a!==yn)return a;let u=o.parent;if(!u){let l=s[cI];if(l){let h=l.get(n,yn,r);if(h!==yn)return h}u=BI(s),s=s[ho]}o=u}return i}function BI(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[dn]:null}function Ff(t){return yM(St(),t)}function hw(t,e=null,n=null,r){let i=$I(t,e,n,r);return i.resolveInjectorInitializers(),i}function $I(t,e=null,n=null,r,i=new Set){let o=[n||bt,EA(t)];return r=r||(typeof t=="object"?void 0:wt(t)),new Ss(o,e||bf(),r||null,i)}var Gt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return hw({name:""},i,r,"");{let o=r.name??"";return hw({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Ds,e.NULL=new Xc,e.\u0275prov=G({token:e,providedIn:"any",factory:()=>ae(Gw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var CM="ngOriginalError";function vh(t){return t[CM]}var Un=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vh(e);for(;n&&vh(n);)n=vh(n);return n||null}},HI=new Z("",{providedIn:"root",factory:()=>O(Un).handleError.bind(void 0)}),zI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Hh=class extends zI{constructor(e){super(),this._lView=e}onDestroy(e){return vI(this._lView,e),()=>GA(this._lView,e)}};function bM(){return new Hh(Ce())}function DM(){return Au(St(),Ce())}function Au(t,e){return new Wt(qt(t,e))}var Wt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=DM;let t=e;return t})();var zh=class extends ut{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,NA()&&(this.destroyRef=O(zI,{optional:!0})??void 0)}emit(e){let n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=_h(o),i&&(i=_h(i)),s&&(s=_h(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(a),a}};function _h(t){return e=>{setTimeout(t,void 0,e)}}var Dt=zh;function qI(t){return(t.flags&128)===128}var GI=new Map,TM=0;function SM(){return TM++}function AM(t){GI.set(t[Eu],t)}function MM(t){GI.delete(t[Eu])}var fw="__ngContext__";function pr(t,e){Kr(e)?(t[fw]=e[Eu],AM(e)):t[fw]=e}function WI(t){return QI(t[Ms])}function KI(t){return QI(t[cn])}function QI(t){for(;t!==null&&!zn(t);)t=t[cn];return t}var qh;function YI(t){qh=t}function xM(){if(qh!==void 0)return qh;if(typeof document<"u")return document;throw new q(210,!1)}var Lf=new Z("",{providedIn:"root",factory:()=>PM}),PM="ng",Vf=new Z(""),vr=new Z("",{providedIn:"platform",factory:()=>"unknown"});var jf=new Z("",{providedIn:"root",factory:()=>xM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var RM="h",NM="b";var OM=()=>null;function Uf(t,e,n=!1){return OM(t,e,n)}var JI=!1,kM=new Z("",{providedIn:"root",factory:()=>JI});var $c;function FM(){if($c===void 0&&($c=null,an.trustedTypes))try{$c=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $c}function pw(t){return FM()?.createScriptURL(t)||t}var au=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ow})`}};function po(t){return t instanceof au?t.changingThisBreaksApplicationSecurity:t}function Bf(t,e){let n=LM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ow})`)}return n===e}function LM(t){return t instanceof au&&t.getTypeName()||null}var VM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ZI(t){return t=String(t),t.match(VM)?t:"unsafe:"+t}var Mu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Mu||{});function Kt(t){let e=eE();return e?e.sanitize(Mu.URL,t)||"":Bf(t,"URL")?po(t):ZI(vu(t))}function jM(t){let e=eE();if(e)return pw(e.sanitize(Mu.RESOURCE_URL,t)||"");if(Bf(t,"ResourceURL"))return pw(po(t));throw new q(904,!1)}function UM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?jM:Kt}function XI(t,e,n){return UM(e,n)(t)}function eE(){let t=Ce();return t&&t[ln].sanitizer}var BM=/^>|^->|<!--|-->|--!>|<!-$/g,$M=/(<|>)/g,HM="\u200B$1\u200B";function zM(t){return t.replace(BM,e=>e.replace($M,HM))}function tE(t){return t.ownerDocument}function nE(t){return t instanceof Function?t():t}var Bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bn||{}),qM;function $f(t,e){return qM(t,e)}function eo(t,e,n,r,i){if(r!=null){let o,s=!1;zn(r)?o=r:Kr(r)&&(s=!0,r=r[Hn]);let a=wn(r);t===0&&n!==null?i==null?aE(e,n,a):cu(e,n,a,i||null,!0):t===1&&n!==null?cu(e,n,a,i||null,!0):t===2?ux(e,a,s):t===3&&e.destroyNode(a),o!=null&&dx(e,t,o,n,i)}}function GM(t,e){return t.createText(e)}function WM(t,e,n){t.setValue(e,n)}function KM(t,e){return t.createComment(zM(e))}function rE(t,e,n){return t.createElement(e,n)}function QM(t,e){iE(t,e),e[Hn]=null,e[dn]=null}function YM(t,e,n,r,i,o){r[Hn]=i,r[dn]=e,Pu(t,r,n,1,i,o)}function iE(t,e){e[ln].changeDetectionScheduler?.notify(1),Pu(t,e,e[Be],2,null,null)}function JM(t){let e=t[Ms];if(!e)return wh(t[ue],t);for(;e;){let n=null;if(Kr(e))n=e[Ms];else{let r=e[$t];r&&(n=r)}if(!n){for(;e&&!e[cn]&&e!==t;)Kr(e)&&wh(e[ue],e),e=e[lt];e===null&&(e=t),Kr(e)&&wh(e[ue],e),n=e&&e[cn]}e=n}}function ZM(t,e,n,r){let i=$t+r,o=n.length;r>0&&(n[i-1][cn]=e),r<o-$t?(e[cn]=n[i],qw(n,$t+r,e)):(n.push(e),e[cn]=null),e[lt]=n;let s=e[Iu];s!==null&&n!==s&&XM(s,e);let a=e[ao];a!==null&&a.insertView(t),Vh(e),e[Q]|=128}function XM(t,e){let n=t[nu],i=e[lt][lt][_n];e[_n]!==i&&(t[Q]|=Df.HasTransplantedViews),n===null?t[nu]=[e]:n.push(e)}function oE(t,e){let n=t[nu],r=n.indexOf(e);n.splice(r,1)}function Gh(t,e){if(t.length<=$t)return;let n=$t+e,r=t[n];if(r){let i=r[Iu];i!==null&&i!==t&&oE(i,r),e>0&&(t[n-1][cn]=r[cn]);let o=Zc(t,$t+e);QM(r[ue],r);let s=o[ao];s!==null&&s.detachView(o[ue]),r[lt]=null,r[cn]=null,r[Q]&=-129}return r}function sE(t,e){if(!(e[Q]&256)){let n=e[Be];n.destroyNode&&Pu(t,e,n,3,null,null),JM(e)}}function wh(t,e){if(e[Q]&256)return;let n=_e(null);try{e[Q]&=-129,e[Q]|=256,e[Zr]&&g_(e[Zr]),tx(t,e),ex(t,e),e[ue].type===1&&e[Be].destroy();let r=e[Iu];if(r!==null&&zn(e[lt])){r!==e[lt]&&oE(r,e);let i=e[ao];i!==null&&i.detachView(t)}MM(e)}finally{_e(n)}}function ex(t,e){let n=t.cleanup,r=e[As];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[As]=null);let i=e[hr];if(i!==null){e[hr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function tx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ti)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];mn(4,a,u);try{u.call(a)}finally{mn(5,a,u)}}else{mn(4,i,o);try{o.call(i)}finally{mn(5,i,o)}}}}}function nx(t,e,n){return rx(t,e.parent,n)}function rx(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Hn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===vn.None||o===vn.Emulated)return null}return qt(r,n)}}function cu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function aE(t,e,n){t.appendChild(e,n)}function gw(t,e,n,r,i){r!==null?cu(t,e,n,r,i):aE(t,e,n)}function ix(t,e,n,r){t.removeChild(e,n,r)}function Hf(t,e){return t.parentNode(e)}function ox(t,e){return t.nextSibling(e)}function sx(t,e,n){return cx(t,e,n)}function ax(t,e,n){return t.type&40?qt(t,n):null}var cx=ax,mw;function xu(t,e,n,r){let i=nx(t,r,e),o=e[Be],s=r.parent||e[dn],a=sx(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)gw(o,i,n[u],a,!1);else gw(o,i,n,a,!1);mw!==void 0&&mw(o,r,e,n,i)}function Kc(t,e){if(e!==null){let n=e.type;if(n&3)return qt(e,t);if(n&4)return Wh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Kc(t,r);{let i=t[e.index];return zn(i)?Wh(-1,i):wn(i)}}else{if(n&32)return $f(e,t)()||wn(t[e.index]);{let r=cE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ps(t[_n]);return Kc(i,r)}else return Kc(t,e.next)}}}return null}function cE(t,e){if(e!==null){let r=t[_n][dn],i=e.projection;return r.projection[i]}return null}function Wh(t,e){let n=$t+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Kc(r,i)}return e[Xr]}function ux(t,e,n){let r=Hf(t,e);r&&ix(t,r,e,n)}function zf(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&pr(wn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)zf(t,e,n.child,r,i,o,!1),eo(e,t,i,a,o);else if(u&32){let l=$f(n,r),h;for(;h=l();)eo(e,t,i,h,o);eo(e,t,i,a,o)}else u&16?lx(t,e,r,n,i,o):eo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Pu(t,e,n,r,i,o){zf(n,r,t.firstChild,e,i,o,!1)}function lx(t,e,n,r,i,o){let s=n[_n],u=s[dn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];eo(e,t,i,h,o)}else{let l=u,h=s[lt];qI(r)&&(l.flags|=128),zf(t,e,l,h,i,o,!0)}}function dx(t,e,n,r,i){let o=n[Xr],s=wn(n);o!==s&&eo(e,t,r,o,i);for(let a=$t;a<n.length;a++){let u=n[a];Pu(u[ue],u,t,e,r,o)}}function hx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Bn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bn.Important),t.setStyle(n,r,i,o))}}function fx(t,e,n){t.setAttribute(e,"style",n)}function uE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function lE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Nh(t,e,r),i!==null&&uE(t,e,i),o!==null&&fx(t,e,o)}var En={};function V(t=1){dE(ht(),Ce(),ci()+t,!1)}function dE(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Gc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Wc(e,o,0,n)}ei(n)}function we(t,e=se.Default){let n=Ce();if(n===null)return ae(t,e);let r=St();return jI(r,n,_t(t),e)}function hE(t,e,n,r,i,o){let s=_e(null);try{let a=null;i&Ot.SignalBased&&(a=e[r][Li]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ot.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):lI(e,a,r,o)}finally{_e(s)}}function px(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ei(~i);else{let o=i,s=n[++r],a=n[++r];nM(s,o);let u=e[o];a(2,u)}}}finally{ei(-1)}}function Ru(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Hn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),yI(p),p[lt]=p[ho]=t,p[un]=n,p[ln]=s||t&&t[ln],p[Be]=a||t&&t[Be],p[so]=u||t&&t[so]||null,p[dn]=o,p[Eu]=SM(),p[eu]=h,p[cI]=l,p[_n]=e.type==2?t[_n]:p,p}function js(t,e,n,r,i){let o=t.data[e];if(o===null)o=gx(t,e,n,r,i),tM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=XA();o.injectorIndex=s===null?-1:s.injectorIndex}return ai(o,!0),o}function gx(t,e,n,r,i){let o=EI(),s=Mf(),a=s?o:o&&o.parent,u=t.data[e]=wx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function fE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function pE(t,e,n,r,i){let o=ci(),s=r&2;try{ei(-1),s&&e.length>zt&&dE(t,e,zt,!1),mn(s?2:0,i),n(r,i)}finally{ei(o),mn(s?3:1,i)}}function qf(t,e,n){if(Tf(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{_e(r)}}}function Gf(t,e,n){_I()&&(Tx(t,e,n,qt(n,e)),(n.flags&64)===64&&vE(t,e,n))}function Wf(t,e,n=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function gE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Kf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Kf(t,e,n,r,i,o,s,a,u,l,h){let p=zt+r,m=p+i,v=mx(p,m),A=typeof l=="function"?l():l;return v[ue]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function mx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:En);return n}function yx(t,e,n,r){let o=r.get(kM,JI)||n===vn.ShadowDom,s=t.selectRootElement(e,o);return vx(s),s}function vx(t){_x(t)}var _x=()=>null;function wx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return YA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Ot.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?vw(r,n,l,a,u):vw(r,n,l,a)}return r}function vw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Ix(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,v=m?m.inputs:null,A=m?m.outputs:null;u=yw(0,p.inputs,h,u,v),l=yw(1,p.outputs,h,l,A);let P=u!==null&&s!==null&&!Ef(e)?Lx(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Ex(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function mE(t,e,n,r,i,o,s,a){let u=qt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Yf(t,n,h,r,i),Cu(e)&&Cx(n,e.index)):e.type&3?(r=Ex(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function Cx(t,e){let n=yr(e,t);n[Q]&16||(n[Q]|=64)}function Qf(t,e,n,r){if(_I()){let i=r===null?null:{"":-1},o=Ax(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&yE(t,e,n,s,i,a),i&&Mx(n,r,i)}n.mergedAttrs=Ts(n.mergedAttrs,n.attrs)}function yE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Bh(su(n,e),t,r[l].type);Px(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=fE(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ts(n.mergedAttrs,h.hostAttrs),Rx(t,n,e,u,h),xx(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Ix(t,n,o)}function bx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Dx(s)!=a&&s.push(a),s.push(n,r,o)}}function Dx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Tx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Cu(n)&&Nx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||su(n,e),pr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=uo(e,t,a,n);if(pr(l,e),s!==null&&Fx(e,a-i,l,u,n,s),fr(u)){let h=yr(n.index,e);h[un]=uo(e,t,a,n)}}}function vE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=rM();try{ei(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];jh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Sx(u,l)}}finally{ei(-1),jh(s)}}function Sx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ax(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(fA(e,s.selectors,!1))if(r||(r=[]),fr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Kh(t,e,u)}else r.unshift(s),Kh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Kh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Mx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}}function xx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function Px(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Rx(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Yr(i.type,!0)),s=new ti(o,fr(i),we);t.blueprint[r]=s,n[r]=s,bx(t,e,r,fE(t,n,i.hostVars,En),i)}function Nx(t,e,n){let r=qt(e,t),i=gE(n),o=t[ln].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Nu(t,Ru(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Ox(t,e,n,r,i,o){let s=qt(t,e);kx(e[Be],s,o,t.value,n,r,i)}function kx(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?vu(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Fx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];hE(r,n,u,l,h,p)}}function Lx(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function _E(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function wE(t,e){let n=t.contentQueries;if(n!==null){let r=_e(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];DI(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function Nu(t,e){return t[Ms]?t[aw][cn]=e:t[Ms]=e,t[aw]=e,e}function Qh(t,e,n){DI(0);let r=_e(null);try{e(t,n)}finally{_e(r)}}function Vx(t){return t[As]||(t[As]=[])}function jx(t){return t.cleanup||(t.cleanup=[])}function IE(t,e){let n=t[so],r=n?n.get(Un,null):null;r&&r.handleError(e)}function Yf(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];hE(h,l,r,a,u,i)}}function Ux(t,e,n){let r=pI(e,t);WM(t[Be],r,n)}function Bx(t,e){let n=yr(e,t),r=n[ue];$x(r,n);let i=n[Hn];i!==null&&n[eu]===null&&(n[eu]=Uf(i,n[so])),Jf(r,n,n[un])}function $x(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jf(t,e,n){Rf(e);try{let r=t.viewQuery;r!==null&&Qh(1,r,n);let i=t.template;i!==null&&pE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ao]?.finishViewCreation(t),t.staticContentQueries&&wE(t,e),t.staticViewQueries&&Qh(2,t.viewQuery,n);let o=t.components;o!==null&&Hx(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Nf()}}function Hx(t,e){for(let n=0;n<e.length;n++)Bx(t,e[n])}function zx(t,e,n,r){let i=_e(null);try{let o=e.tView,a=t[Q]&4096?4096:16,u=Ru(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Iu]=l;let h=t[ao];return h!==null&&(u[ao]=h.createEmbeddedView(o)),Jf(o,u,n),u}finally{_e(i)}}function _w(t,e){return!e||e.firstChild===null||qI(t)}function qx(t,e,n,r=!0){let i=e[ue];if(ZM(i,e,t,n),r){let s=Wh(n,t),a=e[Be],u=Hf(a,t[Xr]);u!==null&&YM(i,t[dn],a,e,u,s)}let o=e[eu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function uu(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(wn(o)),zn(o)&&Gx(o,r);let s=n.type;if(s&8)uu(t,e,n.child,r);else if(s&32){let a=$f(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=cE(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ps(e[_n]);uu(u[ue],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Gx(t,e){for(let n=$t;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&uu(r[ue],r,i,e)}t[Xr]!==t[Hn]&&e.push(t[Xr])}var EE=[];function Wx(t){return t[Zr]??Kx(t)}function Kx(t){let e=EE.pop()??Object.create(Yx);return e.lView=t,e}function Qx(t){t.lView[Zr]!==t&&(t.lView=null,EE.push(t))}var Yx=Me($({},zd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xs(t.lView)},consumerOnSignalRead(){this.lView[Zr]=this}}),CE=100;function bE(t,e=!0,n=0){let r=t[ln],i=r.rendererFactory,o=!1;o||i.begin?.();try{Jx(t,n)}catch(s){throw e&&IE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Jx(t,e){Yh(t,e);let n=0;for(;Af(t);){if(n===CE)throw new q(103,!1);n++,Yh(t,1)}}function Zx(t,e,n,r){let i=e[Q];if((i&256)===256)return;let o=!1;!o&&e[ln].inlineEffectRunner?.flush(),Rf(e);let s=null,a=null;!o&&Xx(t)&&(a=Wx(e),s=f_(a));try{yI(e),eM(t.bindingStartIndex),n!==null&&pE(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Gc(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Wc(e,p,0,null),mh(e,0)}if(eP(e),DE(e,0),t.contentQueries!==null&&wE(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Gc(e,p)}else{let p=t.contentHooks;p!==null&&Wc(e,p,1),mh(e,1)}px(t,e);let l=t.components;l!==null&&SE(e,l,0);let h=t.viewQuery;if(h!==null&&Qh(2,h,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Gc(e,p)}else{let p=t.viewHooks;p!==null&&Wc(e,p,2),mh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[gh]){for(let p of e[gh])p();e[gh]=null}o||(e[Q]&=-73)}catch(u){throw xs(e),u}finally{a!==null&&(p_(a,s),Qx(a)),Nf()}}function Xx(t){return t.type!==2}function DE(t,e){for(let n=WI(t);n!==null;n=KI(n))for(let r=$t;r<n.length;r++){let i=n[r];TE(i,e)}}function eP(t){for(let e=WI(t);e!==null;e=KI(e)){if(!(e[Q]&Df.HasTransplantedViews))continue;let n=e[nu];for(let r=0;r<n.length;r++){let i=n[r],o=i[lt];zA(i)}}}function tP(t,e,n){let r=yr(e,t);TE(r,n)}function TE(t,e){Sf(t)&&Yh(t,e)}function Yh(t,e){let r=t[ue],i=t[Q],o=t[Zr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&qd(o)),o&&(o.dirty=!1),t[Q]&=-9217,s)Zx(r,t,r.template,t[un]);else if(i&8192){DE(t,1);let a=r.components;a!==null&&SE(t,a,1)}}function SE(t,e,n){for(let r=0;r<e.length;r++)tP(t,e[r],n)}function Zf(t){for(t[ln].changeDetectionScheduler?.notify();t;){t[Q]|=64;let e=Ps(t);if(kA(t)&&!e)return t;t=e}return null}var ni=class{get rootNodes(){let e=this._lView,n=e[ue];return uu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[un]}set context(e){this._lView[un]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(zn(e)){let n=e[tu],r=n?n.indexOf(this):-1;r>-1&&(Gh(e,r),Zc(n,r))}this._attachedToViewContainer=!1}sE(this._lView[ue],this._lView)}onDestroy(e){vI(this._lView,e)}markForCheck(){Zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){Vh(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,bE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,iE(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e,Vh(this._lView)}},Ou=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iP;let t=e;return t})(),nP=Ou,rP=class extends nP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=zx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ni(i)}};function iP(){return oP(St(),Ce())}function oP(t,e){return t.type&4?new rP(e,t,Au(t,e)):null}var t4=new RegExp(`^(\\d+)*(${NM}|${RM})*(.*)`);var sP=()=>null;function ww(t,e){return sP(t,e)}var Jh=class{},Zh=class{},lu=class{};function aP(t){let e=Error(`No component factory found for ${wt(t)}.`);return e[cP]=t,e}var cP="ngComponent";var Xh=class{resolveComponentFactory(e){throw aP(e)}},ku=(()=>{let e=class e{};e.NULL=new Xh;let t=e;return t})(),Rs=class{},qn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>uP();let t=e;return t})();function uP(){let t=Ce(),e=St(),n=yr(e.index,t);return(Kr(n)?n:t)[Be]}var lP=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ih={};var Iw=new Set;function Xf(t){Iw.has(t)||(Iw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ew(...t){}function dP(){let t=typeof an.requestAnimationFrame=="function",e=an[t?"requestAnimationFrame":"setTimeout"],n=an[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var De=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dt(!1),this.onMicrotaskEmpty=new Dt(!1),this.onStable=new Dt(!1),this.onError=new Dt(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=dP().nativeRequestAnimationFrame,pP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,hP,Ew,Ew);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},hP={};function ep(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(an,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ef(t),t.isCheckStableRunning=!0,ep(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ef(t))}function pP(t){let e=()=>{fP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(gP(a))return n.invokeTask(i,o,s,a);try{return Cw(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bw(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Cw(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),bw(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,ef(t),ep(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function ef(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Cw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bw(t){t._nesting--,ep(t)}function gP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var AE=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function du(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Mh(i,a);else if(o==2){let u=a,l=e[++s];r=Mh(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var hu=class extends ku{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Jr(e);return new Ns(n,this.ngModule)}};function Dw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function mP(t){let e=t.toLowerCase();return e==="svg"?jA:e==="math"?UA:null}var tf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=_u(r);let i=this.injector.get(e,Ih,r);return i!==Ih||n===Ih?i:this.parentInjector.get(e,n,r)}},Ns=class extends lu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Dw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Dw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=_e(null);try{i=i||this.ngModule;let s=i instanceof Ht?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new tf(e,s):e,u=a.get(Rs,null);if(u===null)throw new q(407,!1);let l=a.get(lP,null),h=a.get(AE,null),p=a.get(Jh,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},v=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",P=r?yx(v,r,this.componentDef.encapsulation,a):rE(v,A,mP(A)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let B=null;P!==null&&(B=Uf(P,a,!0));let K=Kf(0,null,null,1,0,null,null,null,null,null,null),W=Ru(null,K,null,R,null,null,m,v,a,null,B);Rf(W);let oe,Pe;try{let ne=this.componentDef,E,y=null;ne.findHostDirectiveDefs?(E=[],y=new Map,ne.findHostDirectiveDefs(ne,E,y),E.push(ne)):E=[ne];let _=yP(W,P),I=vP(_,P,ne,E,W,m,v);Pe=gI(K,zt),P&&IP(v,ne,P,r),n!==void 0&&EP(Pe,this.ngContentSelectors,n),oe=wP(I,ne,E,y,W,[CP]),Jf(K,W,null)}finally{Nf()}return new nf(this.componentType,oe,Au(Pe,W),W,Pe)}finally{_e(o)}}},nf=class extends Zh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ni(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Yf(o[ue],o,i,e,n),this.previousInputValues.set(e,n);let s=yr(this._tNode.index,o);Zf(s)}}get injector(){return new Qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function yP(t,e){let n=t[ue],r=zt;return t[r]=e,js(n,r,2,"#host",null)}function vP(t,e,n,r,i,o,s){let a=i[ue];_P(r,t,e,s);let u=null;e!==null&&(u=Uf(e,i[so]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Ru(i,gE(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Kh(a,t,r.length-1),Nu(i,p),i[t.index]=p}function _P(t,e,n,r){for(let i of t)e.mergedAttrs=Ts(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(du(e,e.mergedAttrs,!0),n!==null&&lE(r,n,e))}function wP(t,e,n,r,i,o){let s=St(),a=i[ue],u=qt(s,i);yE(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=uo(i,a,p,s);pr(m,i)}vE(a,i,s),u&&pr(u,i);let l=uo(i,a,s.directiveStart+s.componentOffset,s);if(t[un]=i[un]=l,o!==null)for(let h of o)h(l,e);return qf(a,s,i),l}function IP(t,e,n,r){if(r)Nh(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=vA(e.selectors[0]);i&&Nh(t,n,i),o&&o.length>0&&uE(t,n,o.join(" "))}}function EP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function CP(){let t=St();Su(Ce()[ue],t)}var _r=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bP;let t=e;return t})();function bP(){let t=St();return TP(t,Ce())}var DP=_r,ME=class extends DP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Au(this._hostTNode,this._hostLView)}get injector(){return new Qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=kf(this._hostTNode,this._hostLView);if(NI(e)){let n=iu(e,this._hostLView),r=ru(e),i=n[ue].data[r+8];return new Qr(i,n)}else return new Qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Tw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ww(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,_w(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!OA(e),a;if(s)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new Ns(Jr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Ht,null);P&&(o=P)}let h=Jr(u.componentType??{}),p=ww(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,o);return this.insertImpl(v.hostView,a,_w(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(HA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[lt],l=new ME(u,u[dn],u[lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return qx(s,i,o,r),e.attachToViewContainerRef(),qw(Eh(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Tw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Gh(this._lContainer,n);r&&(Zc(Eh(this._lContainer),n),sE(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=Gh(this._lContainer,n);return r&&Zc(Eh(this._lContainer),n)!=null?new ni(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Tw(t){return t[tu]}function Eh(t){return t[tu]||(t[tu]=[])}function TP(t,e){let n,r=e[t.index];return zn(r)?n=r:(n=_E(r,e,null,t),e[t.index]=n,Nu(e,n)),AP(n,e,t,r),new ME(n,t,e)}function SP(t,e){let n=t[Be],r=n.createComment(""),i=qt(e,t),o=Hf(n,i);return cu(n,o,r,ox(n,i),!1),r}var AP=PP,MP=()=>!1;function xP(t,e,n){return MP(t,e,n)}function PP(t,e,n,r){if(t[Xr])return;let i;n.type&8?i=wn(r):i=SP(e,n),t[Xr]=i}function xE(t,e){Xf("NgSignals");let n=I_(t),r=n[Li];return e?.equal&&(r.equal=e.equal),n.set=i=>Gd(r,i),n.update=i=>E_(r,i),n.asReadonly=RP.bind(n),n}function RP(){let t=this[Li];if(t.readonlyFn===void 0){let e=()=>this();e[Li]=t,t.readonlyFn=e}return t.readonlyFn}function NP(t){return Object.getPrototypeOf(t.prototype).constructor}function Us(t){let e=NP(t.type),n=!0,r=[t];for(;e;){let i;if(fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Hc(t.inputs),s.inputTransforms=Hc(t.inputTransforms),s.declaredInputs=Hc(t.declaredInputs),s.outputs=Hc(t.outputs);let a=i.hostBindings;a&&VP(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&FP(t,u),l&&LP(t,l),OP(t,i),US(t.outputs,i.outputs),fr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Us&&(n=!1)}}e=Object.getPrototypeOf(e)}kP(r)}function OP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function kP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ts(i.hostAttrs,n=Ts(n,i.hostAttrs))}}function Hc(t){return t===ro?{}:t===bt?[]:t}function FP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function LP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function VP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function tp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var gr=class{},Os=class{};var rf=class extends gr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hu(this);let i=tI(e);this._bootstrapComponents=nE(i.bootstrap),this._r3Injector=$I(e,n,[{provide:gr,useValue:this},{provide:ku,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},of=class extends Os{constructor(e){super(),this.moduleType=e}create(e){return new rf(this.moduleType,e,[])}};var fu=class extends gr{constructor(e){super(),this.componentFactoryResolver=new hu(this),this.instance=null;let n=new Ss([...e.providers,{provide:gr,useValue:this},{provide:ku,useValue:this.componentFactoryResolver}],e.parent||bf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function np(t,e,n=null){return new fu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Fu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PE(t){return UP(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function jP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function UP(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function rp(t,e,n){return t[e]=n}function mr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function sf(t,e,n,r){let i=mr(t,e,n);return mr(t,e+1,r)||i}function BP(t,e,n,r,i,o){let s=sf(t,e,n,r);return sf(t,e+2,i,o)||s}function $P(t){return(t.flags&32)===32}function HP(t,e,n,r,i,o,s,a,u){let l=e.consts,h=js(e,t,4,s||null,co(l,a));Qf(e,n,h,co(l,u)),Su(e,h);let p=h.tView=Kf(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Oe(t,e,n,r,i,o,s,a){let u=Ce(),l=ht(),h=t+zt,p=l.firstCreatePass?HP(h,l,u,e,n,r,i,o,s):l.data[h];ai(p,!1);let m=zP(l,u,p,t);Du()&&xu(l,u,m,p),pr(m,u);let v=_E(m,u,m,p);return u[h]=v,Nu(u,v),xP(v,p,u),bu(p)&&Gf(l,u,p),s!=null&&Wf(u,p,a),Oe}var zP=qP;function qP(t,e,n,r){return Tu(!0),e[Be].createComment("")}function Lu(t,e,n,r){let i=Ce(),o=Pf();if(mr(i,o,e)){let s=ht(),a=Of();Ox(a,i,t,e,n,r)}return Lu}function RE(t,e,n,r){return mr(t,Pf(),n)?e+vu(n)+r:En}function zc(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function GP(t){return(t&2)==2}function WP(t,e){return t&131071|e<<17}function af(t){return t|2}function lo(t){return(t&131068)>>2}function Ch(t,e){return t&-131069|e<<2}function KP(t){return(t&1)===1}function cf(t){return t|1}function QP(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ri(s),u=lo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Vs(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ri(t[a+1]);t[r+1]=zc(m,a),m!==0&&(t[m+1]=Ch(t[m+1],r)),t[a+1]=WP(t[a+1],r)}else t[r+1]=zc(a,0),a!==0&&(t[a+1]=Ch(t[a+1],r)),a=r;else t[r+1]=zc(u,0),a===0?a=r:t[u+1]=Ch(t[u+1],r),u=r;l&&(t[r+1]=af(t[r+1])),Sw(t,h,r,!0),Sw(t,h,r,!1),YP(e,h,t,r,o),s=zc(a,u),o?e.classBindings=s:e.styleBindings=s}function YP(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Vs(o,e)>=0&&(n[r+1]=cf(n[r+1]))}function Sw(t,e,n,r){let i=t[n+1],o=e===null,s=r?ri(i):lo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];JP(u,e)&&(a=!0,t[s+1]=r?cf(l):af(l)),s=r?ri(l):lo(l)}a&&(t[n+1]=r?af(i):cf(i))}function JP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Vs(t,e)>=0:!1}var sn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZP(t){return t.substring(sn.key,sn.keyEnd)}function XP(t){return eR(t),NE(t,OE(t,0,sn.textEnd))}function NE(t,e){let n=sn.textEnd;return n===e?-1:(e=sn.keyEnd=tR(t,sn.key=e,n),OE(t,e,n))}function eR(t){sn.key=0,sn.keyEnd=0,sn.value=0,sn.valueEnd=0,sn.textEnd=t.length}function OE(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function tR(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Y(t,e,n){let r=Ce(),i=Pf();if(mr(r,i,e)){let o=ht(),s=Of();mE(o,s,r,t,e,r[Be],n,!1)}return Y}function uf(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Yf(t,n,o[s],s,r)}function rt(t,e){return rR(t,e,null,!0),rt}function kE(t){iR(lR,nR,t,!0)}function nR(t,e){for(let n=XP(e);n>=0;n=NE(e,n))If(t,ZP(e),!0)}function rR(t,e,n,r){let i=Ce(),o=ht(),s=bI(2);if(o.firstUpdatePass&&LE(o,t,s,r),e!==En&&mr(i,s,e)){let a=o.data[ci()];VE(o,a,i,i[Be],t,i[s+1]=hR(e,n),r,s)}}function iR(t,e,n,r){let i=ht(),o=bI(2);i.firstUpdatePass&&LE(i,null,o,r);let s=Ce();if(n!==En&&mr(s,o,n)){let a=i.data[ci()];if(jE(a,r)&&!FE(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=Mh(u,n||"")),uf(i,a,s,n,r)}else dR(i,a,s,s[Be],s[o+1],s[o+1]=uR(t,e,n),r,o)}}function FE(t,e){return e>=t.expandoStartIndex}function LE(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ci()],s=FE(t,n);jE(o,r)&&e===null&&!s&&(e=!1),e=oR(i,o,e,r),QP(i,o,e,n,s,r)}}function oR(t,e,n,r){let i=iM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=bh(null,t,e,n,r),n=ks(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=bh(i,t,e,n,r),o===null){let u=sR(t,e,r);u!==void 0&&Array.isArray(u)&&(u=bh(null,t,e,u[1],r),u=ks(u,e.attrs,r),aR(t,e,r,u))}else o=cR(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function sR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(lo(r)!==0)return t[ri(r)]}function aR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ri(i)]=r}function cR(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ks(r,s,n)}return ks(r,e.attrs,n)}function bh(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ks(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ks(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),If(t,s,n?!0:e[++o]))}return t===void 0?null:t}function uR(t,e,n){if(n==null||n==="")return bt;let r=[],i=po(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function lR(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&If(t,r,n)}function dR(t,e,n,r,i,o,s,a){i===En&&(i=bt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,v=l<o.length?o[l+1]:void 0,A=null,P;h===p?(u+=2,l+=2,m!==v&&(A=p,P=v)):p===null||h!==null&&h<p?(u+=2,A=h):(l+=2,A=p,P=v),A!==null&&VE(t,e,n,r,A,P,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function VE(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=KP(l)?Aw(u,e,n,i,lo(l),s):void 0;if(!pu(h)){pu(o)||GP(l)&&(o=Aw(u,null,n,i,a,s));let p=pI(ci(),n);hx(r,s,p,i,o)}}function Aw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===En&&(m=p?bt:void 0);let v=p?fh(m,r):h===r?m:void 0;if(l&&!pu(v)&&(v=fh(u,r)),pu(v)&&(a=v,s))return a;let A=t[i+1];i=s?ri(A):lo(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=fh(u,r))}return a}function pu(t){return t!==void 0}function hR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=wt(po(t)))),t}function jE(t,e){return(t.flags&(e?8:16))!==0}function fR(t,e,n,r,i,o){let s=e.consts,a=co(s,i),u=js(e,t,2,r,a);return Qf(e,n,u,co(s,o)),u.attrs!==null&&du(u,u.attrs,!1),u.mergedAttrs!==null&&du(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function T(t,e,n,r){let i=Ce(),o=ht(),s=zt+t,a=i[Be],u=o.firstCreatePass?fR(s,o,i,e,n,r):o.data[s],l=pR(o,i,u,a,e,t);i[s]=l;let h=bu(u);return ai(u,!0),lE(a,l,u),!$P(u)&&Du()&&xu(o,i,l,u),WA()===0&&pr(l,i),KA(),h&&(Gf(o,i,u),qf(o,u,i)),r!==null&&Wf(i,u),T}function x(){let t=St();Mf()?CI():(t=t.parent,ai(t,!1));let e=t;JA(e)&&ZA(),QA();let n=ht();return n.firstCreatePass&&(Su(n,t),Tf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&dM(e)&&uf(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&hM(e)&&uf(n,e,Ce(),e.stylesWithoutHost,!1),x}function j(t,e,n,r){return T(t,e,n,r),x(),j}var pR=(t,e,n,r,i,o)=>(Tu(!0),rE(r,i,aM()));function gR(t,e,n,r,i){let o=e.consts,s=co(o,r),a=js(e,t,8,"ng-container",s);s!==null&&du(a,s,!0);let u=co(o,i);return Qf(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function Vu(t,e,n){let r=Ce(),i=ht(),o=t+zt,s=i.firstCreatePass?gR(o,i,r,e,n):i.data[o];ai(s,!0);let a=mR(i,r,s,t);return r[o]=a,Du()&&xu(i,r,a,s),pr(a,r),bu(s)&&(Gf(i,r,s),qf(i,s,r)),n!=null&&Wf(r,s),Vu}function ju(){let t=St(),e=ht();return Mf()?CI():(t=t.parent,ai(t,!1)),e.firstCreatePass&&(Su(e,t),Tf(t)&&e.queries.elementEnd(t)),ju}var mR=(t,e,n,r)=>(Tu(!0),KM(e[Be],""));function UE(){return Ce()}var Wr=void 0;function yR(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var vR=["en",[["a","p"],["AM","PM"],Wr],[["AM","PM"],Wr,Wr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wr,"{1} 'at' {0}",Wr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",yR],Dh={};function Uu(t){let e=_R(t),n=Mw(e);if(n)return n;let r=e.split("-")[0];if(n=Mw(r),n)return n;if(r==="en")return vR;throw new q(701,!1)}function Mw(t){return t in Dh||(Dh[t]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[t]),Dh[t]}var li=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(li||{});function _R(t){return t.toLowerCase().replace(/_/g,"-")}var gu="en-US",wR="USD";var IR=gu;function ER(t){typeof t=="string"&&(IR=t.toLowerCase().replace(/_/g,"-"))}function J(t,e,n,r){let i=Ce(),o=ht(),s=St();return bR(o,i,i[Be],s,t,e,r),J}function CR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[As],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function bR(t,e,n,r,i,o,s){let a=bu(r),l=t.firstCreatePass&&jx(t),h=e[un],p=Vx(e),m=!0;if(r.type&3||s){let P=qt(r,e),R=s?s(P):P,B=p.length,K=s?oe=>s(wn(oe[r.index])):r.index,W=null;if(!s&&a&&(W=CR(t,e,i,r.index)),W!==null){let oe=W.__ngLastListenerFn__||W;oe.__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,m=!1}else{o=Pw(r,e,h,o,!1);let oe=n.listen(R,i,o);p.push(o,oe),l&&l.push(i,K,B,B+1)}}else o=Pw(r,e,h,o,!1);let v=r.outputs,A;if(m&&v!==null&&(A=v[i])){let P=A.length;if(P)for(let R=0;R<P;R+=2){let B=A[R],K=A[R+1],Pe=e[B][K].subscribe(o),ne=p.length;p.push(o,Pe),l&&l.push(i,r.index,ne,-(ne+1))}}}function xw(t,e,n,r){let i=_e(null);try{return mn(6,e,n),n(r)!==!1}catch(o){return IE(t,o),!1}finally{mn(7,e,n),_e(i)}}function Pw(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?yr(t.index,e):e;Zf(a);let u=xw(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=xw(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Cn(t=1){return sM(t)}function wr(t,e,n){return BE(t,"",e,"",n),wr}function BE(t,e,n,r,i){let o=Ce(),s=RE(o,e,n,r);if(s!==En){let a=ht(),u=Of();mE(a,u,o,t,s,o[Be],i,!1)}return BE}function DR(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function k(t,e=""){let n=Ce(),r=ht(),i=t+zt,o=r.firstCreatePass?js(r,i,1,e,null):r.data[i],s=TR(r,n,o,e,t);n[i]=s,Du()&&xu(r,n,s,o),ai(o,!1)}var TR=(t,e,n,r,i)=>(Tu(!0),GM(e[Be],r));function Ye(t){return Je("",t,""),Ye}function Je(t,e,n){let r=Ce(),i=RE(r,t,e,n);return i!==En&&Ux(r,ci(),i),Je}function SR(t,e,n){let r=ht();if(r.firstCreatePass){let i=fr(t);lf(n,r.data,r.blueprint,i,!0),lf(e,r.data,r.blueprint,i,!1)}}function lf(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(let o=0;o<t.length;o++)lf(t[o],e,n,r,i);else{let o=ht(),s=Ce(),a=St(),u=oo(t)?t:_t(t.provide),l=aI(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(oo(t)||!t.multi){let v=new ti(l,i,we),A=Sh(u,e,i?h:h+m,p);A===-1?(Bh(su(a,s),o,u),Th(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[A]=v,s[A]=v)}else{let v=Sh(u,e,h+m,p),A=Sh(u,e,h,h+m),P=v>=0&&n[v],R=A>=0&&n[A];if(i&&!R||!i&&!P){Bh(su(a,s),o,u);let B=xR(i?MR:AR,n.length,i,r,l);!i&&R&&(n[A].providerFactory=B),Th(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(B),s.push(B)}else{let B=$E(n[i?A:v],l,!i&&r);Th(o,t,v>-1?v:A,B)}!i&&r&&R&&n[A].componentProviders++}}}function Th(t,e,n,r){let i=oo(e),o=TA(e);if(i||o){let u=(o?_t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function $E(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Sh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function AR(t,e,n,r){return df(this.multi,[])}function MR(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=uo(n,n[ue],this.providerFactory.index,r);o=a.slice(0,s),df(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],df(i,o);return o}function df(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function xR(t,e,n,r,i){let o=new ti(t,n,we);return o.multi=[],o.index=e,o.componentProviders=0,$E(o,i,r&&!n),o}function ip(t,e=[]){return n=>{n.providersResolver=(r,i)=>SR(r,i?i(t):t,e)}}var PR=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=iI(!1,r.type),o=i.length>0?np([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(ae(Ht))});let t=e;return t})();function Se(t){Xf("NgStandalone"),t.getStandaloneInjector=e=>e.get(PR).getOrCreateStandaloneInjector(t)}function Bs(t,e,n,r){return RR(Ce(),xf(),t,e,n,r)}function op(t,e){let n=t[e];return n===En?void 0:n}function RR(t,e,n,r,i,o){let s=e+n;return mr(t,s,i)?rp(t,s+1,o?r.call(o,i):r(i)):op(t,s+1)}function NR(t,e,n,r,i,o,s){let a=e+n;return sf(t,a,i,o)?rp(t,a+2,s?r.call(s,i,o):r(i,o)):op(t,a+2)}function OR(t,e,n,r,i,o,s,a,u){let l=e+n;return BP(t,l,i,o,s,a)?rp(t,l+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):op(t,l+4)}function kt(t,e){let n=ht(),r,i=t+zt;n.firstCreatePass?(r=kR(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Yr(r.type,!0)),s,a=Ct(we);try{let u=ou(!1),l=o();return ou(u),DR(n,Ce(),i,l),l}finally{Ct(a)}}function kR(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function HE(t,e,n,r){let i=t+zt,o=Ce(),s=mI(o,i);return zE(o,i)?NR(o,xf(),e,s.transform,n,r,s):s.transform(n,r)}function hn(t,e,n,r,i,o){let s=t+zt,a=Ce(),u=mI(a,s);return zE(a,s)?OR(a,xf(),e,u.transform,n,r,i,o,u):u.transform(n,r,i,o)}function zE(t,e){return t[ue].data[e].pure}var $n=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},qE=new $n("17.3.12"),Bu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var GE=new Z("");function go(t){return!!t&&typeof t.then=="function"}function WE(t){return!!t&&typeof t.subscribe=="function"}var KE=new Z(""),QE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(KE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(go(s))r.push(s);else if(WE(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sp=new Z("");function FR(){w_(()=>{throw new q(600,!1)})}function LR(t){return t.isBoundToModule}function VR(t,e,n){try{let r=n();return go(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var $s=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(HI),this.afterRenderEffectManager=O(AE),this.externalTestViews=new Set,this.beforeRender=new ut,this.afterTick=new ut,this.componentTypes=[],this.components=[],this.isStable=O(Fu).hasPendingTasks.pipe(fe(r=>!r)),this._injector=O(Ht)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof lu;if(!this._injector.get(QE).done){let v=!o&&eI(r),A=!1;throw new q(405,A)}let a;o?a=r:a=this._injector.get(ku).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=LR(a)?void 0:this._injector.get(gr),l=i||a.selector,h=a.create(Gt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(GE,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Ah(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new q(101,!1);let i=_e(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,_e(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===CE)throw new q(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)jR(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>hf(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>hf(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ah(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(sp,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ah(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ah(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jR(t,e,n){!e&&!hf(t)||UR(t,n,e)}function hf(t){return Af(t)}function UR(t,e,n){let r;n?(r=0,t[Q]|=1024):t[Q]&64?r=0:r=1,bE(t,e,r)}var ff=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ap=(()=>{let e=class e{compileModuleSync(r){return new of(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=tI(r),s=nE(o.declarations).reduce((a,u)=>{let l=Jr(u);return l&&a.push(new Ns(l)),a},[]);return new ff(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var BR=(()=>{let e=class e{constructor(){this.zone=O(De),this.applicationRef=O($s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $R(t){return[{provide:De,useFactory:t},{provide:io,multi:!0,useFactory:()=>{let e=O(BR,{optional:!0});return()=>e.initialize()}},{provide:io,multi:!0,useFactory:()=>{let e=O(GR);return()=>{e.initialize()}}},{provide:HI,useFactory:HR}]}function HR(){let t=O(De),e=O(Un);return n=>t.runOutsideAngular(()=>e.handleError(n))}function zR(t){let e=$R(()=>new De(qR(t)));return In([[],e])}function qR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var GR=(()=>{let e=class e{constructor(){this.subscription=new je,this.initialized=!1,this.zone=O(De),this.pendingTasks=O(Fu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WR(){return typeof $localize<"u"&&$localize.locale||gu}var $u=new Z("",{providedIn:"root",factory:()=>O($u,se.Optional|se.SkipSelf)||WR()}),YE=new Z("",{providedIn:"root",factory:()=>wR});var JE=new Z("");var Qc=null;function KR(t=[],e){return Gt.create({name:e,providers:[{provide:wu,useValue:"platform"},{provide:JE,useValue:new Set([()=>Qc=null])},...t]})}function QR(t=[]){if(Qc)return Qc;let e=KR(t);return Qc=e,FR(),YR(e),e}function YR(t){t.get(Vf,null)?.forEach(n=>n())}var bn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JR;let t=e;return t})();function JR(t){return ZR(St(),Ce(),(t&16)===16)}function ZR(t,e,n){if(Cu(t)&&!n){let r=yr(t.index,e);return new ni(r,r)}else if(t.type&47){let r=e[_n];return new ni(r,e)}return null}var pf=class{constructor(){}supports(e){return PE(e)}create(e){return new gf(e)}},XR=(t,e)=>e,gf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||XR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Rw(r,i,o)?n:r,a=Rw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,A=v+m;h<=A&&A<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!PE(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,jP(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new mf(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new mu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new mu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},mf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},yf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},mu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new yf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Rw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Nw(){return new cp([new pf])}var cp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Nw()),deps:[[e,new zw,new dt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new q(901,!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:Nw});let t=e;return t})();function ZE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=QR(r),o=[zR(),...n||[]],a=new fu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(De);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Un,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>a.destroy(),m=i.get(JE);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),VR(l,u,()=>{let v=a.get(QE);return v.runInitializers(),v.donePromise.then(()=>{let A=a.get($u,gu);ER(A||gu);let P=a.get($s);return e!==void 0&&P.bootstrap(e),P})})})}catch(e){return Promise.reject(e)}}function mo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var s0=null;function yo(){return s0}function a0(t){s0??=t}var Hu=class{};var Qt=new Z(""),pp=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(eN),providedIn:"platform"});let t=e;return t})();var eN=(()=>{let e=class e extends pp{constructor(){super(),this._doc=O(Qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yo().getBaseHref(this._doc)}onPopState(r){let i=yo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=yo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function gp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function XE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Gn(t){return t&&t[0]!=="?"?"?"+t:t}var Ir=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(u0),providedIn:"root"});let t=e;return t})(),c0=new Z(""),u0=(()=>{let e=class e extends Ir{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(Qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return gp(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Gn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Gn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Gn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ae(pp),ae(c0,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),l0=(()=>{let e=class e extends Ir{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=gp(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Gn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Gn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ae(pp),ae(c0,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),qs=(()=>{let e=class e{constructor(r){this._subject=new Dt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=rN(XE(e0(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Gn(i))}normalize(r){return e.stripTrailingSlash(nN(this._basePath,e0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Gn,e.joinWithSlash=gp,e.stripTrailingSlash=XE,e.\u0275fac=function(i){return new(i||e)(ae(Ir))},e.\u0275prov=G({token:e,factory:()=>tN(),providedIn:"root"});let t=e;return t})();function tN(){return new qs(ae(Ir))}function nN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function e0(t){return t.replace(/\/index.html$/,"")}function rN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var d0={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},h0=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(h0||{});var Wn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Hs(t,e){let n=Uu(t),r=n[li.NumberSymbols][e];if(typeof r>"u"){if(e===Wn.CurrencyDecimal)return n[li.NumberSymbols][Wn.Decimal];if(e===Wn.CurrencyGroup)return n[li.NumberSymbols][Wn.Group]}return r}function iN(t,e){return Uu(t)[li.NumberFormats][e]}function oN(t){return Uu(t)[li.Currencies]}function sN(t,e,n="en"){let r=oN(n)[t]||d0[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var aN=2;function cN(t){let e,n=d0[t];return n&&(e=n[2]),typeof e=="number"?e:aN}var uN=/^(\d+)?\.((\d+)(-(\d+))?)?$/,t0=22,zu=".",zs="0",lN=";",dN=",",up="#",n0="\xA4";function hN(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=Hs(n,Wn.Infinity);else{let l=mN(t);s&&(l=gN(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let K=o.match(uN);if(K===null)throw new Error(`${o} is not a valid digit info`);let W=K[1],oe=K[3],Pe=K[5];W!=null&&(h=lp(W)),oe!=null&&(p=lp(oe)),Pe!=null?m=lp(Pe):oe!=null&&p>m&&(m=p)}yN(l,p,m);let v=l.digits,A=l.integerLen,P=l.exponent,R=[];for(u=v.every(K=>!K);A<h;A++)v.unshift(0);for(;A<0;A++)v.unshift(0);A>0?R=v.splice(A,v.length):(R=v,v=[0]);let B=[];for(v.length>=e.lgSize&&B.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)B.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&B.unshift(v.join("")),a=B.join(Hs(n,r)),R.length&&(a+=Hs(n,i)+R.join("")),P&&(a+=Hs(n,Wn.Exponential)+"+"+P)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function fN(t,e,n,r,i){let o=iN(e,h0.Currency),s=pN(o,Hs(e,Wn.MinusSign));return s.minFrac=cN(r),s.maxFrac=s.minFrac,hN(t,s,e,Wn.CurrencyGroup,Wn.CurrencyDecimal,i).replace(n0,n).replace(n0,"").trim()}function pN(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(lN),i=r[0],o=r[1],s=i.indexOf(zu)!==-1?i.split(zu):[i.substring(0,i.lastIndexOf(zs)+1),i.substring(i.lastIndexOf(zs)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(up));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===zs?n.minFrac=n.maxFrac=h+1:p===up?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(dN);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(up);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function gN(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function mN(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(zu))>-1&&(e=e.replace(zu,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===zs;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===zs;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>t0&&(r=r.splice(0,t0-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function yN(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,m,v,A){return m=m+p,A[v]=m<10?m:m-10,u&&(A[v]===0&&v>=l?A.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function lp(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function f0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var dp=/\s+/,r0=[],p0=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=r0,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(dp):r0}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(dp):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(dp).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(we(Wt),we(qn))},e.\u0275dir=Tt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ot.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var hp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Dn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new hp(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),i0(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);i0(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(we(_r),we(Ou),we(cp))},e.\u0275dir=Tt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function i0(t,e){t.context.$implicit=e.item}var At=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new fp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){o0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){o0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(we(_r),we(Ou))},e.\u0275dir=Tt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),fp=class{constructor(){this.$implicit=null,this.ngIf=null}};function o0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}function vN(t,e){return new q(2100,!1)}var Er=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,o="symbol",s,a){if(!_N(r))return null;a||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let u=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?u=sN(u,o==="symbol"?"wide":"narrow",a):u=o);try{let l=wN(r);return fN(l,a,u,i,s)}catch(l){throw vN(e,l.message)}}};e.\u0275fac=function(i){return new(i||e)(we($u,16),we(YE,16))},e.\u0275pipe=Jw({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function _N(t){return!(t==null||t===""||t!==t)}function wN(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var ke=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=ii({});let t=e;return t})(),g0="browser",IN="server";function mp(t){return t===IN}var qu=class{};var _p=class extends Hu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},wp=class t extends _p{static makeCurrent(){a0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=EN();return n==null?null:CN(n)}resetBaseElement(){Gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return f0(document.cookie,e)}},Gs=null;function EN(){return Gs=Gs||document.querySelector("base"),Gs?Gs.getAttribute("href"):null}function CN(t){return new URL(t,document.baseURI).pathname}var bN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Ip=new Z(""),_0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ae(Ip),ae(De))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Gu=class{constructor(e){this._doc=e}},yp="ng-app-id",w0=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mp(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${yp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(yp),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(yp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ae(Qt),ae(Lf),ae(jf,8),ae(vr))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),vp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cp=/%COMP%/g,I0="%COMP%",DN=`_nghost-${I0}`,TN=`_ngcontent-${I0}`,SN=!0,AN=new Z("",{providedIn:"root",factory:()=>SN});function MN(t){return TN.replace(Cp,t)}function xN(t){return DN.replace(Cp,t)}function E0(t,e){return e.map(n=>n.replace(Cp,t))}var m0=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=mp(u),this.defaultRenderer=new Ws(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===vn.ShadowDom&&(i=Me($({},i),{encapsulation:vn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Wu?o.applyToHost(r):o instanceof Ks&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case vn.Emulated:s=new Wu(l,h,i,this.appId,p,a,u,m);break;case vn.ShadowDom:return new Ep(l,h,r,i,a,u,this.nonce,m);default:s=new Ks(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ae(_0),ae(w0),ae(Lf),ae(AN),ae(Qt),ae(vr),ae(De),ae(jf))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),Ws=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(vp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(y0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(y0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=vp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=vp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bn.DashCase|Bn.Important)?e.style.setProperty(n,r,i&Bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=yo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function y0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ep=class extends Ws{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=E0(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ks=class extends Ws{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?E0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wu=class extends Ks{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=MN(l),this.hostAttr=xN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},PN=(()=>{let e=class e extends Gu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(ae(Qt))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),v0=["alt","control","meta","shift"],RN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ON=(()=>{let e=class e extends Gu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yo().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),v0.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=RN[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),v0.forEach(a=>{if(a!==o){let u=NN[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ae(Qt))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function C0(t,e){return ZE($({rootComponent:t},kN(e)))}function kN(t){return{appProviders:[...UN,...t?.providers??[]],platformProviders:jN}}function FN(){wp.makeCurrent()}function LN(){return new Un}function VN(){return YI(document),document}var jN=[{provide:vr,useValue:g0},{provide:Vf,useValue:FN,multi:!0},{provide:Qt,useFactory:VN,deps:[]}];var UN=[{provide:wu,useValue:"root"},{provide:Un,useFactory:LN,deps:[]},{provide:Ip,useClass:PN,multi:!0,deps:[Qt,De,vr]},{provide:Ip,useClass:ON,multi:!0,deps:[Qt]},m0,w0,_0,{provide:Rs,useExisting:m0},{provide:qu,useClass:bN,deps:[]},[]];var b0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ae(Qt))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var re="primary",ua=Symbol("RouteTitle"),Ap=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Eo(t){return new Ap(t)}function $N(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function HN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tn(t[n],e[n]))return!1;return!0}function Tn(t,e){let n=t?Mp(t):void 0,r=e?Mp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!x0(t[i],e[i]))return!1;return!0}function Mp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function x0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function P0(t){return t.length>0?t[t.length-1]:null}function Tr(t){return sh(t)?t:go(t)?We(Promise.resolve(t)):te(t)}var zN={exact:N0,subset:O0},R0={exact:qN,subset:GN,ignored:()=>!0};function D0(t,e,n){return zN[n.paths](t.root,e.root,n.matrixParams)&&R0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function qN(t,e){return Tn(t,e)}function N0(t,e,n){if(!hi(t.segments,e.segments)||!Yu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!N0(t.children[r],e.children[r],n))return!1;return!0}function GN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>x0(t[n],e[n]))}function O0(t,e,n){return k0(t,e,e.segments,n)}function k0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hi(i,n)||e.hasChildren()||!Yu(i,n,r))}else if(t.segments.length===n.length){if(!hi(t.segments,n)||!Yu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!O0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!hi(t.segments,i)||!Yu(t.segments,i,r)||!t.children[re]?!1:k0(t.children[re],e,o,r)}}function Yu(t,e,n){return e.every((r,i)=>R0[n](t[i].parameters,r.parameters))}var Cr=class{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Eo(this.queryParams),this._queryParamMap}toString(){return QN.serialize(this)}},be=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ju(this)}},di=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Eo(this.parameters),this._parameterMap}toString(){return L0(this)}};function WN(t,e){return hi(t,e)&&t.every((n,r)=>Tn(n.parameters,e[r].parameters))}function hi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function KN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var tg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new Xu,providedIn:"root"});let t=e;return t})(),Xu=class{parse(e){let n=new Pp(e);return new Cr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Qs(e.root,!0)}`,r=ZN(e.queryParams),i=typeof e.fragment=="string"?`#${YN(e.fragment)}`:"";return`${n}${r}${i}`}},QN=new Xu;function Ju(t){return t.segments.map(e=>L0(e)).join("/")}function Qs(t,e){if(!t.hasChildren())return Ju(t);if(e){let n=t.children[re]?Qs(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${Qs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=KN(t,(r,i)=>i===re?[Qs(t.children[re],!1)]:[`${i}:${Qs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Ju(t)}/${n[0]}`:`${Ju(t)}/(${n.join("//")})`}}function F0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ku(t){return F0(t).replace(/%3B/gi,";")}function YN(t){return encodeURI(t)}function xp(t){return F0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zu(t){return decodeURIComponent(t)}function T0(t){return Zu(t.replace(/\+/g,"%20"))}function L0(t){return`${xp(t.path)}${JN(t.parameters)}`}function JN(t){return Object.entries(t).map(([e,n])=>`;${xp(e)}=${xp(n)}`).join("")}function ZN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ku(n)}=${Ku(i)}`).join("&"):`${Ku(n)}=${Ku(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var XN=/^[^\/()?;#]+/;function bp(t){let e=t.match(XN);return e?e[0]:""}var eO=/^[^\/()?;=#]+/;function tO(t){let e=t.match(eO);return e?e[0]:""}var nO=/^[^=?&#]+/;function rO(t){let e=t.match(nO);return e?e[0]:""}var iO=/^[^&#]+/;function oO(t){let e=t.match(iO);return e?e[0]:""}var Pp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new be(e,n)),r}parseSegment(){let e=bp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new di(Zu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=tO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=bp(this.remaining);i&&(r=i,this.capture(r))}e[Zu(n)]=Zu(r)}parseQueryParam(e){let n=rO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=oO(this.remaining);s&&(r=s,this.capture(r))}let i=T0(n),o=T0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[re]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function V0(t){return t.segments.length>0?new be([],{[re]:t}):t}function j0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=j0(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new be(t.segments,e);return sO(n)}function sO(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new be(t.segments.concat(e.segments),e.children)}return t}function Co(t){return t instanceof Cr}function aO(t,e,n=null,r=null){let i=U0(t);return B0(i,e,n,r)}function U0(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new be(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=V0(r);return e??i}function B0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Dp(i,i,i,n,r);let o=cO(e);if(o.toRoot())return Dp(i,i,new be([],{}),n,r);let s=uO(o,i,t),a=s.processChildren?Zs(s.segmentGroup,s.index,o.commands):H0(s.segmentGroup,s.index,o.commands);return Dp(i,s.segmentGroup,a,n,r)}function el(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ta(t){return typeof t=="object"&&t!=null&&t.outlets}function Dp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=$0(t,e,n);let a=V0(j0(s));return new Cr(a,o,i)}function $0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=$0(o,e,n)}),new be(t.segments,r)}var tl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&el(r[0]))throw new q(4003,!1);let i=r.find(ta);if(i&&i!==P0(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new tl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new tl(n,e,r)}var wo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function uO(t,e,n){if(t.isAbsolute)return new wo(e,!0,0);if(!n)return new wo(e,!1,NaN);if(n.parent===null)return new wo(n,!0,0);let r=el(t.commands[0])?0:1,i=n.segments.length-1+r;return lO(n,i,t.numberOfDoubleDots)}function lO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new wo(r,!1,i-o)}function dO(t){return ta(t[0])?t[0].outlets:{[re]:t}}function H0(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return Zs(t,e,n);let r=hO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new be(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new be(t.segments.slice(r.pathIndex),t.children),Zs(o,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?Rp(t,e,n):r.match?Zs(t,0,i):Rp(t,e,n)}function Zs(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=dO(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=Zs(t.children[re],e,n);return new be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=H0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(t.segments,i)}}function hO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ta(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!A0(u,l,s))return o;r+=2}else{if(!A0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Rp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ta(o)){let u=fO(o.outlets);return new be(r,u)}if(i===0&&el(n[0])){let u=t.segments[e];r.push(new di(u.path,S0(n[0]))),i++;continue}let s=ta(o)?o.outlets[re]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&el(a)?(r.push(new di(s,S0(a))),i+=2):(r.push(new di(s,{})),i++)}return new be(r,{})}function fO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Rp(new be([],{}),0,r))}),e}function S0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function A0(t,e,n){return t==n.path&&Tn(e,n.parameters)}var Xs="imperative",it=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(it||{}),Jt=class{constructor(e,n){this.id=e,this.url=n}},na=class extends Jt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=it.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},br=class extends Jt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=it.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Lt||{}),Np=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Np||{}),Dr=class extends Jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends Jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationSkipped}},ra=class extends Jt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=it.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nl=class extends Jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Op=class extends Jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kp=class extends Jt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=it.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fp=class extends Jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lp=class extends Jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vp=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jp=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Up=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bp=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$p=class{constructor(e){this.snapshot=e,this.type=it.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hp=class{constructor(e){this.snapshot=e,this.type=it.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ia=class{},oa=class{constructor(e){this.url=e}};var zp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cl,this.attachRef=null}},cl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new zp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=qp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=qp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Gp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gp(e,this._root).map(n=>n.value)}};function qp(t,e){if(t===e.value)return e;for(let n of e.children){let r=qp(t,n);if(r)return r}return null}function Gp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Gp(t,n);if(r.length)return r.unshift(e),r}return[]}var Ft=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _o(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var il=class extends rl{constructor(e,n){super(e),this.snapshot=n,rg(this,e)}toString(){return this.snapshot.toString()}};function z0(t){let e=pO(t),n=new nt([new di("",{})]),r=new nt({}),i=new nt({}),o=new nt({}),s=new nt(""),a=new Kn(n,r,o,s,i,re,t,e.root);return a.snapshot=e.root,new il(new Ft(a,[]),e)}function pO(t){let e={},n={},r={},i="",o=new sa([],e,r,i,n,re,t,null,{});return new ol("",new Ft(o,[]))}var Kn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(fe(l=>l[ua]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(fe(e=>Eo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(fe(e=>Eo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ng(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:$($({},e.params),t.params),data:$($({},e.data),t.data),resolve:$($($($({},t.data),e.data),i?.data),t._resolvedData)}:r={params:$({},t.params),data:$({},t.data),resolve:$($({},t.data),t._resolvedData??{})},i&&G0(i)&&(r.resolve[ua]=i.title),r}var sa=class{get title(){return this.data?.[ua]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Eo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Eo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ol=class extends rl{constructor(e,n){super(n),this.url=e,rg(this,n)}toString(){return q0(this._root)}};function rg(t,e){e.value._routerState=t,e.children.forEach(n=>rg(t,n))}function q0(t){let e=t.children.length>0?` { ${t.children.map(q0).join(", ")} } `:"";return`${t.value}${e}`}function Tp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Tn(e.params,n.params)||t.paramsSubject.next(n.params),HN(e.url,n.url)||t.urlSubject.next(n.url),Tn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Wp(t,e){let n=Tn(t.params,e.params)&&WN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Wp(t.parent,e.parent))}function G0(t){return typeof t.title=="string"||t.title===null}var ig=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Dt,this.deactivateEvents=new Dt,this.attachEvents=new Dt,this.detachEvents=new Dt,this.parentContexts=O(cl),this.location=O(_r),this.changeDetector=O(bn),this.environmentInjector=O(Ht),this.inputBinder=O(og,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Kp(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Tt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fo]});let t=e;return t})(),Kp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Kn?this.route:e===cl?this.childContexts:this.parent.get(e,n)}},og=new Z("");function gO(t,e,n){let r=aa(t,e._root,n?n._root:void 0);return new il(r,e)}function aa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=mO(t,e,n);return new Ft(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>aa(t,a)),s}}let r=yO(e.value),i=e.children.map(o=>aa(t,o));return new Ft(r,i)}}function mO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return aa(t,r,i);return aa(t,r)})}function yO(t){return new Kn(new nt(t.url),new nt(t.params),new nt(t.queryParams),new nt(t.fragment),new nt(t.data),t.outlet,t.component,t)}var W0="ngNavigationCancelingError";function K0(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Q0(!1,Lt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Q0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[W0]=!0,n.cancellationCode=e,n}function vO(t){return Y0(t)&&Co(t.url)}function Y0(t){return!!t&&t[W0]}var _O=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["ng-component"]],standalone:!0,features:[Se],decls:1,vars:0,template:function(i,o){i&1&&j(0,"router-outlet")},dependencies:[ig],encapsulation:2});let t=e;return t})();function wO(t,e){return t.providers&&!t._injector&&(t._injector=np(t.providers,e,`Route: ${t.path}`)),t._injector??e}function sg(t){let e=t.children&&t.children.map(sg),n=e?Me($({},t),{children:e}):$({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=_O),n}function Sn(t){return t.outlet||re}function IO(t,e){let n=t.filter(r=>Sn(r)===e);return n.push(...t.filter(r=>Sn(r)!==e)),n}function la(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var EO=(t,e,n,r)=>fe(i=>(new Qp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Qp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Tp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_o(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_o(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Hp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Bp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Tp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Tp(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=la(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},sl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Io=class{constructor(e,n){this.component=e,this.route=n}};function CO(t,e,n){let r=t._root,i=e?e._root:null;return Ys(r,i,n,[r.value])}function bO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Do(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Lw(t)?t:e.get(t):r}function Ys(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_o(e);return t.children.forEach(s=>{DO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ea(a,n.getContext(s),i)),i}function DO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=TO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ys(t,e,a?a.children:null,r,i):Ys(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Io(a.outlet.component,s))}else s&&ea(e,a,i),i.canActivateChecks.push(new sl(r)),o.component?Ys(t,null,a?a.children:null,r,i):Ys(t,null,n,r,i);return i}function TO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(t.url,e.url)||!Tn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wp(t,e)||!Tn(t.queryParams,e.queryParams);case"paramsChange":default:return!Wp(t,e)}}function ea(t,e,n){let r=_o(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ea(s,e.children.getContext(o),n):ea(s,null,n):ea(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Io(e.outlet.component,i)):n.canDeactivateChecks.push(new Io(null,i)):n.canDeactivateChecks.push(new Io(null,i))}function da(t){return typeof t=="function"}function SO(t){return typeof t=="boolean"}function AO(t){return t&&da(t.canLoad)}function MO(t){return t&&da(t.canActivate)}function xO(t){return t&&da(t.canActivateChild)}function PO(t){return t&&da(t.canDeactivate)}function RO(t){return t&&da(t.canMatch)}function J0(t){return t instanceof Vn||t?.name==="EmptyError"}var Qu=Symbol("INITIAL_VALUE");function bo(){return rn(t=>Vc(t.map(e=>e.pipe(jn(1),dh(Qu)))).pipe(fe(e=>{for(let n of e)if(n!==!0){if(n===Qu)return Qu;if(n===!1||n instanceof Cr)return n}return!0}),nn(e=>e!==Qu),jn(1)))}function NO(t,e){return Ke(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?te(Me($({},n),{guardsResult:!0})):OO(s,r,i,t).pipe(Ke(a=>a&&SO(a)?kO(r,o,t,e):te(a)),fe(a=>Me($({},n),{guardsResult:a})))})}function OO(t,e,n,r){return We(t).pipe(Ke(i=>UO(i.component,i.route,n,e,r)),gn(i=>i!==!0,!0))}function kO(t,e,n,r){return We(e).pipe(Yi(i=>Qi(LO(i.route.parent,r),FO(i.route,r),jO(t,i.path,n),VO(t,i.route,n))),gn(i=>i!==!0,!0))}function FO(t,e){return t!==null&&e&&e(new $p(t)),te(!0)}function LO(t,e){return t!==null&&e&&e(new Up(t)),te(!0)}function VO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>jc(()=>{let s=la(e)??n,a=Do(o,s),u=MO(a)?a.canActivate(e,t):si(s,()=>a(e,t));return Tr(u).pipe(gn())}));return te(i).pipe(bo())}function jO(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>bO(s)).filter(s=>s!==null).map(s=>jc(()=>{let a=s.guards.map(u=>{let l=la(s.node)??n,h=Do(u,l),p=xO(h)?h.canActivateChild(r,t):si(l,()=>h(r,t));return Tr(p).pipe(gn())});return te(a).pipe(bo())}));return te(o).pipe(bo())}function UO(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let u=la(e)??i,l=Do(a,u),h=PO(l)?l.canDeactivate(t,e,n,r):si(u,()=>l(t,e,n,r));return Tr(h).pipe(gn())});return te(s).pipe(bo())}function BO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let a=Do(s,t),u=AO(a)?a.canLoad(e,n):si(t,()=>a(e,n));return Tr(u)});return te(o).pipe(bo(),Z0(r))}function Z0(t){return Zd(Qe(e=>{if(Co(e))throw K0(t,e)}),fe(e=>e===!0))}function $O(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let a=Do(s,t),u=RO(a)?a.canMatch(e,n):si(t,()=>a(e,n));return Tr(u)});return te(o).pipe(bo(),Z0(r))}var ca=class{constructor(e){this.segmentGroup=e||null}},al=class extends Error{constructor(e){super(),this.urlTree=e}};function vo(t){return Ki(new ca(t))}function HO(t){return Ki(new q(4e3,!1))}function zO(t){return Ki(Q0(!1,Lt.GuardRejected))}var Yp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[re])return HO(e.redirectTo);i=i.children[re]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new al(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Cr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Jp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qO(t,e,n,r,i){let o=ag(t,e,n);return o.matched?(r=wO(e,r),$O(r,e,n,i).pipe(fe(s=>s===!0?o:$({},Jp)))):te(o)}function ag(t,e,n){if(e.path==="**")return GO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?$({},Jp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$N)(n,t,e);if(!i)return $({},Jp);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?$($({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function GO(t){return{matched:!0,parameters:t.length>0?P0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function M0(t,e,n,r){return n.length>0&&QO(t,n,r)?{segmentGroup:new be(e,KO(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&YO(t,n,r)?{segmentGroup:new be(t.segments,WO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function WO(t,e,n,r){let i={};for(let o of n)if(ul(t,e,o)&&!r[Sn(o)]){let s=new be([],{});i[Sn(o)]=s}return $($({},r),i)}function KO(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&Sn(r)!==re){let i=new be([],{});n[Sn(r)]=i}return n}function QO(t,e,n){return n.some(r=>ul(t,e,r)&&Sn(r)!==re)}function YO(t,e,n){return n.some(r=>ul(t,e,r))}function ul(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function JO(t,e,n,r){return Sn(t)!==r&&(r===re||!ul(e,n,t))?!1:ag(e,t,n).matched}function ZO(t,e,n){return e.length===0&&!t.children[n]}var Zp=class{};function XO(t,e,n,r,i,o,s="emptyOnly"){return new Xp(t,e,n,r,i,s,o).recognize()}var e1=31,Xp=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Yp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=M0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(fe(n=>{let r=new sa([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new Ft(r,n),o=new ol("",i),s=aO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,re).pipe(ur(r=>{if(r instanceof al)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ca?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=ng(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(fe(o=>o instanceof Ft?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return We(i).pipe(Yi(o=>{let s=r.children[o],a=IO(n,o);return this.processSegmentGroup(e,a,s,o)}),lh((o,s)=>(o.push(...s),o)),lr(null),uh(),Ke(o=>{if(o===null)return vo(r);let s=X0(o);return t1(s),te(s)}))}processSegment(e,n,r,i,o,s){return We(n).pipe(Yi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(ur(u=>{if(u instanceof ca)return te(null);throw u}))),gn(a=>!!a),ur(a=>{if(J0(a))return ZO(r,i,o)?te(new Zp):vo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return JO(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):vo(i):vo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=ag(n,i,o);if(!a)return vo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>e1&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ke(m=>this.processSegment(e,r,n,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=qO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(rn(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(rn(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,v=new sa(h,m,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,r1(r),Sn(r),r.component??r._loadedComponent??null,r,i1(r)),{segmentGroup:A,slicedSegments:P}=M0(n,h,p,u);if(P.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(fe(B=>B===null?null:new Ft(v,B)));if(u.length===0&&P.length===0)return te(new Ft(v,[]));let R=Sn(r)===o;return this.processSegment(l,u,A,P,R?re:o,!0).pipe(fe(B=>new Ft(v,B instanceof Ft?[B]:[])))}))):vo(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):BO(e,n,r,this.urlSerializer).pipe(Ke(i=>i?this.configLoader.loadChildren(e,n).pipe(Qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zO(n))):te({routes:[],injector:e})}};function t1(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function n1(t){let e=t.value.routeConfig;return e&&e.path===""}function X0(t){let e=[],n=new Set;for(let r of t){if(!n1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=X0(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!n.has(r))}function r1(t){return t.data||{}}function i1(t){return t.resolve||{}}function o1(t,e,n,r,i,o){return Ke(s=>XO(t,e,n,r,s.extractedUrl,i,o).pipe(fe(({state:a,tree:u})=>Me($({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function s1(t,e){return Ke(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of eC(u))s.add(l);let a=0;return We(s).pipe(Yi(u=>o.has(u)?a1(u,r,t,e):(u.data=ng(u,u.parent,t).resolve,te(void 0))),Qe(()=>a++),Ji(1),Ke(u=>a===s.size?te(n):Nt))})}function eC(t){let e=t.children.map(n=>eC(n)).flat();return[t,...e]}function a1(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!G0(i)&&(o[ua]=i.title),c1(o,t,e,r).pipe(fe(s=>(t._resolvedData=s,t.data=ng(t,t.parent,n).resolve,null)))}function c1(t,e,n,r){let i=Mp(t);if(i.length===0)return te({});let o={};return We(i).pipe(Ke(s=>u1(t[s],e,n,r).pipe(gn(),Qe(a=>{o[s]=a}))),Ji(1),ch(o),ur(s=>J0(s)?Nt:Ki(s)))}function u1(t,e,n,r){let i=la(e)??r,o=Do(t,i),s=o.resolve?o.resolve(e,n):si(i,()=>o(e,n));return Tr(s)}function Sp(t){return rn(e=>{let n=t(e);return n?We(n).pipe(fe(()=>e)):te(e)})}var tC=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[ua]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(l1),providedIn:"root"});let t=e;return t})(),l1=(()=>{let e=class e extends tC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ae(b0))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cg=new Z("",{providedIn:"root",factory:()=>({})}),ug=new Z(""),d1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(ap)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return te(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Tr(r.loadComponent()).pipe(fe(nC),Qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Cs(()=>{this.componentLoaders.delete(r)})),o=new zi(i,()=>new ut).pipe(Hi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=h1(i,this.compiler,r,this.onLoadEndListener).pipe(Cs(()=>{this.childrenLoaders.delete(i)})),a=new zi(s,()=>new ut).pipe(Hi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function h1(t,e,n,r){return Tr(t.loadChildren()).pipe(fe(nC),Ke(i=>i instanceof Os||Array.isArray(i)?te(i):We(e.compileModuleAsync(i))),fe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ug,[],{optional:!0,self:!0}).flat()),{routes:s.map(sg),injector:o}}))}function f1(t){return t&&typeof t=="object"&&"default"in t}function nC(t){return f1(t)?t.default:t}var lg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(p1),providedIn:"root"});let t=e;return t})(),p1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),g1=new Z("");var m1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=O(d1),this.environmentInjector=O(Ht),this.urlSerializer=O(tg),this.rootContexts=O(cl),this.location=O(qs),this.inputBindingEnabled=O(og,{optional:!0})!==null,this.titleStrategy=O(tC),this.options=O(cg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(lg),this.createViewTransition=O(g1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Vp(o)),i=o=>this.events.next(new jp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Me($($({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new nt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xs,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nn(s=>s.id!==0),fe(s=>Me($({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),rn(s=>{let a=!1,u=!1;return te(s).pipe(rn(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Lt.SupersededByNewNavigation),Nt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Me($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new fi(l.id,this.urlSerializer.serialize(l.rawUrl),m,Np.IgnoredSameUrlNavigation)),l.resolve(null),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return te(l).pipe(rn(m=>{let v=this.transitions?.getValue();return this.events.next(new na(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Nt:Promise.resolve(m)}),o1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Me($({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new nl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:A,restoredState:P,extras:R}=l,B=new na(m,this.urlSerializer.serialize(v),A,P);this.events.next(B);let K=z0(this.rootComponentType).snapshot;return this.currentTransition=s=Me($({},l),{targetSnapshot:K,urlAfterRedirects:v,extras:Me($({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,te(s)}else{let m="";return this.events.next(new fi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Np.IgnoredByUrlHandlingStrategy)),l.resolve(null),Nt}}),Qe(l=>{let h=new Op(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),fe(l=>(this.currentTransition=s=Me($({},l),{guards:CO(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),NO(this.environmentInjector,l=>this.events.next(l)),Qe(l=>{if(s.guardsResult=l.guardsResult,Co(l.guardsResult))throw K0(this.urlSerializer,l.guardsResult);let h=new kp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),nn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Lt.GuardRejected),!1)),Sp(l=>{if(l.guards.canActivateChecks.length)return te(l).pipe(Qe(h=>{let p=new Fp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),rn(h=>{let p=!1;return te(h).pipe(s1(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Lt.NoDataFromResolver)}}))}),Qe(h=>{let p=new Lp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Sp(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Qe(v=>{p.component=v}),fe(()=>{})));for(let v of p.children)m.push(...h(v));return m};return Vc(h(l.targetSnapshot.root)).pipe(lr(null),jn(1))}),Sp(()=>this.afterPreactivation()),rn(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?We(p).pipe(fe(()=>s)):te(s)}),fe(l=>{let h=gO(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Me($({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Qe(()=>{this.events.next(new ia)}),EO(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),jn(1),Qe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new br(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),hh(this.transitionAbortSubject.pipe(Qe(l=>{throw l}))),Cs(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Lt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ur(l=>{if(u=!0,Y0(l))this.events.next(new Dr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),vO(l)?this.events.next(new oa(l.url)):s.resolve(!1);else{this.events.next(new ra(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Nt}))}))}cancelNavigationTransition(r,i,o){let s=new Dr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function y1(t){return t!==Xs}var v1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(_1),providedIn:"root"});let t=e;return t})(),eg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},_1=(()=>{let e=class e extends eg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(w1),providedIn:"root"});let t=e;return t})(),w1=(()=>{let e=class e extends rC{constructor(){super(...arguments),this.location=O(qs),this.urlSerializer=O(tg),this.options=O(cg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(lg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=z0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof na)this.stateMemento=this.createStateMemento();else if(r instanceof fi)this.rawUrlTree=i.initialUrl;else if(r instanceof nl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof ia?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Dr&&(r.code===Lt.GuardRejected||r.code===Lt.NoDataFromResolver)?this.restoreHistory(i):r instanceof ra?this.restoreHistory(i,!0):r instanceof br&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=$($({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=$($({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Js=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Js||{});function I1(t,e){t.events.pipe(nn(n=>n instanceof br||n instanceof Dr||n instanceof ra||n instanceof fi),fe(n=>n instanceof br||n instanceof fi?Js.COMPLETE:(n instanceof Dr?n.code===Lt.Redirect||n.code===Lt.SupersededByNewNavigation:!1)?Js.REDIRECTING:Js.FAILED),nn(n=>n!==Js.REDIRECTING),jn(1)).subscribe(()=>{e()})}function E1(t){throw t}var C1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},b1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(Bu),this.stateManager=O(rC),this.options=O(cg,{optional:!0})||{},this.pendingTasks=O(Fu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(m1),this.urlSerializer=O(tg),this.location=O(qs),this.urlHandlingStrategy=O(lg),this._events=new ut,this.errorHandler=this.options.errorHandler||E1,this.navigated=!1,this.routeReuseStrategy=O(v1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(ug,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(og,{optional:!0}),this.eventsSubscription=new je,this.isNgZoneEnabled=O(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Dr&&i.code!==Lt.Redirect&&i.code!==Lt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof br)this.navigated=!0;else if(i instanceof oa){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||y1(o.source)};this.scheduleNavigation(a,Xs,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}T1(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=$({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(sg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=$($({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=o?o.snapshot:this.routerState.snapshot.root;m=U0(v)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return B0(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Co(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Xs,null,i)}navigate(r,i={skipLocationChange:!1}){return D1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=$({},C1):i===!1?o=$({},b1):o=i,Co(r))return D0(this.currentUrlTree,r,o);let s=this.parseUrl(r);return D0(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return I1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function D1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}function T1(t){return!(t instanceof ia)&&!(t instanceof oa)}var To=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new ut,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:XI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(we(Vt),we(Kn),Ff("tabindex"),we(qn),we(Wt),we(Ir))},e.\u0275dir=Tt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&J("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Lu("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ot.HasDecoratorInputTransform,"preserveFragment","preserveFragment",mo],skipLocationChange:[Ot.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",mo],replaceUrl:[Ot.HasDecoratorInputTransform,"replaceUrl","replaceUrl",mo],routerLink:"routerLink"},standalone:!0,features:[tp,fo]});let t=e;return t})();var S1=new Z("");function iC(t,...e){return In([{provide:ug,multi:!0,useValue:t},[],{provide:Kn,useFactory:A1,deps:[Vt]},{provide:sp,multi:!0,useFactory:x1},e.map(n=>n.\u0275providers)])}function A1(t){return t.routerState.root}function M1(t,e){return{\u0275kind:t,\u0275providers:e}}function x1(){let t=O(Gt);return e=>{let n=t.get($s);if(e!==n.components[0])return;let r=t.get(Vt),i=t.get(P1);t.get(R1)===1&&r.initialNavigation(),t.get(N1,null,se.Optional)?.setUpPreloading(),t.get(S1,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var P1=new Z("",{factory:()=>new ut}),R1=new Z("",{providedIn:"root",factory:()=>1});var N1=new Z("");function oC(){return M1(6,[{provide:Ir,useClass:l0}])}function O1(t,e){if(t&1&&j(0,"i",2),t&2){let n=Cn();kE(n.iconClasses)}}var Sr=(()=>{let e=class e{constructor(r){this.viewContainerRef=r,this.clicked=new Dt}ngOnInit(){this.viewContainerRef.element.nativeElement.addEventListener("click",i=>{this.clicked.emit(i)})}};e.\u0275fac=function(i){return new(i||e)(we(_r))},e.\u0275cmp=Te({type:e,selectors:[["cw-button"]],inputs:{iconClasses:"iconClasses",text:"text"},outputs:{clicked:"clicked"},standalone:!0,features:[Se],decls:3,vars:2,consts:[["class","icon",3,"class",4,"ngIf"],[1,"text"],[1,"icon"]],template:function(i,o){i&1&&(Oe(0,O1,1,2,"i",0),T(1,"div",1),k(2),x()),i&2&&(Y("ngIf",o.iconClasses),V(2),Ye(o.text))},dependencies:[ke,At],styles:['[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative;padding:1rem;color:var(--white-primary);gap:1rem}[_nghost-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]:hover:before{opacity:1}[_nghost-%COMP%]:hover{border-color:#000}[_nghost-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.icon[_ngcontent-%COMP%]{z-index:4}.text[_ngcontent-%COMP%]{z-index:4;transition:color .2s ease-in}']});let t=e;return t})();function k1(t,e){t&1&&(T(0,"div",12),j(1,"img",13),x())}var ll=(()=>{let e=class e{constructor(){this.imageLoaded=!1,this.router=O(Vt)}onImageLoad(){this.imageLoaded=!0}showDesign(){this.router.navigate(["/design",this.design.id])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["cw-home-card"]],inputs:{design:"design"},standalone:!0,features:[Se],decls:19,vars:10,consts:[[3,"click"],["loading","lazy",1,"card",3,"load","src","alt"],["class","loader",4,"ngIf"],[1,"info",3,"click"],[1,"row","basic-info"],[1,"name"],[1,"price"],[1,"row","tags"],[1,"tag"],[1,"row","bottom"],[1,"click"],["iconClasses","fas fa-basket-shopping","text","Dodaj u korpu",3,"click"],[1,"loader"],["src","assets/current-wave-skeleton.svg","alt","Loading..."]],template:function(i,o){i&1&&(T(0,"div",0),J("click",function(){return o.showDesign()}),T(1,"img",1),J("load",function(){return o.onImageLoad()}),x()(),Oe(2,k1,2,0,"div",2),T(3,"div",3),J("click",function(){return o.showDesign()}),T(4,"div",4)(5,"div",5),k(6),x(),T(7,"div",6),k(8),kt(9,"currency"),x()(),T(10,"div",7)(11,"div",8),k(12),x(),T(13,"div",8),k(14),x()(),T(15,"div",9)(16,"div",10),k(17,"(Klikni za jo\u0161 informacija)"),x(),T(18,"cw-button",11),J("click",function(){return o.showDesign()}),x()()()),i&2&&(V(),wr("alt",o.design.name),Y("src",o.design.image,Kt),V(),Y("ngIf",!o.imageLoaded),V(4),Ye(o.design.name),V(2),Ye(HE(9,7,o.design.price,"RSD")),V(4),Ye(o.design.category),V(2),Ye(o.design.type))},dependencies:[Sr,ke,At,Er],styles:["[_nghost-%COMP%]{width:100%;position:relative;transition:.2s ease;border-radius:.8rem}[_nghost-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}[_nghost-%COMP%]:hover   .info[_ngcontent-%COMP%]{height:max(13rem,30%);background-color:var(--white-primary)}.card[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{border-radius:.8rem;width:100%;overflow:hidden}.info[_ngcontent-%COMP%]{position:absolute;bottom:0;height:0px;background-color:var(--white-primary);width:100%;border-radius:.8rem;padding-inline:1rem;box-sizing:border-box;overflow:hidden;display:flex;flex-direction:column;transition:.4s ease-in-out;-webkit-user-select:none;user-select:none}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.name[_ngcontent-%COMP%]{flex-grow:1;padding:5px}.basic-info[_ngcontent-%COMP%]{border-bottom:1px solid black;padding-bottom:5px;margin-top:2rem}.price[_ngcontent-%COMP%]{background:var(--gradient-primary);color:var(--white-primary);display:flex;justify-content:center;align-items:center;padding:5px;border-radius:5px}.tags[_ngcontent-%COMP%]{margin-top:5px;justify-content:start;gap:3px;font-family:var(--ff-secondary)}.tag[_ngcontent-%COMP%]{background-color:var(--clr-primary-700);padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-300);color:var(--white-primary)}.bottom[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:2rem}.click[_ngcontent-%COMP%]{color:var(--white-primary-transparent);font-family:var(--ff-secondary);opacity:.5;font-size:var(--fs-300)}a[_ngcontent-%COMP%]{text-decoration:none;height:100%}"]});let t=e;return t})();var aC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},cC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new hg;let m=o<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},hg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},L1=function(t){let e=aC(t);return cC.encodeByteArray(e,!0)},ha=function(t){return L1(t).replace(/\./g,"")},pg=function(t){try{return cC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function V1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var j1=()=>V1().__FIREBASE_DEFAULTS__,U1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&pg(t[1]);return e&&JSON.parse(e)},hl=()=>{try{return j1()||U1()||B1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uC=t=>{var e,n;return(n=(e=hl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fl=t=>{let e=uC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gg=()=>{var t;return(t=hl())===null||t===void 0?void 0:t.config},lC=t=>{var e;return(e=hl())===null||e===void 0?void 0:e[`_${t}`]};var dl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function dC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ha(JSON.stringify(n)),ha(JSON.stringify(s)),""].join(".")}function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function $1(){var t;let e=(t=hl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mC(){return!$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mg(){try{return typeof indexedDB=="object"}catch{return!1}}function yC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var H1="FirebaseError",jt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=H1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qn.prototype.create)}},Qn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?z1(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new jt(i,a,r)}};function z1(t,e){return t.replace(q1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var q1=/\{\$([^}]+)}/g;function So(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(sC(o)&&sC(s)){if(!So(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function sC(t){return t!==null&&typeof t=="object"}function yg(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vC(t,e){let n=new fg(t,e);return n.subscribe.bind(n)}var fg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=dg),i.error===void 0&&(i.error=dg),i.complete===void 0&&(i.complete=dg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function G1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dg(){}var Oq=4*60*60*1e3;function Mt(t){return t&&t._delegate?t._delegate:t}var xt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var pi="[DEFAULT]";var vg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new dl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K1(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function W1(t){return t===pi?void 0:t}function K1(t){return t.instantiationMode==="EAGER"}var pl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new vg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Q1=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),Y1={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},J1=le.INFO,Z1={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},X1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Z1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ar=class{constructor(e){this.name=e,this._logLevel=J1,this._logHandler=X1,this._userLogHandler=null,Q1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var ek=(t,e)=>e.some(n=>t instanceof n),_C,wC;function tk(){return _C||(_C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nk(){return wC||(wC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var IC=new WeakMap,wg=new WeakMap,EC=new WeakMap,_g=new WeakMap,Eg=new WeakMap;function rk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(An(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&IC.set(n,t)}).catch(()=>{}),Eg.set(e,t),e}function ik(t){if(wg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});wg.set(t,e)}var Ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CC(t){Ig=t(Ig)}function ok(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(gl(this),e,...n);return EC.set(r,e.sort?e.sort():[e]),An(r)}:nk().includes(t)?function(...e){return t.apply(gl(this),e),An(IC.get(this))}:function(...e){return An(t.apply(gl(this),e))}}function sk(t){return typeof t=="function"?ok(t):(t instanceof IDBTransaction&&ik(t),ek(t,tk())?new Proxy(t,Ig):t)}function An(t){if(t instanceof IDBRequest)return rk(t);if(_g.has(t))return _g.get(t);let e=sk(t);return e!==t&&(_g.set(t,e),Eg.set(e,t)),e}var gl=t=>Eg.get(t);function DC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=An(s);return r&&s.addEventListener("upgradeneeded",u=>{r(An(s.result),u.oldVersion,u.newVersion,An(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var ak=["get","getKey","getAll","getAllKeys","count"],ck=["put","add","delete","clear"],Cg=new Map;function bC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cg.get(e))return Cg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ck.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ak.includes(n)))return;let o=function(s,...a){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Cg.set(e,o),o}CC(t=>Me($({},t),{get:(e,n,r)=>bC(e,n)||t.get(e,n,r),has:(e,n)=>!!bC(e,n)||t.has(e,n)}));var Dg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function uk(t){let e=t.getComponent();return e?.type==="VERSION"}var Tg="@firebase/app",TC="0.10.11";var Yn=new Ar("@firebase/app"),lk="@firebase/app-compat",dk="@firebase/analytics-compat",hk="@firebase/analytics",fk="@firebase/app-check-compat",pk="@firebase/app-check",gk="@firebase/auth",mk="@firebase/auth-compat",yk="@firebase/database",vk="@firebase/database-compat",_k="@firebase/functions",wk="@firebase/functions-compat",Ik="@firebase/installations",Ek="@firebase/installations-compat",Ck="@firebase/messaging",bk="@firebase/messaging-compat",Dk="@firebase/performance",Tk="@firebase/performance-compat",Sk="@firebase/remote-config",Ak="@firebase/remote-config-compat",Mk="@firebase/storage",xk="@firebase/storage-compat",Pk="@firebase/firestore",Rk="@firebase/vertexai-preview",Nk="@firebase/firestore-compat",Ok="firebase",kk="10.13.2";var Sg="[DEFAULT]",Fk={[Tg]:"fire-core",[lk]:"fire-core-compat",[hk]:"fire-analytics",[dk]:"fire-analytics-compat",[pk]:"fire-app-check",[fk]:"fire-app-check-compat",[gk]:"fire-auth",[mk]:"fire-auth-compat",[yk]:"fire-rtdb",[vk]:"fire-rtdb-compat",[_k]:"fire-fn",[wk]:"fire-fn-compat",[Ik]:"fire-iid",[Ek]:"fire-iid-compat",[Ck]:"fire-fcm",[bk]:"fire-fcm-compat",[Dk]:"fire-perf",[Tk]:"fire-perf-compat",[Sk]:"fire-rc",[Ak]:"fire-rc-compat",[Mk]:"fire-gcs",[xk]:"fire-gcs-compat",[Pk]:"fire-fst",[Nk]:"fire-fst-compat",[Rk]:"fire-vertex","fire-js":"fire-js",[Ok]:"fire-js-all"};var fa=new Map,Lk=new Map,Ag=new Map;function SC(t,e){try{t.container.addComponent(e)}catch(n){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mn(t){let e=t.name;if(Ag.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;Ag.set(e,t);for(let n of fa.values())SC(n,t);for(let n of Lk.values())SC(n,t);return!0}function ga(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ao(t){return t.settings!==void 0}var Vk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Qn("app","Firebase",Vk);var Mg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}};var Mo=kk;function Rg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Sg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Mr.create("bad-app-name",{appName:String(i)});if(n||(n=gg()),!n)throw Mr.create("no-options");let o=fa.get(i);if(o){if(So(n,o.options)&&So(r,o.config))return o;throw Mr.create("duplicate-app",{appName:i})}let s=new pl(i);for(let u of Ag.values())s.addComponent(u);let a=new Mg(n,r,s);return fa.set(i,a),a}function gi(t=Sg){let e=fa.get(t);if(!e&&t===Sg&&gg())return Rg();if(!e)throw Mr.create("no-app",{appName:t});return e}function ml(){return Array.from(fa.values())}function Fe(t,e,n){var r;let i=(r=Fk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(a.join(" "));return}Mn(new xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var jk="firebase-heartbeat-database",Uk=1,pa="firebase-heartbeat-store",bg=null;function PC(){return bg||(bg=DC(jk,Uk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),bg}function Bk(t){return S(this,null,function*(){try{let n=(yield PC()).transaction(pa),r=yield n.objectStore(pa).get(RC(t));return yield n.done,r}catch(e){if(e instanceof jt)Yn.warn(e.message);else{let n=Mr.create("idb-get",{originalErrorMessage:e?.message});Yn.warn(n.message)}}})}function AC(t,e){return S(this,null,function*(){try{let r=(yield PC()).transaction(pa,"readwrite");yield r.objectStore(pa).put(e,RC(t)),yield r.done}catch(n){if(n instanceof jt)Yn.warn(n.message);else{let r=Mr.create("idb-set",{originalErrorMessage:n?.message});Yn.warn(r.message)}}})}function RC(t){return`${t.name}!${t.options.appId}`}var $k=1024,Hk=30*24*60*60*1e3,xg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Pg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=MC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Hk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yn.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=MC(),{heartbeatsToSend:r,unsentEntries:i}=zk(this._heartbeatsCache.heartbeats),o=ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Yn.warn(n),""}})}};function MC(){return new Date().toISOString().substring(0,10)}function zk(t,e=$k){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),xC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Pg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return mg()?yC().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Bk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xC(t){return ha(JSON.stringify({version:2,heartbeats:t})).length}function qk(t){Mn(new xt("platform-logger",e=>new Dg(e),"PRIVATE")),Mn(new xt("heartbeat",e=>new xg(e),"PRIVATE")),Fe(Tg,TC,t),Fe(Tg,TC,"esm2017"),Fe("fire-js","")}qk("");var Gk="firebase",Wk="10.13.2";Fe(Gk,Wk,"app");var xr=new $n("ANGULARFIRE2_VERSION");function ma(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var vi=(t,e)=>{let n=e?[e]:ml(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},yi=class{constructor(){return vi(Kk)}},Kk="app-check";function xo(){}var yl=class{zone;delegate;constructor(e,n=ih){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Ng=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xo,{},xo,xo)),n.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},_i=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new yl(Zone.current)),this.insideAngular=n.run(()=>new yl(Zone.current,rh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ae(De))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Qk(t){return vl().ngZone.runOutsideAngular(()=>t())}function mi(t){return vl().ngZone.run(()=>t())}function Yk(t){return Jk(vl())(t)}function Jk(t){return function(n){return n=n.lift(new Ng(t.ngZone)),n.pipe(cr(t.outsideAngular),ar(t.insideAngular))}}var Zk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),mi(()=>t.apply(void 0,r))},It=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=mi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xo,{},xo,xo))),r[o]=Zk(r[o],n));let i=Qk(()=>t.apply(this,r));if(!e)if(i instanceof ve){let o=vl();return i.pipe(cr(o.outsideAngular),ar(o.insideAngular))}else return mi(()=>i);return i instanceof ve?i.pipe(Yk):i instanceof Promise?mi(()=>new Promise((o,s)=>i.then(a=>mi(()=>o(a)),a=>mi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:mi(()=>i)};var Jn=class{constructor(e){return e}},wi=class{constructor(){return ml()}};function Xk(t){return t&&t.length===1?t[0]:new Jn(gi())}var Og=new Z("angularfire2._apps"),eF={provide:Jn,useFactory:Xk,deps:[[new dt,Og]]},tF={provide:wi,deps:[[new dt,Og]]};function nF(t){return(e,n)=>{let r=n.get(vr);Fe("angularfire",xr.full,"core"),Fe("angularfire",xr.full,"app"),Fe("angular",qE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Jn(i)}}function NC(t,...e){return In([eF,tF,{provide:Og,useFactory:nF(t),multi:!0,deps:[De,Gt,_i,...e]}])}var OC=It(Rg,!0);function $C(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HC=$C,zC=new Qn("auth","Firebase",$C());var El=new Ar("@firebase/auth");function iF(t,...e){El.logLevel<=le.WARN&&El.warn(`Auth (${Mo}): ${t}`,...e)}function wl(t,...e){El.logLevel<=le.ERROR&&El.error(`Auth (${Mo}): ${t}`,...e)}function kC(t,...e){throw Gg(t,...e)}function qg(t,...e){return Gg(t,...e)}function qC(t,e,n){let r=Object.assign(Object.assign({},HC()),{[e]:n});return new Qn("auth","Firebase",r).create(e,{appName:t.name})}function Il(t){return qC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zC.create(t,...e)}function Ie(t,e,...n){if(!t)throw Gg(e,...n)}function ya(t){let e="INTERNAL ASSERTION FAILED: "+t;throw wl(e),new Error(e)}function Cl(t,e){t||ya(e)}function oF(){return FC()==="http:"||FC()==="https:"}function FC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function sF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oF()||pC()||"connection"in navigator)?navigator.onLine:!0}function aF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ei=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cl(n>e,"Short delay should be less than long delay!"),this.isMobile=hC()||gC()}get(){return sF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function cF(t,e){Cl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var bl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var uF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lF=new Ei(3e4,6e4);function GC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Al(o,s,a,u){return S(this,arguments,function*(t,e,n,r,i={}){return WC(t,i,()=>S(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=yg(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:m},l);return fC()||(v.referrerPolicy="no-referrer"),bl.fetch()(KC(t,t.config.apiHost,n,p),v)}))})}function WC(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},uF),e);try{let i=new Lg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw _l(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _l(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw _l(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw _l(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw qC(t,h,l);kC(t,h)}}catch(i){if(i instanceof jt)throw i;kC(t,"network-request-failed",{message:String(i)})}})}function KC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?cF(t.config,i):`${t.config.apiScheme}://${i}`}var Lg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qg(this.auth,"network-request-failed")),lF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _l(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=qg(t,e,r);return i.customData._tokenResponse=n,i}function dF(t,e){return S(this,null,function*(){return Al(t,"POST","/v1/accounts:delete",e)})}function QC(t,e){return S(this,null,function*(){return Al(t,"POST","/v1/accounts:lookup",e)})}function va(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Wg(t,e=!1){return S(this,null,function*(){let n=Mt(t),r=yield n.getIdToken(e),i=YC(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:va(kg(i.auth_time)),issuedAtTime:va(kg(i.iat)),expirationTime:va(kg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function kg(t){return Number(t)*1e3}function YC(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wl("JWT malformed, contained fewer than 3 sections"),null;try{let i=pg(n);return i?JSON.parse(i):(wl("Failed to decode base64 JWT payload"),null)}catch(i){return wl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LC(t){let e=YC(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Vg(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof jt&&hF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function hF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var jg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var wa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=va(this.lastLoginAt),this.creationTime=va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Dl(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Vg(t,QC(n,{idToken:r}));Ie(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JC(o.providerUserInfo):[],a=fF(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new wa(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Kg(t){return S(this,null,function*(){let e=Mt(t);yield Dl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function fF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JC(t){return t.map(e=>{var{providerId:n}=e,r=oh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function pF(t,e){return S(this,null,function*(){let n=yield WC(t,{},()=>S(this,null,function*(){let r=yg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=KC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bl.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function gF(t,e){return S(this,null,function*(){return Al(t,"POST","/v2/accounts:revokeToken",GC(t,e))})}var _a=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");let n=LC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield pF(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ya("not implemented")}};function Pr(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ia=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=oh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield Vg(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Wg(this,e)}reload(){return Kg(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Dl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Ao(this.auth.app))return Promise.reject(Il(this.auth));let e=yield this.getIdToken();return yield Vg(this,dF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,B=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:oe,isAnonymous:Pe,providerData:ne,stsTokenManager:E}=n;Ie(W&&E,e,"internal-error");let y=_a.fromJSON(this.name,E);Ie(typeof W=="string",e,"internal-error"),Pr(p,e.name),Pr(m,e.name),Ie(typeof oe=="boolean",e,"internal-error"),Ie(typeof Pe=="boolean",e,"internal-error"),Pr(v,e.name),Pr(A,e.name),Pr(P,e.name),Pr(R,e.name),Pr(B,e.name),Pr(K,e.name);let _=new t({uid:W,auth:e,email:m,emailVerified:oe,displayName:p,isAnonymous:Pe,photoURL:A,phoneNumber:v,tenantId:P,stsTokenManager:y,createdAt:B,lastLoginAt:K});return ne&&Array.isArray(ne)&&(_.providerData=ne.map(I=>Object.assign({},I))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new _a;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Dl(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];Ie(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?JC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new _a;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var VC=new Map;function Ii(t){Cl(t instanceof Function,"Expected a class definition");let e=VC.get(t);return e?(Cl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VC.set(t,e),e)}var mF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ug=mF;function Fg(t,e,n){return`firebase:${t}:${e}:${n}`}var Tl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Fg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ia._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(Ii(Ug),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ii(Ug),s=Fg(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Ia._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function jC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EF(e))return"Blackberry";if(CF(e))return"Webos";if(vF(e))return"Safari";if((e.includes("chrome/")||_F(e))&&!e.includes("edge/"))return"Chrome";if(IF(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function yF(t=Ut()){return/firefox\//i.test(t)}function vF(t=Ut()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _F(t=Ut()){return/crios\//i.test(t)}function wF(t=Ut()){return/iemobile/i.test(t)}function IF(t=Ut()){return/android/i.test(t)}function EF(t=Ut()){return/blackberry/i.test(t)}function CF(t=Ut()){return/webos/i.test(t)}function ZC(t,e=[]){let n;switch(t){case"Browser":n=jC(Ut());break;case"Worker":n=`${jC(Ut())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}var Bg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function bF(n){return S(this,arguments,function*(t,e={}){return Al(t,"GET","/v2/passwordPolicy",GC(t,e))})}var DF=6,$g=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:DF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Hg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sl(this),this.idTokenSubscription=new Sl(this),this.beforeStateQueue=new Bg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield QC(this,{idToken:e}),r=yield Ia._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(Ao(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Dl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=aF()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(Ao(this.app))return Promise.reject(Il(this));let n=e?Mt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Ao(this.app)?Promise.reject(Il(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ao(this.app)?Promise.reject(Il(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Ii(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield bF(this),n=new $g(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield gF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ii(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=yield Tl.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&iF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function TF(t){return Mt(t)}var Sl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vC(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var SF={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AF(t){SF=t}function MF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function xF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var P3=MF("rcb"),R3=new Ei(3e4,6e4);var N3=new Ei(2e3,1e4);var O3=10*60*1e3;var k3=new Ei(3e4,6e4);var F3=new Ei(5e3,15e3);var L3=encodeURIComponent("fac");var UC="@firebase/auth",BC="1.7.9";var zg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function PF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RF(t){Mn(new xt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZC(t)},l=new Hg(r,i,o,u);return xF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mn(new xt("auth-internal",e=>{let n=TF(e.getProvider("auth").getImmediate());return(r=>new zg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(UC,BC,PF(t)),Fe(UC,BC,"esm2017")}var NF=5*60,V3=lC("authIdTokenMaxAge")||NF;function OF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=qg("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",OF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RF("Browser");var NL="auth";var Po=class{constructor(){return vi(NL)}};var XC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eb={};var Rr,Qg;(function(){var t;function e(E,y){function _(){}_.prototype=y.prototype,E.D=y.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(I,C,D){for(var w=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)w[kn-2]=arguments[kn];return y.prototype[C].apply(I,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,_){_||(_=0);var I=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)I[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)I[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=E.g[0],_=E.g[1],C=E.g[2];var D=E.g[3],w=y+(D^_&(C^D))+I[0]+3614090360&4294967295;y=_+(w<<7&4294967295|w>>>25),w=D+(C^y&(_^C))+I[1]+3905402710&4294967295,D=y+(w<<12&4294967295|w>>>20),w=C+(_^D&(y^_))+I[2]+606105819&4294967295,C=D+(w<<17&4294967295|w>>>15),w=_+(y^C&(D^y))+I[3]+3250441966&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(D^_&(C^D))+I[4]+4118548399&4294967295,y=_+(w<<7&4294967295|w>>>25),w=D+(C^y&(_^C))+I[5]+1200080426&4294967295,D=y+(w<<12&4294967295|w>>>20),w=C+(_^D&(y^_))+I[6]+2821735955&4294967295,C=D+(w<<17&4294967295|w>>>15),w=_+(y^C&(D^y))+I[7]+4249261313&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(D^_&(C^D))+I[8]+1770035416&4294967295,y=_+(w<<7&4294967295|w>>>25),w=D+(C^y&(_^C))+I[9]+2336552879&4294967295,D=y+(w<<12&4294967295|w>>>20),w=C+(_^D&(y^_))+I[10]+4294925233&4294967295,C=D+(w<<17&4294967295|w>>>15),w=_+(y^C&(D^y))+I[11]+2304563134&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(D^_&(C^D))+I[12]+1804603682&4294967295,y=_+(w<<7&4294967295|w>>>25),w=D+(C^y&(_^C))+I[13]+4254626195&4294967295,D=y+(w<<12&4294967295|w>>>20),w=C+(_^D&(y^_))+I[14]+2792965006&4294967295,C=D+(w<<17&4294967295|w>>>15),w=_+(y^C&(D^y))+I[15]+1236535329&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(C^D&(_^C))+I[1]+4129170786&4294967295,y=_+(w<<5&4294967295|w>>>27),w=D+(_^C&(y^_))+I[6]+3225465664&4294967295,D=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(D^y))+I[11]+643717713&4294967295,C=D+(w<<14&4294967295|w>>>18),w=_+(D^y&(C^D))+I[0]+3921069994&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(C^D&(_^C))+I[5]+3593408605&4294967295,y=_+(w<<5&4294967295|w>>>27),w=D+(_^C&(y^_))+I[10]+38016083&4294967295,D=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(D^y))+I[15]+3634488961&4294967295,C=D+(w<<14&4294967295|w>>>18),w=_+(D^y&(C^D))+I[4]+3889429448&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(C^D&(_^C))+I[9]+568446438&4294967295,y=_+(w<<5&4294967295|w>>>27),w=D+(_^C&(y^_))+I[14]+3275163606&4294967295,D=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(D^y))+I[3]+4107603335&4294967295,C=D+(w<<14&4294967295|w>>>18),w=_+(D^y&(C^D))+I[8]+1163531501&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(C^D&(_^C))+I[13]+2850285829&4294967295,y=_+(w<<5&4294967295|w>>>27),w=D+(_^C&(y^_))+I[2]+4243563512&4294967295,D=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(D^y))+I[7]+1735328473&4294967295,C=D+(w<<14&4294967295|w>>>18),w=_+(D^y&(C^D))+I[12]+2368359562&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(_^C^D)+I[5]+4294588738&4294967295,y=_+(w<<4&4294967295|w>>>28),w=D+(y^_^C)+I[8]+2272392833&4294967295,D=y+(w<<11&4294967295|w>>>21),w=C+(D^y^_)+I[11]+1839030562&4294967295,C=D+(w<<16&4294967295|w>>>16),w=_+(C^D^y)+I[14]+4259657740&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(_^C^D)+I[1]+2763975236&4294967295,y=_+(w<<4&4294967295|w>>>28),w=D+(y^_^C)+I[4]+1272893353&4294967295,D=y+(w<<11&4294967295|w>>>21),w=C+(D^y^_)+I[7]+4139469664&4294967295,C=D+(w<<16&4294967295|w>>>16),w=_+(C^D^y)+I[10]+3200236656&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(_^C^D)+I[13]+681279174&4294967295,y=_+(w<<4&4294967295|w>>>28),w=D+(y^_^C)+I[0]+3936430074&4294967295,D=y+(w<<11&4294967295|w>>>21),w=C+(D^y^_)+I[3]+3572445317&4294967295,C=D+(w<<16&4294967295|w>>>16),w=_+(C^D^y)+I[6]+76029189&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(_^C^D)+I[9]+3654602809&4294967295,y=_+(w<<4&4294967295|w>>>28),w=D+(y^_^C)+I[12]+3873151461&4294967295,D=y+(w<<11&4294967295|w>>>21),w=C+(D^y^_)+I[15]+530742520&4294967295,C=D+(w<<16&4294967295|w>>>16),w=_+(C^D^y)+I[2]+3299628645&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(C^(_|~D))+I[0]+4096336452&4294967295,y=_+(w<<6&4294967295|w>>>26),w=D+(_^(y|~C))+I[7]+1126891415&4294967295,D=y+(w<<10&4294967295|w>>>22),w=C+(y^(D|~_))+I[14]+2878612391&4294967295,C=D+(w<<15&4294967295|w>>>17),w=_+(D^(C|~y))+I[5]+4237533241&4294967295,_=C+(w<<21&4294967295|w>>>11),w=y+(C^(_|~D))+I[12]+1700485571&4294967295,y=_+(w<<6&4294967295|w>>>26),w=D+(_^(y|~C))+I[3]+2399980690&4294967295,D=y+(w<<10&4294967295|w>>>22),w=C+(y^(D|~_))+I[10]+4293915773&4294967295,C=D+(w<<15&4294967295|w>>>17),w=_+(D^(C|~y))+I[1]+2240044497&4294967295,_=C+(w<<21&4294967295|w>>>11),w=y+(C^(_|~D))+I[8]+1873313359&4294967295,y=_+(w<<6&4294967295|w>>>26),w=D+(_^(y|~C))+I[15]+4264355552&4294967295,D=y+(w<<10&4294967295|w>>>22),w=C+(y^(D|~_))+I[6]+2734768916&4294967295,C=D+(w<<15&4294967295|w>>>17),w=_+(D^(C|~y))+I[13]+1309151649&4294967295,_=C+(w<<21&4294967295|w>>>11),w=y+(C^(_|~D))+I[4]+4149444226&4294967295,y=_+(w<<6&4294967295|w>>>26),w=D+(_^(y|~C))+I[11]+3174756917&4294967295,D=y+(w<<10&4294967295|w>>>22),w=C+(y^(D|~_))+I[2]+718787259&4294967295,C=D+(w<<15&4294967295|w>>>17),w=_+(D^(C|~y))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+D&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var _=y-this.blockSize,I=this.B,C=this.h,D=0;D<y;){if(C==0)for(;D<=_;)i(this,E,D),D+=this.blockSize;if(typeof E=="string"){for(;D<y;)if(I[C++]=E.charCodeAt(D++),C==this.blockSize){i(this,I),C=0;break}}else for(;D<y;)if(I[C++]=E[D++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var _=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=_&255,_/=256;for(this.u(E),E=Array(16),y=_=0;4>y;++y)for(var I=0;32>I;I+=8)E[_++]=this.g[y]>>>I&255;return E};function o(E,y){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=y(E)}function s(E,y){this.h=y;for(var _=[],I=!0,C=E.length-1;0<=C;C--){var D=E[C]|0;I&&D==y||(_[C]=D,I=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var y=[],_=1,I=0;E>=_;I++)y[I]=E/_|0,_*=4294967296;return new s(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return R(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),I=p,C=0;C<E.length;C+=8){var D=Math.min(8,E.length-C),w=parseInt(E.substring(C,C+D),y);8>D?(D=l(Math.pow(y,D)),I=I.j(D).add(l(w))):(I=I.j(_),I=I.add(l(w)))}return I}var p=u(0),m=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-R(this).m();for(var E=0,y=1,_=0;_<this.g.length;_++){var I=this.i(_);E+=(0<=I?I:4294967296+I)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(P(this))return"-"+R(this).toString(E);for(var y=l(Math.pow(E,6)),_=this,I="";;){var C=oe(_,y).g;_=B(_,C.j(y));var D=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=C,A(_))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function P(E){return E.h==-1}t.l=function(E){return E=B(this,E),P(E)?-1:A(E)?0:1};function R(E){for(var y=E.g.length,_=[],I=0;I<y;I++)_[I]=~E.g[I];return new s(_,~E.h).add(m)}t.abs=function(){return P(this)?R(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0,C=0;C<=y;C++){var D=I+(this.i(C)&65535)+(E.i(C)&65535),w=(D>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=w>>>16,D&=65535,w&=65535,_[C]=w<<16|D}return new s(_,_[_.length-1]&-2147483648?-1:0)};function B(E,y){return E.add(R(y))}t.j=function(E){if(A(this)||A(E))return p;if(P(this))return P(E)?R(this).j(R(E)):R(R(this).j(E));if(P(E))return R(this.j(R(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,_=[],I=0;I<2*y;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<E.g.length;C++){var D=this.i(I)>>>16,w=this.i(I)&65535,kn=E.i(C)>>>16,ts=E.i(C)&65535;_[2*I+2*C]+=w*ts,K(_,2*I+2*C),_[2*I+2*C+1]+=D*ts,K(_,2*I+2*C+1),_[2*I+2*C+1]+=w*kn,K(_,2*I+2*C+1),_[2*I+2*C+2]+=D*kn,K(_,2*I+2*C+2)}for(I=0;I<y;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=y;I<2*y;I++)_[I]=0;return new s(_,0)};function K(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function W(E,y){this.g=E,this.h=y}function oe(E,y){if(A(y))throw Error("division by zero");if(A(E))return new W(p,p);if(P(E))return y=oe(R(E),y),new W(R(y.g),R(y.h));if(P(y))return y=oe(E,R(y)),new W(R(y.g),y.h);if(30<E.g.length){if(P(E)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,I=y;0>=I.l(E);)_=Pe(_),I=Pe(I);var C=ne(_,1),D=ne(I,1);for(I=ne(I,2),_=ne(_,2);!A(I);){var w=D.add(I);0>=w.l(E)&&(C=C.add(_),D=w),I=ne(I,1),_=ne(_,1)}return y=B(E,C.j(y)),new W(C,y)}for(C=p;0<=E.l(y);){for(_=Math.max(1,Math.floor(E.m()/y.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=l(_),w=D.j(y);P(w)||0<w.l(E);)_-=I,D=l(_),w=D.j(y);A(D)&&(D=m),C=C.add(D),E=B(E,w)}return new W(C,E)}t.A=function(E){return oe(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0;I<y;I++)_[I]=this.i(I)&E.i(I);return new s(_,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0;I<y;I++)_[I]=this.i(I)|E.i(I);return new s(_,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0;I<y;I++)_[I]=this.i(I)^E.i(I);return new s(_,this.h^E.h)};function Pe(E){for(var y=E.g.length+1,_=[],I=0;I<y;I++)_[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(_,E.h)}function ne(E,y){var _=y>>5;y%=32;for(var I=E.g.length-_,C=[],D=0;D<I;D++)C[D]=0<y?E.i(D+_)>>>y|E.i(D+_+1)<<32-y:E.i(D+_);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Qg=eb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Rr=eb.Integer=s}).apply(typeof XC<"u"?XC:typeof self<"u"?self:typeof window<"u"?window:{});var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={};var Yg,Jg,Ro,Zg,Ea,xl,Xg,em,tm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ml=="object"&&Ml];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,M){for(var L=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)L[Ae-2]=arguments[Ae];return d.prototype[b].apply(g,L)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,M=g.length||0;c.length=b+M;for(let L=0;L<M;L++)c[b+L]=g[L]}else c.push(g)}}class B{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var Pe=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ne(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let M=0;M<_.length;M++)f=_[M],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function D(c){a.setTimeout(()=>{throw c},0)}function w(){var c=_d;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class kn{constructor(){this.h=this.g=null}add(d,f){let g=ts.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ts=new B(()=>new TT,c=>c.reset());class TT{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ns,rs=!1,_d=new kn,av=()=>{let c=a.Promise.resolve(void 0);ns=()=>{c.then(ST)}};var ST=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){D(f)}var d=ts;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}rs=!1};function nr(){this.s=this.s,this.C=this.C}nr.prototype.s=!1,nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var AT=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function is(c,d){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Pe){e:{try{oe(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:MT[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&is.aa.h.call(this)}}A(is,ot);var MT={2:"touch",3:"pen",4:"mouse"};is.prototype.h=function(){is.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var os="closure_listenable_"+(1e6*Math.random()|0),xT=0;function PT(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++xT,this.da=this.fa=!1}function ec(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function tc(c){this.src=c,this.g={},this.h=0}tc.prototype.add=function(c,d,f,g,b){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var L=Id(c,d,g,b);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new PT(d,this.src,M,!!g,b),d.fa=f,c.push(d)),d};function wd(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),M;(M=0<=b)&&Array.prototype.splice.call(g,b,1),M&&(ec(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Id(c,d,f,g){for(var b=0;b<c.length;++b){var M=c[b];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==g)return b}return-1}var Ed="closure_lm_"+(1e6*Math.random()|0),Cd={};function cv(c,d,f,g,b){if(g&&g.once)return lv(c,d,f,g,b);if(Array.isArray(d)){for(var M=0;M<d.length;M++)cv(c,d[M],f,g,b);return null}return f=Sd(f),c&&c[os]?c.K(d,f,l(g)?!!g.capture:!!g,b):uv(c,d,f,!1,g,b)}function uv(c,d,f,g,b,M){if(!d)throw Error("Invalid event type");var L=l(b)?!!b.capture:!!b,Ae=Dd(c);if(Ae||(c[Ed]=Ae=new tc(c)),f=Ae.add(d,f,g,L,M),f.proxy)return f;if(g=RT(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)AT||(b=L),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(hv(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function RT(){function c(f){return d.call(c.src,c.listener,f)}let d=NT;return c}function lv(c,d,f,g,b){if(Array.isArray(d)){for(var M=0;M<d.length;M++)lv(c,d[M],f,g,b);return null}return f=Sd(f),c&&c[os]?c.L(d,f,l(g)?!!g.capture:!!g,b):uv(c,d,f,!0,g,b)}function dv(c,d,f,g,b){if(Array.isArray(d))for(var M=0;M<d.length;M++)dv(c,d[M],f,g,b);else g=l(g)?!!g.capture:!!g,f=Sd(f),c&&c[os]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=Id(M,f,g,b),-1<f&&(ec(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=Dd(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Id(d,f,g,b)),(f=-1<c?d[c]:null)&&bd(f))}function bd(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[os])wd(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(hv(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Dd(d))?(wd(f,c),f.h==0&&(f.src=null,d[Ed]=null)):ec(c)}}}function hv(c){return c in Cd?Cd[c]:Cd[c]="on"+c}function NT(c,d){if(c.da)c=!0;else{d=new is(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&bd(c),c=f.call(g,d)}return c}function Dd(c){return c=c[Ed],c instanceof tc?c:null}var Td="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sd(c){return typeof c=="function"?c:(c[Td]||(c[Td]=function(d){return c.handleEvent(d)}),c[Td])}function st(){nr.call(this),this.i=new tc(this),this.M=this,this.F=null}A(st,nr),st.prototype[os]=!0,st.prototype.removeEventListener=function(c,d,f,g){dv(this,c,d,f,g)};function yt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ot(d,c);else if(d instanceof ot)d.target=d.target||c;else{var b=d;d=new ot(g,c),I(d,b)}if(b=!0,f)for(var M=f.length-1;0<=M;M--){var L=d.g=f[M];b=nc(L,g,!0,d)&&b}if(L=d.g=c,b=nc(L,g,!0,d)&&b,b=nc(L,g,!1,d)&&b,f)for(M=0;M<f.length;M++)L=d.g=f[M],b=nc(L,g,!1,d)&&b}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)ec(f[g]);delete c.g[d],c.h--}}this.F=null},st.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},st.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function nc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,M=0;M<d.length;++M){var L=d[M];if(L&&!L.da&&L.capture==f){var Ae=L.listener,tt=L.ha||L.src;L.fa&&wd(c.i,L),b=Ae.call(tt,g)!==!1&&b}}return b&&!g.defaultPrevented}function fv(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function pv(c){c.g=fv(()=>{c.g=null,c.i&&(c.i=!1,pv(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class OT extends nr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:pv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){nr.call(this),this.h=c,this.g={}}A(ss,nr);var gv=[];function mv(c){ne(c.g,function(d,f){this.g.hasOwnProperty(f)&&bd(d)},c),c.g={}}ss.prototype.N=function(){ss.aa.N.call(this),mv(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ad=a.JSON.stringify,kT=a.JSON.parse,FT=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Md(){}Md.prototype.h=null;function yv(c){return c.h||(c.h=c.i())}function vv(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xd(){ot.call(this,"d")}A(xd,ot);function Pd(){ot.call(this,"c")}A(Pd,ot);var jr={},_v=null;function rc(){return _v=_v||new st}jr.La="serverreachability";function wv(c){ot.call(this,jr.La,c)}A(wv,ot);function cs(c){let d=rc();yt(d,new wv(d))}jr.STAT_EVENT="statevent";function Iv(c,d){ot.call(this,jr.STAT_EVENT,c),this.stat=d}A(Iv,ot);function vt(c){let d=rc();yt(d,new Iv(d,c))}jr.Ma="timingevent";function Ev(c,d){ot.call(this,jr.Ma,c),this.size=d}A(Ev,ot);function us(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ls(){this.g=!0}ls.prototype.xa=function(){this.g=!1};function LT(c,d,f,g,b,M){c.info(function(){if(c.g)if(M)for(var L="",Ae=M.split("&"),tt=0;tt<Ae.length;tt++){var ye=Ae[tt].split("=");if(1<ye.length){var at=ye[0];ye=ye[1];var ct=at.split("_");L=2<=ct.length&&ct[1]=="type"?L+(at+"="+ye+"&"):L+(at+"=redacted&")}}else L=null;else L=M;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+L})}function VT(c,d,f,g,b,M,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+M+" "+L})}function Ri(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+UT(c,f)+(g?" "+g:"")})}function jT(c,d){c.info(function(){return"TIMEOUT: "+d})}ls.prototype.info=function(){};function UT(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var M=b[0];if(M!="noop"&&M!="stop"&&M!="close")for(var L=1;L<b.length;L++)b[L]=""}}}}return Ad(f)}catch{return d}}var ic={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rd;function oc(){}A(oc,Md),oc.prototype.g=function(){return new XMLHttpRequest},oc.prototype.i=function(){return{}},Rd=new oc;function rr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bv}function bv(){this.i=null,this.g="",this.h=!1}var Dv={},Nd={};function Od(c,d,f){c.L=1,c.v=uc(Fn(d)),c.m=f,c.P=!0,Tv(c,null)}function Tv(c,d){c.F=Date.now(),sc(c),c.A=Fn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Uv(f.i,"t",g),c.C=0,f=c.j.J,c.h=new bv,c.g=i_(c.j,f?d:null,!c.m),0<c.O&&(c.M=new OT(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(gv[0]=b.toString()),b=gv);for(var M=0;M<b.length;M++){var L=cv(f,b[M],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),cs(),LT(c.i,c.u,c.A,c.l,c.R,c.m)}rr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Ln(c)==3?d.j():this.Y(c)},rr.prototype.Y=function(c){try{if(c==this.g)e:{let ct=Ln(this.g);var d=this.g.Ba();let ki=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Wv(this.g)))){this.J||ct!=4||d==7||(d==8||0>=ki?cs(3):cs(2)),kd(this);var f=this.g.Z();this.X=f;t:if(Sv(this)){var g=Wv(this.g);c="";var b=g.length,M=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),ds(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(M&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,VT(this.i,this.u,this.A,this.l,this.R,ct,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,tt=this.g;if((Ae=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ae)){var ye=Ae;break t}}ye=null}if(f=ye)Ri(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fd(this,f);else{this.o=!1,this.s=3,vt(12),Ur(this),ds(this);break e}}if(this.P){f=!0;let en;for(;!this.J&&this.C<L.length;)if(en=BT(this,L),en==Nd){ct==4&&(this.s=4,vt(14),f=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Dv){this.s=4,vt(15),Ri(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else Ri(this.i,this.l,en,null),Fd(this,en);if(Sv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||L.length!=0||this.h.h||(this.s=1,vt(16),f=!1),this.o=this.o&&f,!f)Ri(this.i,this.l,L,"[Invalid Chunked Response]"),Ur(this),ds(this);else if(0<L.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),$d(at),at.M=!0,vt(11))}}else Ri(this.i,this.l,L,null),Fd(this,L);ct==4&&Ur(this),this.o&&!this.J&&(ct==4?e_(this.j,this):(this.o=!1,sc(this)))}else iS(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Ur(this),ds(this)}}}catch{}finally{}};function Sv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function BT(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Nd:(f=Number(d.substring(f,g)),isNaN(f)?Dv:(g+=1,g+f>d.length?Nd:(d=d.slice(g,g+f),c.C=g+f,d)))}rr.prototype.cancel=function(){this.J=!0,Ur(this)};function sc(c){c.S=Date.now()+c.I,Av(c,c.I)}function Av(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=us(m(c.ba,c),d)}function kd(c){c.B&&(a.clearTimeout(c.B),c.B=null)}rr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(jT(this.i,this.A),this.L!=2&&(cs(),vt(17)),Ur(this),this.s=2,ds(this)):Av(this,this.S-c)};function ds(c){c.j.G==0||c.J||e_(c.j,c)}function Ur(c){kd(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,mv(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Fd(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ld(f.h,c))){if(!c.K&&Ld(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)pc(f),hc(f);else break e;Bd(f),vt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=us(m(f.Za,f),6e3));if(1>=Pv(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else $r(f,11)}else if((c.K||f.g==c)&&pc(f),!K(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ye=b[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let at=ye[3];at!=null&&(f.la=at,f.j.info("VER="+f.la));let ct=ye[4];ct!=null&&(f.Aa=ct,f.j.info("SVER="+f.Aa));let ki=ye[5];ki!=null&&typeof ki=="number"&&0<ki&&(g=1.5*ki,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let en=c.g;if(en){let mc=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mc){var M=g.h;M.g||mc.indexOf("spdy")==-1&&mc.indexOf("quic")==-1&&mc.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Vd(M,M.h),M.h=null))}if(g.D){let Hd=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Hd&&(g.ya=Hd,Re(g.I,g.D,Hd))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=r_(g,g.J?g.ia:null,g.W),L.K){Rv(g.h,L);var Ae=L,tt=g.L;tt&&(Ae.I=tt),Ae.B&&(kd(Ae),sc(Ae)),g.g=L}else Zv(g);0<f.i.length&&fc(f)}else ye[0]!="stop"&&ye[0]!="close"||$r(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?$r(f,7):Ud(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}cs(4)}catch{}}var $T=class{constructor(c,d){this.g=c,this.map=d}};function Mv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Pv(c){return c.h?1:c.g?c.g.size:0}function Ld(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Vd(c,d){c.g?c.g.add(d):c.h=d}function Rv(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Mv.prototype.cancel=function(){if(this.i=Nv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Nv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function HT(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function zT(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Ov(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=zT(c),g=HT(c),b=g.length,M=0;M<b;M++)d.call(void 0,g[M],f&&f[M],c)}var kv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qT(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var M=c[f].substring(0,g);b=c[f].substring(g+1)}else M=c[f];d(M,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Br(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Br){this.h=c.h,ac(this,c.j),this.o=c.o,this.g=c.g,cc(this,c.s),this.l=c.l;var d=c.i,f=new ps;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Fv(this,f),this.m=c.m}else c&&(d=String(c).match(kv))?(this.h=!1,ac(this,d[1]||"",!0),this.o=hs(d[2]||""),this.g=hs(d[3]||"",!0),cc(this,d[4]),this.l=hs(d[5]||"",!0),Fv(this,d[6]||"",!0),this.m=hs(d[7]||"")):(this.h=!1,this.i=new ps(null,this.h))}Br.prototype.toString=function(){var c=[],d=this.j;d&&c.push(fs(d,Lv,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(fs(d,Lv,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(fs(f,f.charAt(0)=="/"?KT:WT,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",fs(f,YT)),c.join("")};function Fn(c){return new Br(c)}function ac(c,d,f){c.j=f?hs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function cc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Fv(c,d,f){d instanceof ps?(c.i=d,JT(c.i,c.h)):(f||(d=fs(d,QT)),c.i=new ps(d,c.h))}function Re(c,d,f){c.i.set(d,f)}function uc(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function hs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,GT),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function GT(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lv=/[#\/\?@]/g,WT=/[#\?:]/g,KT=/[#\?]/g,QT=/[#\?@]/g,YT=/#/g;function ps(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ir(c){c.g||(c.g=new Map,c.h=0,c.i&&qT(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ps.prototype,t.add=function(c,d){ir(this),this.i=null,c=Ni(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Vv(c,d){ir(c),d=Ni(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function jv(c,d){return ir(c),d=Ni(c,d),c.g.has(d)}t.forEach=function(c,d){ir(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){ir(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let M=0;M<b.length;M++)f.push(d[g])}return f},t.V=function(c){ir(this);let d=[];if(typeof c=="string")jv(this,c)&&(d=d.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ir(this),this.i=null,c=Ni(this,c),jv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Uv(c,d,f){Vv(c,d),0<f.length&&(c.i=null,c.g.set(Ni(c,d),P(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let M=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var b=M;L[g]!==""&&(b+="="+encodeURIComponent(String(L[g]))),c.push(b)}}return this.i=c.join("&")};function Ni(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function JT(c,d){d&&!c.j&&(ir(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(Vv(this,g),Uv(this,b,f))},c)),c.j=d}function ZT(c,d){let f=new ls;if(a.Image){let g=new Image;g.onload=v(or,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(or,f,"TestLoadImage: error",!1,d,g),g.onabort=v(or,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(or,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function XT(c,d){let f=new ls,g=new AbortController,b=setTimeout(()=>{g.abort(),or(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(M=>{clearTimeout(b),M.ok?or(f,"TestPingServer: ok",!0,d):or(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),or(f,"TestPingServer: error",!1,d)})}function or(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function eS(){this.g=new FT}function tS(c,d,f){let g=f||"";try{Ov(c,function(b,M){let L=b;l(b)&&(L=Ad(b)),d.push(g+M+"="+encodeURIComponent(L))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function gs(c){this.l=c.Ub||null,this.j=c.eb||!1}A(gs,Md),gs.prototype.g=function(){return new lc(this.l,this.j)},gs.prototype.i=function(c){return function(){return c}}({});function lc(c,d){st.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(lc,st),t=lc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ys(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ms(this):ys(this),this.readyState==3&&Bv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ms(this))},t.Qa=function(c){this.g&&(this.response=c,ms(this))},t.ga=function(){this.g&&ms(this)};function ms(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ys(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ys(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $v(c){let d="";return ne(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function jd(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=$v(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Re(c,d,f))}function Ve(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ve,st);var nS=/^https?$/i,rS=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rd.g(),this.v=this.o?yv(this.o):yv(Rd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){Hv(this,M);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let M of g.keys())f.set(M,g.get(M));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rS,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,L]of f)this.g.setRequestHeader(M,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gv(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){Hv(this,M)}};function Hv(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,zv(c),dc(c)}function zv(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),dc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dc(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qv(this):this.bb())},t.bb=function(){qv(this)};function qv(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)fv(c.Ea,0,c);else if(yt(c,"readystatechange"),Ln(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var b=String(c.D).match(kv)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!nS.test(b?b.toLowerCase():"")}f=g}if(f)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var M=2<Ln(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",zv(c)}}finally{dc(c)}}}}function dc(c,d){if(c.g){Gv(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||yt(c,"ready");try{f.onreadystatechange=g}catch{}}}function Gv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),kT(d)}};function Wv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function iS(c){let d={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var f=C(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[b]||[];d[b]=M,M.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Kv(c){this.Aa=0,this.i=[],this.j=new ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mv(c&&c.concurrentRequestLimit),this.Da=new eS,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kv.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){vt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=r_(this,null,this.W),fc(this)};function Ud(c){if(Qv(c),c.G==3){var d=c.U++,f=Fn(c.I);if(Re(f,"SID",c.K),Re(f,"RID",d),Re(f,"TYPE","terminate"),_s(c,f),d=new rr(c,c.j,d),d.L=2,d.v=uc(Fn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=i_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),sc(d)}n_(c)}function hc(c){c.g&&($d(c),c.g.cancel(),c.g=null)}function Qv(c){hc(c),c.u&&(a.clearTimeout(c.u),c.u=null),pc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function fc(c){if(!xv(c.h)&&!c.s){c.s=!0;var d=c.Ga;ns||av(),rs||(ns(),rs=!0),_d.add(d,c),c.B=0}}function oS(c,d){return Pv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=us(m(c.Ga,c,d),t_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new rr(this,this.j,c),M=this.o;if(this.S&&(M?(M=y(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(b.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Jv(this,b,d),f=Fn(this.I),Re(f,"RID",c),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),_s(this,f),M&&(this.O?d="headers="+encodeURIComponent(String($v(M)))+"&"+d:this.m&&jd(f,this.m,M)),Vd(this.h,b),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",d),Re(f,"SID","null"),b.T=!0,Od(b,f,null)):Od(b,f,d),this.G=2}}else this.G==3&&(c?Yv(this,c):this.i.length==0||xv(this.h)||Yv(this))};function Yv(c,d){var f;d?f=d.l:f=c.U++;let g=Fn(c.I);Re(g,"SID",c.K),Re(g,"RID",f),Re(g,"AID",c.T),_s(c,g),c.m&&c.o&&jd(g,c.m,c.o),f=new rr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Jv(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vd(c.h,f),Od(f,g,d)}function _s(c,d){c.H&&ne(c.H,function(f,g){Re(d,g,f)}),c.l&&Ov({},function(f,g){Re(d,g,f)})}function Jv(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let M=-1;for(;;){let L=["count="+f];M==-1?0<f?(M=b[0].g,L.push("ofs="+M)):M=0:L.push("ofs="+M);let Ae=!0;for(let tt=0;tt<f;tt++){let ye=b[tt].g,at=b[tt].map;if(ye-=M,0>ye)M=Math.max(0,b[tt].g-100),Ae=!1;else try{tS(at,L,"req"+ye+"_")}catch{g&&g(at)}}if(Ae){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Zv(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ns||av(),rs||(ns(),rs=!0),_d.add(d,c),c.v=0}}function Bd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=us(m(c.Fa,c),t_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Xv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=us(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),hc(this),Xv(this))};function $d(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Xv(c){c.g=new rr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Fn(c.qa);Re(d,"RID","rpc"),Re(d,"SID",c.K),Re(d,"AID",c.T),Re(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(d,"TO",c.ja),Re(d,"TYPE","xmlhttp"),_s(c,d),c.m&&c.o&&jd(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=uc(Fn(d)),f.m=null,f.P=!0,Tv(f,c)}t.Za=function(){this.C!=null&&(this.C=null,hc(this),Bd(this),vt(19))};function pc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function e_(c,d){var f=null;if(c.g==d){pc(c),$d(c),c.g=null;var g=2}else if(Ld(c.h,d))f=d.D,Rv(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=rc(),yt(g,new Ev(g,f)),fc(c)}else Zv(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&oS(c,d)||g==2&&Bd(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:$r(c,5);break;case 4:$r(c,10);break;case 3:$r(c,6);break;default:$r(c,2)}}}function t_(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function $r(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Br(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ac(g,"https"),uc(g),b?ZT(g.toString(),f):XT(g.toString(),f)}else vt(2);c.G=0,c.l&&c.l.sa(d),n_(c),Qv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function n_(c){if(c.G=0,c.ka=[],c.l){let d=Nv(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function r_(c,d,f){var g=f instanceof Br?Fn(f):new Br(f);if(g.g!="")d&&(g.g=d+"."+g.g),cc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var M=new Br(null);g&&ac(M,g),d&&(M.g=d),b&&cc(M,b),f&&(M.l=f),g=M}return f=c.D,d=c.ya,f&&d&&Re(g,f,d),Re(g,"VER",c.la),_s(c,g),g}function i_(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ve(new gs({eb:f})):new Ve(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function o_(){}t=o_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gc(){}gc.prototype.g=function(c,d){return new Pt(c,d)};function Pt(c,d){st.call(this),this.g=new Kv(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Oi(this)}A(Pt,st),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Ud(this.g)},Pt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Ad(c),c=f);d.i.push(new $T(d.Ya++,c)),d.G==3&&fc(d)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Ud(this.g),delete this.g,Pt.aa.N.call(this)};function s_(c){xd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(s_,xd);function a_(){Pd.call(this),this.status=1}A(a_,Pd);function Oi(c){this.g=c}A(Oi,o_),Oi.prototype.ua=function(){yt(this.g,"a")},Oi.prototype.ta=function(c){yt(this.g,new s_(c))},Oi.prototype.sa=function(c){yt(this.g,new a_)},Oi.prototype.ra=function(){yt(this.g,"b")},gc.prototype.createWebChannel=gc.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,tm=Zn.createWebChannelTransport=function(){return new gc},em=Zn.getStatEventTarget=function(){return rc()},Xg=Zn.Event=jr,xl=Zn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ic.NO_ERROR=0,ic.TIMEOUT=8,ic.HTTP_ERROR=6,Ea=Zn.ErrorCode=ic,Cv.COMPLETE="complete",Zg=Zn.EventType=Cv,vv.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",st.prototype.listen=st.prototype.K,Ro=Zn.WebChannel=vv,Jg=Zn.FetchXmlHttpFactory=gs,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,Yg=Zn.XhrIo=Ve}).apply(typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{});var tb="@firebase/firestore";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var Jo="10.13.2";var Si=new Ar("@firebase/firestore");function Ca(){return Si.logLevel}function H(t,...e){if(Si.logLevel<=le.DEBUG){let n=e.map(Ly);Si.debug(`Firestore (${Jo}): ${t}`,...n)}}function er(t,...e){if(Si.logLevel<=le.ERROR){let n=e.map(Ly);Si.error(`Firestore (${Jo}): ${t}`,...n)}}function Uo(t,...e){if(Si.logLevel<=le.WARN){let n=e.map(Ly);Si.warn(`Firestore (${Jo}): ${t}`,...n)}}function Ly(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t="Unexpected state"){let e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+t;throw er(e),new Error(e)}function Ge(t,e){t||ee()}function ge(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends jt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Pn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ol=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},am=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}},cm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},um=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new Ol(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new et(e)}},lm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},dm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new lm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},hm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},fm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new hm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function OL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var kl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=OL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function Bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var pt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new pt(0,0))}static max(){return new t(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Fl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Le=class t extends Fl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},kL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zt=class t extends Fl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return kL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new U(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Le.fromString(e))}static fromName(e){return new t(Le.fromString(e).popFirst(5))}static empty(){return new t(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Le(e.slice()))}};var pm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};pm.UNKNOWN_ID=-1;function FL(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new Ai(i,z.empty(),e)}function LL(t){return new Ai(t.readTime,t.key,-1)}var Ai=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),z.empty(),-1)}static max(){return new t(ie.max(),z.empty(),-1)}};function VL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var jL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Vy(t){return S(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==jL)throw t;H("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function UL(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ka(t){return t.name==="IndexedDbTransactionError"}var kb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ld(t){return t==null}function xa(t){return t===0&&1/t==-1/0}function BL(t){return typeof t=="number"&&Number.isInteger(t)&&!xa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var $L=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jG=[...$L,"documentOverlays"],HL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zL=HL,qL=[...zL,"indexConfiguration","indexState","indexEntries"];var UG=[...qL,"globals"];function nb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ue=class t{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fo(this.root,e,this.comparator,!0)}},Fo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var gt=class t{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ll(this.data.getIterator())}getIteratorFrom(e){return new Ll(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ll=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ci=class t{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new gt(Zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Vl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vl("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};mt.EMPTY_BYTE_STRING=new mt("");var GL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(t){if(Ge(!!t),typeof t=="string"){let e=0,n=GL.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Or(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}function jy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uy(t){let e=t.mapValue.fields.__previous_value__;return jy(e)?Uy(e):e}function Pa(t){let e=tr(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}var mm=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},jl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Pl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jy(t)?4:Vb(t)?9007199254740991:Lb(t)?10:11:ee()}function On(t,e){if(t===e)return!0;let n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pa(t).isEqual(Pa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=tr(i.timestampValue),a=tr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Or(i.bytesValue).isEqual(Or(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),a=Ne(o.doubleValue);return s===a?xa(s)===xa(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(nb(s)!==nb(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!On(s[u],a[u])))return!1;return!0}(t,e);default:return ee()}}function Ra(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function $o(t,e){if(t===e)return 0;let n=Mi(t),r=Mi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return rb(t.timestampValue,e.timestampValue);case 4:return rb(Pa(t),Pa(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Or(o),u=Or(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ee(a[l],u[l]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ee(Ne(o.latitude),Ne(s.latitude));return a!==0?a:Ee(Ne(o.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ib(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=Ee(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:ib(v,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Pl.mapValue&&s===Pl.mapValue)return 0;if(o===Pl.mapValue)return 1;if(s===Pl.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Ee(u[p],h[p]);if(m!==0)return m;let v=$o(a[u[p]],l[h[p]]);if(v!==0)return v}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ee()}}function rb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=tr(t),r=tr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function ib(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=$o(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function Ho(t){return ym(t)}function ym(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=ym(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ym(n.fields[s])}`;return i+"}"}(t.mapValue):ee()}function ob(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vm(t){return!!t&&"integerValue"in t}function By(t){return!!t&&"arrayValue"in t}function sb(t){return!!t&&"nullValue"in t}function ab(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nm(t){return!!t&&"mapValue"in t}function Lb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Da(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Qa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Da(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Da(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Vb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Xn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(n)}setAll(e){let n=Zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Da(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());nm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qa(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Da(this.value))}};var fn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zo=class{constructor(e,n){this.position=e,this.inclusive=n}};function cb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=$o(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ub(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}var xi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function WL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ul=class{},qe=class t extends Ul{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wm(e,n,r):n==="array-contains"?new Cm(e,r):n==="in"?new bm(e,r):n==="not-in"?new Dm(e,r):n==="array-contains-any"?new Tm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Im(e,r):new Em(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($o(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pn=class t extends Ul{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return jb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function jb(t){return t.op==="and"}function Ub(t){return KL(t)&&jb(t)}function KL(t){for(let e of t.filters)if(e instanceof pn)return!1;return!0}function _m(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+Ho(t.value);if(Ub(t))return t.filters.map(e=>_m(e)).join(",");{let e=t.filters.map(n=>_m(n)).join(",");return`${t.op}(${e})`}}function Bb(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&On(r.value,i.value)}(t,e):t instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Bb(s,i.filters[a]),!0):!1}(t,e):void ee()}function $b(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`}(t):t instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map($b).join(" ,")+"}"}(t):"Filter"}var wm=class extends qe{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},Im=class extends qe{constructor(e,n){super(e,"in",n),this.keys=Hb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Em=class extends qe{constructor(e,n){super(e,"not-in",n),this.keys=Hb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Hb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var Cm=class extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return By(n)&&Ra(n.arrayValue,this.value)}},bm=class extends qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ra(this.value.arrayValue,n)}},Dm=class extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ra(this.value.arrayValue,n)}},Tm=class extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!By(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ra(this.value.arrayValue,r))}};var Sm=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function lb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Sm(t,e,n,r,i,o,s)}function $y(t){let e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_m(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),e.ue=n}return e.ue}function Hy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Bb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ub(t.startAt,e.startAt)&&ub(t.endAt,e.endAt)}function Am(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var kr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function QL(t,e,n,r,i,o,s,a){return new kr(t,e,n,r,i,o,s,a)}function zy(t){return new kr(t)}function db(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zb(t){return t.collectionGroup!==null}function Ta(t){let e=ge(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new gt(Zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new xi(o,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new xi(Zt.keyField(),r))}return e.ce}function Nn(t){let e=ge(t);return e.le||(e.le=YL(e,Ta(t))),e.le}function YL(t,e){if(t.limitType==="F")return lb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new xi(i.field,o)});let n=t.endAt?new zo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zo(t.startAt.position,t.startAt.inclusive):null;return lb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mm(t,e){let n=t.filters.concat([e]);return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bl(t,e,n){return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return Hy(Nn(t),Nn(e))&&t.limitType===e.limitType}function qb(t){return`${$y(Nn(t))}|lt:${t.limitType}`}function No(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$b(i)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ho(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ho(i)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ta(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=cb(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Ta(r),i)||r.endAt&&!function(s,a,u){let l=cb(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Ta(r),i))}(t,e)}function JL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gb(t){return(e,n)=>{let r=!1;for(let i of Ta(t)){let o=ZL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function ZL(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?$o(u,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var Fr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Fb(this.inner)}size(){return this.innerSize}};var XL=new Ue(z.comparator);function Lr(){return XL}var Wb=new Ue(z.comparator);function ba(...t){let e=Wb;for(let n of t)e=e.insert(n.key,n);return e}function eV(t){let e=Wb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bi(){return Sa()}function Kb(){return Sa()}function Sa(){return new Fr(t=>t.toString(),(t,e)=>t.isEqual(e))}var $G=new Ue(z.comparator),tV=new gt(z.comparator);function me(...t){let e=tV;for(let n of t)e=e.add(n);return e}var nV=new gt(Ee);function rV(){return nV}function qy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xa(e)?"-0":e}}function Qb(t){return{integerValue:""+t}}function iV(t,e){return BL(e)?Qb(e):qy(t,e)}var qo=class{constructor(){this._=void 0}};function oV(t,e,n){return t instanceof Na?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jy(o)&&(o=Uy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Go?Yb(t,e):t instanceof Wo?Jb(t,e):function(i,o){let s=aV(i,o),a=hb(s)+hb(i.Pe);return vm(s)&&vm(i.Pe)?Qb(a):qy(i.serializer,a)}(t,e)}function sV(t,e,n){return t instanceof Go?Yb(t,e):t instanceof Wo?Jb(t,e):n}function aV(t,e){return t instanceof Oa?function(r){return vm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Na=class extends qo{},Go=class extends qo{constructor(e){super(),this.elements=e}};function Yb(t,e){let n=Zb(e);for(let r of t.elements)n.some(i=>On(i,r))||n.push(r);return{arrayValue:{values:n}}}var Wo=class extends qo{constructor(e){super(),this.elements=e}};function Jb(t,e){let n=Zb(e);for(let r of t.elements)n=n.filter(i=>!On(i,r));return{arrayValue:{values:n}}}var Oa=class extends qo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function hb(t){return Ne(t.integerValue||t.doubleValue)}function Zb(t){return By(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Go&&i instanceof Go||r instanceof Wo&&i instanceof Wo?Bo(r.elements,i.elements,On):r instanceof Oa&&i instanceof Oa?On(r.Pe,i.Pe):r instanceof Na&&i instanceof Na}(t.transform,e.transform)}var Aa=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Nl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ka=class{};function Xb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xm(t.key,Aa.none()):new Fa(t.key,t.data,Aa.none());{let n=t.data,r=Xn.empty(),i=new gt(Zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ko(t.key,r,new Ci(i.toArray()),Aa.none())}}function uV(t,e,n){t instanceof Fa?function(i,o,s){let a=i.value.clone(),u=pb(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ko?function(i,o,s){if(!Nl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=pb(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(eD(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ma(t,e,n,r){return t instanceof Fa?function(o,s,a,u){if(!Nl(o.precondition,s))return a;let l=o.value.clone(),h=gb(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ko?function(o,s,a,u){if(!Nl(o.precondition,s))return a;let l=gb(o.fieldTransforms,u,s),h=s.data;return h.setAll(eD(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Nl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function fb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bo(r,i,(o,s)=>cV(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Fa=class extends ka{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ko=class extends ka{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function eD(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function pb(t,e,n){let r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,sV(s,a,n[i]))}return r}function gb(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,oV(o,s,e))}return r}var xm=class extends ka{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Pm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&uV(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Kb();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=Xb(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(n,r)=>fb(n,r))&&Bo(this.baseMutations,e.baseMutations,(n,r)=>fb(n,r))}};var Rm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Nm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var He,pe;function tD(t){if(t===void 0)return er("GRPC error has no .code"),N.UNKNOWN;switch(t){case He.OK:return N.OK;case He.CANCELLED:return N.CANCELLED;case He.UNKNOWN:return N.UNKNOWN;case He.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case He.INTERNAL:return N.INTERNAL;case He.UNAVAILABLE:return N.UNAVAILABLE;case He.UNAUTHENTICATED:return N.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case He.NOT_FOUND:return N.NOT_FOUND;case He.ALREADY_EXISTS:return N.ALREADY_EXISTS;case He.PERMISSION_DENIED:return N.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case He.ABORTED:return N.ABORTED;case He.OUT_OF_RANGE:return N.OUT_OF_RANGE;case He.UNIMPLEMENTED:return N.UNIMPLEMENTED;case He.DATA_LOSS:return N.DATA_LOSS;default:return ee()}}(pe=He||(He={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var mb=null;function lV(){return new TextEncoder}var dV=new Rr([4294967295,4294967295],0);function yb(t){let e=lV().encode(t),n=new Qg;return n.update(e),new Uint8Array(n.digest())}function vb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rr([n,r],0),new Rr([i,o],0)]}var Om=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Di(`Invalid padding: ${n}`);if(r<0)throw new Di(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Di(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Di(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Rr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Rr.fromNumber(r)));return i.compare(dV)===1&&(i=new Rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=yb(e),[r,i]=vb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=yb(e),[r,i]=vb(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Di=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $l=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,La.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new Ue(Ee),Lr(),me())}},La=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,me(),me(),me())}};var Lo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Hl=class{constructor(e,n){this.targetId=e,this.me=n}},zl=class{constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ql=class{constructor(){this.fe=0,this.ge=wb(),this.pe=mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new La(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=wb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},km=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Lr(),this.qe=_b(),this.Qe=new Ue(Ee)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Am(o))if(r===0){let s=new z(o.path);this.Ue(n,s,fn.newNoDocument(s,ie.min()))}else Ge(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}mb?.et(function(h,p,m,v,A){var P,R,B,K,W,oe;let Pe={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ne=p.unchangedNames;return ne&&(Pe.bloomFilter={applied:A===0,hashCount:(P=ne?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(K=(B=(R=ne?.bits)===null||R===void 0?void 0:R.bitmap)===null||B===void 0?void 0:B.length)!==null&&K!==void 0?K:0,padding:(oe=(W=ne?.bits)===null||W===void 0?void 0:W.padding)!==null&&oe!==void 0?oe:0,mightContain:E=>{var y;return(y=v?.mightContain(E))!==null&&y!==void 0&&y}}),Pe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Or(r).toUint8Array()}catch(u){if(u instanceof Vl)return Uo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Om(s,i,o)}catch(u){return Uo(u instanceof Di?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Am(a.target)){let u=new z(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,fn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=me();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new $l(e,n,this.Qe,this.ke,r);return this.ke=Lr(),this.qe=_b(),this.Qe=new Ue(Ee),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ql,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gt(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ql),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function _b(){return new Ue(z.comparator)}function wb(){return new Ue(z.comparator)}var hV={asc:"ASCENDING",desc:"DESCENDING"},fV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pV={and:"AND",or:"OR"},Fm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Lm(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function Vm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vo(t){return Ge(!!t),ie.fromTimestamp(function(n){let r=tr(n);return new pt(r.seconds,r.nanos)}(t))}function rD(t,e){return jm(t,e).canonicalString()}function jm(t,e){let n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iD(t){let e=Le.fromString(t);return Ge(uD(e)),e}function rm(t,e){let n=iD(e);if(n.get(1)!==t.databaseId.projectId)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(sD(n))}function oD(t,e){return rD(t.databaseId,e)}function gV(t){let e=iD(t);return e.length===4?Le.emptyPath():sD(e)}function Ib(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sD(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function mV(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ge(h===void 0||typeof h=="string"),mt.fromBase64String(h||"")):(Ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array),mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:tD(l.code);return new U(h,l.message||"")}(s);n=new zl(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=rm(t,r.document.name),o=Vo(r.document.updateTime),s=r.document.createTime?Vo(r.document.createTime):ie.min(),a=new Xn({mapValue:{fields:r.document.fields}}),u=fn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Lo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=rm(t,r.document),o=r.readTime?Vo(r.readTime):ie.min(),s=fn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Lo([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=rm(t,r.document),o=r.removedTargetIds||[];n=new Lo([],o,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Nm(i,o),a=r.targetId;n=new Hl(a,s)}}return n}function yV(t,e){return{documents:[oD(t,e.path)]}}function vV(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oD(t,i);let o=function(l){if(l.length!==0)return cD(pn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Oo(m.field),direction:IV(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Lm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function _V(t){let e=gV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ge(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=aD(p);return m instanceof pn&&Ub(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(A){return new xi(ko(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,ld(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new zo(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new zo(v,m)}(n.endAt)),QL(e,i,s,o,a,"F",u,l)}function wV(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ko(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ko(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ko(n.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ko(n.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(ko(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(r=>aD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function IV(t){return hV[t]}function EV(t){return fV[t]}function CV(t){return pV[t]}function Oo(t){return{fieldPath:t.canonicalString()}}function ko(t){return Zt.fromServerFormat(t.fieldPath)}function cD(t){return t instanceof qe?function(n){if(n.op==="=="){if(ab(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NAN"}};if(sb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ab(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NAN"}};if(sb(n.value))return{unaryFilter:{field:Oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(n.field),op:EV(n.op),value:n.value}}}(t):t instanceof pn?function(n){let r=n.getFilters().map(i=>cD(i));return r.length===1?r[0]:{compositeFilter:{op:CV(n.op),filters:r}}}(t):ee()}function uD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Va=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Um=class{constructor(e){this.ct=e}};function bV(t){let e=_V({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bl(e,e.limit,"L"):e}var Gl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),xa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=tr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Or(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Vb(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Lb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ee()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ne(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Gl.vt=new Gl;var Bm=class{constructor(){this.un=new $m}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Ai.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},$m=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Le.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Le.comparator)).toArray()}};var HG=new Uint8Array(0);var xn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);var ja=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Hm=class{constructor(){this.changes=new Fr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var zm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var qm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ma(r.mutation,i,Ci.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){let i=bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ba();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Lr(),s=Sa(),a=function(){return Sa()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Ko)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Ma(h.mutation,l,h.mutation.getFieldMask(),pt.now())):s.set(l.key,Ci.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new zm(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Sa(),i=new Ue((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Ci.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=Kb();h.forEach(m=>{if(!o.has(m)){let v=Xb(n.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(bi()),a=-1,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(h=>({batchId:a,changes:eV(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=ba();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ba();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,m){return new kr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,fn.newInvalidDocument(h)))});let a=ba();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Ma(h.mutation,l,Ci.empty(),pt.now()),hd(n,l)&&(a=a.insert(u,l))}),a})}};var Gm=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vo(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:bV(i.bundledQuery),readTime:Vo(i.readTime)}}(n)),F.resolve()}};var Wm=class{constructor(){this.overlays=new Ue(z.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=bi();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=bi(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ue((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=bi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=bi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Rm(n,r));let o=this.Ir.get(n);o===void 0&&(o=me(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Km=class{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var Ua=class{constructor(){this.Tr=new gt(ze.Er),this.dr=new gt(ze.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new ze(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ze(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new z(new Le([])),r=new ze(n,e),i=new ze(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new z(new Le([])),r=new ze(n,e),i=new ze(n,e+1),o=me();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ze(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ze=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return z.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||z.comparator(e.key,n.key)}};var Qm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new gt(ze.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Pm(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new ze(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(Ee);return n.forEach(i=>{let o=new ze(i,0),s=new ze(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new ze(new z(o),0),a=new gt(Ee);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),F.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{let o=new ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new ze(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ym=class{constructor(e){this.Mr=e,this.docs=function(){return new Ue(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=Lr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Lr(),s=n.path,a=new z(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||VL(LL(h),r)<=0||(i.has(h.key)||hd(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ee()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Jm(this)}getSize(e){return F.resolve(this.size)}},Jm=class extends Hm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Zm=class{constructor(e){this.persistence=e,this.Nr=new Fr(n=>$y(n),Hy),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ua,this.targetCount=0,this.kr=ja.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ja(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}};var Xm=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new kb(0),this.Kr=!1,this.Kr=!0,this.$r=new Km,this.referenceDelegate=e(this),this.Ur=new Zm(this),this.indexManager=new Bm,this.remoteDocumentCache=function(i){return new Ym(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Um(n),this.Gr=new Gm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Qm(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);let i=new ey(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},ey=class extends gm{constructor(e){super(),this.currentSequenceNumber=e}},ty=class t{constructor(e){this.persistence=e,this.Jr=new Ua,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var ny=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=me(),i=me();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var ry=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var iy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return mC()?8:UL(Ut())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new ry;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ca()<=le.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Ca()<=le.DEBUG&&H("QueryEngine","Query:",No(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ca()<=le.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):F.resolve())}Yi(e,n){if(db(n))return F.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bl(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Bl(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return db(n)||i.isEqual(ie.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?F.resolve(null):(Ca()<=le.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),No(n)),this.rs(e,s,n,FL(i,-1)).next(a=>a))})}ts(e,n){let r=new gt(Gb(e));return n.forEach((i,o)=>{hd(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ca()<=le.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",No(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ai.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var oy=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ue(Ee),this._s=new Fr(o=>$y(o),Hy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function DV(t,e,n,r){return new oy(t,e,n,r)}function lD(t,e){return S(this,null,function*(){let n=ge(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=me();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function dD(t){let e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function TV(t,e){let n=ge(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(mt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(P,R,B){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(o,v))});let u=Lr(),l=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(SV(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ie.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function SV(t,e,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Lr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function AV(t,e){let n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Va(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function sy(t,e,n){return S(this,null,function*(){let r=ge(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ka(s))throw s;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Eb(t,e,n){let r=ge(t),i=ie.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ge(u),m=p._s.get(h);return m!==void 0?F.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,Nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:me())).next(a=>(MV(r,JL(e),a),{documents:a,Ts:o})))}function MV(t,e,n){let r=t.us.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Wl=class{constructor(){this.activeTargetIds=rV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ay=class{constructor(){this.so=new Wl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var cy=class{_o(e){}shutdown(){}};var Kl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Rl=null;function im(){return Rl===null?Rl=function(){return 268435456+Math.round(2147483648*Math.random())}():Rl++,"0x"+Rl.toString(16)}var xV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var uy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ft="WebChannelConnection",ly=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=im(),u=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(H("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Uo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=xV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=im();return new Promise((s,a)=>{let u=new Yg;u.setWithCredentials(!0),u.listenOnce(Zg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ea.NO_ERROR:let h=u.getResponseJson();H(ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Ea.TIMEOUT:H(ft,`RPC '${e}' ${o} timed out`),a(new U(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ea.HTTP_ERROR:let p=u.getStatus();if(H(ft,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let A=function(R){let B=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(B)>=0?B:N.UNKNOWN}(v.status);a(new U(A,v.message))}else a(new U(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(N.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{H(ft,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);H(ft,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=im(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tm(),a=em(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Jg({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");H(ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,v=!1,A=new uy({Io:R=>{v?H(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(H(ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),H(ft,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),P=(R,B,K)=>{R.listen(B,W=>{try{K(W)}catch(oe){setTimeout(()=>{throw oe},0)}})};return P(p,Ro.EventType.OPEN,()=>{v||(H(ft,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),P(p,Ro.EventType.CLOSE,()=>{v||(v=!0,H(ft,`RPC '${e}' stream ${i} transport closed`),A.So())}),P(p,Ro.EventType.ERROR,R=>{v||(v=!0,Uo(ft,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new U(N.UNAVAILABLE,"The operation could not be completed")))}),P(p,Ro.EventType.MESSAGE,R=>{var B;if(!v){let K=R.data[0];Ge(!!K);let W=K,oe=W.error||((B=W[0])===null||B===void 0?void 0:B.error);if(oe){H(ft,`RPC '${e}' stream ${i} received error:`,oe);let Pe=oe.status,ne=function(_){let I=He[_];if(I!==void 0)return tD(I)}(Pe),E=oe.message;ne===void 0&&(ne=N.INTERNAL,E="Unknown error status: "+Pe+" with message "+oe.message),v=!0,A.So(new U(ne,E)),p.close()}else H(ft,`RPC '${e}' stream ${i} received:`,K),A.bo(K)}}),P(a,Xg.STAT_EVENT,R=>{R.stat===xl.PROXY?H(ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===xl.NOPROXY&&H(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function om(){return typeof document<"u"?document:null}function fd(t){return new Fm(t,!0)}var Ql=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var dy=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ql(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},hy=class extends dy{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=mV(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?Vo(s.readTime):ie.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Ib(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Am(u)?{documents:yV(o,u)}:{query:vV(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=nD(o,s.resumeToken);let l=Lm(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Vm(o,s.snapshotVersion.toTimestamp());let l=Lm(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=wV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Ib(this.serializer),n.removeTarget=e,this.a_(n)}};var fy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,jm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(N.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,jm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},py=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(er(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var gy=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>S(this,null,function*(){Ja(this)&&(H("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=ge(u);l.L_.add(4),yield Ya(l),l.q_.set("Unknown"),l.L_.delete(4),yield pd(l)})}(this))}))}),this.q_=new py(r,i)}};function pd(t){return S(this,null,function*(){if(Ja(t))for(let e of t.B_)yield e(!0)})}function Ya(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function hD(t,e){let n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Qy(n)?Ky(n):Zo(n).r_()&&Wy(n,e))}function Gy(t,e){let n=ge(t),r=Zo(n);n.N_.delete(e),r.r_()&&fD(n,e),n.N_.size===0&&(r.r_()?r.o_():Ja(n)&&n.q_.set("Unknown"))}function Wy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(t).A_(e)}function fD(t,e){t.Q_.xe(e),Zo(t).R_(e)}function Ky(t){t.Q_=new km({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zo(t).start(),t.q_.v_()}function Qy(t){return Ja(t)&&!Zo(t).n_()&&t.N_.size>0}function Ja(t){return ge(t).L_.size===0}function pD(t){t.Q_=void 0}function PV(t){return S(this,null,function*(){t.q_.set("Online")})}function RV(t){return S(this,null,function*(){t.N_.forEach((e,n)=>{Wy(t,e)})})}function NV(t,e){return S(this,null,function*(){pD(t),Qy(t)?(t.q_.M_(e),Ky(t)):t.q_.set("Unknown")})}function OV(t,e,n){return S(this,null,function*(){if(t.q_.set("Online"),e instanceof zl&&e.state===2&&e.cause)try{yield function(i,o){return S(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cb(t,r)}else if(e instanceof Lo?t.Q_.Ke(e):e instanceof Hl?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ie.min()))try{let r=yield dD(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(mt.EMPTY_BYTE_STRING,h.snapshotVersion)),fD(o,u);let p=new Va(h.target,u,l,h.sequenceNumber);Wy(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){H("RemoteStore","Failed to raise snapshot:",r),yield Cb(t,r)}})}function Cb(t,e,n){return S(this,null,function*(){if(!Ka(e))throw e;t.L_.add(1),yield Ya(t),t.q_.set("Offline"),n||(n=()=>dD(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){H("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield pd(t)}))})}function bb(t,e){return S(this,null,function*(){let n=ge(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");let r=Ja(n);n.L_.add(3),yield Ya(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield pd(n)})}function kV(t,e){return S(this,null,function*(){let n=ge(t);e?(n.L_.delete(2),yield pd(n)):e||(n.L_.add(2),yield Ya(n),n.q_.set("Unknown"))})}function Zo(t){return t.K_||(t.K_=function(n,r,i){let o=ge(n);return o.w_(),new hy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:PV.bind(null,t),Ro:RV.bind(null,t),mo:NV.bind(null,t),d_:OV.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.K_.s_(),Qy(t)?Ky(t):t.q_.set("Unknown")):(yield t.K_.stop(),pD(t))}))),t.K_}var my=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gD(t,e){if(er("AsyncQueue",`${e}: ${t}`),Ka(t))return new U(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Yl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=ba(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Jl=class{constructor(){this.W_=new Ue(z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Qo=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Yl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var yy=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},vy=class{constructor(){this.queries=Db(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ge(n),o=i.queries;i.queries=Db(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new U(N.ABORTED,"Firestore shutting down"))}};function Db(){return new Fr(t=>qb(t),dd)}function mD(t,e){return S(this,null,function*(){let n=ge(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new yy,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=gD(s,`Initialization of query '${No(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Yy(n)})}function yD(t,e){return S(this,null,function*(){let n=ge(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function FV(t,e){let n=ge(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Yy(n)}function LV(t,e,n){let r=ge(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Yy(t){t.Y_.forEach(e=>{e.next()})}var _y,Tb;(Tb=_y||(_y={})).ea="default",Tb.Cache="cache";var Zl=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==_y.Cache}};var Xl=class{constructor(e){this.key=e}},ed=class{constructor(e){this.key=e}},wy=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=Gb(e),this.Ra=new Yl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Jl,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=hd(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?A!==P&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(s=s.add(v),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,A){let P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return P(v)-P(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Qo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ed(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Xl(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Qo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Iy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Ey=class{constructor(e){this.key=e,this.va=!1}},Cy=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Fr(a=>qb(a),dd),this.Ma=new Map,this.xa=new Set,this.Oa=new Ue(z.comparator),this.Na=new Map,this.La=new Ua,this.Ba={},this.ka=new Map,this.qa=ja.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function VV(t,e,n=!0){return S(this,null,function*(){let r=ED(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield vD(r,e,n,!0),i})}function jV(t,e){return S(this,null,function*(){let n=ED(t);yield vD(n,e,!0,!1)})}function vD(t,e,n,r){return S(this,null,function*(){let i=yield AV(t.localStore,Nn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield UV(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&hD(t.remoteStore,i),a})}function UV(t,e,n,r,i){return S(this,null,function*(){t.Ka=(p,m,v)=>function(P,R,B,K){return S(this,null,function*(){let W=R.view.ma(B);W.ns&&(W=yield Eb(P.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,W)));let oe=K&&K.targetChanges.get(R.targetId),Pe=K&&K.targetMismatches.get(R.targetId)!=null,ne=R.view.applyChanges(W,P.isPrimaryClient,oe,Pe);return Ab(P,R.targetId,ne.wa),ne.snapshot})}(t,p,m,v);let o=yield Eb(t.localStore,e,!0),s=new wy(e,o.Ts),a=s.ma(o.documents),u=La.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);Ab(t,n,l.wa);let h=new Iy(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function BV(t,e,n){return S(this,null,function*(){let r=ge(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!dd(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gy(r.remoteStore,i.targetId),by(r,i.targetId)}).catch(Vy))):(by(r,i.targetId),yield sy(r.localStore,i.targetId,!0))})}function $V(t,e){return S(this,null,function*(){let n=ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gy(n.remoteStore,r.targetId))})}function _D(t,e){return S(this,null,function*(){let n=ge(t);try{let r=yield TV(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ge(s.va):i.removedDocuments.size>0&&(Ge(s.va),s.va=!1))}),yield ID(n,r,e)}catch(r){yield Vy(r)}})}function Sb(t,e,n){let r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ge(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Yy(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HV(t,e,n){return S(this,null,function*(){let r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ue(z.comparator);s=s.insert(o,fn.newNoDocument(o,ie.min()));let a=me().add(o),u=new $l(ie.min(),new Map,new Ue(Ee),s,a);yield _D(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Jy(r)}else yield sy(r.localStore,e,!1).then(()=>by(r,e,n)).catch(Vy)})}function by(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||wD(t,r)})}function wD(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Gy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Jy(t))}function Ab(t,e,n){for(let r of n)r instanceof Xl?(t.La.addReference(r.key,e),zV(t,r)):r instanceof ed?(H("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||wD(t,r.key)):ee()}function zV(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(H("SyncEngine","New document in limbo: "+n),t.xa.add(r),Jy(t))}function Jy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new z(Le.fromString(e)),r=t.qa.next();t.Na.set(r,new Ey(n)),t.Oa=t.Oa.insert(n,r),hD(t.remoteStore,new Va(Nn(zy(n.path)),r,"TargetPurposeLimboResolution",kb.oe))}}function ID(t,e,n){return S(this,null,function*(){let r=ge(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=ny.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return S(this,null,function*(){let h=ge(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,m=>F.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>F.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Ka(p))throw p;H("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),A=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(m,P)}}})}(r.localStore,o))})}function qV(t,e){return S(this,null,function*(){let n=ge(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());let r=yield lD(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new U(N.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ID(n,r.hs)}})}function GV(t,e){let n=ge(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function ED(t){let e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_D.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HV.bind(null,e),e.Ca.d_=FV.bind(null,e.eventManager),e.Ca.$a=LV.bind(null,e.eventManager),e}var td=class{constructor(){this.synchronizeTabs=!1}initialize(e){return S(this,null,function*(){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return DV(this.persistence,new iy,e.initialUser,this.serializer)}createPersistence(e){return new Xm(ty.Zr,this.serializer)}createSharedClientState(e){return new ay}terminate(){return S(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Dy=class{initialize(e,n){return S(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qV.bind(null,this.syncEngine),yield kV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new vy}()}createDatastore(e){let n=fd(e.databaseInfo.databaseId),r=function(o){return new ly(o)}(e.databaseInfo);return function(o,s,a,u){return new fy(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new gy(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Sb(this.syncEngine,n,0),function(){return Kl.D()?new Kl:new cy}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new Cy(i,o,s,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return S(this,null,function*(){var e,n;yield function(i){return S(this,null,function*(){let o=ge(i);H("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ya(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var nd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Ty=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=kl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>S(this,null,function*(){H("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=gD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function sm(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield lD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Mb(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield KV(t);H("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bb(e.remoteStore,i)),t._onlineComponents=e})}function WV(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function KV(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!WV(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),yield sm(t,new td)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield sm(t,new td);return t._offlineComponents})}function QV(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield Mb(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield Mb(t,new Dy))),t._onlineComponents})}function CD(t){return S(this,null,function*(){let e=yield QV(t),n=e.eventManager;return n.onListen=VV.bind(null,e.syncEngine),n.onUnlisten=BV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$V.bind(null,e.syncEngine),n})}function YV(t,e,n={}){let r=new Pn;return t.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(o,s,a,u,l){let h=new nd({next:m=>{s.enqueueAndForget(()=>yD(o,p));let v=m.docs.has(a);!v&&m.fromCache?l.reject(new U(N.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?l.reject(new U(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Zl(zy(a.path),h,{includeMetadataChanges:!0,_a:!0});return mD(o,p)}(yield CD(t),t.asyncQueue,e,n,r)})),r.promise}function JV(t,e,n={}){let r=new Pn;return t.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(o,s,a,u,l){let h=new nd({next:m=>{s.enqueueAndForget(()=>yD(o,p)),m.fromCache&&u.source==="server"?l.reject(new U(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Zl(a,h,{includeMetadataChanges:!0,_a:!0});return mD(o,p)}(yield CD(t),t.asyncQueue,e,n,r)})),r.promise}function bD(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var xb=new Map;function DD(t,e,n){if(!n)throw new U(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZV(t,e,n,r){if(e===!0&&r===!0)throw new U(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pb(t){if(!z.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rb(t){if(z.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function Ba(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=gd(t);throw new U(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function XV(t,e){if(e<=0)throw new U(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var rd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Yo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new am;switch(r.type){case"firstParty":return new dm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=xb.get(n);r&&(H("ComponentProvider","Removing Datastore"),xb.delete(n),r.terminate())}(this),Promise.resolve()}};function TD(t,e,n,r={}){var i;let o=(t=Ba(t,Yo))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=et.MOCK_USER;else{a=dC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new et(l)}t._authCredentials=new cm(new Ol(a,u))}}var Vr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Bt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Nr=class t extends Vr{constructor(e,n,r){super(e,n,zy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function SD(t,e,...n){if(t=Mt(t),DD("collection","path",e),t instanceof Yo){let r=Le.fromString(e,...n);return Rb(r),new Nr(t,null,r)}{if(!(t instanceof Bt||t instanceof Nr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Le.fromString(e,...n));return Rb(r),new Nr(t.firestore,null,r)}}function AD(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=kl.newId()),DD("doc","path",e),t instanceof Yo){let r=Le.fromString(e,...n);return Pb(r),new Bt(t,null,new z(r))}{if(!(t instanceof Bt||t instanceof Nr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Le.fromString(e,...n));return Pb(r),new Bt(t.firestore,t instanceof Nr?t.converter:null,new z(r))}}var Sy=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Ql(this,"async_queue_retry"),this.Eu=()=>{let n=om();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=om();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Pn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return S(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ka(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=my.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&ee()}verifyOperationInProgress(){}mu(){return S(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var $a=class extends Yo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Sy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||PD(this),this._firestoreClient.terminate()}};function MD(t,e){let n=typeof t=="object"?t:gi(),r=typeof t=="string"?t:e||"(default)",i=ga(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=fl("firestore");o&&TD(i,...o)}return i}function xD(t){return t._firestoreClient||PD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function PD(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new mm(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bD(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Ty(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ha=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(mt.fromBase64String(e))}catch(n){throw new U(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var id=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var od=class{constructor(e){this._methodName=e}};var za=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var qa=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var e2=/^__.*__$/;function RD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var Ay=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return xy(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(RD(this.wu)&&e2.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},My=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fd(e)}Nu(e,n,r,i=!1){return new Ay({wu:e,methodName:n,Ou:r,path:Zt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function t2(t){let e=t._freezeSettings(),n=fd(t._databaseId);return new My(t._databaseId,!!e.ignoreUndefinedProperties,n)}function n2(t,e,n,r=!1){return Zy(n,t.Nu(r?4:3,e))}function Zy(t,e){if(ND(t=Mt(t)))return i2("Unsupported field value:",e,t),r2(t,e);if(t instanceof od)return function(r,i){if(!RD(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Zy(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=pt.fromDate(r);return{timestampValue:Vm(i.serializer,o)}}if(r instanceof pt){let o=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vm(i.serializer,o)}}if(r instanceof za)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ha)return{bytesValue:nD(i.serializer,r._byteString)};if(r instanceof Bt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qa)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return qy(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${gd(r)}`)}(t,e)}function r2(t,e){let n={};return Fb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(t,(r,i)=>{let o=Zy(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ND(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof za||t instanceof Ha||t instanceof Bt||t instanceof od||t instanceof qa)}function i2(t,e,n){if(!ND(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=gd(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}var o2=new RegExp("[~\\*/\\[\\]]");function s2(t,e,n){if(e.search(o2)>=0)throw xy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new id(...e.split("."))._internalPath}catch{throw xy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xy(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(N.INVALID_ARGUMENT,a+t+u)}var sd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Py(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(md("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Py=class extends sd{data(){return super.data()}};function md(t,e){return typeof e=="string"?s2(t,e):e instanceof id?e._internalPath:e._delegate._internalPath}function a2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ga=class{},Wa=class extends Ga{};function OD(t,e,...n){let r=[];e instanceof Ga&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof Ry).length,a=o.filter(u=>u instanceof ad).length;if(s>1||s>0&&a>0)throw new U(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ad=class t extends Wa{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return VD(e._query,n),new Vr(e.firestore,e.converter,Mm(e._query,n))}_parse(e){let n=t2(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ob(p,h);let v=[];for(let A of p)v.push(Nb(u,o,A));m={arrayValue:{values:v}}}else m=Nb(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ob(p,h),m=n2(a,s,p,h==="in"||h==="not-in");return qe.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function kD(t,e,n){let r=e,i=md("where",t);return ad._create(i,r,n)}var Ry=class t extends Ga{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)VD(s,u),s=Mm(s,u)}(e._query,n),new Vr(e.firestore,e.converter,Mm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Ny=class t extends Wa{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new U(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xi(o,s)}(e._query,this._field,this._direction);return new Vr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new kr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function FD(t,e="asc"){let n=e,r=md("orderBy",t);return Ny._create(r,n)}var Oy=class t extends Wa{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Vr(e.firestore,e.converter,Bl(e._query,this._limit,this._limitType))}};function LD(t){return XV("limit",t),Oy._create("limit",t,"F")}function Nb(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new U(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zb(e)&&n.indexOf("/")!==-1)throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Le.fromString(n));if(!z.isDocumentKey(r))throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ob(t,new z(r))}if(n instanceof Bt)return ob(t,n._key);throw new U(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function Ob(t,e){if(!Array.isArray(t)||t.length===0)throw new U(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VD(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var ky=class{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Qa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new qa(o)}convertGeoPoint(e){return new za(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Uy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){let n=tr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Le.fromString(e);Ge(uD(r));let i=new jl(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||er(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var Ti=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},cd=class extends sd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(md("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},jo=class extends cd{data(e={}){return super.data(e)}},Fy=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ti(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jo(this._firestore,this._userDataWriter,r.key,r,new Ti(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new jo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ti(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new jo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ti(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:c2(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function c2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function jD(t){t=Ba(t,Bt);let e=Ba(t.firestore,$a);return YV(xD(e),t._key).then(n=>u2(e,t,n))}var ud=class extends ky{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ha(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}};function UD(t){t=Ba(t,Vr);let e=Ba(t.firestore,$a),n=xD(e),r=new ud(e);return a2(t._query),JV(n,t._query).then(i=>new Fy(e,r,t,i))}function u2(t,e,n){let r=n.docs.get(e._key),i=new ud(t);return new cd(t,i,e._key,r,new Ti(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Jo=i})(Mo),Mn(new xt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new $a(new um(r.getProvider("auth-internal")),new fm(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Fe(tb,"4.7.2",e),Fe(tb,"4.7.2","esm2017")})();var Pi=class{constructor(e){return e}},BD="firestore",Xy=class{constructor(){return vi(BD)}};var ev=new Z("angularfire2.firestore-instances");function l2(t,e){let n=ma(BD,t,e);return n&&new Pi(n)}function d2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pi(r)}}var h2={provide:Xy,deps:[[new dt,ev]]},f2={provide:Pi,useFactory:l2,deps:[[new dt,ev],Jn]};function $D(t,...e){return Fe("angularfire",xr.full,"fst"),In([f2,h2,{provide:ev,useFactory:d2(t),multi:!0,deps:[De,Gt,_i,wi,[new dt,Po],[new dt,yi],...e]}])}var HD=It(SD,!0);var zD=It(AD,!0);var qD=It(jD,!0);var GD=It(UD,!0);var WD=It(MD,!0);var KD=It(LD,!0);var QD=It(FD,!0);var Xo=It(OD,!0);var Za=It(kD,!0);var es=(()=>{let e=class e{constructor(){this.firestore=O(Pi)}getDesign(r){return S(this,null,function*(){return(yield qD(zD(this.firestore,"designs/"+r))).data()})}getDesigns(r){return S(this,null,function*(){let i=Xo(HD(this.firestore,"designs"),QD("createdAt","desc"));r.searchTerm&&(i=Xo(i,Za("name",">=",r.searchTerm),Za("name","<=",r.searchTerm+"\uF8FF"))),r.count&&(i=Xo(i,KD(r.count))),r.category&&(i=Xo(i,Za("category","==",r.category))),r.type&&(i=Xo(i,Za("type","==",r.type)));let o=yield GD(i),s=[];return o.forEach(a=>{s.push($({id:a.id},a.data()))}),s})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xt=(()=>{let e=class e{constructor(){this.cart=xE(this.loadCartFromStorage()||{items:[],totalAmount:0,isVisible:!1})}calculateTotalAmount(r){return r.reduce((i,o)=>i+o.design.price*o.quantity,0)}openCart(){this.cart.update(r=>(r.isVisible=!0,this.saveCartToStorage(r),r))}closeCart(){this.cart.update(r=>(r.isVisible=!1,this.saveCartToStorage(r),r))}addItem(r){this.cart.update(i=>{let o=i.items.find(s=>s.design.id===r.design.id&&s.size==r.size);return o?o.quantity+=r.quantity:i.items.push(r),i.totalAmount+=r.design.price*r.quantity,this.saveCartToStorage(i),i})}removeItem(r){this.cart.update(i=>{let o=i.items.find(s=>s.design.id===r.design.id&&s.size==r.size);return o&&(o.quantity--,o.quantity<1&&(i.items=i.items.filter(s=>s!=o))),i.totalAmount=this.calculateTotalAmount(i.items),this.saveCartToStorage(i),i})}deleteItem(r){this.cart.update(i=>{let o=i.items.find(s=>s.design.id===r.design.id&&s.size==r.size);return o&&(i.items=i.items.filter(s=>s!=o)),i.totalAmount=this.calculateTotalAmount(i.items),this.saveCartToStorage(i),i})}saveCartToStorage(r){localStorage.setItem("cart",JSON.stringify(r))}loadCartFromStorage(){let r=localStorage.getItem("cart");return r?JSON.parse(r):null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yd=t=>({show:t}),YD=(()=>{let e=class e{constructor(){this.isAnimationTriggered=!1,this.isHamburgerOpen=!1,this.cartService=O(Xt),this.router=O(Vt)}ngOnInit(){setTimeout(()=>{this.isAnimationTriggered=!0},0)}openProductPage(){this.router.navigate(["/products"])}openCart(){this.cartService.openCart()}toggleHamburger(){this.isHamburgerOpen=!this.isHamburgerOpen}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["cw-navbar"]],standalone:!0,features:[Se],decls:52,vars:18,consts:[[1,"container"],[1,"black-overlay"],[1,"white-bar"],[1,"logo"],["routerLink","/"],["src","assets/current-wave-gradient.svg","alt","logo"],[1,"title"],[1,"cart"],["id","openCart",1,"cart-button",3,"click"],[1,"fas","fa-basket-shopping","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button",3,"click"],[1,"line"],[1,"logo-hamburger"],["src","assets/current-wave-white.svg","alt","logo"],["id","menu-overlay",1,"menu-overlay",3,"click"],["id","mobile-menu",1,"mobile-menu"],["routerLink","/",1,"menu-item"],[1,"fas","fa-house"],["routerLink","/products",1,"menu-item"],[1,"fas","fa-shirt"],["routerLink","/cart",1,"menu-item"],[1,"fas","fa-basket-shopping"],[1,"content"],["src","assets/current-wave-white.svg","alt","logo",1,"logo-secondary"],[1,"slogan"],[1,"browse-button",3,"click"],[1,"left-image-wrapper","wrapper-position"],["src","assets/apparel/cench.png","alt","Kendrick",1,"left-image","tshirt","image",3,"ngClass"],[1,"left-image-wrapper-2","wrapper-position"],["src","assets/apparel/kendrick.png","alt","Kendrick",1,"left-image-2","tshirt","image",3,"ngClass"],[1,"right-image-wrapper","wrapper-position"],["src","assets/apparel/gojo.png","alt","Kendrick",1,"right-image","tshirt","image",3,"ngClass"],[1,"right-image-wrapper-2","wrapper-position"],["src","assets/apparel/travis.png","alt","Kendrick",1,"right-image-2","tshirt","image",3,"ngClass"]],template:function(i,o){i&1&&(T(0,"div",0),j(1,"div",1),T(2,"div",2)(3,"div",3)(4,"a",4),j(5,"img",5),x()(),T(6,"div",6)(7,"a",4),k(8," CURRENT WAVE"),x()(),T(9,"div",7)(10,"div",8),J("click",function(){return o.openCart()}),j(11,"i",9),x()()(),T(12,"div",10)(13,"div",11),J("click",function(){return o.toggleHamburger()}),j(14,"span",12)(15,"span",12)(16,"span",12),x(),T(17,"div",13),j(18,"img",14),x(),j(19,"div"),x(),T(20,"div",15),J("click",function(){return o.toggleHamburger()}),x(),T(21,"nav",16)(22,"ul")(23,"li")(24,"a",17),j(25,"i",18),T(26,"span"),k(27,"Home"),x()()(),T(28,"li")(29,"a",19),j(30,"i",20),T(31,"span"),k(32,"Kolekcija"),x()()(),T(33,"li")(34,"a",21),j(35,"i",22),T(36,"span"),k(37,"Korpa"),x()()()()(),T(38,"div",23),j(39,"img",24),T(40,"div",25),k(41,"Pridru\u017Ei se talasu."),x()(),T(42,"button",26),J("click",function(){return o.openProductPage()}),k(43," Pogledaj kolekciju "),x(),T(44,"div",27),j(45,"img",28),x(),T(46,"div",29),j(47,"img",30),x(),T(48,"div",31),j(49,"img",32),x(),T(50,"div",33),j(51,"img",34),x()()),i&2&&(V(13),rt("is-active",o.isHamburgerOpen),V(7),rt("show",o.isHamburgerOpen),V(),rt("show",o.isHamburgerOpen),V(24),Y("ngClass",Bs(10,yd,o.isAnimationTriggered)),V(2),Y("ngClass",Bs(12,yd,o.isAnimationTriggered)),V(2),Y("ngClass",Bs(14,yd,o.isAnimationTriggered)),V(2),Y("ngClass",Bs(16,yd,o.isAnimationTriggered)))},dependencies:[ke,p0,To],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;min-height:25rem;background:var(--gradient-secondary);justify-content:center;overflow:hidden;position:relative}.black-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%;background-color:#000;z-index:1;pointer-events:none;opacity:.05;transition:opacity .5s ease}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:100%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.browse-button[_ngcontent-%COMP%]{position:relative;z-index:2;height:3rem;width:12rem;outline:none;border:none;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;box-shadow:0 2px 4px #0003;border:3px solid var(--white-primary)}.browse-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;z-index:2;flex-wrap:wrap;width:100%}.logo-secondary[_ngcontent-%COMP%]{max-width:22rem;max-height:22rem;color:var(--white-primary);display:block}.slogan[_ngcontent-%COMP%]{position:absolute;font-size:var(--fs-600);max-width:30rem;padding-inline:1.5rem;padding-bottom:1.5rem;font-family:var(--ff-secondary);color:var(--white-primary);-webkit-user-select:none;user-select:none;cursor:default;z-index:2;top:80%}.wrapper-position[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:0}.left-image-wrapper[_ngcontent-%COMP%]{top:-5rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-5rem;left:-30rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-5rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-4rem;right:-25rem}.image[_ngcontent-%COMP%]{max-width:60rem;max-height:60rem;transition:width .3s ease,height .3s ease}.left-image[_ngcontent-%COMP%]{transform:rotate(15deg);--rotation: 15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.right-image[_ngcontent-%COMP%]{transform:rotate(-15deg);--rotation: -15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.left-image-2[_ngcontent-%COMP%]{transform:rotate(-10deg);--rotation: -10deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.right-image-2[_ngcontent-%COMP%]{transform:rotate(25deg);--rotation: 25deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background:var(--gradient-primary);color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.line[_ngcontent-%COMP%]{background-color:var(--white-primary);width:20px;height:2px;display:block;margin:4px auto;transition:all .3s ease-in-out}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){-webkit-transform:translateY(6px) rotate(45deg);-ms-transform:translateY(6px) rotate(45deg);-o-transform:translateY(6px) rotate(45deg);transform:translateY(6px) rotate(45deg)}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){-webkit-transform:translateY(-6px) rotate(-45deg);-ms-transform:translateY(-6px) rotate(-45deg);-o-transform:translateY(-6px) rotate(-45deg);transform:translateY(-6px) rotate(-45deg)}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;opacity:0;visibility:hidden;transition:opacity .3s ease;z-index:8;display:none}.menu-overlay.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.mobile-menu[_ngcontent-%COMP%]{display:none;flex-direction:column;position:fixed;top:3rem;left:0;height:100vh;width:80%;background:var(--white-primary);opacity:0;transform:translate(-100%);transition:transform .3s ease,opacity .2s linear;z-index:9;pointer-events:none}.mobile-menu.show[_ngcontent-%COMP%]{opacity:1;transform:translate(0);pointer-events:auto}.mobile-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;text-align:left}.menu-item[_ngcontent-%COMP%]{position:relative;font-family:var(--ff-secondary);display:flex;align-items:center;gap:.8rem;padding:1rem;cursor:pointer;transition:.2s linear}.menu-item[_ngcontent-%COMP%]:before{position:absolute;content:"";inset:0;background:var(--gradient-secondary);z-index:1;transition:opacity .2s linear;opacity:0;-webkit-user-select:none;user-select:none}.menu-item[_ngcontent-%COMP%]:hover:before{opacity:1}.menu-item[_ngcontent-%COMP%]:hover{color:#fff}.menu-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{background:#fff;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;z-index:2;transition:.2s linear}.menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{z-index:2}@media screen and (max-width: 1770px){.image[_ngcontent-%COMP%]{max-width:55rem;max-height:55rem}.black-overlay[_ngcontent-%COMP%]{opacity:.1}.left-image-wrapper[_ngcontent-%COMP%]{top:-2rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-2rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;right:-20rem}}@media screen and (max-width: 1600px){.black-overlay[_ngcontent-%COMP%]{opacity:.15}}@media screen and (max-width: 1100px){.image[_ngcontent-%COMP%]{max-width:45rem;max-height:45rem}.black-overlay[_ngcontent-%COMP%]{opacity:.25}.left-image-wrapper[_ngcontent-%COMP%]{top:-1rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-1rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;right:-20rem}}@media screen and (max-width: 840px){.hamburger-bar[_ngcontent-%COMP%], .mobile-menu[_ngcontent-%COMP%]{display:flex}.menu-overlay[_ngcontent-%COMP%]{display:block}.white-bar[_ngcontent-%COMP%]{display:none}.browse-button[_ngcontent-%COMP%]{height:2.7rem;width:7rem;font-size:.8rem}.black-overlay[_ngcontent-%COMP%]{opacity:.35}.image[_ngcontent-%COMP%]{max-width:30rem;max-height:30rem}.left-image-wrapper[_ngcontent-%COMP%]{top:1rem;left:-4rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:1rem;left:-15rem}.right-image-wrapper[_ngcontent-%COMP%]{top:1rem;right:-4rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:2rem;right:-15rem}}@media screen and (max-width: 600px){.image[_ngcontent-%COMP%]{max-width:29rem;max-height:29rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{display:none}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{display:none}}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 370px){.image[_ngcontent-%COMP%]{max-width:25rem;max-height:25rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}}.tshirt[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px) rotate(0);animation-duration:.8s;animation-fill-mode:forwards;transition:transform .5s}@keyframes _ngcontent-%COMP%_slide-in{0%{opacity:0;transform:translateY(50px) rotate(0)}to{opacity:1;transform:translateY(0) rotate(var(--rotation))}}']});let t=e;return t})();function p2(t,e){if(t&1&&(Vu(0),k(1),ju()),t&2){let n=Cn(2);V(),Ye(n.onContentRendered())}}function g2(t,e){if(t&1&&(T(0,"cw-home-card",8),Oe(1,p2,2,1,"ng-container",9),x()),t&2){let n=e.$implicit,r=e.last,i=Cn();Y("design",n),V(),Y("ngIf",r&&!i.contentRendered)}}function m2(t,e){if(t&1&&(Vu(0),k(1),ju()),t&2){let n=Cn(2);V(),Ye(n.onContentRendered())}}function y2(t,e){if(t&1&&(T(0,"cw-home-card",8),Oe(1,m2,2,1,"ng-container",9),x()),t&2){let n=e.$implicit,r=e.last,i=Cn();Y("design",n),V(),Y("ngIf",r&&!i.contentRendered)}}var JD=(()=>{let e=class e{constructor(){this.contentRendered=!1,this.shirtDesigns=[],this.hoodieDesigns=[],this.changeDetector=O(bn),this.designService=O(es)}ngOnInit(){return S(this,null,function*(){yield this.loadDesigns()})}loadDesigns(r=""){return S(this,null,function*(){let i=yield this.designService.getDesigns({count:5,type:"Majica"}),o=yield this.designService.getDesigns({count:5,type:"Duks"});this.shirtDesigns=i,this.hoodieDesigns=o})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(r,i){return i.id}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["cw-home"]],standalone:!0,features:[Se],decls:20,vars:4,consts:[[1,"wrapper"],[1,"title"],[1,"subtitle"],[1,"grid"],[3,"design",4,"ngFor","ngForOf","ngForTrackBy"],[1,"show-more"],[1,"content"],["src","assets/current-wave-white.svg","alt","current wave logo",1,"logo"],[3,"design"],[4,"ngIf"]],template:function(i,o){i&1&&(j(0,"cw-navbar"),T(1,"div",0)(2,"h1",1),k(3,"NA\u0160I PROIZVODI"),x(),T(4,"h2",2),k(5,"Majice"),x(),T(6,"div",3),Oe(7,g2,2,2,"cw-home-card",4),T(8,"div",5)(9,"div",6),j(10,"img",7),k(11,"Jo\u0161 proizvoda... "),x()()(),T(12,"h2",2),k(13,"Duksevi"),x(),T(14,"div",3),Oe(15,y2,2,2,"cw-home-card",4),T(16,"div",5)(17,"div",6),j(18,"img",7),k(19,"Jo\u0161 proizvoda... "),x()()()()),i&2&&(V(7),Y("ngForOf",o.shirtDesigns)("ngForTrackBy",o.identify),V(8),Y("ngForOf",o.hoodieDesigns)("ngForTrackBy",o.identify))},dependencies:[ll,ke,Dn,At,YD],styles:[".wrapper[_ngcontent-%COMP%]{max-width:min(90rem,90%);margin-inline:auto;box-sizing:border-box;margin-bottom:2rem;min-height:40rem}.title[_ngcontent-%COMP%]{text-align:center;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin-inline:auto}.subtitle[_ngcontent-%COMP%]{font-size:var(--fs-900);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:1rem;margin-inline:auto}.grid[_ngcontent-%COMP%]{--grid-layout-gap: 1rem;--grid-column-count: 3;--grid-item--min-width: 15rem;--gap-count: calc(var(--grid-column-count) - 1);--total-gap-width: calc(var(--gap-count) * var(--grid-layout-gap));--grid-item--max-width: calc( (100% - var(--total-gap-width)) / var(--grid-column-count) );display:grid;width:100%;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(max(var(--grid-item--min-width),var(--grid-item--max-width)),1fr));grid-auto-rows:1fr;justify-content:center;padding-bottom:2rem}.visible[_ngcontent-%COMP%]{display:grid}.show-more[_ngcontent-%COMP%]{font-family:var(--ff-secondary);width:100%;height:100%;position:relative;transition:.2s ease;border-radius:.8rem;display:flex;justify-content:center;align-items:center;overflow:hidden;padding:.25rem;background:linear-gradient(-45deg,#6fc2e4,#44bbed,#0cb3f8);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}.content[_ngcontent-%COMP%]{color:var(--white-primary);width:100%;height:100%;border-radius:.55rem;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:var(--fs-700);font-weight:700;text-align:center;-webkit-user-select:none;user-select:none}.show-more[_ngcontent-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}.logo[_ngcontent-%COMP%]{width:50%}@keyframes _ngcontent-%COMP%_gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]});let t=e;return t})();function v2(t,e){if(t&1){let n=UE();T(0,"div",21),J("click",function(){let i=wI(n).$implicit,o=Cn();return II(o.selectSize(i))}),T(1,"span",22),k(2),x()()}if(t&2){let n=e.$implicit,r=Cn();rt("active",n===r.selectedSize),V(2),Je(" ",n," ")}}function _2(t,e){if(t&1&&j(0,"cw-home-card",23),t&2){let n=e.$implicit;Y("design",n)}}var ZD=(()=>{let e=class e{constructor(){this.sizes=["XS","S","M","L","XL","XXL"],this.selectedSize=this.sizes[0],this.id="",this.route=O(Kn),this.designService=O(es),this.cartService=O(Xt),this.contentRendered=!1,this.shirtDesigns=[],this.hoodieDesigns=[],this.changeDetector=O(bn)}ngOnInit(){return S(this,null,function*(){this.id=this.route.snapshot.paramMap.get("id"),this.designService.getDesign(this.id).then(r=>S(this,null,function*(){r?(this.design=r,this.selectedImage=this.design.image,yield this.loadDesigns()):console.error("Design not found")})).catch(r=>{console.error("Error fetching design:",r)})})}loadDesigns(){return S(this,null,function*(){let r=yield this.designService.getDesigns({count:5,type:this.design.type});this.shirtDesigns=r.filter(i=>i.id!==this.id)})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(r,i){return i.id}selectSize(r){this.selectedSize=r}showImage(r){this.selectedImage=r}addToCart(){if(!this.design)return;let r={design:this.design,quantity:1,size:this.selectedSize};this.cartService.addItem(r),this.cartService.openCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["cw-design"]],standalone:!0,features:[Se],decls:32,vars:20,consts:[[1,"container"],[1,"row"],[1,"apparel-images"],[1,"image-wrapper"],[1,"main-image",3,"src","alt"],[1,"thumbnail-images"],[1,"thumbnail",3,"click"],[3,"src","alt"],[1,"apparel-info"],[1,"name"],[1,"category"],[1,"tag"],[1,"price"],[1,"all-sizes"],["class","selected-size",3,"active","click",4,"ngFor","ngForOf"],["id","addToCartBtn","text","Dodaj u korpu",1,"add-to-cart-btn",3,"clicked"],[1,"material"],[1,"featured-items"],[1,"subtitle"],[1,"grid"],["class","card",3,"design",4,"ngFor","ngForOf"],[1,"selected-size",3,"click"],[1,"size-text"],[1,"card",3,"design"]],template:function(i,o){i&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),j(4,"img",4),x(),T(5,"div",5)(6,"div",6),J("click",function(){return o.showImage(o.design==null?null:o.design.image)}),j(7,"img",7),x(),T(8,"div",6),J("click",function(){return o.showImage(o.design==null?null:o.design.front)}),j(9,"img",7),x(),T(10,"div",6),J("click",function(){return o.showImage(o.design==null?null:o.design.back)}),j(11,"img",7),x()()(),T(12,"div",8)(13,"div",9),k(14),x(),T(15,"div",10)(16,"span",11),k(17),x(),T(18,"span",11),k(19),x()(),T(20,"div",12),k(21),x(),T(22,"div",13),Oe(23,v2,3,3,"div",14),x(),T(24,"cw-button",15),J("clicked",function(){return o.addToCart()}),x(),T(25,"div",16),k(26,"100% pamuk. Prati na 30\xB0C"),x()()(),T(27,"div",17)(28,"h2",18),k(29,"Sli\u010Dni proizvodi"),x(),T(30,"div",19),Oe(31,_2,1,1,"cw-home-card",20),x()()()),i&2&&(V(4),wr("alt",o.design==null?null:o.design.name),Y("src",o.selectedImage,Kt),V(2),rt("selected",o.selectedImage===(o.design==null?null:o.design.image)),V(),wr("alt",o.design==null?null:o.design.name),Y("src",o.design==null?null:o.design.image,Kt),V(),rt("selected",o.selectedImage===(o.design==null?null:o.design.front)),V(),wr("alt",o.design==null?null:o.design.name),Y("src",o.design==null?null:o.design.front,Kt),V(),rt("selected",o.selectedImage===(o.design==null?null:o.design.back)),V(),wr("alt",o.design==null?null:o.design.name),Y("src",o.design==null?null:o.design.back,Kt),V(3),Ye(o.design==null?null:o.design.name),V(3),Ye(o.design==null?null:o.design.category),V(2),Ye(o.design==null?null:o.design.type),V(2),Je("",o.design==null?null:o.design.price,".00 RSD"),V(2),Y("ngForOf",o.sizes),V(8),Y("ngForOf",o.shirtDesigns))},dependencies:[ke,Dn,ll,Sr],styles:['.container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;padding:2rem}.row[_ngcontent-%COMP%]{display:flex;justify-content:center}.apparel-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:32rem;max-height:34rem;padding:2rem;padding-left:0;gap:1rem}.name[_ngcontent-%COMP%]{font-size:3rem}.category[_ngcontent-%COMP%]{display:flex;gap:.5rem}.tag[_ngcontent-%COMP%]{background:var(--gradient-secondary);background-repeat:no-repeat;background-clip:padding-box;padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-500);color:var(--white-primary);font-family:var(--ff-secondary)}.price[_ngcontent-%COMP%]{font-size:1.5rem;color:#000;font-family:var(--ff-secondary)}.size[_ngcontent-%COMP%]{font-size:1rem}.add-to-cart-btn[_ngcontent-%COMP%]{max-width:22rem;padding:2rem;margin-left:0;font-family:var(--ff-primary);font-size:var(--fs-600);cursor:pointer}.apparel-images[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:2rem}.thumbnail-images[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;gap:.5rem}.thumbnail[_ngcontent-%COMP%]{width:5rem;height:5rem;position:relative;cursor:pointer}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:.5rem;border:none}.thumbnail[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;opacity:0;transition:opacity .3s ease;border-radius:.5rem;z-index:1}.thumbnail[_ngcontent-%COMP%]:hover:before{opacity:1}.thumbnail.selected[_ngcontent-%COMP%]:before{opacity:1}.size-selection[_ngcontent-%COMP%]{padding-bottom:1rem}.selected-size[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background:var(--gradient-primary);background-repeat:no-repeat;z-index:2;transition:opacity .2s linear;opacity:0;-webkit-user-select:none;user-select:none}.selected-size[_ngcontent-%COMP%]:hover:before{opacity:1}.selected-size.active[_ngcontent-%COMP%]{background:var(--gradient-primary);background-repeat:no-repeat;border-color:var(--clr-primary);color:var(--white-primary)}.main-image[_ngcontent-%COMP%]{width:30rem;height:30rem;transition:transform .3s ease;border:none}.image-wrapper[_ngcontent-%COMP%]{width:30rem;height:30rem;overflow:hidden;position:relative;border-radius:1.5rem;cursor:zoom-in;border:none}.image-wrapper[_ngcontent-%COMP%]:hover   .main-image[_ngcontent-%COMP%]{transform:scale(1.05);cursor:pointer;transition:transform .5s ease}.all-sizes[_ngcontent-%COMP%]{display:flex;padding:.5rem;padding-left:0;flex-wrap:wrap;justify-content:flex-start;gap:.5rem;font-family:var(--ff-secondary)}.selected-size[_ngcontent-%COMP%]{position:relative;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;padding:.5rem;border:1px solid black;border-radius:1rem;height:auto;width:3.2rem;font-size:1.2rem;cursor:pointer;transition:.2s linear;box-sizing:border-box}.selected-size[_ngcontent-%COMP%]:hover{background:var(--gradient-primary);background-repeat:no-repeat;border-color:var(--clr-primary);color:var(--white-primary)}.content[_ngcontent-%COMP%]{color:var(--white-primary);width:100%;height:100%;border-radius:.55rem;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:var(--fs-700);font-weight:700;text-align:center;-webkit-user-select:none;user-select:none}.featured-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem}.grid[_ngcontent-%COMP%]{display:flex;gap:1rem}.subtitle[_ngcontent-%COMP%]{font-size:var(--fs-900);font-family:var(--ff-main);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:.5rem}.size-text[_ngcontent-%COMP%]{z-index:3}.card[_ngcontent-%COMP%]{min-width:11rem;min-height:11rem;max-width:21rem;max-height:21rem}.material[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}@media screen and (max-width: 800px){.row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.grid[_ngcontent-%COMP%]{flex-direction:column}.apparel-info[_ngcontent-%COMP%]{padding-left:2rem;padding-top:0rem;justify-content:center;width:20rem}.main-image[_ngcontent-%COMP%], .image-wrapper[_ngcontent-%COMP%]{width:20rem;height:20rem}.thumbnail-images[_ngcontent-%COMP%]{justify-content:center}.apparel-images[_ngcontent-%COMP%]{padding-top:0}.name[_ngcontent-%COMP%], .category[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{justify-content:flex-start}.name[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.category[_ngcontent-%COMP%]{font-size:1.2rem;text-align:center}.price[_ngcontent-%COMP%]{font-size:1.4rem;text-align:center}.add-to-cart-btn[_ngcontent-%COMP%]{width:12rem;height:4rem}.apparel-info[_ngcontent-%COMP%]{justify-content:center;align-items:center}.material[_ngcontent-%COMP%]{font-size:.8rem;text-align:center}.all-sizes[_ngcontent-%COMP%]{padding-left:.5rem}.all-sizes[_ngcontent-%COMP%]{justify-content:center}}']});let t=e;return t})();function w2(t,e){t&1&&(T(0,"div",5),j(1,"img",6),x())}var XD=(()=>{let e=class e{constructor(){this.imageLoaded=!1,this.router=O(Vt)}onImageLoad(){this.imageLoaded=!0}showDesign(){this.router.navigate(["/design",this.design.id])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["cw-product-card"]],inputs:{design:"design"},standalone:!0,features:[Se],decls:7,vars:4,consts:[[1,"image-wrapper",3,"click"],["loading","lazy",1,"main-card",3,"load","src"],["class","loader",4,"ngIf"],[1,"title",3,"click"],[1,"price",3,"click"],[1,"loader"],["src","assets/current-wave-skeleton.svg","alt","Loading..."]],template:function(i,o){i&1&&(T(0,"div",0),J("click",function(){return o.showDesign()}),T(1,"img",1),J("load",function(){return o.onImageLoad()}),x()(),Oe(2,w2,2,0,"div",2),T(3,"div",3),J("click",function(){return o.showDesign()}),k(4),x(),T(5,"div",4),J("click",function(){return o.showDesign()}),k(6),x()),i&2&&(V(),Y("src",o.design.image,Kt),V(),Y("ngIf",!o.imageLoaded),V(2),Ye(o.design.name),V(2),Je("",o.design.price,".00 RSD"))},dependencies:[ke,At],styles:[".loader[_ngcontent-%COMP%]{border-radius:.8rem;width:100%;overflow:hidden}.main-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;width:15rem;height:15rem;transition:transform .3s ease;border:none}.image-wrapper[_ngcontent-%COMP%]{width:15rem;height:15rem;overflow:hidden;position:relative;border-radius:1.5rem;cursor:pointer;border:none}.image-wrapper[_ngcontent-%COMP%]:hover   .main-card[_ngcontent-%COMP%]{transform:scale(1.05);cursor:pointer;transition:transform .5s ease}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-block:.5rem;cursor:pointer;font-family:var(--ff-secondary)}.price[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;font-family:var(--ff-secondary);font-weight:600}.image-wrapper[_ngcontent-%COMP%]:hover ~ .title[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]:hover{text-decoration:underline}.title[_ngcontent-%COMP%]:hover{text-decoration:underline}"]});let t=e;return t})();var I2=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(we(qn),we(Wt))},e.\u0275dir=Tt({type:e});let t=e;return t})(),tT=(()=>{let e=class e extends I2{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275dir=Tt({type:e,features:[Us]});let t=e;return t})(),nT=new Z("");var E2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},l6=Me($({},E2),{"[class.ng-submitted]":"isSubmitted"});var C2=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>rT}),rT="always";var b2={provide:nT,useExisting:Ls(()=>oT),multi:!0};function iT(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function D2(t){return t.split(":")[0]}var oT=(()=>{let e=class e extends tT{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=iT(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=D2(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275dir=Tt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&J("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ip([b2]),Us]});let t=e;return t})(),sT=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(iT(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(we(Wt),we(qn),we(oT,9))},e.\u0275dir=Tt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),T2={provide:nT,useExisting:Ls(()=>aT),multi:!0};function eT(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function S2(t){return t.split(":")[0]}var aT=(()=>{let e=class e extends tT{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=S2(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275dir=Tt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&J("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ip([T2]),Us]});let t=e;return t})(),cT=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(eT(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(eT(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(we(Wt),we(qn),we(aT,9))},e.\u0275dir=Tt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var A2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=ii({});let t=e;return t})();var uT=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:C2,useValue:r.callSetDisabledState??rT}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=ii({imports:[A2]});let t=e;return t})();function x2(t,e){if(t&1&&j(0,"cw-product-card",25),t&2){let n=e.$implicit;Y("design",n)}}var lT=(()=>{let e=class e{constructor(){this.shirtDesigns=[],this.filteredDesigns=[],this.selectedSort="new",this.selectedTypes=new Set,this.selectedCategories=new Set,this.designService=O(es)}ngOnInit(){return S(this,null,function*(){yield this.loadDesigns(),this.filteredDesigns=this.shirtDesigns})}loadDesigns(){return S(this,null,function*(){this.shirtDesigns=yield this.designService.getDesigns({}),this.filterAndSortDesigns()})}toggleType(r){this.selectedTypes.has(r)?this.selectedTypes.delete(r):this.selectedTypes.add(r),this.filterAndSortDesigns()}toggleCategory(r){this.selectedCategories.has(r)?this.selectedCategories.delete(r):this.selectedCategories.add(r),this.filterAndSortDesigns()}onSortChange(r){let i=r.target;this.selectedSort=i.value,this.filterAndSortDesigns()}filterAndSortDesigns(){this.filteredDesigns=this.shirtDesigns.filter(r=>{let i=this.selectedTypes.size===0||this.selectedTypes.has(r.type),o=this.selectedCategories.size===0||this.selectedCategories.has(r.category);return i&&o}),this.filteredDesigns.sort((r,i)=>{switch(this.selectedSort){case"new":return new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime();case"old":return new Date(r.createdAt).getTime()-new Date(i.createdAt).getTime();case"price-higher":return i.price-r.price;case"price-lower":return r.price-i.price;default:return 0}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["cw-products-page"]],standalone:!0,features:[Se],decls:43,vars:1,consts:[[1,"container"],[1,"first-row"],[1,"title"],[1,"sort"],[1,"text"],["id","sortSelect",1,"select",3,"change"],["value","new"],["value","old"],["value","price-higher"],["value","price-lower"],[1,"line"],[1,"second-row"],[1,"filter"],[1,"filter-title"],[1,"filter-tools"],["for","majica"],["type","checkbox","id","majica",3,"change"],["for","duks"],["type","checkbox","id","duks",3,"change"],["for","anime"],["type","checkbox","id","anime",3,"change"],["for","rap"],["type","checkbox","id","rap",3,"change"],[1,"grid"],["class","card",3,"design",4,"ngFor","ngForOf"],[1,"card",3,"design"]],template:function(i,o){i&1&&(T(0,"div",0)(1,"div",1)(2,"div",2),k(3,"Svi proizvodi"),x(),T(4,"div",3)(5,"div",4),k(6,"Sortiraj prema:"),x(),T(7,"select",5),J("change",function(a){return o.onSortChange(a)}),T(8,"option",6),k(9,"Novije"),x(),T(10,"option",7),k(11,"Starije"),x(),T(12,"option",8),k(13,"Visoj ceni"),x(),T(14,"option",9),k(15,"Nizoj ceni"),x()()()(),j(16,"div",10),T(17,"div",11)(18,"div",12)(19,"div",13),k(20,"Tip"),x(),T(21,"div",14)(22,"label",15),k(23,"Majica"),x(),T(24,"input",16),J("change",function(){return o.toggleType("Majica")}),x()(),T(25,"div",14)(26,"label",17),k(27,"Duks"),x(),T(28,"input",18),J("change",function(){return o.toggleType("Duks")}),x()(),j(29,"div",10),T(30,"div",13),k(31,"Kategorija"),x(),T(32,"div",14)(33,"label",19),k(34,"Anime"),x(),T(35,"input",20),J("change",function(){return o.toggleCategory("Anime")}),x()(),T(36,"div",14)(37,"label",21),k(38,"Rap"),x(),T(39,"input",22),J("change",function(){return o.toggleCategory("Rap")}),x()(),j(40,"div",10),x(),T(41,"div",23),Oe(42,x2,1,1,"cw-product-card",24),x()()()),i&2&&(V(42),Y("ngForOf",o.filteredDesigns))},dependencies:[ke,Dn,XD,uT,sT,cT],styles:[".container[_ngcontent-%COMP%]{display:flex;padding-block:1rem;flex-direction:column;padding-inline:20rem}.filter[_ngcontent-%COMP%]{display:flex;padding:.5rem;border-radius:1rem;min-height:30rem;min-width:15rem}.title[_ngcontent-%COMP%]{font-size:var(--fs-900);background:#000;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:1rem}.line[_ngcontent-%COMP%]{height:2px;width:100%;background:var(--gradient-primary);margin-bottom:1rem}.first-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.sort[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.select[_ngcontent-%COMP%]{width:6.2rem;height:1.7rem;margin-bottom:1rem;background:#000;border:none;border-radius:5px;font-size:var(--fs-400);color:var(--white-primary);font-family:var(--ff-secondary);font-weight:400;text-align:center}.text[_ngcontent-%COMP%]{font-family:var(--ff-secondary);font-weight:600;font-size:var(--fs-400);background:#000;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:1rem}.filter[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-title[_ngcontent-%COMP%]{padding-block:.5rem;font-size:var(--fs-700);font-family:var(--ff-secondary);font-weight:700;color:var(--gradient-primary)}.filter[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin-top:.5rem}.filter-tools[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-family:var(--ff-secondary);font-weight:400}.second-row[_ngcontent-%COMP%]{display:flex}.grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;padding-top:.5rem;padding-inline:1rem;justify-content:start;align-items:start}"]});let t=e;return t})();var vd=(()=>{let e=class e{constructor(){this.cartService=O(Xt)}decreaseQuantity(){this.cartService.removeItem(this.cartItem)}increaseQuantity(){this.cartService.addItem(Me($({},this.cartItem),{quantity:1}))}deleteItem(){this.cartService.deleteItem(this.cartItem)}quantityChanged(r){this.cartItem.quantity=r.target.value}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["cw-cart-item"]],inputs:{cartItem:"cartItem"},standalone:!0,features:[Se],decls:22,vars:16,consts:[[1,"card"],["alt","product-image",1,"image",3,"src"],[1,"content"],[1,"title"],[1,"name"],["id","deleteItem",1,"delete","fa-regular","fa-trash-can",3,"click"],[1,"size"],[1,"price"],[1,"quantity"],[1,"quantity-input"],[1,"quantity-button",3,"click"],["disabled","","type","number","min","1","max","99","name","quantity","id","quantity",3,"value"],[1,"total"]],template:function(i,o){i&1&&(T(0,"div",0),j(1,"img",1),T(2,"div",2)(3,"div",3)(4,"span",4),k(5),x(),T(6,"i",5),J("click",function(){return o.deleteItem()}),x()(),T(7,"div",6),k(8),x(),T(9,"div",7),k(10),kt(11,"currency"),x(),T(12,"div",8)(13,"div",9)(14,"div",10),J("click",function(){return o.decreaseQuantity()}),k(15,"-"),x(),j(16,"input",11),T(17,"div",10),J("click",function(){return o.increaseQuantity()}),k(18,"+"),x()(),T(19,"span",12),k(20),kt(21,"currency"),x()()()()),i&2&&(V(),Y("src",o.cartItem.design.image,Kt),V(4),Ye(o.cartItem.design.name),V(3),Je("Veli\u010Dina: ",o.cartItem.size,""),V(2),Je(" Cena: ",hn(11,6,o.cartItem.design.price,"","","1.0-0"),"RSD "),V(6),Y("value",o.cartItem.quantity),V(4),Je("",hn(21,11,o.cartItem.quantity*o.cartItem.design.price,"","","1.0-0"),"RSD"))},dependencies:[ke,Er],styles:[".card[_ngcontent-%COMP%]{display:flex;background-color:var(--white-primary);padding:1rem;border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a}.image[_ngcontent-%COMP%]{width:8rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding-left:1rem}.title[_ngcontent-%COMP%]{font-size:var(--fs-400);display:flex;align-items:center;justify-content:space-between}.title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--clr-error)}.price[_ngcontent-%COMP%], .size[_ngcontent-%COMP%]{font-size:var(--fs-400);font-family:var(--ff-secondary)}.quantity[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;flex-wrap:wrap;font-size:var(--fs-400)}.quantity-input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-family:var(--ff-secondary);-webkit-user-select:none;user-select:none}.quantity-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:4ch;-webkit-appearance:none;-moz-appearance:textfield;border:none;height:1.8rem;border-block:1px solid black;text-align:center}.quantity-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.quantity-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:1px solid black;width:2ch;height:1.8rem;text-align:center}.quantity-button[_ngcontent-%COMP%]:hover, .delete[_ngcontent-%COMP%]:hover{cursor:pointer}"]});let t=e;return t})();function P2(t,e){t&1&&(T(0,"div",10)(1,"div"),k(2,"Korpa je prazna"),x(),T(3,"a",11),j(4,"cw-button",12),x()())}function R2(t,e){if(t&1&&j(0,"cw-cart-item",13),t&2){let n=e.$implicit;Y("cartItem",n)}}var dT=(()=>{let e=class e{constructor(){this.cartService=O(Xt),this.cart=this.cartService.cart,this.SHIPPING_COST=this.cart().items.length>0?430:0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["cw-cart"]],standalone:!0,features:[Se],decls:26,vars:20,consts:[[1,"title"],[1,"wrapper"],[1,"items"],["class","empty",4,"ngIf"],[3,"cartItem",4,"ngFor","ngForOf"],[1,"info"],[1,"cost","subtotal"],[1,"cost","shipping"],[1,"cost","total"],["text","Poru\u010Di",1,"checkout"],[1,"empty"],["routerLink","/products"],["text","Pogledaj kolekciju"],[3,"cartItem"]],template:function(i,o){i&1&&(T(0,"h1",0),k(1,"KORPA"),x(),T(2,"div",1)(3,"div",2),Oe(4,P2,5,0,"div",3)(5,R2,1,1,"cw-cart-item",4),x(),T(6,"div",5)(7,"div",6)(8,"span"),k(9,"Cena:"),x(),T(10,"span"),k(11),kt(12,"currency"),x()(),T(13,"div",7)(14,"span"),k(15,"Po\u0161tarina:"),x(),T(16,"span"),k(17),kt(18,"currency"),x()(),T(19,"div",8)(20,"span"),k(21,"Ukupno:"),x(),T(22,"span"),k(23),kt(24,"currency"),x()(),j(25,"cw-button",9),x()()),i&2&&(V(4),Y("ngIf",o.cart().items.length<1),V(),Y("ngForOf",o.cart().items),V(6),Je("",hn(12,5,o.cart().totalAmount,"","","1.0-0"),"RSD"),V(6),Je("",hn(18,10,o.SHIPPING_COST,"","","1.0-0"),"RSD"),V(6),Je("",hn(24,15,o.cart().totalAmount+o.SHIPPING_COST,"","","1.0-0"),"RSD"))},dependencies:[vd,ke,Dn,At,Er,Sr,To],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;max-width:min(90rem,90%);min-height:40rem;margin-inline:auto;margin-bottom:2rem;justify-content:center;margin-top:2rem}.title[_ngcontent-%COMP%]{text-align:center;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin-inline:auto}.items[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;max-width:40rem;max-height:40rem;padding:2rem;display:flex;flex-direction:column;gap:1rem;overflow:auto;box-shadow:0 0 15px -3px #0000001a;border-radius:.5rem}.info[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;padding:2rem;display:flex;flex-direction:column;max-width:40rem}.cost[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.cost[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}.total[_ngcontent-%COMP%]{margin-top:.5rem;border-top:1px dashed black;font-family:var(--ff-main);font-size:var(--fs-600)}.checkout[_ngcontent-%COMP%]{width:100%;margin-block:1rem;height:2.5rem;font-size:1.3rem;font-family:var(--ff-main)}.empty[_ngcontent-%COMP%]{font-family:var(--ff-secondary);text-align:center;margin-block:auto}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 840px){.wrapper[_ngcontent-%COMP%]{flex-direction:column;gap:2rem}.items[_ngcontent-%COMP%]{padding:.5rem;max-height:60rem}.info[_ngcontent-%COMP%]{flex-grow:0}}"]});let t=e;return t})();var hT=[{path:"",component:JD},{path:"design/:id",component:ZD},{path:"products",component:lT},{path:"cart",component:dT}];var gT="functions";var nv=class{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){return S(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return S(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return S(this,null,function*(){if(this.appCheck){let n=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(e){return S(this,null,function*(){let n=yield this.getAuthToken(),r=yield this.getMessagingToken(),i=yield this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}})}};var rv="us-central1";var iv=class{constructor(e,n,r,i,o=rv,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new nv(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{let a=new URL(o);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=rv}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function N2(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}var fT="@firebase/functions",pT="0.11.8";var O2="auth-internal",k2="app-check-internal",F2="messaging-internal";function L2(t,e){let n=(r,{instanceIdentifier:i})=>{let o=r.getProvider("app").getImmediate(),s=r.getProvider(O2),a=r.getProvider(F2),u=r.getProvider(k2);return new iv(o,s,a,u,i,t)};Mn(new xt(gT,n,"PUBLIC").setMultipleInstances(!0)),Fe(fT,pT,e),Fe(fT,pT,"esm2017")}function mT(t=gi(),e=rv){let r=ga(Mt(t),gT).getImmediate({identifier:e}),i=fl("functions");return i&&yT(r,...i),r}function yT(t,e,n){N2(Mt(t),e,n)}L2(fetch.bind(self));var Xa=class{constructor(e){return e}},vT="functions",ov=class{constructor(){return vi(vT)}};var sv=new Z("angularfire2.functions-instances");function V2(t,e){let n=ma(vT,t,e);return n&&new Xa(n)}function j2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xa(r)}}var U2={provide:ov,deps:[[new dt,sv]]},B2={provide:Xa,useFactory:V2,deps:[[new dt,sv],Jn]};function _T(t,...e){return Fe("angularfire",xr.full,"fn"),In([B2,U2,{provide:sv,useFactory:j2(t),multi:!0,deps:[De,Gt,_i,wi,[new dt,Po],[new dt,yi],...e]}])}var wT=It(mT,!0);var IT={providers:[iC(hT,oC()),NC(()=>OC({projectId:"currentwave-563b3",appId:"1:214702271750:web:4bf5a93092d8b0757c8287",storageBucket:"currentwave-563b3.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyATMkQlyO2nL_yKV3uwz-OuY_IAMZtX_-A",authDomain:"currentwave-563b3.firebaseapp.com",messagingSenderId:"214702271750",measurementId:"G-12H1ZL3EYH"})),$D(()=>WD()),_T(()=>wT())]};var ET=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["cw-footer"]],standalone:!0,features:[Se],decls:38,vars:0,consts:[[1,"grid"],[1,"column","newsletter"],[1,"email"],["placeholder","Email address","type","email"],[1,"submit-btn"],[1,"column","socials"],[1,"icon","fa-brands","fa-instagram"],["href","https://www.instagram.com/nosicurrentwave/"],[1,"icon","fa-brands","fa-tiktok"],[1,"icon","fa-brands","fa-facebook"],[1,"column","about"],[1,"icon","fa-solid","fa-envelope"],[1,"icon","fa-solid","fa-phone"]],template:function(i,o){i&1&&(T(0,"div",0)(1,"div",1)(2,"h2"),k(3,"Newsletter"),x(),T(4,"p"),k(5," Want to know what we're up to? Sign up for the newsletter to recieve updates. "),x(),T(6,"div",2),j(7,"input",3),T(8,"button",4),k(9,"Subscribe"),x()()(),T(10,"div",5)(11,"h2"),k(12,"Socials"),x(),T(13,"ul")(14,"li"),j(15,"i",6),T(16,"a",7),k(17,"Instagram"),x()(),T(18,"li"),j(19,"i",8),T(20,"a",7),k(21,"TikTok"),x()(),T(22,"li"),j(23,"i",9),T(24,"a",7),k(25,"Facebook"),x()()()(),T(26,"div",10)(27,"h2"),k(28,"Info"),x(),T(29,"ul")(30,"li"),j(31,"i",11),T(32,"span"),k(33,"currentwavewear@gmail.com "),x()(),T(34,"li"),j(35,"i",12),T(36,"span"),k(37,"+38169758176"),x()()()()())},styles:["[_nghost-%COMP%]{margin-top:auto;width:100%;background:var(--gradient-secondary);display:block}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;color:var(--white-primary);padding-block:6rem;box-sizing:border-box;justify-items:center;gap:4rem;margin-inline:auto}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center}.newsletter[_ngcontent-%COMP%]{align-items:center}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-width:max-content}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.icon[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;justify-content:center;align-items:center}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;color:var(--white-primary)}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--clr-offwhite)}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:var(--ff-secondary);font-size:var(--fs-400)}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0}p[_ngcontent-%COMP%]{padding:.5rem;max-width:min(100%,40ch);line-height:1.25}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1rem}.email[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1rem}.email[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:var(--fs-500);padding:.5rem;border:2px solid var(--white-primary);outline:none;margin-left:auto}.submit-btn[_ngcontent-%COMP%]{border:2px solid var(--white-primary);outline:none;border-left:none;flex-grow:.3;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;margin-right:auto}.submit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9e9e9e}@media screen and (min-width: 800px){.grid[_ngcontent-%COMP%]{width:clamp(48rem,60%,64rem);grid-template-columns:repeat(4,1fr);gap:2rem}.newsletter[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:3}.submit-btn[_ngcontent-%COMP%]{flex-grow:.3;margin-right:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:.7;margin-left:0}}"]});let t=e;return t})();var CT=(()=>{let e=class e{constructor(){this.isHamburgerOpen=!1,this.cartService=O(Xt)}openCart(){this.cartService.openCart()}toggleHamburger(){this.isHamburgerOpen=!this.isHamburgerOpen}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["cw-simple-nav"]],standalone:!0,features:[Se],decls:37,vars:6,consts:[[1,"container"],[1,"white-bar"],[1,"logo"],["routerLink","/"],["src","assets/current-wave-gradient.svg","alt","logo"],[1,"title"],[1,"cart"],["id","openCart",1,"cart-button",3,"click"],[1,"fas","fa-basket-shopping","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button",3,"click"],[1,"line"],["routerLink","/",1,"logo-hamburger"],["src","assets/current-wave-white.svg","alt","logo"],["id","menu-overlay",1,"menu-overlay",3,"click"],["id","mobile-menu",1,"mobile-menu"],["routerLink","/",1,"menu-item"],[1,"fas","fa-house"],["routerLink","/products",1,"menu-item"],[1,"fas","fa-shirt"],["routerLink","/cart",1,"menu-item"],[1,"fas","fa-basket-shopping"]],template:function(i,o){i&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),j(4,"img",4),x()(),T(5,"div",5)(6,"a",3),k(7," CURRENT WAVE"),x()(),T(8,"div",6)(9,"div",7),J("click",function(){return o.openCart()}),j(10,"i",8),x()()(),T(11,"div",9)(12,"div",10),J("click",function(){return o.toggleHamburger()}),j(13,"span",11)(14,"span",11)(15,"span",11),x(),T(16,"a",12),j(17,"img",13),x(),j(18,"div"),x(),T(19,"div",14),J("click",function(){return o.toggleHamburger()}),x(),T(20,"nav",15)(21,"ul")(22,"li")(23,"a",16),j(24,"i",17),T(25,"span"),k(26,"Home"),x()()(),T(27,"li")(28,"a",18),j(29,"i",19),T(30,"span"),k(31,"Kolekcija"),x()()(),T(32,"li")(33,"a",20),j(34,"i",21),T(35,"span"),k(36,"Korpa"),x()()()()()()),i&2&&(V(12),rt("is-active",o.isHamburgerOpen),V(7),rt("show",o.isHamburgerOpen),V(),rt("show",o.isHamburgerOpen))},dependencies:[To],styles:['.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;width:100%;background:var(--gradient-primary)}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:75%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background:var(--gradient-primary);color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.line[_ngcontent-%COMP%]{background-color:var(--white-primary);width:20px;height:2px;display:block;margin:4px auto;transition:all .3s ease-in-out}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){-webkit-transform:translateY(6px) rotate(45deg);-ms-transform:translateY(6px) rotate(45deg);-o-transform:translateY(6px) rotate(45deg);transform:translateY(6px) rotate(45deg)}.hamburger-button.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){-webkit-transform:translateY(-6px) rotate(-45deg);-ms-transform:translateY(-6px) rotate(-45deg);-o-transform:translateY(-6px) rotate(-45deg);transform:translateY(-6px) rotate(-45deg)}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;opacity:0;visibility:hidden;transition:opacity .3s ease;z-index:8;display:none}.menu-overlay.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.mobile-menu[_ngcontent-%COMP%]{display:none;flex-direction:column;position:fixed;top:3rem;left:0;height:100vh;width:80%;background:var(--white-primary);opacity:0;transform:translate(-100%);transition:transform .3s ease,opacity .2s linear;z-index:9;pointer-events:none}.mobile-menu.show[_ngcontent-%COMP%]{opacity:1;transform:translate(0);pointer-events:auto}.mobile-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;text-align:left}.menu-item[_ngcontent-%COMP%]{position:relative;font-family:var(--ff-secondary);display:flex;align-items:center;gap:.8rem;padding:1rem;cursor:pointer;transition:.2s linear}.menu-item[_ngcontent-%COMP%]:before{position:absolute;content:"";inset:0;background:var(--gradient-secondary);z-index:1;transition:opacity .2s linear;opacity:0;-webkit-user-select:none;user-select:none}.menu-item[_ngcontent-%COMP%]:hover:before{opacity:1}.menu-item[_ngcontent-%COMP%]:hover{color:#fff}.menu-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{background:#fff;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;z-index:2;transition:.2s linear}.menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{z-index:2}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 840px){.container[_ngcontent-%COMP%]{background:none}.mobile-menu[_ngcontent-%COMP%]{display:flex}.menu-overlay[_ngcontent-%COMP%]{display:block}.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}}']});let t=e;return t})();function $2(t,e){t&1&&(T(0,"div",14),k(1,"Korpa je prazna"),x())}function H2(t,e){if(t&1&&j(0,"cw-cart-item",15),t&2){let n=e.$implicit;Y("cartItem",n)}}var bT=(()=>{let e=class e{constructor(){this.cartService=O(Xt),this.elRef=O(Wt),this.router=O(Vt),this.cart=this.cartService.cart,this.SHIPPING_COST=this.cart().items.length>0?430:0}closeCart(){this.cartService.closeCart()}goToCart(){this.cartService.closeCart(),this.router.navigateByUrl("/cart")}onDocumentClick(r){let i=this.elRef.nativeElement.contains(r.target),o=r.target,s=document.getElementById("openCart"),a=document.getElementById("addToCartBtn");!i&&!a?.contains(o)&&o.id!="addToCartBtn"&&!s?.contains(o)&&o.id!="openCart"&&o.id!="deleteItem"&&!o.classList.contains("quantity-button")&&!o.classList.contains("selected-size")&&this.cartService.closeCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["cw-cart-sidebar"]],hostBindings:function(i,o){i&1&&J("click",function(a){return o.onDocumentClick(a)},!1,tE)},standalone:!0,features:[Se],decls:30,vars:22,consts:[[1,"container"],[1,"top-bar"],[1,"title"],[1,"fas","fa-basket-shopping"],[1,"close",3,"click"],[1,"fa-solid","fa-xmark"],[1,"items"],["class","empty",4,"ngIf"],[3,"cartItem",4,"ngFor","ngForOf"],[1,"bottom-bar"],[1,"cost","subtotal"],[1,"cost","shipping"],[1,"cost","total"],["text","Poru\u010Di",1,"checkout",3,"clicked"],[1,"empty"],[3,"cartItem"]],template:function(i,o){i&1&&(T(0,"div",0)(1,"div",1)(2,"div",2),j(3,"i",3),k(4," Korpa "),x(),T(5,"div",4),J("click",function(){return o.closeCart()}),j(6,"i",5),x()(),T(7,"div",6),Oe(8,$2,2,0,"div",7)(9,H2,1,1,"cw-cart-item",8),x(),T(10,"div",9)(11,"div",10)(12,"span"),k(13,"Cena:"),x(),T(14,"span"),k(15),kt(16,"currency"),x()(),T(17,"div",11)(18,"span"),k(19,"Po\u0161tarina:"),x(),T(20,"span"),k(21),kt(22,"currency"),x()(),T(23,"div",12)(24,"span"),k(25,"Ukupno:"),x(),T(26,"span"),k(27),kt(28,"currency"),x()(),T(29,"cw-button",13),J("clicked",function(){return o.goToCart()}),x()()()),i&2&&(rt("visible",o.cart().isVisible),V(8),Y("ngIf",o.cart().items.length<1),V(),Y("ngForOf",o.cart().items),V(6),Je("",hn(16,7,o.cart().totalAmount,"","","1.0-0"),"RSD"),V(6),Je("",hn(22,12,o.SHIPPING_COST,"","","1.0-0"),"RSD"),V(6),Je("",hn(28,17,o.cart().totalAmount+o.SHIPPING_COST,"","","1.0-0"),"RSD"))},dependencies:[Sr,vd,ke,Dn,At,Er],styles:[".container[_ngcontent-%COMP%]{position:fixed;z-index:20;top:0;right:0;background-color:var(--white-primary);height:100%;width:clamp(24rem,20%,28rem);display:flex;flex-direction:column;-webkit-box-shadow:-12px 0px 29px -7px rgba(0,0,0,.65);-moz-box-shadow:-12px 0px 29px -7px rgba(0,0,0,.65);box-shadow:-12px 0 29px -7px #000000a6;border-top-left-radius:1rem;border-bottom-left-radius:1rem;transition:.5s ease;transform:translate(100%)}.empty[_ngcontent-%COMP%]{font-family:var(--ff-secondary);text-align:center;margin-block:auto}.visible[_ngcontent-%COMP%]{transform:translate(0)}.title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-size:var(--fs-800);font-family:var(--ff-main);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none}.top-bar[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:space-between;align-items:center}.close[_ngcontent-%COMP%]{font-size:var(--fs-700);color:var(--clr-error)}.close[_ngcontent-%COMP%]:hover{cursor:pointer}.bottom-bar[_ngcontent-%COMP%]{display:flex;padding-inline:1rem;padding-block:1rem;flex-direction:column;margin-top:auto;box-shadow:0 -2px 58px -13px #000000bf;-webkit-box-shadow:0px -2px 58px -13px rgba(0,0,0,.75);-moz-box-shadow:0px -2px 58px -13px rgba(0,0,0,.75)}.cost[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.cost[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}.total[_ngcontent-%COMP%]{margin-top:.5rem;border-top:1px dashed black;font-family:var(--ff-main);font-size:var(--fs-600)}.checkout[_ngcontent-%COMP%]{width:100%;margin-block:1rem;height:2.5rem;font-size:1.3rem;font-family:var(--ff-main)}.items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;height:100%;max-height:100%;overflow-y:auto;background-color:var(--clr-offwhite-700);padding:.5rem}@media screen and (max-width: 840px){.container[_ngcontent-%COMP%]{display:none}}"]});let t=e;return t})();function z2(t,e){t&1&&j(0,"cw-simple-nav")}var DT=(()=>{let e=class e{constructor(){this.title="current-wave",this.router=O(Vt)}isHomePage(){return this.router.url==="/"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Te({type:e,selectors:[["app-root"]],standalone:!0,features:[Se],decls:4,vars:1,consts:[[4,"ngIf"]],template:function(i,o){i&1&&(Oe(0,z2,1,0,"cw-simple-nav",0),j(1,"cw-cart-sidebar")(2,"router-outlet")(3,"cw-footer")),i&2&&Y("ngIf",!o.isHomePage())},dependencies:[ig,ET,CT,ke,At,bT],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}"]});let t=e;return t})();C0(DT,IT).catch(t=>console.error(t));
