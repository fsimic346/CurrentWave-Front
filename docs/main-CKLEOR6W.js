var bC=Object.defineProperty,CC=Object.defineProperties;var SC=Object.getOwnPropertyDescriptors;var uv=Object.getOwnPropertySymbols;var AC=Object.prototype.hasOwnProperty,RC=Object.prototype.propertyIsEnumerable;var lv=(t,e,n)=>e in t?bC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})AC.call(e,n)&&lv(t,n,e[n]);if(uv)for(var n of uv(e))RC.call(e,n)&&lv(t,n,e[n]);return t},Ae=(t,e)=>CC(t,SC(e));var S=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});var dv=null;var Ql=1,hv=Symbol("SIGNAL");function ye(t){let e=dv;return dv=t,e}var fv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xC(t){if(!(Zl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ql)){if(!t.producerMustRecompute(t)&&!Yl(t)){t.dirty=!1,t.lastCleanEpoch=Ql;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ql}}function pv(t){return t&&(t.nextProducerIndex=0),ye(t)}function gv(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Zl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Jl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Yl(t){Na(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xC(n),r!==n.version))return!0}return!1}function mv(t){if(Na(t),Zl(t))for(let e=0;e<t.producerNode.length;e++)Jl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Jl(t,e){if(NC(t),Na(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Jl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Na(i),i.producerIndexOfThis[r]=e}}function Zl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Na(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function NC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function MC(){throw new Error}var PC=MC;function yv(t){PC=t}function H(t){return typeof t=="function"}function ni(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ma=ni(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(s){e=s instanceof Ma?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{vv(s)}catch(o){e=e??[],o instanceof Ma?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ma(e)}}add(e){var n;if(e&&e!==this)if(this.closed)vv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hr(n,e)}remove(e){let{_finalizers:n}=this;n&&hr(n,e),e instanceof t&&e._removeParent(this)}};xe.EMPTY=(()=>{let t=new xe;return t.closed=!0,t})();var Xl=xe.EMPTY;function Pa(t){return t instanceof xe||t&&"closed"in t&&H(t.remove)&&H(t.add)&&H(t.unsubscribe)}function vv(t){H(t)?t():t.unsubscribe()}var At={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ri={setTimeout(t,e,...n){let{delegate:r}=ri;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ri;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Oa(t){ri.setTimeout(()=>{let{onUnhandledError:e}=At;if(e)e(t);else throw t})}function Os(){}var _v=ed("C",void 0,void 0);function Iv(t){return ed("E",void 0,t)}function wv(t){return ed("N",t,void 0)}function ed(t,e,n){return{kind:t,value:e,error:n}}var fr=null;function ii(t){if(At.useDeprecatedSynchronousErrorHandling){let e=!fr;if(e&&(fr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=fr;if(fr=null,n)throw r}}else t()}function Ev(t){At.useDeprecatedSynchronousErrorHandling&&fr&&(fr.errorThrown=!0,fr.error=t)}var pr=class extends xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pa(e)&&e.add(this)):this.destination=FC}static create(e,n,r){return new si(e,n,r)}next(e){this.isStopped?nd(wv(e),this):this._next(e)}error(e){this.isStopped?nd(Iv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?nd(_v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},OC=Function.prototype.bind;function td(t,e){return OC.call(t,e)}var rd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ka(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ka(r)}else ka(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ka(n)}}},si=class extends pr{constructor(e,n,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&At.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&td(e.next,s),error:e.error&&td(e.error,s),complete:e.complete&&td(e.complete,s)}):i=e}this.destination=new rd(i)}};function ka(t){At.useDeprecatedSynchronousErrorHandling?Ev(t):Oa(t)}function kC(t){throw t}function nd(t,e){let{onStoppedNotification:n}=At;n&&ri.setTimeout(()=>n(t,e))}var FC={closed:!0,next:Os,error:kC,complete:Os};var oi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pt(t){return t}function id(...t){return sd(t)}function sd(t){return t.length===0?pt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=VC(n)?n:new si(n,r,i);return ii(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Dv(r),new r((i,s)=>{let o=new si({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[oi](){return this}pipe(...n){return sd(n)(this)}toPromise(n){return n=Dv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Dv(t){var e;return(e=t??At.Promise)!==null&&e!==void 0?e:Promise}function LC(t){return t&&H(t.next)&&H(t.error)&&H(t.complete)}function VC(t){return t&&t instanceof pr||LC(t)&&Pa(t)}function od(t){return H(t?.lift)}function se(t){return e=>{if(od(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,r,i){return new ad(t,e,n,r,i)}var ad=class extends pr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ai(){return se((t,e)=>{let n=null;t._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ci=class extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,od(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xe;let n=this.getSubject();e.add(this.source.subscribe(oe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xe.EMPTY)}return e}refCount(){return ai()(this)}};var Tv=ni(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Tv}next(n){ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Xl:(this.currentObservers=null,s.push(n),new xe(()=>{this.currentObservers=null,hr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new fe;return n.source=this,n}}return t.create=(e,n)=>new Fa(e,n),t})(),Fa=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Xl}};var He=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var cd={now(){return(cd.delegate||Date).now()},delegate:void 0};var La=class extends xe{constructor(e,n){super()}schedule(e,n=0){return this}};var ks={setInterval(t,e,...n){let{delegate:r}=ks;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ks;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ui=class extends La{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ks.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ks.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var li=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};li.now=cd.now;var di=class extends li{constructor(e,n=li.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ud=new di(ui);var Va=class extends ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ua=class extends di{};var ld=new Ua(Va);var gt=new fe(t=>t.complete());function bv(t){return t&&H(t.schedule)}function Cv(t){return t[t.length-1]}function Sv(t){return H(Cv(t))?t.pop():void 0}function Fn(t){return bv(Cv(t))?t.pop():void 0}function dd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Rv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function Av(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gr(t){return this instanceof gr?(this.v=t,this):new gr(t)}function xv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(A){return Promise.resolve(A).then(I,p)}}function c(I,A){r[I]&&(i[I]=function(R){return new Promise(function(N,L){s.push([I,R,N,L])>1||u(I,R)})},A&&(i[I]=A(i[I])))}function u(I,A){try{l(r[I](A))}catch(R){y(s[0][3],R)}}function l(I){I.value instanceof gr?Promise.resolve(I.value.v).then(f,p):y(s[0][2],I)}function f(I){u("next",I)}function p(I){u("throw",I)}function y(I,A){I(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Nv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Av=="function"?Av(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var ja=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ba(t){return H(t?.then)}function $a(t){return H(t[oi])}function Ha(t){return Symbol.asyncIterator&&H(t?.[Symbol.asyncIterator])}function qa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function UC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var za=UC();function Ga(t){return H(t?.[za])}function Wa(t){return xv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield gr(n.read());if(i)return yield gr(void 0);yield yield gr(r)}}finally{n.releaseLock()}})}function Ka(t){return H(t?.getReader)}function je(t){if(t instanceof fe)return t;if(t!=null){if($a(t))return jC(t);if(ja(t))return BC(t);if(Ba(t))return $C(t);if(Ha(t))return Mv(t);if(Ga(t))return HC(t);if(Ka(t))return qC(t)}throw qa(t)}function jC(t){return new fe(e=>{let n=t[oi]();if(H(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BC(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function $C(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Oa)})}function HC(t){return new fe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Mv(t){return new fe(e=>{zC(t,e).catch(n=>e.error(n))})}function qC(t){return Mv(Wa(t))}function zC(t,e){var n,r,i,s;return Rv(this,void 0,void 0,function*(){try{for(n=Nv(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function st(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ln(t,e=0){return se((n,r)=>{n.subscribe(oe(r,i=>st(r,t,()=>r.next(i),e),()=>st(r,t,()=>r.complete(),e),i=>st(r,t,()=>r.error(i),e)))})}function Vn(t,e=0){return se((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Pv(t,e){return je(t).pipe(Vn(e),Ln(e))}function Ov(t,e){return je(t).pipe(Vn(e),Ln(e))}function kv(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Fv(t,e){return new fe(n=>{let r;return st(n,e,()=>{r=t[za](),st(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}function Qa(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{st(n,e,()=>{let r=t[Symbol.asyncIterator]();st(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Lv(t,e){return Qa(Wa(t),e)}function Vv(t,e){if(t!=null){if($a(t))return Pv(t,e);if(ja(t))return kv(t,e);if(Ba(t))return Ov(t,e);if(Ha(t))return Qa(t,e);if(Ga(t))return Fv(t,e);if(Ka(t))return Lv(t,e)}throw qa(t)}function Le(t,e){return e?Vv(t,e):je(t)}function W(...t){let e=Fn(t);return Le(t,e)}function hi(t,e){let n=H(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function hd(t){return!!t&&(t instanceof fe||H(t.lift)&&H(t.subscribe))}var dn=ni(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ae(t,e){return se((n,r)=>{let i=0;n.subscribe(oe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:GC}=Array;function WC(t,e){return GC(e)?t(...e):t(e)}function Uv(t){return ae(e=>WC(t,e))}var{isArray:KC}=Array,{getPrototypeOf:QC,prototype:YC,keys:JC}=Object;function jv(t){if(t.length===1){let e=t[0];if(KC(e))return{args:e,keys:null};if(ZC(e)){let n=JC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function ZC(t){return t&&typeof t=="object"&&QC(t)===YC}function Bv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ya(...t){let e=Fn(t),n=Sv(t),{args:r,keys:i}=jv(t);if(r.length===0)return Le([],e);let s=new fe(XC(r,e,i?o=>Bv(i,o):pt));return n?s.pipe(Uv(n)):s}function XC(t,e,n=pt){return r=>{$v(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)$v(e,()=>{let l=Le(t[u],e),f=!1;l.subscribe(oe(r,p=>{s[u]=p,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function $v(t,e,n){t?st(n,t,e):e()}function Hv(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},I=R=>l<r?A(R):u.push(R),A=R=>{s&&e.next(R),l++;let N=!1;je(n(R,f++)).subscribe(oe(e,L=>{i?.(L),s?I(L):e.next(L)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let L=u.shift();o?st(e,o,()=>A(L)):A(L)}y()}catch(L){e.error(L)}}))};return t.subscribe(oe(e,I,()=>{p=!0,y()})),()=>{c?.()}}function Ve(t,e,n=1/0){return H(e)?Ve((r,i)=>ae((s,o)=>e(r,s,i,o))(je(t(r,i))),n):(typeof e=="number"&&(n=e),se((r,i)=>Hv(r,i,t,n)))}function fd(t=1/0){return Ve(pt,t)}function qv(){return fd(1)}function fi(...t){return qv()(Le(t,Fn(t)))}function Ja(t){return new fe(e=>{je(t()).subscribe(e)})}function Rt(t,e){return se((n,r)=>{let i=0;n.subscribe(oe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Un(t){return se((e,n)=>{let r=null,i=!1,s;r=e.subscribe(oe(n,void 0,void 0,o=>{s=je(t(o,Un(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function zv(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(oe(o,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function pi(t,e){return H(e)?Ve(t,e,1):Ve(t,1)}function jn(t){return se((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hn(t){return t<=0?()=>gt:se((e,n)=>{let r=0;e.subscribe(oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function pd(t){return ae(()=>t)}function Za(t=e0){return se((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function e0(){return new dn}function Fs(t){return se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function qt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,s)=>t(i,s,r)):pt,hn(1),n?jn(e):Za(()=>new dn))}function gi(t){return t<=0?()=>gt:se((e,n)=>{let r=[];e.subscribe(oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function gd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,s)=>t(i,s,r)):pt,gi(1),n?jn(e):Za(()=>new dn))}function md(t,e){return se(zv(t,e,arguments.length>=2,!0))}function yd(...t){let e=Fn(t);return se((n,r)=>{(e?fi(t,n,e):fi(t,n)).subscribe(r)})}function xt(t,e){return se((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(oe(r,u=>{i?.unsubscribe();let l=0,f=s++;je(t(u,f)).subscribe(i=oe(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function vd(t){return se((e,n)=>{je(t).subscribe(oe(n,()=>n.complete(),Os)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=H(t)||e||n?{next:t,error:e,complete:n}:t;return r?se((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(oe(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pt}var C_="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(vh(e,n)),this.code=e}};function vh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Js(t){return{toString:t}.toString()}var Xa="__parameters__";function t0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function S_(t,e,n){return Js(()=>{let r=t0(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let p=u.hasOwnProperty(Xa)?u[Xa]:Object.defineProperty(u,Xa,{value:[]})[Xa];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var fn=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function at(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(at).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Pd(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var n0=Ie({__forward_ref__:Ie});function A_(t){return t.__forward_ref__=A_,t.toString=function(){return at(this())},t}function wt(t){return R_(t)?t():t}function R_(t){return typeof t=="function"&&t.hasOwnProperty(n0)&&t.__forward_ref__===A_}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Cc(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sc(t){return Gv(t,N_)||Gv(t,M_)}function x_(t){return Sc(t)!==null}function Gv(t,e){return t.hasOwnProperty(e)?t[e]:null}function r0(t){let e=t&&(t[N_]||t[M_]);return e||null}function Wv(t){return t&&(t.hasOwnProperty(Kv)||t.hasOwnProperty(i0))?t[Kv]:null}var N_=Ie({\u0275prov:Ie}),Kv=Ie({\u0275inj:Ie}),M_=Ie({ngInjectableDef:Ie}),i0=Ie({ngInjectorDef:Ie}),Q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function P_(t){return t&&!!t.\u0275providers}var s0=Ie({\u0275cmp:Ie}),o0=Ie({\u0275dir:Ie}),a0=Ie({\u0275pipe:Ie}),c0=Ie({\u0275mod:Ie}),oc=Ie({\u0275fac:Ie}),Ls=Ie({__NG_ELEMENT_ID__:Ie}),Qv=Ie({__NG_ENV_ID__:Ie});function _h(t){return typeof t=="string"?t:t==null?"":String(t)}function u0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_h(t)}function l0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function Ih(t,e){throw new j(-201,!1)}var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(X||{}),Od;function O_(){return Od}function ot(t){let e=Od;return Od=t,e}function k_(t,e,n){let r=Sc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&X.Optional)return null;if(e!==void 0)return e;Ih(t,"Injector")}var d0={},Vs=d0,kd="__NG_DI_FLAG__",ac="ngTempTokenPath",h0="ngTokenPath",f0=/\n/gm,p0="\u0275",Yv="__source",_i;function g0(){return _i}function Bn(t){let e=_i;return _i=t,e}function m0(t,e=X.Default){if(_i===void 0)throw new j(-203,!1);return _i===null?k_(t,void 0,e):_i.get(t,e&X.Optional?null:void 0,e)}function te(t,e=X.Default){return(O_()||m0)(wt(t),e)}function k(t,e=X.Default){return te(t,Ac(e))}function Ac(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fd(t){let e=[];for(let n=0;n<t.length;n++){let r=wt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=X.Default;for(let o=0;o<r.length;o++){let c=r[o],u=y0(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(te(i,s))}else e.push(te(r))}return e}function F_(t,e){return t[kd]=e,t.prototype[kd]=e,t}function y0(t){return t[kd]}function v0(t,e,n,r){let i=t[ac];throw e[Yv]&&i.unshift(e[Yv]),t.message=_0(`
`+t.message,i,n,r),t[h0]=i,t[ac]=null,t}function _0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==p0?t.slice(2):t;let i=at(e);if(Array.isArray(e))i=e.map(at).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):at(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(f0,`
  `)}`}var Ye=F_(S_("Optional"),8);var L_=F_(S_("SkipSelf"),4);function vr(t,e){let n=t.hasOwnProperty(oc);return n?t[oc]:null}function wh(t,e){t.forEach(n=>Array.isArray(n)?wh(n,e):e(n))}function V_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function I0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Eh(t,e,n){let r=Zs(t,e);return r>=0?t[r|1]=n:(r=~r,I0(t,r,e,n)),r}function _d(t,e){let n=Zs(t,e);if(n>=0)return t[n|1]}function Zs(t,e){return w0(t,e,1)}function w0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Us={},mt=[],Ei=new Q(""),U_=new Q("",-1),j_=new Q(""),uc=class{get(e,n=Vs){if(n===Vs){let r=new Error(`NullInjectorError: No provider for ${at(e)}!`);throw r.name="NullInjectorError",r}return n}},B_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(B_||{}),Gt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Gt||{}),qn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(qn||{});function E0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ld(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];T0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function D0(t){return t===3||t===4||t===6}function T0(t){return t.charCodeAt(0)===64}function Dh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Jv(t,n,i,null,e[++r]):Jv(t,n,i,null,null))}}return t}function Jv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var $_="ng-template";function b0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&E0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Th(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Th(t){return t.type===4&&t.value!==$_}function C0(t,e,n){let r=t.type===4&&!n?$_:t.value;return e===r}function S0(t,e,n){let r=4,i=t.attrs,s=i!==null?x0(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Nt(r)&&!Nt(u))return!1;if(o&&Nt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!C0(t,u,n)||u===""&&e.length===1){if(Nt(r))return!1;o=!0}}else if(r&8){if(i===null||!b0(t,i,u,n)){if(Nt(r))return!1;o=!0}}else{let l=e[++c],f=A0(u,i,Th(t),n);if(f===-1){if(Nt(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Nt(r))return!1;o=!0}}}}return Nt(r)||o}function Nt(t){return(t&1)===0}function A0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return N0(e,t)}function R0(t,e,n=!1){for(let r=0;r<e.length;r++)if(S0(t,e[r],n))return!0;return!1}function x0(t){for(let e=0;e<t.length;e++){let n=t[e];if(D0(n))return e}return t.length}function N0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Zv(t,e){return t?":not("+e.trim()+")":e}function M0(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Nt(o)&&(e+=Zv(s,i),i=""),r=o,s=s||!Nt(r);n++}return i!==""&&(e+=Zv(s,i)),e}function P0(t){return t.map(M0).join(",")}function O0(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Nt(i))break;i=s}r++}return{attrs:e,classes:n}}function ct(t){return Js(()=>{let e=K_(t),n=Ae(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===B_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gt.Emulated,styles:t.styles||mt,_:null,schemas:t.schemas||null,tView:null,id:""});Q_(n);let r=t.dependencies;return n.directiveDefs=e_(r,!1),n.pipeDefs=e_(r,!0),n.id=L0(n),n})}function k0(t){return _r(t)||q_(t)}function F0(t){return t!==null}function Rc(t){return Js(()=>({type:t.type,bootstrap:t.bootstrap||mt,declarations:t.declarations||mt,imports:t.imports||mt,exports:t.exports||mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Xv(t,e){if(t==null)return Us;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=qn.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==qn.None?[r,c]:r,e[s]=o):n[s]=r}return n}function Xs(t){return Js(()=>{let e=K_(t);return Q_(e),e})}function H_(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function _r(t){return t[s0]||null}function q_(t){return t[o0]||null}function z_(t){return t[a0]||null}function G_(t){let e=_r(t)||q_(t)||z_(t);return e!==null?e.standalone:!1}function W_(t,e){let n=t[c0]||null;if(!n&&e===!0)throw new Error(`Type ${at(t)} does not have '\u0275mod' property.`);return n}function K_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Us,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xv(t.inputs,e),outputs:Xv(t.outputs),debugInfo:null}}function Q_(t){t.features?.forEach(e=>e(t))}function e_(t,e){if(!t)return null;let n=e?z_:k0;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(F0)}function L0(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Kt(t){return{\u0275providers:t}}function V0(...t){return{\u0275providers:Y_(!0,t),\u0275fromNgModule:!0}}function Y_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return wh(e,o=>{let c=o;Vd(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&J_(i,s),n}function J_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];bh(i,s=>{e(s,r)})}}function Vd(t,e,n,r){if(t=wt(t),!t)return!1;let i=null,s=Wv(t),o=!s&&_r(t);if(!s&&!o){let u=t.ngModule;if(s=Wv(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Vd(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{wh(s.imports,f=>{Vd(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&J_(l,e)}if(!c){let l=vr(i)||(()=>new i);e({provide:i,useFactory:l,deps:mt},i),e({provide:j_,useValue:i,multi:!0},i),e({provide:Ei,useValue:()=>te(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;bh(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function bh(t,e){for(let n of t)P_(n)&&(n=n.\u0275providers),Array.isArray(n)?bh(n,e):e(n)}var U0=Ie({provide:String,useValue:Ie});function Z_(t){return t!==null&&typeof t=="object"&&U0 in t}function j0(t){return!!(t&&t.useExisting)}function B0(t){return!!(t&&t.useFactory)}function Ud(t){return typeof t=="function"}var xc=new Q(""),tc={},$0={},Id;function Ch(){return Id===void 0&&(Id=new uc),Id}var Dt=class{},js=class extends Dt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bd(e,o=>this.processProvider(o)),this.records.set(U_,mi(void 0,this)),i.has("environment")&&this.records.set(Dt,mi(void 0,this));let s=this.records.get(xc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(j_,mt,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Bn(this),r=ot(void 0),i;try{return e()}finally{Bn(n),ot(r)}}get(e,n=Vs,r=X.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Qv))return e[Qv](this);r=Ac(r);let i,s=Bn(this),o=ot(void 0);try{if(!(r&X.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=K0(e)&&Sc(e);l&&this.injectableDefInScope(l)?u=mi(jd(e),tc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&X.Self?Ch():this.parent;return n=r&X.Optional&&n===Vs?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[ac]=c[ac]||[]).unshift(at(e)),s)throw c;return v0(c,e,"R3InjectorError",this.source)}else throw c}finally{ot(o),Bn(s)}}resolveInjectorInitializers(){let e=ye(null),n=Bn(this),r=ot(void 0),i;try{let s=this.get(Ei,mt,X.Self);for(let o of s)o()}finally{Bn(n),ot(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(at(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=wt(e);let n=Ud(e)?e:wt(e&&e.provide),r=q0(e);if(!Ud(e)&&e.multi===!0){let i=this.records.get(n);i||(i=mi(void 0,tc,!0),i.factory=()=>Fd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===tc&&(n.value=$0,n.value=n.factory()),typeof n.value=="object"&&n.value&&W0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=wt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function jd(t){let e=Sc(t),n=e!==null?e.factory:vr(t);if(n!==null)return n;if(t instanceof Q)throw new j(204,!1);if(t instanceof Function)return H0(t);throw new j(204,!1)}function H0(t){if(t.length>0)throw new j(204,!1);let n=r0(t);return n!==null?()=>n.factory(t):()=>new t}function q0(t){if(Z_(t))return mi(void 0,t.useValue);{let e=z0(t);return mi(e,tc)}}function z0(t,e,n){let r;if(Ud(t)){let i=wt(t);return vr(i)||jd(i)}else if(Z_(t))r=()=>wt(t.useValue);else if(B0(t))r=()=>t.useFactory(...Fd(t.deps||[]));else if(j0(t))r=()=>te(wt(t.useExisting));else{let i=wt(t&&(t.useClass||t.provide));if(G0(t))r=()=>new i(...Fd(t.deps));else return vr(i)||jd(i)}return r}function mi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function G0(t){return!!t.deps}function W0(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function K0(t){return typeof t=="function"||typeof t=="object"&&t instanceof Q}function Bd(t,e){for(let n of t)Array.isArray(n)?Bd(n,e):n&&P_(n)?Bd(n.\u0275providers,e):e(n)}function br(t,e){t instanceof js&&t.assertNotDestroyed();let n,r=Bn(t),i=ot(void 0);try{return e()}finally{Bn(r),ot(i)}}function Q0(){return O_()!==void 0||g0()!=null}function Y0(t){return typeof t=="function"}var vn=0,re=1,B=2,Qe=3,Ot=4,Lt=5,lc=6,t_=7,pn=8,Di=9,kt=10,it=11,Bs=12,n_=13,Si=14,Wt=15,Nc=16,yi=17,Ti=18,Mc=19,X_=20,Hn=21,wd=22,Ir=23,Ft=25,eI=1;var wr=7,dc=8,hc=9,Et=10,Sh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Sh||{});function Ii(t){return Array.isArray(t)&&typeof t[eI]=="object"}function _n(t){return Array.isArray(t)&&t[eI]===!0}function Ah(t){return(t.flags&4)!==0}function Pc(t){return t.componentOffset>-1}function Rh(t){return(t.flags&1)===1}function eo(t){return!!t.template}function J0(t){return(t[B]&512)!==0}var $d=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function tI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Oc(){return nI}function nI(t){return t.type.prototype.ngOnChanges&&(t.setInput=X0),Z0}Oc.ngInherit=!0;function Z0(){let t=iI(this),e=t?.current;if(e){let n=t.previous;if(n===Us)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function X0(t,e,n,r,i){let s=this.declaredInputs[r],o=iI(t)||eS(t,{previous:Us,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new $d(l&&l.currentValue,n,u===Us),tI(t,e,i,n)}var rI="__ngSimpleChanges__";function iI(t){return t[rI]||null}function eS(t,e){return t[rI]=e}var r_=null;var $n=function(t,e,n){r_?.(t,e,n)},tS="svg",nS="math",rS=!1;function iS(){return rS}function gn(t){for(;Array.isArray(t);)t=t[vn];return t}function sI(t,e){return gn(e[t])}function Qt(t,e){return gn(e[t.index])}function oI(t,e){return t.data[e]}function sS(t,e){return t[e]}function Ai(t,e){let n=e[t];return Ii(n)?n:n[vn]}function xh(t){return(t[B]&128)===128}function oS(t){return _n(t[Qe])}function bi(t,e){return e==null?null:t[e]}function aI(t){t[yi]=0}function aS(t){t[B]&1024||(t[B]|=1024,xh(t)&&$s(t))}function cS(t,e){for(;t>0;)e=e[Si],t--;return e}function Nh(t){return!!(t[B]&9216||t[Ir]?.dirty)}function Hd(t){t[kt].changeDetectionScheduler?.notify(1),Nh(t)?$s(t):t[B]&64&&(iS()?(t[B]|=1024,$s(t)):t[kt].changeDetectionScheduler?.notify())}function $s(t){t[kt].changeDetectionScheduler?.notify();let e=Hs(t);for(;e!==null&&!(e[B]&8192||(e[B]|=8192,!xh(e)));)e=Hs(e)}function cI(t,e){if((t[B]&256)===256)throw new j(911,!1);t[Hn]===null&&(t[Hn]=[]),t[Hn].push(e)}function uS(t,e){if(t[Hn]===null)return;let n=t[Hn].indexOf(e);n!==-1&&t[Hn].splice(n,1)}function Hs(t){let e=t[Qe];return _n(e)?e[Qe]:e}var ie={lFrame:mI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function lS(){return ie.lFrame.elementDepthCount}function dS(){ie.lFrame.elementDepthCount++}function hS(){ie.lFrame.elementDepthCount--}function uI(){return ie.bindingsEnabled}function fS(){return ie.skipHydrationRootTNode!==null}function pS(t){return ie.skipHydrationRootTNode===t}function gS(){ie.skipHydrationRootTNode=null}function Ne(){return ie.lFrame.lView}function Yt(){return ie.lFrame.tView}function Jt(){let t=lI();for(;t!==null&&t.type===64;)t=t.parent;return t}function lI(){return ie.lFrame.currentTNode}function mS(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Cr(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function Mh(){return ie.lFrame.isParent}function dI(){ie.lFrame.isParent=!1}function yS(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function vS(t){return ie.lFrame.bindingIndex=t}function hI(){return ie.lFrame.bindingIndex++}function _S(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function IS(){return ie.lFrame.inI18n}function wS(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,qd(e)}function ES(){return ie.lFrame.currentDirectiveIndex}function qd(t){ie.lFrame.currentDirectiveIndex=t}function DS(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function fI(t){ie.lFrame.currentQueryIndex=t}function TS(t){let e=t[re];return e.type===2?e.declTNode:e.type===1?t[Lt]:null}function pI(t,e,n){if(n&X.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&X.Host);)if(i=TS(s),i===null||(s=s[Si],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ie.lFrame=gI();return r.currentTNode=e,r.lView=t,!0}function Ph(t){let e=gI(),n=t[re];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function gI(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?mI(t):e}function mI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function yI(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var vI=yI;function Oh(){let t=yI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bS(t){return(ie.lFrame.contextLView=cS(t,ie.lFrame.contextLView))[pn]}function Ri(){return ie.lFrame.selectedIndex}function Er(t){ie.lFrame.selectedIndex=t}function CS(){let t=ie.lFrame;return oI(t.tView,t.selectedIndex)}function SS(){return ie.lFrame.currentNamespace}var _I=!0;function kc(){return _I}function Fc(t){_I=t}function AS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=nI(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Lc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function nc(t,e,n){II(t,e,3,n)}function rc(t,e,n,r){(t[B]&3)===n&&II(t,e,n,r)}function Ed(t,e){let n=t[B];(n&3)===e&&(n&=16383,n+=1,t[B]=n)}function II(t,e,n,r){let i=r!==void 0?t[yi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[yi]+=65536),(c<s||s==-1)&&(RS(t,n,e,u),t[yi]=(t[yi]&4294901760)+u+2),u++}function i_(t,e){$n(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),$n(5,t,e)}}function RS(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[B]>>14<t[yi]>>16&&(t[B]&3)===e&&(t[B]+=16384,i_(c,s)):i_(c,s)}var wi=-1,qs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function xS(t){return t instanceof qs}function NS(t){return(t.flags&8)!==0}function MS(t){return(t.flags&16)!==0}function wI(t){return t!==wi}function fc(t){return t&32767}function PS(t){return t>>16}function pc(t,e){let n=PS(t),r=e;for(;n>0;)r=r[Si],n--;return r}var zd=!0;function gc(t){let e=zd;return zd=t,e}var OS=256,EI=OS-1,DI=5,kS=0,zt={};function FS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ls)&&(r=n[Ls]),r==null&&(r=n[Ls]=kS++);let i=r&EI,s=1<<i;e.data[t+(i>>DI)]|=s}function TI(t,e){let n=bI(t,e);if(n!==-1)return n;let r=e[re];r.firstCreatePass&&(t.injectorIndex=e.length,Dd(r.data,t),Dd(e,null),Dd(r.blueprint,null));let i=kh(t,e),s=t.injectorIndex;if(wI(i)){let o=fc(i),c=pc(i,e),u=c[re].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Dd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function kh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=xI(i),r===null)return wi;if(n++,i=i[Si],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return wi}function LS(t,e,n){FS(t,e,n)}function CI(t,e,n){if(n&X.Optional||t!==void 0)return t;Ih(e,"NodeInjector")}function SI(t,e,n,r){if(n&X.Optional&&r===void 0&&(r=null),!(n&(X.Self|X.Host))){let i=t[Di],s=ot(void 0);try{return i?i.get(e,r,n&X.Optional):k_(e,r,n&X.Optional)}finally{ot(s)}}return CI(r,e,n)}function AI(t,e,n,r=X.Default,i){if(t!==null){if(e[B]&2048&&!(r&X.Self)){let o=$S(t,e,n,r,zt);if(o!==zt)return o}let s=RI(t,e,n,r,zt);if(s!==zt)return s}return SI(e,n,r,i)}function RI(t,e,n,r,i){let s=jS(n);if(typeof s=="function"){if(!pI(e,t,r))return r&X.Host?CI(i,n,r):SI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&X.Optional))Ih(n);else return o}finally{vI()}}else if(typeof s=="number"){let o=null,c=bI(t,e),u=wi,l=r&X.Host?e[Wt][Lt]:null;for((c===-1||r&X.SkipSelf)&&(u=c===-1?kh(t,e):e[c+8],u===wi||!o_(r,!1)?c=-1:(o=e[re],c=fc(u),e=pc(u,e)));c!==-1;){let f=e[re];if(s_(s,c,f.data)){let p=VS(c,e,n,o,r,l);if(p!==zt)return p}u=e[c+8],u!==wi&&o_(r,e[re].data[c+8]===l)&&s_(s,c,e)?(o=f,c=fc(u),e=pc(u,e)):c=-1}}return i}function VS(t,e,n,r,i,s){let o=e[re],c=o.data[t+8],u=r==null?Pc(c)&&zd:r!=o&&(c.type&3)!==0,l=i&X.Host&&s===c,f=US(c,o,n,u,l);return f!==null?zs(e,o,f,c):zt}function US(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?c:c+f,y=i?c+f:l;for(let I=p;I<y;I++){let A=o[I];if(I<u&&n===A||I>=u&&A.type===n)return I}if(i){let I=o[u];if(I&&eo(I)&&I.type===n)return u}return null}function zs(t,e,n,r){let i=t[n],s=e.data;if(xS(i)){let o=i;o.resolving&&l0(u0(s[n]));let c=gc(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?ot(o.injectImpl):null,f=pI(t,r,X.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&AS(n,s[n],e)}finally{l!==null&&ot(l),gc(c),o.resolving=!1,vI()}}return i}function jS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ls)?t[Ls]:void 0;return typeof e=="number"?e>=0?e&EI:BS:e}function s_(t,e,n){let r=1<<t;return!!(n[e+(t>>DI)]&r)}function o_(t,e){return!(t&X.Self)&&!(t&X.Host&&e)}var yr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return AI(this._tNode,this._lView,e,Ac(r),n)}};function BS(){return new yr(Jt(),Ne())}function Fh(t){return Js(()=>{let e=t.prototype.constructor,n=e[oc]||Gd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[oc]||Gd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Gd(t){return R_(t)?()=>{let e=Gd(wt(t));return e&&e()}:vr(t)}function $S(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[B]&2048&&!(o[B]&512);){let c=RI(s,o,n,r|X.Self,zt);if(c!==zt)return c;let u=s.parent;if(!u){let l=o[X_];if(l){let f=l.get(n,zt,r);if(f!==zt)return f}u=xI(o),o=o[Si]}s=u}return i}function xI(t){let e=t[re],n=e.type;return n===2?e.declTNode:n===1?t[Lt]:null}function a_(t,e=null,n=null,r){let i=NI(t,e,n,r);return i.resolveInjectorInitializers(),i}function NI(t,e=null,n=null,r,i=new Set){let s=[n||mt,V0(t)];return r=r||(typeof t=="object"?void 0:at(t)),new js(s,e||Ch(),r||null,i)}var Vt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return a_({name:""},i,r,"");{let s=r.name??"";return a_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Vs,e.NULL=new uc,e.\u0275prov=$({token:e,providedIn:"any",factory:()=>te(U_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var HS="ngOriginalError";function Td(t){return t[HS]}var mn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Td(e);for(;n&&Td(n);)n=Td(n);return n||null}},MI=new Q("",{providedIn:"root",factory:()=>k(mn).handleError.bind(void 0)}),PI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qS,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Wd=class extends PI{constructor(e){super(),this._lView=e}onDestroy(e){return cI(this._lView,e),()=>uS(this._lView,e)}};function qS(){return new Wd(Ne())}function zS(){return Vc(Jt(),Ne())}function Vc(t,e){return new Uc(Qt(t,e))}var Uc=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=zS;let t=e;return t})();var Kd=class extends rt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Q0()&&(this.destroyRef=k(PI,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=bd(s),i&&(i=bd(i)),o&&(o=bd(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof xe&&e.add(c),c}};function bd(t){return e=>{setTimeout(t,void 0,e)}}var Pt=Kd;function OI(t){return(t.flags&128)===128}var kI=new Map,GS=0;function WS(){return GS++}function KS(t){kI.set(t[Mc],t)}function QS(t){kI.delete(t[Mc])}var c_="__ngContext__";function zn(t,e){Ii(e)?(t[c_]=e[Mc],KS(e)):t[c_]=e}function FI(t){return VI(t[Bs])}function LI(t){return VI(t[Ot])}function VI(t){for(;t!==null&&!_n(t);)t=t[Ot];return t}var Qd;function UI(t){Qd=t}function YS(){if(Qd!==void 0)return Qd;if(typeof document<"u")return document;throw new j(210,!1)}var Lh=new Q("",{providedIn:"root",factory:()=>JS}),JS="ng",Vh=new Q(""),Kn=new Q("",{providedIn:"platform",factory:()=>"unknown"});var Uh=new Q("",{providedIn:"root",factory:()=>YS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZS="h",XS="b";var eA=()=>null;function jh(t,e,n=!1){return eA(t,e,n)}var jI=!1,tA=new Q("",{providedIn:"root",factory:()=>jI});var mc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${C_})`}};function jc(t){return t instanceof mc?t.changingThisBreaksApplicationSecurity:t}function BI(t,e){let n=nA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${C_})`)}return n===e}function nA(t){return t instanceof mc&&t.getTypeName()||null}var rA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $I(t){return t=String(t),t.match(rA)?t:"unsafe:"+t}var Bh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Bh||{});function HI(t){let e=iA();return e?e.sanitize(Bh.URL,t)||"":BI(t,"URL")?jc(t):$I(_h(t))}function iA(){let t=Ne();return t&&t[kt].sanitizer}var sA=/^>|^->|<!--|-->|--!>|<!-$/g,oA=/(<|>)/g,aA="\u200B$1\u200B";function cA(t){return t.replace(sA,e=>e.replace(oA,aA))}function qI(t){return t instanceof Function?t():t}var yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yn||{}),uA;function $h(t,e){return uA(t,e)}function vi(t,e,n,r,i){if(r!=null){let s,o=!1;_n(r)?s=r:Ii(r)&&(o=!0,r=r[vn]);let c=gn(r);t===0&&n!==null?i==null?QI(e,n,c):yc(e,n,c,i||null,!0):t===1&&n!==null?yc(e,n,c,i||null,!0):t===2?SA(e,c,o):t===3&&e.destroyNode(c),s!=null&&RA(e,t,s,n,i)}}function lA(t,e){return t.createText(e)}function dA(t,e,n){t.setValue(e,n)}function hA(t,e){return t.createComment(cA(e))}function zI(t,e,n){return t.createElement(e,n)}function fA(t,e){GI(t,e),e[vn]=null,e[Lt]=null}function pA(t,e,n,r,i,s){r[vn]=i,r[Lt]=e,$c(t,r,n,1,i,s)}function GI(t,e){e[kt].changeDetectionScheduler?.notify(1),$c(t,e,e[it],2,null,null)}function gA(t){let e=t[Bs];if(!e)return Cd(t[re],t);for(;e;){let n=null;if(Ii(e))n=e[Bs];else{let r=e[Et];r&&(n=r)}if(!n){for(;e&&!e[Ot]&&e!==t;)Ii(e)&&Cd(e[re],e),e=e[Qe];e===null&&(e=t),Ii(e)&&Cd(e[re],e),n=e&&e[Ot]}e=n}}function mA(t,e,n,r){let i=Et+r,s=n.length;r>0&&(n[i-1][Ot]=e),r<s-Et?(e[Ot]=n[i],V_(n,Et+r,e)):(n.push(e),e[Ot]=null),e[Qe]=n;let o=e[Nc];o!==null&&n!==o&&yA(o,e);let c=e[Ti];c!==null&&c.insertView(t),Hd(e),e[B]|=128}function yA(t,e){let n=t[hc],i=e[Qe][Qe][Wt];e[Wt]!==i&&(t[B]|=Sh.HasTransplantedViews),n===null?t[hc]=[e]:n.push(e)}function WI(t,e){let n=t[hc],r=n.indexOf(e);n.splice(r,1)}function Yd(t,e){if(t.length<=Et)return;let n=Et+e,r=t[n];if(r){let i=r[Nc];i!==null&&i!==t&&WI(i,r),e>0&&(t[n-1][Ot]=r[Ot]);let s=cc(t,Et+e);fA(r[re],r);let o=s[Ti];o!==null&&o.detachView(s[re]),r[Qe]=null,r[Ot]=null,r[B]&=-129}return r}function KI(t,e){if(!(e[B]&256)){let n=e[it];n.destroyNode&&$c(t,e,n,3,null,null),gA(e)}}function Cd(t,e){if(e[B]&256)return;let n=ye(null);try{e[B]&=-129,e[B]|=256,e[Ir]&&mv(e[Ir]),_A(t,e),vA(t,e),e[re].type===1&&e[it].destroy();let r=e[Nc];if(r!==null&&_n(e[Qe])){r!==e[Qe]&&WI(r,e);let i=e[Ti];i!==null&&i.detachView(t)}QS(e)}finally{ye(n)}}function vA(t,e){let n=t.cleanup,r=e[t_];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[t_]=null);let i=e[Hn];if(i!==null){e[Hn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function _A(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof qs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];$n(4,c,u);try{u.call(c)}finally{$n(5,c,u)}}else{$n(4,i,s);try{s.call(i)}finally{$n(5,i,s)}}}}}function IA(t,e,n){return wA(t,e.parent,n)}function wA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[vn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Gt.None||s===Gt.Emulated)return null}return Qt(r,n)}}function yc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function QI(t,e,n){t.appendChild(e,n)}function u_(t,e,n,r,i){r!==null?yc(t,e,n,r,i):QI(t,e,n)}function EA(t,e,n,r){t.removeChild(e,n,r)}function Hh(t,e){return t.parentNode(e)}function DA(t,e){return t.nextSibling(e)}function TA(t,e,n){return CA(t,e,n)}function bA(t,e,n){return t.type&40?Qt(t,n):null}var CA=bA,l_;function Bc(t,e,n,r){let i=IA(t,r,e),s=e[it],o=r.parent||e[Lt],c=TA(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)u_(s,i,n[u],c,!1);else u_(s,i,n,c,!1);l_!==void 0&&l_(s,r,e,n,i)}function ic(t,e){if(e!==null){let n=e.type;if(n&3)return Qt(e,t);if(n&4)return Jd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ic(t,r);{let i=t[e.index];return _n(i)?Jd(-1,i):gn(i)}}else{if(n&32)return $h(e,t)()||gn(t[e.index]);{let r=YI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Hs(t[Wt]);return ic(i,r)}else return ic(t,e.next)}}}return null}function YI(t,e){if(e!==null){let r=t[Wt][Lt],i=e.projection;return r.projection[i]}return null}function Jd(t,e){let n=Et+t+1;if(n<e.length){let r=e[n],i=r[re].firstChild;if(i!==null)return ic(r,i)}return e[wr]}function SA(t,e,n){let r=Hh(t,e);r&&EA(t,r,e,n)}function qh(t,e,n,r,i,s,o){for(;n!=null;){let c=r[n.index],u=n.type;if(o&&e===0&&(c&&zn(gn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)qh(t,e,n.child,r,i,s,!1),vi(e,t,i,c,s);else if(u&32){let l=$h(n,r),f;for(;f=l();)vi(e,t,i,f,s);vi(e,t,i,c,s)}else u&16?AA(t,e,r,n,i,s):vi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function $c(t,e,n,r,i,s){qh(n,r,t.firstChild,e,i,s,!1)}function AA(t,e,n,r,i,s){let o=n[Wt],u=o[Lt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];vi(e,t,i,f,s)}else{let l=u,f=o[Qe];OI(r)&&(l.flags|=128),qh(t,e,l,f,i,s,!0)}}function RA(t,e,n,r,i){let s=n[wr],o=gn(n);s!==o&&vi(e,t,r,s,i);for(let c=Et;c<n.length;c++){let u=n[c];$c(u[re],u,t,e,r,s)}}function xA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:yn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=yn.Important),t.setStyle(n,r,i,s))}}function NA(t,e,n){t.setAttribute(e,"style",n)}function JI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ZI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ld(t,e,r),i!==null&&JI(t,e,i),s!==null&&NA(t,e,s)}var Qn={};function Ut(t=1){XI(Yt(),Ne(),Ri()+t,!1)}function XI(t,e,n,r){if(!r)if((e[B]&3)===3){let s=t.preOrderCheckHooks;s!==null&&nc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&rc(e,s,0,n)}Er(n)}function jt(t,e=X.Default){let n=Ne();if(n===null)return te(t,e);let r=Jt();return AI(r,n,wt(t),e)}function ew(t,e,n,r,i,s){let o=ye(null);try{let c=null;i&qn.SignalBased&&(c=e[r][hv]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&qn.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):tI(e,c,r,s)}finally{ye(o)}}function MA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Er(~i);else{let s=i,o=n[++r],c=n[++r];wS(o,s);let u=e[s];c(2,u)}}}finally{Er(-1)}}function Hc(t,e,n,r,i,s,o,c,u,l,f){let p=e.blueprint.slice();return p[vn]=i,p[B]=r|4|128|8|64,(l!==null||t&&t[B]&2048)&&(p[B]|=2048),aI(p),p[Qe]=p[Si]=t,p[pn]=n,p[kt]=o||t&&t[kt],p[it]=c||t&&t[it],p[Di]=u||t&&t[Di]||null,p[Lt]=s,p[Mc]=WS(),p[lc]=f,p[X_]=l,p[Wt]=e.type==2?t[Wt]:p,p}function to(t,e,n,r,i){let s=t.data[e];if(s===null)s=PA(t,e,n,r,i),IS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=mS();s.injectorIndex=o===null?-1:o.injectorIndex}return Cr(s,!0),s}function PA(t,e,n,r,i){let s=lI(),o=Mh(),c=o?s:s&&s.parent,u=t.data[e]=VA(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function tw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function nw(t,e,n,r,i){let s=Ri(),o=r&2;try{Er(-1),o&&e.length>Ft&&XI(t,e,Ft,!1),$n(o?2:0,i),n(r,i)}finally{Er(s),$n(o?3:1,i)}}function zh(t,e,n){if(Ah(e)){let r=ye(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{ye(r)}}}function Gh(t,e,n){uI()&&(zA(t,e,n,Qt(n,e)),(n.flags&64)===64&&sw(t,e,n))}function Wh(t,e,n=Qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function rw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Kh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Kh(t,e,n,r,i,s,o,c,u,l,f){let p=Ft+r,y=p+i,I=OA(p,y),A=typeof l=="function"?l():l;return I[re]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function OA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Qn);return n}function kA(t,e,n,r){let s=r.get(tA,jI)||n===Gt.ShadowDom,o=t.selectRootElement(e,s);return FA(o),o}function FA(t){LA(t)}var LA=()=>null;function VA(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return fS()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function d_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=qn.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?h_(r,n,l,c,u):h_(r,n,l,c)}return r}function h_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function UA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],y=n?n.get(p):null,I=y?y.inputs:null,A=y?y.outputs:null;u=d_(0,p.inputs,f,u,I),l=d_(1,p.outputs,f,l,A);let R=u!==null&&o!==null&&!Th(e)?eR(u,f,o):null;c.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function jA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function BA(t,e,n,r,i,s,o,c){let u=Qt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Yh(t,n,f,r,i),Pc(e)&&$A(n,e.index)):e.type&3?(r=jA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function $A(t,e){let n=Ai(e,t);n[B]&16||(n[B]|=64)}function Qh(t,e,n,r){if(uI()){let i=r===null?null:{"":-1},s=WA(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&iw(t,e,n,o,i,c),i&&KA(n,r,i)}n.mergedAttrs=Dh(n.mergedAttrs,n.attrs)}function iw(t,e,n,r,i,s){for(let l=0;l<r.length;l++)LS(TI(n,e),t,r[l].type);YA(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=tw(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Dh(n.mergedAttrs,f.hostAttrs),JA(t,n,e,u,f),QA(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}UA(t,n,s)}function HA(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;qA(o)!=c&&o.push(c),o.push(n,r,s)}}function qA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zA(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Pc(n)&&ZA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||TI(n,e),zn(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=zs(e,t,c,n);if(zn(l,e),o!==null&&XA(e,c-i,l,u,n,o),eo(u)){let f=Ai(n.index,e);f[pn]=zs(e,t,c,n)}}}function sw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ES();try{Er(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];qd(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&GA(u,l)}}finally{Er(-1),qd(o)}}function GA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function WA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(R0(e,o.selectors,!1))if(r||(r=[]),eo(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Zd(t,e,u)}else r.unshift(o),Zd(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Zd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function QA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;eo(e)&&(n[""]=t)}}function YA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function JA(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=vr(i.type,!0)),o=new qs(s,eo(i),jt);t.blueprint[r]=o,n[r]=o,HA(t,e,r,tw(t,n,i.hostVars,Qn),i)}function ZA(t,e,n){let r=Qt(e,t),i=rw(n),s=t[kt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=qc(t,Hc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function XA(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],p=o[c++];ew(r,n,u,l,f,p)}}function eR(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function ow(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function aw(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];fI(s),c.contentQueries(2,e[o],o)}}}finally{ye(r)}}}function qc(t,e){return t[Bs]?t[n_][Ot]=e:t[Bs]=e,t[n_]=e,e}function Xd(t,e,n){fI(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function tR(t,e){let n=t[Di],r=n?n.get(mn,null):null;r&&r.handleError(e)}function Yh(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];ew(f,l,r,c,u,i)}}function nR(t,e,n){let r=sI(e,t);dA(t[it],r,n)}function rR(t,e){let n=Ai(e,t),r=n[re];iR(r,n);let i=n[vn];i!==null&&n[lc]===null&&(n[lc]=jh(i,n[Di])),Jh(r,n,n[pn])}function iR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jh(t,e,n){Ph(e);try{let r=t.viewQuery;r!==null&&Xd(1,r,n);let i=t.template;i!==null&&nw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ti]?.finishViewCreation(t),t.staticContentQueries&&aw(t,e),t.staticViewQueries&&Xd(2,t.viewQuery,n);let s=t.components;s!==null&&sR(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[B]&=-5,Oh()}}function sR(t,e){for(let n=0;n<e.length;n++)rR(t,e[n])}function oR(t,e,n,r){let i=ye(null);try{let s=e.tView,c=t[B]&4096?4096:16,u=Hc(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Nc]=l;let f=t[Ti];return f!==null&&(u[Ti]=f.createEmbeddedView(s)),Jh(s,u,n),u}finally{ye(i)}}function f_(t,e){return!e||e.firstChild===null||OI(t)}function aR(t,e,n,r=!0){let i=e[re];if(mA(i,e,t,n),r){let o=Jd(n,t),c=e[it],u=Hh(c,t[wr]);u!==null&&pA(i,t[Lt],c,e,u,o)}let s=e[lc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function vc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(gn(s)),_n(s)&&cR(s,r);let o=n.type;if(o&8)vc(t,e,n.child,r);else if(o&32){let c=$h(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=YI(e,n);if(Array.isArray(c))r.push(...c);else{let u=Hs(e[Wt]);vc(u[re],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function cR(t,e){for(let n=Et;n<t.length;n++){let r=t[n],i=r[re].firstChild;i!==null&&vc(r[re],r,i,e)}t[wr]!==t[vn]&&e.push(t[wr])}var cw=[];function uR(t){return t[Ir]??lR(t)}function lR(t){let e=cw.pop()??Object.create(hR);return e.lView=t,e}function dR(t){t.lView[Ir]!==t&&(t.lView=null,cw.push(t))}var hR=Ae(V({},fv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{$s(t.lView)},consumerOnSignalRead(){this.lView[Ir]=this}}),uw=100;function lw(t,e=!0,n=0){let r=t[kt],i=r.rendererFactory,s=!1;s||i.begin?.();try{fR(t,n)}catch(o){throw e&&tR(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function fR(t,e){eh(t,e);let n=0;for(;Nh(t);){if(n===uw)throw new j(103,!1);n++,eh(t,1)}}function pR(t,e,n,r){let i=e[B];if((i&256)===256)return;let s=!1;!s&&e[kt].inlineEffectRunner?.flush(),Ph(e);let o=null,c=null;!s&&gR(t)&&(c=uR(e),o=pv(c));try{aI(e),vS(t.bindingStartIndex),n!==null&&nw(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&nc(e,p,null)}else{let p=t.preOrderHooks;p!==null&&rc(e,p,0,null),Ed(e,0)}if(mR(e),dw(e,0),t.contentQueries!==null&&aw(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&nc(e,p)}else{let p=t.contentHooks;p!==null&&rc(e,p,1),Ed(e,1)}MA(t,e);let l=t.components;l!==null&&fw(e,l,0);let f=t.viewQuery;if(f!==null&&Xd(2,f,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&nc(e,p)}else{let p=t.viewHooks;p!==null&&rc(e,p,2),Ed(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[wd]){for(let p of e[wd])p();e[wd]=null}s||(e[B]&=-73)}catch(u){throw $s(e),u}finally{c!==null&&(gv(c,o),dR(c)),Oh()}}function gR(t){return t.type!==2}function dw(t,e){for(let n=FI(t);n!==null;n=LI(n))for(let r=Et;r<n.length;r++){let i=n[r];hw(i,e)}}function mR(t){for(let e=FI(t);e!==null;e=LI(e)){if(!(e[B]&Sh.HasTransplantedViews))continue;let n=e[hc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Qe];aS(i)}}}function yR(t,e,n){let r=Ai(e,t);hw(r,n)}function hw(t,e){xh(t)&&eh(t,e)}function eh(t,e){let r=t[re],i=t[B],s=t[Ir],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Yl(s)),s&&(s.dirty=!1),t[B]&=-9217,o)pR(r,t,r.template,t[pn]);else if(i&8192){dw(t,1);let c=r.components;c!==null&&fw(t,c,1)}}function fw(t,e,n){for(let r=0;r<e.length;r++)yR(t,e[r],n)}function pw(t){for(t[kt].changeDetectionScheduler?.notify();t;){t[B]|=64;let e=Hs(t);if(J0(t)&&!e)return t;t=e}return null}var Dr=class{get rootNodes(){let e=this._lView,n=e[re];return vc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return(this._lView[B]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qe];if(_n(e)){let n=e[dc],r=n?n.indexOf(this):-1;r>-1&&(Yd(e,r),cc(n,r))}this._attachedToViewContainer=!1}KI(this._lView[re],this._lView)}onDestroy(e){cI(this._lView,e)}markForCheck(){pw(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){Hd(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,lw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,GI(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,Hd(this._lView)}},zc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IR;let t=e;return t})(),vR=zc,_R=class extends vR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=oR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Dr(i)}};function IR(){return wR(Jt(),Ne())}function wR(t,e){return t.type&4?new _R(e,t,Vc(t,e)):null}var W$=new RegExp(`^(\\d+)*(${XS}|${ZS})*(.*)`);var ER=()=>null;function p_(t,e){return ER(t,e)}var th=class{},nh=class{},_c=class{};function DR(t){let e=Error(`No component factory found for ${at(t)}.`);return e[TR]=t,e}var TR="ngComponent";var rh=class{resolveComponentFactory(e){throw DR(e)}},Gc=(()=>{let e=class e{};e.NULL=new rh;let t=e;return t})(),Gs=class{};var bR=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Sd={};var g_=new Set;function gw(t){g_.has(t)||(g_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function m_(...t){}function CR(){let t=typeof fn.requestAnimationFrame=="function",e=fn[t?"requestAnimationFrame":"setTimeout"],n=fn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ve=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pt(!1),this.onMicrotaskEmpty=new Pt(!1),this.onStable=new Pt(!1),this.onError=new Pt(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=CR().nativeRequestAnimationFrame,RR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,SR,m_,m_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},SR={};function Zh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function AR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(fn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ih(t),t.isCheckStableRunning=!0,Zh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ih(t))}function RR(t){let e=()=>{AR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,c)=>{if(xR(c))return n.invokeTask(i,s,o,c);try{return y_(t),n.invokeTask(i,s,o,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),v_(t)}},onInvoke:(n,r,i,s,o,c,u)=>{try{return y_(t),n.invoke(i,s,o,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),v_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ih(t),Zh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ih(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function y_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function v_(t){t._nesting--,Zh(t)}function xR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var mw=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ic(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=Pd(i,c);else if(s==2){let u=c,l=e[++o];r=Pd(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var wc=class extends Gc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=_r(e);return new Ws(n,this.ngModule)}};function __(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function NR(t){let e=t.toLowerCase();return e==="svg"?tS:e==="math"?nS:null}var sh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ac(r);let i=this.injector.get(e,Sd,r);return i!==Sd||n===Sd?i:this.parentInjector.get(e,n,r)}},Ws=class extends _c{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=__(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return __(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=P0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ye(null);try{i=i||this.ngModule;let o=i instanceof Dt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new sh(e,o):e,u=c.get(Gs,null);if(u===null)throw new j(407,!1);let l=c.get(bR,null),f=c.get(mw,null),p=c.get(th,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},I=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=r?kA(I,r,this.componentDef.encapsulation,c):zI(I,A,NR(A)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let L=null;R!==null&&(L=jh(R,c,!0));let G=Kh(0,null,null,1,0,null,null,null,null,null,null),K=Hc(null,G,null,N,null,null,y,I,c,null,L);Ph(K);let de,be;try{let Z=this.componentDef,E,m=null;Z.findHostDirectiveDefs?(E=[],m=new Map,Z.findHostDirectiveDefs(Z,E,m),E.push(Z)):E=[Z];let v=MR(K,R),w=PR(v,R,Z,E,K,y,I);be=oI(G,Ft),R&&FR(I,Z,R,r),n!==void 0&&LR(be,this.ngContentSelectors,n),de=kR(w,Z,E,m,K,[VR]),Jh(G,K,null)}finally{Oh()}return new oh(this.componentType,de,Vc(be,K),K,be)}finally{ye(s)}}},oh=class extends nh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Dr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Yh(s[re],s,i,e,n),this.previousInputValues.set(e,n);let o=Ai(this._tNode.index,s);pw(o)}}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function MR(t,e){let n=t[re],r=Ft;return t[r]=e,to(n,r,2,"#host",null)}function PR(t,e,n,r,i,s,o){let c=i[re];OR(r,t,e,o);let u=null;e!==null&&(u=jh(e,i[Di]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=Hc(i,rw(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&Zd(c,t,r.length-1),qc(i,p),i[t.index]=p}function OR(t,e,n,r){for(let i of t)e.mergedAttrs=Dh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ic(e,e.mergedAttrs,!0),n!==null&&ZI(r,n,e))}function kR(t,e,n,r,i,s){let o=Jt(),c=i[re],u=Qt(o,i);iw(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,y=zs(i,c,p,o);zn(y,i)}sw(c,i,o),u&&zn(u,i);let l=zs(i,c,o.directiveStart+o.componentOffset,o);if(t[pn]=i[pn]=l,s!==null)for(let f of s)f(l,e);return zh(c,o,i),l}function FR(t,e,n,r){if(r)Ld(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=O0(e.selectors[0]);i&&Ld(t,n,i),s&&s.length>0&&JI(t,n,s.join(" "))}}function LR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function VR(){let t=Jt();Lc(Ne()[re],t)}var xi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UR;let t=e;return t})();function UR(){let t=Jt();return BR(t,Ne())}var jR=xi,yw=class extends jR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Vc(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){let e=kh(this._hostTNode,this._hostLView);if(wI(e)){let n=pc(e,this._hostLView),r=fc(e),i=n[re].data[r+8];return new yr(i,n)}else return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=I_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=p_(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,f_(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!Y0(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new Ws(_r(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let R=(o?l:this.parentInjector).get(Dt,null);R&&(s=R)}let f=_r(u.componentType??{}),p=p_(this._lContainer,f?.id??null),y=p?.firstChild??null,I=u.create(l,i,y,s);return this.insertImpl(I.hostView,c,f_(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(oS(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Qe],l=new yw(u,u[Lt],u[Qe]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return aR(o,i,s,r),e.attachToViewContainerRef(),V_(Ad(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=I_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Yd(this._lContainer,n);r&&(cc(Ad(this._lContainer),n),KI(r[re],r))}detach(e){let n=this._adjustIndex(e,-1),r=Yd(this._lContainer,n);return r&&cc(Ad(this._lContainer),n)!=null?new Dr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function I_(t){return t[dc]}function Ad(t){return t[dc]||(t[dc]=[])}function BR(t,e){let n,r=e[t.index];return _n(r)?n=r:(n=ow(r,e,null,t),e[t.index]=n,qc(e,n)),HR(n,e,t,r),new yw(n,t,e)}function $R(t,e){let n=t[it],r=n.createComment(""),i=Qt(e,t),s=Hh(n,i);return yc(n,s,r,DA(n,i),!1),r}var HR=GR,qR=()=>!1;function zR(t,e,n){return qR(t,e,n)}function GR(t,e,n,r){if(t[wr])return;let i;n.type&8?i=gn(r):i=$R(e,n),t[wr]=i}var Gn=class{},Ks=class{};var ah=class extends Gn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wc(this);let i=W_(e);this._bootstrapComponents=qI(i.bootstrap),this._r3Injector=NI(e,n,[{provide:Gn,useValue:this},{provide:Gc,useValue:this.componentFactoryResolver},...r],at(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ch=class extends Ks{constructor(e){super(),this.moduleType=e}create(e){return new ah(this.moduleType,e,[])}};var Ec=class extends Gn{constructor(e){super(),this.componentFactoryResolver=new wc(this),this.instance=null;let n=new js([...e.providers,{provide:Gn,useValue:this},{provide:Gc,useValue:this.componentFactoryResolver}],e.parent||Ch(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Xh(t,e,n=null){return new Ec({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Wc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new He(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vw(t){return KR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function WR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function KR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function QR(t,e,n){return t[e]=n}function Qs(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function YR(t,e,n,r){let i=Qs(t,e,n);return Qs(t,e+1,r)||i}function JR(t){return(t.flags&32)===32}function ZR(t,e,n,r,i,s,o,c,u){let l=e.consts,f=to(e,t,4,o||null,bi(l,c));Qh(e,n,f,bi(l,u)),Lc(e,f);let p=f.tView=Kh(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Kc(t,e,n,r,i,s,o,c){let u=Ne(),l=Yt(),f=t+Ft,p=l.firstCreatePass?ZR(f,l,u,e,n,r,i,s,o):l.data[f];Cr(p,!1);let y=XR(l,u,p,t);kc()&&Bc(l,u,y,p),zn(y,u);let I=ow(y,u,y,p);return u[f]=I,qc(u,I),zR(I,p,u),Rh(p)&&Gh(l,u,p),o!=null&&Wh(u,p,c),Kc}var XR=ex;function ex(t,e,n,r){return Fc(!0),e[it].createComment("")}function tx(t,e,n,r){return Qs(t,hI(),n)?e+_h(n)+r:Qn}function ec(t,e){return t<<17|e<<2}function Tr(t){return t>>17&32767}function nx(t){return(t&2)==2}function rx(t,e){return t&131071|e<<17}function uh(t){return t|2}function Ci(t){return(t&131068)>>2}function Rd(t,e){return t&-131069|e<<2}function ix(t){return(t&1)===1}function lh(t){return t|1}function sx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Tr(o),u=Ci(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Zs(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=Tr(t[c+1]);t[r+1]=ec(y,c),y!==0&&(t[y+1]=Rd(t[y+1],r)),t[c+1]=rx(t[c+1],r)}else t[r+1]=ec(c,0),c!==0&&(t[c+1]=Rd(t[c+1],r)),c=r;else t[r+1]=ec(u,0),c===0?c=r:t[u+1]=Rd(t[u+1],r),u=r;l&&(t[r+1]=uh(t[r+1])),w_(t,f,r,!0),w_(t,f,r,!1),ox(e,f,t,r,s),o=ec(c,u),s?e.classBindings=o:e.styleBindings=o}function ox(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Zs(s,e)>=0&&(n[r+1]=lh(n[r+1]))}function w_(t,e,n,r){let i=t[n+1],s=e===null,o=r?Tr(i):Ci(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];ax(u,e)&&(c=!0,t[o+1]=r?lh(l):uh(l)),o=r?Tr(l):Ci(l)}c&&(t[n+1]=r?uh(i):lh(i))}function ax(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Zs(t,e)>=0:!1}var Mt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cx(t){return t.substring(Mt.key,Mt.keyEnd)}function ux(t){return lx(t),_w(t,Iw(t,0,Mt.textEnd))}function _w(t,e){let n=Mt.textEnd;return n===e?-1:(e=Mt.keyEnd=dx(t,Mt.key=e,n),Iw(t,e,n))}function lx(t){Mt.key=0,Mt.keyEnd=0,Mt.value=0,Mt.valueEnd=0,Mt.textEnd=t.length}function Iw(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function dx(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Sr(t,e,n){let r=Ne(),i=hI();if(Qs(r,i,e)){let s=Yt(),o=CS();BA(s,o,r,t,e,r[it],n,!1)}return Sr}function dh(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Yh(t,n,s[o],o,r)}function ww(t){fx(Ix,hx,t,!0)}function hx(t,e){for(let n=ux(e);n>=0;n=_w(e,n))Eh(t,cx(e),!0)}function fx(t,e,n,r){let i=Yt(),s=_S(2);i.firstUpdatePass&&px(i,null,s,r);let o=Ne();if(n!==Qn&&Qs(o,s,n)){let c=i.data[Ri()];if(Dw(c,r)&&!Ew(i,s)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=Pd(u,n||"")),dh(i,c,o,n,r)}else wx(i,c,o,o[it],o[s+1],o[s+1]=_x(t,e,n),r,s)}}function Ew(t,e){return e>=t.expandoStartIndex}function px(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ri()],o=Ew(t,n);Dw(s,r)&&e===null&&!o&&(e=!1),e=gx(i,s,e,r),sx(i,s,e,n,o,r)}}function gx(t,e,n,r){let i=DS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=xd(null,t,e,n,r),n=Ys(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=xd(i,t,e,n,r),s===null){let u=mx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=xd(null,t,e,u[1],r),u=Ys(u,e.attrs,r),yx(t,e,r,u))}else s=vx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function mx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ci(r)!==0)return t[Tr(r)]}function yx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Tr(i)]=r}function vx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ys(r,o,n)}return Ys(r,e.attrs,n)}function xd(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Ys(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Ys(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Eh(t,o,n?!0:e[++s]))}return t===void 0?null:t}function _x(t,e,n){if(n==null||n==="")return mt;let r=[],i=jc(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function Ix(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Eh(t,r,n)}function wx(t,e,n,r,i,s,o,c){i===Qn&&(i=mt);let u=0,l=0,f=0<i.length?i[0]:null,p=0<s.length?s[0]:null;for(;f!==null||p!==null;){let y=u<i.length?i[u+1]:void 0,I=l<s.length?s[l+1]:void 0,A=null,R;f===p?(u+=2,l+=2,y!==I&&(A=p,R=I)):p===null||f!==null&&f<p?(u+=2,A=f):(l+=2,A=p,R=I),A!==null&&Ex(t,e,n,r,A,R,o,c),f=u<i.length?i[u]:null,p=l<s.length?s[l]:null}}function Ex(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=ix(l)?E_(u,e,n,i,Ci(l),o):void 0;if(!Dc(f)){Dc(s)||nx(l)&&(s=E_(u,null,n,i,c,o));let p=sI(Ri(),n);xA(r,o,p,i,s)}}function E_(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=n[i+1];y===Qn&&(y=p?mt:void 0);let I=p?_d(y,r):f===r?y:void 0;if(l&&!Dc(I)&&(I=_d(u,r)),Dc(I)&&(c=I,o))return c;let A=t[i+1];i=o?Tr(A):Ci(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=_d(u,r))}return c}function Dc(t){return t!==void 0}function Dw(t,e){return(t.flags&(e?8:16))!==0}function Dx(t,e,n,r,i,s){let o=e.consts,c=bi(o,i),u=to(e,t,2,r,c);return Qh(e,n,u,bi(o,s)),u.attrs!==null&&Ic(u,u.attrs,!1),u.mergedAttrs!==null&&Ic(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function q(t,e,n,r){let i=Ne(),s=Yt(),o=Ft+t,c=i[it],u=s.firstCreatePass?Dx(o,s,i,e,n,r):s.data[o],l=Tx(s,i,u,c,e,t);i[o]=l;let f=Rh(u);return Cr(u,!0),ZI(c,l,u),!JR(u)&&kc()&&Bc(s,i,l,u),lS()===0&&zn(l,i),dS(),f&&(Gh(s,i,u),zh(s,u,i)),r!==null&&Wh(i,u),q}function ee(){let t=Jt();Mh()?dI():(t=t.parent,Cr(t,!1));let e=t;pS(e)&&gS(),hS();let n=Yt();return n.firstCreatePass&&(Lc(n,t),Ah(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&NS(e)&&dh(n,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&MS(e)&&dh(n,e,Ne(),e.stylesWithoutHost,!1),ee}function we(t,e,n,r){return q(t,e,n,r),ee(),we}var Tx=(t,e,n,r,i,s)=>(Fc(!0),zI(r,i,SS()));function bx(t,e,n,r,i){let s=e.consts,o=bi(s,r),c=to(e,t,8,"ng-container",o);o!==null&&Ic(c,o,!0);let u=bi(s,i);return Qh(e,n,c,u),e.queries!==null&&e.queries.elementStart(e,c),c}function ef(t,e,n){let r=Ne(),i=Yt(),s=t+Ft,o=i.firstCreatePass?bx(s,i,r,e,n):i.data[s];Cr(o,!0);let c=Cx(i,r,o,t);return r[s]=c,kc()&&Bc(i,r,c,o),zn(c,r),Rh(o)&&(Gh(i,r,o),zh(i,o,r)),n!=null&&Wh(r,o),ef}function tf(){let t=Jt(),e=Yt();return Mh()?dI():(t=t.parent,Cr(t,!1)),e.firstCreatePass&&(Lc(e,t),Ah(t)&&e.queries.elementEnd(t)),tf}var Cx=(t,e,n,r)=>(Fc(!0),hA(e[it],""));var mr=void 0;function Sx(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Ax=["en",[["a","p"],["AM","PM"],mr],[["AM","PM"],mr,mr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mr,"{1} 'at' {0}",mr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Sx],Nd={};function Qc(t){let e=Rx(t),n=D_(e);if(n)return n;let r=e.split("-")[0];if(n=D_(r),n)return n;if(r==="en")return Ax;throw new j(701,!1)}function D_(t){return t in Nd||(Nd[t]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[t]),Nd[t]}var Ar=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ar||{});function Rx(t){return t.toLowerCase().replace(/_/g,"-")}var Tc="en-US",xx="USD";var Nx=Tc;function Mx(t){typeof t=="string"&&(Nx=t.toLowerCase().replace(/_/g,"-"))}function nf(t=1){return bS(t)}function Px(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ee(t,e=""){let n=Ne(),r=Yt(),i=t+Ft,s=r.firstCreatePass?to(r,i,1,e,null):r.data[i],o=Ox(r,n,s,e,t);n[i]=o,kc()&&Bc(r,n,o,s),Cr(s,!1)}var Ox=(t,e,n,r,i)=>(Fc(!0),lA(e[it],r));function Zt(t){return Tw("",t,""),Zt}function Tw(t,e,n){let r=Ne(),i=tx(r,t,e,n);return i!==Qn&&nR(r,Ri(),i),Tw}var kx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Y_(!1,r.type),s=i.length>0?Xh([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=$({token:e,providedIn:"environment",factory:()=>new e(te(Dt))});let t=e;return t})();function ut(t){gw("NgStandalone"),t.getStandaloneInjector=e=>e.get(kx).getOrCreateStandaloneInjector(t)}function Fx(t,e){let n=t[e];return n===Qn?void 0:n}function Lx(t,e,n,r,i,s,o){let c=e+n;return YR(t,c,i,s)?QR(t,c+2,o?r.call(o,i,s):r(i,s)):Fx(t,c+2)}function bw(t,e){let n=Yt(),r,i=t+Ft;n.firstCreatePass?(r=Vx(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=vr(r.type,!0)),o,c=ot(jt);try{let u=gc(!1),l=s();return gc(u),Px(n,Ne(),i,l),l}finally{ot(c)}}function Vx(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Cw(t,e,n,r){let i=t+Ft,s=Ne(),o=sS(s,i);return Ux(s,i)?Lx(s,yS(),e,o.transform,n,r,o):o.transform(n,r)}function Ux(t,e){return t[re].data[e].pure}var Wn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Sw=new Wn("17.3.12"),Yc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Aw=new Q("");function no(t){return!!t&&typeof t.then=="function"}function Rw(t){return!!t&&typeof t.subscribe=="function"}var xw=new Q(""),Nw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(xw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(no(o))r.push(o);else if(Rw(o)){let c=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rf=new Q("");function jx(){yv(()=>{throw new j(600,!1)})}function Bx(t){return t.isBoundToModule}function $x(t,e,n){try{let r=n();return no(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ro=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(MI),this.afterRenderEffectManager=k(mw),this.externalTestViews=new Set,this.beforeRender=new rt,this.afterTick=new rt,this.componentTypes=[],this.components=[],this.isStable=k(Wc).hasPendingTasks.pipe(ae(r=>!r)),this._injector=k(Dt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof _c;if(!this._injector.get(Nw).done){let I=!s&&G_(r),A=!1;throw new j(405,A)}let c;s?c=r:c=this._injector.get(Gc).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=Bx(c)?void 0:this._injector.get(Gn),l=i||c.selector,f=c.create(Vt.NULL,[],l,u),p=f.location.nativeElement,y=f.injector.get(Aw,null);return y?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Md(this.components,f),y?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new j(101,!1);let i=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ye(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===uw)throw new j(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:c,notifyErrorHandler:u}of this._views)Hx(c,o,u)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>hh(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>hh(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Md(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(rf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Md(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new j(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Md(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Hx(t,e,n){!e&&!hh(t)||qx(t,n,e)}function hh(t){return Nh(t)}function qx(t,e,n){let r;n?(r=0,t[B]|=1024):t[B]&64?r=0:r=1,lw(t,e,r)}var fh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},sf=(()=>{let e=class e{compileModuleSync(r){return new ch(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=W_(r),o=qI(s.declarations).reduce((c,u)=>{let l=_r(u);return l&&c.push(new Ws(l)),c},[]);return new fh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zx=(()=>{let e=class e{constructor(){this.zone=k(ve),this.applicationRef=k(ro)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gx(t){return[{provide:ve,useFactory:t},{provide:Ei,multi:!0,useFactory:()=>{let e=k(zx,{optional:!0});return()=>e.initialize()}},{provide:Ei,multi:!0,useFactory:()=>{let e=k(Yx);return()=>{e.initialize()}}},{provide:MI,useFactory:Wx}]}function Wx(){let t=k(ve),e=k(mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Kx(t){let e=Gx(()=>new ve(Qx(t)));return Kt([[],e])}function Qx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Yx=(()=>{let e=class e{constructor(){this.subscription=new xe,this.initialized=!1,this.zone=k(ve),this.pendingTasks=k(Wc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Jx(){return typeof $localize<"u"&&$localize.locale||Tc}var Jc=new Q("",{providedIn:"root",factory:()=>k(Jc,X.Optional|X.SkipSelf)||Jx()}),Mw=new Q("",{providedIn:"root",factory:()=>xx});var Pw=new Q("");var sc=null;function Zx(t=[],e){return Vt.create({name:e,providers:[{provide:xc,useValue:"platform"},{provide:Pw,useValue:new Set([()=>sc=null])},...t]})}function Xx(t=[]){if(sc)return sc;let e=Zx(t);return sc=e,jx(),eN(e),e}function eN(t){t.get(Vh,null)?.forEach(n=>n())}var Rr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=tN;let t=e;return t})();function tN(t){return nN(Jt(),Ne(),(t&16)===16)}function nN(t,e,n){if(Pc(t)&&!n){let r=Ai(t.index,e);return new Dr(r,r)}else if(t.type&47){let r=e[Wt];return new Dr(r,e)}return null}var ph=class{constructor(){}supports(e){return vw(e)}create(e){return new gh(e)}},rN=(t,e)=>e,gh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rN}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<T_(r,i,s)?n:r,c=T_(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=c-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){let I=y<s.length?s[y]:s[y]=0,A=I+y;f<=A&&A<l&&(s[y]=I+1)}let p=o.previousIndex;s[p]=f-l}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!vw(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,WR(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new mh(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new bc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new bc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},mh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},yh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},bc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new yh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function T_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function b_(){return new of([new ph])}var of=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||b_()),deps:[[e,new L_,new Ye]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new j(901,!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:b_});let t=e;return t})();function Ow(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Xx(r),s=[Kx(),...n||[]],c=new Ec({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(ve);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(mn,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:I=>{l.handleError(I)}})});let p=()=>c.destroy(),y=i.get(Pw);return y.add(p),c.onDestroy(()=>{f.unsubscribe(),y.delete(p)}),$x(l,u,()=>{let I=c.get(Nw);return I.runInitializers(),I.donePromise.then(()=>{let A=c.get(Jc,Tc);Mx(A||Tc);let R=c.get(ro);return e!==void 0&&R.bootstrap(e),R})})})}catch(e){return Promise.reject(e)}}var $w=null;function Ni(){return $w}function Hw(t){$w??=t}var Zc=class{};var Tt=new Q(""),qw=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(aN),providedIn:"platform"});let t=e;return t})();var aN=(()=>{let e=class e extends qw{constructor(){super(),this._doc=k(Tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ni().getBaseHref(this._doc)}onPopState(r){let i=Ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function zw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function kw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function xr(t){return t&&t[0]!=="?"?"?"+t:t}var tu=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(Gw),providedIn:"root"});let t=e;return t})(),cN=new Q(""),Gw=(()=>{let e=class e extends tu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return zw(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+xr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+xr(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+xr(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(te(qw),te(cN,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oo=(()=>{let e=class e{constructor(r){this._subject=new Pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=dN(kw(Fw(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+xr(i))}normalize(r){return e.stripTrailingSlash(lN(this._basePath,Fw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+xr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+xr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=xr,e.joinWithSlash=zw,e.stripTrailingSlash=kw,e.\u0275fac=function(i){return new(i||e)(te(tu))},e.\u0275prov=$({token:e,factory:()=>uN(),providedIn:"root"});let t=e;return t})();function uN(){return new oo(te(tu))}function lN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Fw(t){return t.replace(/\/index.html$/,"")}function dN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Ww={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Kw=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Kw||{});var In={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function io(t,e){let n=Qc(t),r=n[Ar.NumberSymbols][e];if(typeof r>"u"){if(e===In.CurrencyDecimal)return n[Ar.NumberSymbols][In.Decimal];if(e===In.CurrencyGroup)return n[Ar.NumberSymbols][In.Group]}return r}function hN(t,e){return Qc(t)[Ar.NumberFormats][e]}function fN(t){return Qc(t)[Ar.Currencies]}function pN(t,e,n="en"){let r=fN(n)[t]||Ww[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var gN=2;function mN(t){let e,n=Ww[t];return n&&(e=n[2]),typeof e=="number"?e:gN}var yN=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Lw=22,Xc=".",so="0",vN=";",_N=",",af="#",Vw="\xA4";function IN(t,e,n,r,i,s,o=!1){let c="",u=!1;if(!isFinite(t))c=io(n,In.Infinity);else{let l=TN(t);o&&(l=DN(l));let f=e.minInt,p=e.minFrac,y=e.maxFrac;if(s){let G=s.match(yN);if(G===null)throw new Error(`${s} is not a valid digit info`);let K=G[1],de=G[3],be=G[5];K!=null&&(f=cf(K)),de!=null&&(p=cf(de)),be!=null?y=cf(be):de!=null&&p>y&&(y=p)}bN(l,p,y);let I=l.digits,A=l.integerLen,R=l.exponent,N=[];for(u=I.every(G=>!G);A<f;A++)I.unshift(0);for(;A<0;A++)I.unshift(0);A>0?N=I.splice(A,I.length):(N=I,I=[0]);let L=[];for(I.length>=e.lgSize&&L.unshift(I.splice(-e.lgSize,I.length).join(""));I.length>e.gSize;)L.unshift(I.splice(-e.gSize,I.length).join(""));I.length&&L.unshift(I.join("")),c=L.join(io(n,r)),N.length&&(c+=io(n,i)+N.join("")),R&&(c+=io(n,In.Exponential)+"+"+R)}return t<0&&!u?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function wN(t,e,n,r,i){let s=hN(e,Kw.Currency),o=EN(s,io(e,In.MinusSign));return o.minFrac=mN(r),o.maxFrac=o.minFrac,IN(t,o,e,In.CurrencyGroup,In.CurrencyDecimal,i).replace(Vw,n).replace(Vw,"").trim()}function EN(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(vN),i=r[0],s=r[1],o=i.indexOf(Xc)!==-1?i.split(Xc):[i.substring(0,i.lastIndexOf(so)+1),i.substring(i.lastIndexOf(so)+1)],c=o[0],u=o[1]||"";n.posPre=c.substring(0,c.indexOf(af));for(let f=0;f<u.length;f++){let p=u.charAt(f);p===so?n.minFrac=n.maxFrac=f+1:p===af?n.maxFrac=f+1:n.posSuf+=p}let l=c.split(_N);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let f=i.length-n.posPre.length-n.posSuf.length,p=s.indexOf(af);n.negPre=s.substring(0,p).replace(/'/g,""),n.negSuf=s.slice(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function DN(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function TN(t){let e=Math.abs(t)+"",n=0,r,i,s,o,c;for((i=e.indexOf(Xc))>-1&&(e=e.replace(Xc,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===so;s++);if(s===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===so;)c--;for(i-=s,r=[],o=0;s<=c;s++,o++)r[o]=Number(e.charAt(s))}return i>Lw&&(r=r.splice(0,Lw-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function bN(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,c=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let p=o;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let p=1;p<o;p++)r[p]=0}if(c>=5)if(o-1<0){for(let p=0;p>o;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=s!==0,l=e+t.integerLen,f=r.reduceRight(function(p,y,I,A){return y=y+p,A[I]=y<10?y:y-10,u&&(A[I]===0&&I>=l?A.pop():u=!1),y>=10?1:0},0);f&&(r.unshift(f),t.integerLen++)}function cf(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Qw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var uf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Yw=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,c)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new uf(s.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,c),Uw(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Uw(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(jt(xi),jt(zc),jt(of))},e.\u0275dir=Xs({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Uw(t,e){t.context.$implicit=e.item}var Jw=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new lf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){jw("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){jw("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(jt(xi),jt(zc))},e.\u0275dir=Xs({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),lf=class{constructor(){this.$implicit=null,this.ngIf=null}};function jw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${at(e)}'.`)}function CN(t,e){return new j(2100,!1)}var Zw=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,s="symbol",o,c){if(!SN(r))return null;c||=this._locale,typeof s=="boolean"&&(s=s?"symbol":"code");let u=i||this._defaultCurrencyCode;s!=="code"&&(s==="symbol"||s==="symbol-narrow"?u=pN(u,s==="symbol"?"wide":"narrow",c):u=s);try{let l=AN(r);return wN(l,c,u,i,o)}catch(l){throw CN(e,l.message)}}};e.\u0275fac=function(i){return new(i||e)(jt(Jc,16),jt(Mw,16))},e.\u0275pipe=H_({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function SN(t){return!(t==null||t===""||t!==t)}function AN(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var ao=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Rc({type:e}),e.\u0275inj=Cc({});let t=e;return t})(),Xw="browser",RN="server";function df(t){return t===RN}var eu=class{};var pf=class extends Zc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},gf=class t extends pf{static makeCurrent(){Hw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=xN();return n==null?null:NN(n)}resetBaseElement(){co=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qw(document.cookie,e)}},co=null;function xN(){return co=co||document.querySelector("base"),co?co.getAttribute("href"):null}function NN(t){return new URL(t,document.baseURI).pathname}var MN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),mf=new Q(""),iE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(te(mf),te(ve))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),nu=class{constructor(e){this._doc=e}},hf="ng-app-id",sE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=df(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${hf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(hf),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(hf,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(te(Tt),te(Lh),te(Uh,8),te(Kn))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),ff={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vf=/%COMP%/g,oE="%COMP%",PN=`_nghost-${oE}`,ON=`_ngcontent-${oE}`,kN=!0,FN=new Q("",{providedIn:"root",factory:()=>kN});function LN(t){return ON.replace(vf,t)}function VN(t){return PN.replace(vf,t)}function aE(t,e){return e.map(n=>n.replace(vf,t))}var tE=(()=>{let e=class e{constructor(r,i,s,o,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=df(u),this.defaultRenderer=new uo(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Gt.ShadowDom&&(i=Ae(V({},i),{encapsulation:Gt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof ru?s.applyToHost(r):s instanceof lo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case Gt.Emulated:o=new ru(l,f,i,this.appId,p,c,u,y);break;case Gt.ShadowDom:return new yf(l,f,r,i,c,u,this.nonce,y);default:o=new lo(l,f,i,p,c,u,y);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(te(iE),te(sE),te(Lh),te(FN),te(Tt),te(Kn),te(ve),te(Uh))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),uo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ff[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(nE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(nE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=ff[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ff[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yn.DashCase|yn.Important)?e.style.setProperty(n,r,i&yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ni().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function nE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var yf=class extends uo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=aE(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},lo=class extends uo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?aE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ru=class extends lo{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=LN(l),this.hostAttr=VN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},UN=(()=>{let e=class e extends nu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(te(Tt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),rE=["alt","control","meta","shift"],jN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$N=(()=>{let e=class e extends nu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ni().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),rE.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=jN[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),rE.forEach(c=>{if(c!==s){let u=BN[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(te(Tt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function cE(t,e){return Ow(V({rootComponent:t},HN(e)))}function HN(t){return{appProviders:[...KN,...t?.providers??[]],platformProviders:WN}}function qN(){gf.makeCurrent()}function zN(){return new mn}function GN(){return UI(document),document}var WN=[{provide:Kn,useValue:Xw},{provide:Vh,useValue:qN,multi:!0},{provide:Tt,useFactory:GN,deps:[]}];var KN=[{provide:xc,useValue:"root"},{provide:mn,useFactory:zN,deps:[]},{provide:mf,useClass:UN,multi:!0,deps:[Tt,ve,Kn]},{provide:mf,useClass:$N,multi:!0,deps:[Tt]},tE,sE,iE,{provide:Gs,useExisting:tE},{provide:eu,useClass:MN,deps:[]},[]];var uE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(te(Tt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Y="primary",Co=Symbol("RouteTitle"),Df=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Fi(t){return new Df(t)}function YN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o.startsWith(":"))i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function JN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xt(t[n],e[n]))return!1;return!0}function Xt(t,e){let n=t?Tf(t):void 0,r=e?Tf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!gE(t[i],e[i]))return!1;return!0}function Tf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function gE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function mE(t){return t.length>0?t[t.length-1]:null}function Zn(t){return hd(t)?t:no(t)?Le(Promise.resolve(t)):W(t)}var ZN={exact:vE,subset:_E},yE={exact:XN,subset:eM,ignored:()=>!0};function lE(t,e,n){return ZN[n.paths](t.root,e.root,n.matrixParams)&&yE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function XN(t,e){return Xt(t,e)}function vE(t,e,n){if(!Mr(t.segments,e.segments)||!ou(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!vE(t.children[r],e.children[r],n))return!1;return!0}function eM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gE(t[n],e[n]))}function _E(t,e,n){return IE(t,e,e.segments,n)}function IE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Mr(i,n)||e.hasChildren()||!ou(i,n,r))}else if(t.segments.length===n.length){if(!Mr(t.segments,n)||!ou(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!_E(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Mr(t.segments,i)||!ou(t.segments,i,r)||!t.children[Y]?!1:IE(t.children[Y],e,s,r)}}function ou(t,e,n){return e.every((r,i)=>yE[n](t[i].parameters,r.parameters))}var Yn=class{constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fi(this.queryParams),this._queryParamMap}toString(){return rM.serialize(this)}},me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return au(this)}},Nr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Fi(this.parameters),this._parameterMap}toString(){return EE(this)}};function tM(t,e){return Mr(t,e)&&t.every((n,r)=>Xt(n.parameters,e[r].parameters))}function Mr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function nM(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Y&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Y&&(n=n.concat(e(i,r)))}),n}var Yf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>new uu,providedIn:"root"});let t=e;return t})(),uu=class{parse(e){let n=new Cf(e);return new Yn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ho(e.root,!0)}`,r=oM(e.queryParams),i=typeof e.fragment=="string"?`#${iM(e.fragment)}`:"";return`${n}${r}${i}`}},rM=new uu;function au(t){return t.segments.map(e=>EE(e)).join("/")}function ho(t,e){if(!t.hasChildren())return au(t);if(e){let n=t.children[Y]?ho(t.children[Y],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Y&&r.push(`${i}:${ho(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=nM(t,(r,i)=>i===Y?[ho(t.children[Y],!1)]:[`${i}:${ho(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Y]!=null?`${au(t)}/${n[0]}`:`${au(t)}/(${n.join("//")})`}}function wE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iu(t){return wE(t).replace(/%3B/gi,";")}function iM(t){return encodeURI(t)}function bf(t){return wE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cu(t){return decodeURIComponent(t)}function dE(t){return cu(t.replace(/\+/g,"%20"))}function EE(t){return`${bf(t.path)}${sM(t.parameters)}`}function sM(t){return Object.entries(t).map(([e,n])=>`;${bf(e)}=${bf(n)}`).join("")}function oM(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${iu(n)}=${iu(i)}`).join("&"):`${iu(n)}=${iu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var aM=/^[^\/()?;#]+/;function _f(t){let e=t.match(aM);return e?e[0]:""}var cM=/^[^\/()?;=#]+/;function uM(t){let e=t.match(cM);return e?e[0]:""}var lM=/^[^=?&#]+/;function dM(t){let e=t.match(lM);return e?e[0]:""}var hM=/^[^&#]+/;function fM(t){let e=t.match(hM);return e?e[0]:""}var Cf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Y]=new me(e,n)),r}parseSegment(){let e=_f(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Nr(cu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=uM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=_f(this.remaining);i&&(r=i,this.capture(r))}e[cu(n)]=cu(r)}parseQueryParam(e){let n=dM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=fM(this.remaining);o&&(r=o,this.capture(r))}let i=dE(n),s=dE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_f(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Y);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Y]:new me([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function DE(t){return t.segments.length>0?new me([],{[Y]:t}):t}function TE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=TE(i);if(r===Y&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new me(t.segments,e);return pM(n)}function pM(t){if(t.numberOfChildren===1&&t.children[Y]){let e=t.children[Y];return new me(t.segments.concat(e.segments),e.children)}return t}function Li(t){return t instanceof Yn}function gM(t,e,n=null,r=null){let i=bE(t);return CE(i,e,n,r)}function bE(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new me(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=DE(r);return e??i}function CE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return If(i,i,i,n,r);let s=mM(e);if(s.toRoot())return If(i,i,new me([],{}),n,r);let o=yM(s,i,t),c=o.processChildren?go(o.segmentGroup,o.index,s.commands):AE(o.segmentGroup,o.index,s.commands);return If(i,o.segmentGroup,c,n,r)}function lu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function vo(t){return typeof t=="object"&&t!=null&&t.outlets}function If(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=SE(t,e,n);let c=DE(TE(o));return new Yn(c,s,i)}function SE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=SE(s,e,n)}),new me(t.segments,r)}var du=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&lu(r[0]))throw new j(4003,!1);let i=r.find(vo);if(i&&i!==mE(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new du(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new du(n,e,r)}var Oi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function yM(t,e,n){if(t.isAbsolute)return new Oi(e,!0,0);if(!n)return new Oi(e,!1,NaN);if(n.parent===null)return new Oi(n,!0,0);let r=lu(t.commands[0])?0:1,i=n.segments.length-1+r;return vM(n,i,t.numberOfDoubleDots)}function vM(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Oi(r,!1,i-s)}function _M(t){return vo(t[0])?t[0].outlets:{[Y]:t}}function AE(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return go(t,e,n);let r=IM(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new me(t.segments.slice(0,r.pathIndex),{});return s.children[Y]=new me(t.segments.slice(r.pathIndex),t.children),go(s,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?Sf(t,e,n):r.match?go(t,0,i):Sf(t,e,n)}function go(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=_M(n),i={};if(Object.keys(r).some(s=>s!==Y)&&t.children[Y]&&t.numberOfChildren===1&&t.children[Y].segments.length===0){let s=go(t.children[Y],e,n);return new me(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=AE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new me(t.segments,i)}}function IM(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(vo(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!fE(u,l,o))return s;r+=2}else{if(!fE(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(vo(s)){let u=wM(s.outlets);return new me(r,u)}if(i===0&&lu(n[0])){let u=t.segments[e];r.push(new Nr(u.path,hE(n[0]))),i++;continue}let o=vo(s)?s.outlets[Y]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&lu(c)?(r.push(new Nr(o,hE(c))),i+=2):(r.push(new Nr(o,{})),i++)}return new me(r,{})}function wM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Sf(new me([],{}),0,r))}),e}function hE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function fE(t,e,n){return t==n.path&&Xt(e,n.parameters)}var mo="imperative",qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(qe||{}),bt=class{constructor(e,n){this.id=e,this.url=n}},_o=class extends bt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pr=class extends bt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(vt||{}),Af=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Af||{}),Jn=class extends bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Or=class extends bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qe.NavigationSkipped}},Io=class extends bt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hu=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rf=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xf=class extends bt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nf=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mf=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pf=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Of=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kf=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ff=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lf=class{constructor(e){this.snapshot=e,this.type=qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vf=class{constructor(e){this.snapshot=e,this.type=qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var wo=class{},Eo=class{constructor(e){this.url=e}};var Uf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vu,this.attachRef=null}},vu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Uf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=jf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=jf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Bf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Bf(e,this._root).map(n=>n.value)}};function jf(t,e){if(t===e.value)return e;for(let n of e.children){let r=jf(t,n);if(r)return r}return null}function Bf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Bf(t,n);if(r.length)return r.unshift(e),r}return[]}var yt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Pi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var pu=class extends fu{constructor(e,n){super(e),this.snapshot=n,Zf(this,e)}toString(){return this.snapshot.toString()}};function RE(t){let e=EM(t),n=new He([new Nr("",{})]),r=new He({}),i=new He({}),s=new He({}),o=new He(""),c=new Vi(n,r,s,o,i,Y,t,e.root);return c.snapshot=e.root,new pu(new yt(c,[]),e)}function EM(t){let e={},n={},r={},i="",s=new Do([],e,r,i,n,Y,t,null,{});return new gu("",new yt(s,[]))}var Vi=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ae(l=>l[Co]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>Fi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>Fi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&NE(i)&&(r.resolve[Co]=i.title),r}var Do=class{get title(){return this.data?.[Co]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},gu=class extends fu{constructor(e,n){super(n),this.url=e,Zf(this,n)}toString(){return xE(this._root)}};function Zf(t,e){e.value._routerState=t,e.children.forEach(n=>Zf(t,n))}function xE(t){let e=t.children.length>0?` { ${t.children.map(xE).join(", ")} } `:"";return`${t.value}${e}`}function wf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xt(e.params,n.params)||t.paramsSubject.next(n.params),JN(e.url,n.url)||t.urlSubject.next(n.url),Xt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $f(t,e){let n=Xt(t.params,e.params)&&tM(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||$f(t.parent,e.parent))}function NE(t){return typeof t.title=="string"||t.title===null}var Xf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Y,this.activateEvents=new Pt,this.deactivateEvents=new Pt,this.attachEvents=new Pt,this.detachEvents=new Pt,this.parentContexts=k(vu),this.location=k(xi),this.changeDetector=k(Rr),this.environmentInjector=k(Dt),this.inputBinder=k(ep,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Hf(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Xs({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Oc]});let t=e;return t})(),Hf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Vi?this.route:e===vu?this.childContexts:this.parent.get(e,n)}},ep=new Q("");function DM(t,e,n){let r=To(t,e._root,n?n._root:void 0);return new pu(r,e)}function To(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=TM(t,e,n);return new yt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>To(t,c)),o}}let r=bM(e.value),i=e.children.map(s=>To(t,s));return new yt(r,i)}}function TM(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return To(t,r,i);return To(t,r)})}function bM(t){return new Vi(new He(t.url),new He(t.params),new He(t.queryParams),new He(t.fragment),new He(t.data),t.outlet,t.component,t)}var ME="ngNavigationCancelingError";function PE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=OE(!1,vt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function OE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ME]=!0,n.cancellationCode=e,n}function CM(t){return kE(t)&&Li(t.url)}function kE(t){return!!t&&t[ME]}var SM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ct({type:e,selectors:[["ng-component"]],standalone:!0,features:[ut],decls:1,vars:0,template:function(i,s){i&1&&we(0,"router-outlet")},dependencies:[Xf],encapsulation:2});let t=e;return t})();function AM(t,e){return t.providers&&!t._injector&&(t._injector=Xh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function tp(t){let e=t.children&&t.children.map(tp),n=e?Ae(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Y&&(n.component=SM),n}function en(t){return t.outlet||Y}function RM(t,e){let n=t.filter(r=>en(r)===e);return n.push(...t.filter(r=>en(r)!==e)),n}function So(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var xM=(t,e,n,r)=>ae(i=>(new qf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),qf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),wf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Pi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Pi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Pi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Pi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Vf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ff(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(wf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),wf(c.route.value),this.activateChildRoutes(e,null,o.children)}else{let c=So(i.snapshot);o.attachRef=null,o.route=i,o.injector=c,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},mu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ki=class{constructor(e,n){this.component=e,this.route=n}};function NM(t,e,n){let r=t._root,i=e?e._root:null;return fo(r,i,n,[r.value])}function MM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ji(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!x_(t)?t:e.get(t):r}function fo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Pi(e);return t.children.forEach(o=>{PM(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>yo(c,n.getContext(o),i)),i}function PM(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=OM(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new mu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?fo(t,e,c?c.children:null,r,i):fo(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new ki(c.outlet.component,o))}else o&&yo(e,c,i),i.canActivateChecks.push(new mu(r)),s.component?fo(t,null,c?c.children:null,r,i):fo(t,null,n,r,i);return i}function OM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Mr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mr(t.url,e.url)||!Xt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$f(t,e)||!Xt(t.queryParams,e.queryParams);case"paramsChange":default:return!$f(t,e)}}function yo(t,e,n){let r=Pi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?yo(o,e.children.getContext(s),n):yo(o,null,n):yo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ki(e.outlet.component,i)):n.canDeactivateChecks.push(new ki(null,i)):n.canDeactivateChecks.push(new ki(null,i))}function Ao(t){return typeof t=="function"}function kM(t){return typeof t=="boolean"}function FM(t){return t&&Ao(t.canLoad)}function LM(t){return t&&Ao(t.canActivate)}function VM(t){return t&&Ao(t.canActivateChild)}function UM(t){return t&&Ao(t.canDeactivate)}function jM(t){return t&&Ao(t.canMatch)}function FE(t){return t instanceof dn||t?.name==="EmptyError"}var su=Symbol("INITIAL_VALUE");function Ui(){return xt(t=>Ya(t.map(e=>e.pipe(hn(1),yd(su)))).pipe(ae(e=>{for(let n of e)if(n!==!0){if(n===su)return su;if(n===!1||n instanceof Yn)return n}return!0}),Rt(e=>e!==su),hn(1)))}function BM(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?W(Ae(V({},n),{guardsResult:!0})):$M(o,r,i,t).pipe(Ve(c=>c&&kM(c)?HM(r,s,t,e):W(c)),ae(c=>Ae(V({},n),{guardsResult:c})))})}function $M(t,e,n,r){return Le(t).pipe(Ve(i=>KM(i.component,i.route,n,e,r)),qt(i=>i!==!0,!0))}function HM(t,e,n,r){return Le(e).pipe(pi(i=>fi(zM(i.route.parent,r),qM(i.route,r),WM(t,i.path,n),GM(t,i.route,n))),qt(i=>i!==!0,!0))}function qM(t,e){return t!==null&&e&&e(new Lf(t)),W(!0)}function zM(t,e){return t!==null&&e&&e(new kf(t)),W(!0)}function GM(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>Ja(()=>{let o=So(e)??n,c=ji(s,o),u=LM(c)?c.canActivate(e,t):br(o,()=>c(e,t));return Zn(u).pipe(qt())}));return W(i).pipe(Ui())}function WM(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>MM(o)).filter(o=>o!==null).map(o=>Ja(()=>{let c=o.guards.map(u=>{let l=So(o.node)??n,f=ji(u,l),p=VM(f)?f.canActivateChild(r,t):br(l,()=>f(r,t));return Zn(p).pipe(qt())});return W(c).pipe(Ui())}));return W(s).pipe(Ui())}function KM(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(c=>{let u=So(e)??i,l=ji(c,u),f=UM(l)?l.canDeactivate(t,e,n,r):br(u,()=>l(t,e,n,r));return Zn(f).pipe(qt())});return W(o).pipe(Ui())}function QM(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let c=ji(o,t),u=FM(c)?c.canLoad(e,n):br(t,()=>c(e,n));return Zn(u)});return W(s).pipe(Ui(),LE(r))}function LE(t){return id(Ue(e=>{if(Li(e))throw PE(t,e)}),ae(e=>e===!0))}function YM(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let c=ji(o,t),u=jM(c)?c.canMatch(e,n):br(t,()=>c(e,n));return Zn(u)});return W(s).pipe(Ui(),LE(r))}var bo=class{constructor(e){this.segmentGroup=e||null}},yu=class extends Error{constructor(e){super(),this.urlTree=e}};function Mi(t){return hi(new bo(t))}function JM(t){return hi(new j(4e3,!1))}function ZM(t){return hi(OE(!1,vt.GuardRejected))}var zf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[Y])return JM(e.redirectTo);i=i.children[Y]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new yu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Yn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new me(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Gf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XM(t,e,n,r,i){let s=np(t,e,n);return s.matched?(r=AM(e,r),YM(r,e,n,i).pipe(ae(o=>o===!0?s:V({},Gf)))):W(s)}function np(t,e,n){if(e.path==="**")return eP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},Gf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||YN)(n,t,e);if(!i)return V({},Gf);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?V(V({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function eP(t){return{matched:!0,parameters:t.length>0?mE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function pE(t,e,n,r){return n.length>0&&rP(t,n,r)?{segmentGroup:new me(e,nP(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&iP(t,n,r)?{segmentGroup:new me(t.segments,tP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function tP(t,e,n,r){let i={};for(let s of n)if(_u(t,e,s)&&!r[en(s)]){let o=new me([],{});i[en(s)]=o}return V(V({},r),i)}function nP(t,e){let n={};n[Y]=e;for(let r of t)if(r.path===""&&en(r)!==Y){let i=new me([],{});n[en(r)]=i}return n}function rP(t,e,n){return n.some(r=>_u(t,e,r)&&en(r)!==Y)}function iP(t,e,n){return n.some(r=>_u(t,e,r))}function _u(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function sP(t,e,n,r){return en(t)!==r&&(r===Y||!_u(e,n,t))?!1:np(e,t,n).matched}function oP(t,e,n){return e.length===0&&!t.children[n]}var Wf=class{};function aP(t,e,n,r,i,s,o="emptyOnly"){return new Kf(t,e,n,r,i,o,s).recognize()}var cP=31,Kf=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new zf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=pE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(n=>{let r=new Do([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,{},Y,this.rootComponentType,null,{}),i=new yt(r,n),s=new gu("",i),o=gM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Y).pipe(Un(r=>{if(r instanceof yu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Jf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ae(s=>s instanceof yt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Le(i).pipe(pi(s=>{let o=r.children[s],c=RM(n,s);return this.processSegmentGroup(e,c,o,s)}),md((s,o)=>(s.push(...o),s)),jn(null),gd(),Ve(s=>{if(s===null)return Mi(r);let o=VE(s);return uP(o),W(o)}))}processSegment(e,n,r,i,s,o){return Le(n).pipe(pi(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o).pipe(Un(u=>{if(u instanceof bo)return W(null);throw u}))),qt(c=>!!c),Un(c=>{if(FE(c))return oP(r,i,s)?W(new Wf):Mi(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,c){return sP(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Mi(i):Mi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=np(n,i,s);if(!c)return Mi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cP&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ve(y=>this.processSegment(e,r,n,y.concat(f),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=XM(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(xt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:y}=c,I=new Do(f,y,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,dP(r),en(r),r.component??r._loadedComponent??null,r,hP(r)),{segmentGroup:A,slicedSegments:R}=pE(n,f,p,u);if(R.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(ae(L=>L===null?null:new yt(I,L)));if(u.length===0&&R.length===0)return W(new yt(I,[]));let N=en(r)===s;return this.processSegment(l,u,A,R,N?Y:s,!0).pipe(ae(L=>new yt(I,L instanceof yt?[L]:[])))}))):Mi(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):QM(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):ZM(n))):W({routes:[],injector:e})}};function uP(t){t.sort((e,n)=>e.value.outlet===Y?-1:n.value.outlet===Y?1:e.value.outlet.localeCompare(n.value.outlet))}function lP(t){let e=t.value.routeConfig;return e&&e.path===""}function VE(t){let e=[],n=new Set;for(let r of t){if(!lP(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=VE(r.children);e.push(new yt(r.value,i))}return e.filter(r=>!n.has(r))}function dP(t){return t.data||{}}function hP(t){return t.resolve||{}}function fP(t,e,n,r,i,s){return Ve(o=>aP(t,e,n,r,o.extractedUrl,i,s).pipe(ae(({state:c,tree:u})=>Ae(V({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function pP(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of UE(u))o.add(l);let c=0;return Le(o).pipe(pi(u=>s.has(u)?gP(u,r,t,e):(u.data=Jf(u,u.parent,t).resolve,W(void 0))),Ue(()=>c++),gi(1),Ve(u=>c===o.size?W(n):gt))})}function UE(t){let e=t.children.map(n=>UE(n)).flat();return[t,...e]}function gP(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!NE(i)&&(s[Co]=i.title),mP(s,t,e,r).pipe(ae(o=>(t._resolvedData=o,t.data=Jf(t,t.parent,n).resolve,null)))}function mP(t,e,n,r){let i=Tf(t);if(i.length===0)return W({});let s={};return Le(i).pipe(Ve(o=>yP(t[o],e,n,r).pipe(qt(),Ue(c=>{s[o]=c}))),gi(1),pd(s),Un(o=>FE(o)?gt:hi(o)))}function yP(t,e,n,r){let i=So(e)??r,s=ji(t,i),o=s.resolve?s.resolve(e,n):br(i,()=>s(e,n));return Zn(o)}function Ef(t){return xt(e=>{let n=t(e);return n?Le(n).pipe(ae(()=>e)):W(e)})}var jE=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Y);return i}getResolvedTitleForRoute(r){return r.data[Co]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(vP),providedIn:"root"});let t=e;return t})(),vP=(()=>{let e=class e extends jE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(te(uE))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rp=new Q("",{providedIn:"root",factory:()=>({})}),ip=new Q(""),_P=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(sf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return W(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Zn(r.loadComponent()).pipe(ae(BE),Ue(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Fs(()=>{this.componentLoaders.delete(r)})),s=new ci(i,()=>new rt).pipe(ai());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=IP(i,this.compiler,r,this.onLoadEndListener).pipe(Fs(()=>{this.childrenLoaders.delete(i)})),c=new ci(o,()=>new rt).pipe(ai());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IP(t,e,n,r){return Zn(t.loadChildren()).pipe(ae(BE),Ve(i=>i instanceof Ks||Array.isArray(i)?W(i):Le(e.compileModuleAsync(i))),ae(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(ip,[],{optional:!0,self:!0}).flat()),{routes:o.map(tp),injector:s}}))}function wP(t){return t&&typeof t=="object"&&"default"in t}function BE(t){return wP(t)?t.default:t}var sp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(EP),providedIn:"root"});let t=e;return t})(),EP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DP=new Q("");var TP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=k(_P),this.environmentInjector=k(Dt),this.urlSerializer=k(Yf),this.rootContexts=k(vu),this.location=k(oo),this.inputBindingEnabled=k(ep,{optional:!0})!==null,this.titleStrategy=k(jE),this.options=k(rp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(sp),this.createViewTransition=k(DP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Pf(s)),i=s=>this.events.next(new Of(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ae(V(V({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new He({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rt(o=>o.id!==0),ae(o=>Ae(V({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xt(o=>{let c=!1,u=!1;return W(o).pipe(xt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",vt.SupersededByNewNavigation),gt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let y="";return this.events.next(new Or(l.id,this.urlSerializer.serialize(l.rawUrl),y,Af.IgnoredSameUrlNavigation)),l.resolve(null),gt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return W(l).pipe(xt(y=>{let I=this.transitions?.getValue();return this.events.next(new _o(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),I!==this.transitions?.getValue()?gt:Promise.resolve(y)}),fP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Ae(V({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let I=new hu(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:I,source:A,restoredState:R,extras:N}=l,L=new _o(y,this.urlSerializer.serialize(I),A,R);this.events.next(L);let G=RE(this.rootComponentType).snapshot;return this.currentTransition=o=Ae(V({},l),{targetSnapshot:G,urlAfterRedirects:I,extras:Ae(V({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,W(o)}else{let y="";return this.events.next(new Or(l.id,this.urlSerializer.serialize(l.extractedUrl),y,Af.IgnoredByUrlHandlingStrategy)),l.resolve(null),gt}}),Ue(l=>{let f=new Rf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),ae(l=>(this.currentTransition=o=Ae(V({},l),{guards:NM(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),BM(this.environmentInjector,l=>this.events.next(l)),Ue(l=>{if(o.guardsResult=l.guardsResult,Li(l.guardsResult))throw PE(this.urlSerializer,l.guardsResult);let f=new xf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Rt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",vt.GuardRejected),!1)),Ef(l=>{if(l.guards.canActivateChecks.length)return W(l).pipe(Ue(f=>{let p=new Nf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),xt(f=>{let p=!1;return W(f).pipe(pP(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",vt.NoDataFromResolver)}}))}),Ue(f=>{let p=new Mf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),Ef(l=>{let f=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ue(I=>{p.component=I}),ae(()=>{})));for(let I of p.children)y.push(...f(I));return y};return Ya(f(l.targetSnapshot.root)).pipe(jn(null),hn(1))}),Ef(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?Le(p).pipe(ae(()=>o)):W(o)}),ae(l=>{let f=DM(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Ae(V({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Ue(()=>{this.events.next(new wo)}),xM(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),hn(1),Ue({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),vd(this.transitionAbortSubject.pipe(Ue(l=>{throw l}))),Fs(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",vt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Un(l=>{if(u=!0,kE(l))this.events.next(new Jn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),CM(l)?this.events.next(new Eo(l.url)):o.resolve(!1);else{this.events.next(new Io(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return gt}))}))}cancelNavigationTransition(r,i,s){let o=new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bP(t){return t!==mo}var CP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(SP),providedIn:"root"});let t=e;return t})(),Qf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},SP=(()=>{let e=class e extends Qf{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Fh(e)))(s||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$E=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:()=>k(AP),providedIn:"root"});let t=e;return t})(),AP=(()=>{let e=class e extends $E{constructor(){super(...arguments),this.location=k(oo),this.urlSerializer=k(Yf),this.options=k(rp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(sp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=RE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof _o)this.stateMemento=this.createStateMemento();else if(r instanceof Or)this.rawUrlTree=i.initialUrl;else if(r instanceof hu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof wo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Jn&&(r.code===vt.GuardRejected||r.code===vt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Io?this.restoreHistory(i,!0):r instanceof Pr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=V(V({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=V(V({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Fh(e)))(s||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),po=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(po||{});function RP(t,e){t.events.pipe(Rt(n=>n instanceof Pr||n instanceof Jn||n instanceof Io||n instanceof Or),ae(n=>n instanceof Pr||n instanceof Or?po.COMPLETE:(n instanceof Jn?n.code===vt.Redirect||n.code===vt.SupersededByNewNavigation:!1)?po.REDIRECTING:po.FAILED),Rt(n=>n!==po.REDIRECTING),hn(1)).subscribe(()=>{e()})}function xP(t){throw t}var NP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},HE=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Yc),this.stateManager=k($E),this.options=k(rp,{optional:!0})||{},this.pendingTasks=k(Wc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(TP),this.urlSerializer=k(Yf),this.location=k(oo),this.urlHandlingStrategy=k(sp),this._events=new rt,this.errorHandler=this.options.errorHandler||xP,this.navigated=!1,this.routeReuseStrategy=k(CP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(ip,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(ep,{optional:!0}),this.eventsSubscription=new xe,this.isNgZoneEnabled=k(ve)instanceof ve&&ve.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Jn&&i.code!==vt.Redirect&&i.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Pr)this.navigated=!0;else if(i instanceof Eo){let c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||bP(s.source)};this.scheduleNavigation(c,mo,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}OP(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=V({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(tp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,p=null;switch(u){case"merge":p=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let I=s?s.snapshot:this.routerState.snapshot.root;y=bE(I)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),y=this.currentUrlTree.root}return CE(y,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Li(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,mo,null,i)}navigate(r,i={skipLocationChange:!1}){return PP(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=V({},NP):i===!1?s=V({},MP):s=i,Li(r))return lE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return lE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((y,I)=>{u=y,l=I});let p=this.pendingTasks.add();return RP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function OP(t){return!(t instanceof wo)&&!(t instanceof Eo)}var kP=new Q("");function qE(t,...e){return Kt([{provide:ip,multi:!0,useValue:t},[],{provide:Vi,useFactory:FP,deps:[HE]},{provide:rf,multi:!0,useFactory:LP},e.map(n=>n.\u0275providers)])}function FP(t){return t.routerState.root}function LP(){let t=k(Vt);return e=>{let n=t.get(ro);if(e!==n.components[0])return;let r=t.get(HE),i=t.get(VP);t.get(UP)===1&&r.initialNavigation(),t.get(jP,null,X.Optional)?.setUpPreloading(),t.get(kP,null,X.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var VP=new Q("",{factory:()=>new rt}),UP=new Q("",{providedIn:"root",factory:()=>1});var jP=new Q("");var zE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ct({type:e,selectors:[["cw-button"]],inputs:{iconClasses:"iconClasses",text:"text"},standalone:!0,features:[ut],decls:3,vars:3,consts:[[1,"icon"],[1,"text"]],template:function(i,s){i&1&&(we(0,"i",0),q(1,"div",1),Ee(2),ee()),i&2&&(ww(s.iconClasses),Ut(2),Zt(s.text))},styles:['[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative;padding:1rem;color:var(--white-primary);gap:1rem}[_nghost-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}[_nghost-%COMP%]:hover:before{opacity:1}[_nghost-%COMP%]:hover{border-color:#000}[_nghost-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.icon[_ngcontent-%COMP%]{z-index:4}.text[_ngcontent-%COMP%]{z-index:4;transition:color .2s ease-in}']});let t=e;return t})();var GE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ct({type:e,selectors:[["cw-home-card"]],inputs:{design:"design"},standalone:!0,features:[ut],decls:17,vars:8,consts:[["loading","lazy",1,"card",3,"src"],[1,"info"],[1,"row","basic-info"],[1,"name"],[1,"price"],[1,"row","tags"],[1,"tag"],[1,"row","bottom"],[1,"click"],["iconClasses","fas fa-shopping-cart","text","Add to cart"]],template:function(i,s){i&1&&(we(0,"img",0),q(1,"div",1)(2,"div",2)(3,"div",3),Ee(4),ee(),q(5,"div",4),Ee(6),bw(7,"currency"),ee()(),q(8,"div",5)(9,"div",6),Ee(10),ee(),q(11,"div",6),Ee(12),ee()(),q(13,"div",7)(14,"div",8),Ee(15,"(Click to show more information)"),ee(),we(16,"cw-button",9),ee()()),i&2&&(Sr("src",s.design.image,HI),Ut(4),Zt(s.design.name),Ut(2),Zt(Cw(7,5,s.design.price,"RSD")),Ut(4),Zt(s.design.category),Ut(2),Zt(s.design.type))},dependencies:[zE,ao,Zw],styles:["[_nghost-%COMP%]{width:100%;position:relative;transition:.2s ease;border-radius:.8rem}[_nghost-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}[_nghost-%COMP%]:hover   .info[_ngcontent-%COMP%]{height:max(13rem,30%);background-color:var(--white-primary)}.card[_ngcontent-%COMP%]{border-radius:.8rem;width:100%;overflow:hidden}.info[_ngcontent-%COMP%]{position:absolute;bottom:0;height:0px;background-color:var(--white-primary);width:100%;border-radius:.8rem;padding-inline:1rem;box-sizing:border-box;overflow:hidden;display:flex;flex-direction:column;transition:.4s ease-in-out}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.name[_ngcontent-%COMP%]{flex-grow:1;padding:5px}.basic-info[_ngcontent-%COMP%]{border-bottom:1px solid black;padding-bottom:5px;margin-top:2rem}.price[_ngcontent-%COMP%]{background:var(--gradient-primary);color:var(--white-primary);display:flex;justify-content:center;align-items:center;padding:5px;border-radius:5px}.tags[_ngcontent-%COMP%]{margin-top:5px;justify-content:start;gap:3px;font-family:var(--ff-secondary)}.tag[_ngcontent-%COMP%]{background-color:var(--clr-primary-700);padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-300);color:var(--white-primary)}.bottom[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:2rem}.click[_ngcontent-%COMP%]{color:var(--white-primary-transparent);font-family:var(--ff-secondary);opacity:.5;font-size:var(--fs-300)}"]});let t=e;return t})();var KE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},QE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(y=64)),r.push(n[f],n[p],n[y],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new ap;let y=s<<2|c>>4;if(r.push(y),l!==64){let I=c<<4&240|l>>2;if(r.push(I),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ap=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$P=function(t){let e=KE(t);return QE.encodeByteArray(e,!0)},Ro=function(t){return $P(t).replace(/\./g,"")},up=function(t){try{return QE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var qP=()=>HP().__FIREBASE_DEFAULTS__,zP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&up(t[1]);return e&&JSON.parse(e)},wu=()=>{try{return qP()||zP()||GP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YE=t=>{var e,n;return(n=(e=wu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Eu=t=>{let e=YE(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lp=()=>{var t;return(t=wu())===null||t===void 0?void 0:t.config},JE=t=>{var e;return(e=wu())===null||e===void 0?void 0:e[`_${t}`]};var Iu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ZE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ro(JSON.stringify(n)),Ro(JSON.stringify(o)),""].join(".")}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function WP(){var t;let e=(t=wu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rD(){return!WP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dp(){try{return typeof indexedDB=="object"}catch{return!1}}function iD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var KP="FirebaseError",_t=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}},wn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QP(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new _t(i,c,r)}};function QP(t,e){return t.replace(YP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var YP=/\{\$([^}]+)}/g;function Bi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(WE(s)&&WE(o)){if(!Bi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function WE(t){return t!==null&&typeof t=="object"}function hp(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sD(t,e){let n=new cp(t,e);return n.subscribe.bind(n)}var cp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=op),i.error===void 0&&(i.error=op),i.complete===void 0&&(i.complete=op);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function JP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function op(){}var wq=4*60*60*1e3;function lt(t){return t&&t._delegate?t._delegate:t}var dt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var kr="[DEFAULT]";var fp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Iu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XP(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ZP(t){return t===kr?void 0:t}function XP(t){return t.instantiationMode==="EAGER"}var Du=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new fp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var eO=[],ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ne||{}),tO={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},nO=ne.INFO,rO={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},iO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xn=class{constructor(e){this.name=e,this._logLevel=nO,this._logHandler=iO,this._userLogHandler=null,eO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var sO=(t,e)=>e.some(n=>t instanceof n),oD,aD;function oO(){return oD||(oD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aO(){return aD||(aD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var cD=new WeakMap,gp=new WeakMap,uD=new WeakMap,pp=new WeakMap,yp=new WeakMap;function cO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(tn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cD.set(n,t)}).catch(()=>{}),yp.set(e,t),e}function uO(t){if(gp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gp.set(t,e)}var mp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lD(t){mp=t(mp)}function lO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Tu(this),e,...n);return uD.set(r,e.sort?e.sort():[e]),tn(r)}:aO().includes(t)?function(...e){return t.apply(Tu(this),e),tn(cD.get(this))}:function(...e){return tn(t.apply(Tu(this),e))}}function dO(t){return typeof t=="function"?lO(t):(t instanceof IDBTransaction&&uO(t),sO(t,oO())?new Proxy(t,mp):t)}function tn(t){if(t instanceof IDBRequest)return cO(t);if(pp.has(t))return pp.get(t);let e=dO(t);return e!==t&&(pp.set(t,e),yp.set(e,t)),e}var Tu=t=>yp.get(t);function hD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=tn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(tn(o.result),u.oldVersion,u.newVersion,tn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var hO=["get","getKey","getAll","getAllKeys","count"],fO=["put","add","delete","clear"],vp=new Map;function dD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vp.get(e))return vp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=fO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hO.includes(n)))return;let s=function(o,...c){return S(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return vp.set(e,s),s}lD(t=>Ae(V({},t),{get:(e,n,r)=>dD(e,n)||t.get(e,n,r),has:(e,n)=>!!dD(e,n)||t.has(e,n)}));var Ip=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pO(t){let e=t.getComponent();return e?.type==="VERSION"}var wp="@firebase/app",fD="0.10.11";var En=new Xn("@firebase/app"),gO="@firebase/app-compat",mO="@firebase/analytics-compat",yO="@firebase/analytics",vO="@firebase/app-check-compat",_O="@firebase/app-check",IO="@firebase/auth",wO="@firebase/auth-compat",EO="@firebase/database",DO="@firebase/database-compat",TO="@firebase/functions",bO="@firebase/functions-compat",CO="@firebase/installations",SO="@firebase/installations-compat",AO="@firebase/messaging",RO="@firebase/messaging-compat",xO="@firebase/performance",NO="@firebase/performance-compat",MO="@firebase/remote-config",PO="@firebase/remote-config-compat",OO="@firebase/storage",kO="@firebase/storage-compat",FO="@firebase/firestore",LO="@firebase/vertexai-preview",VO="@firebase/firestore-compat",UO="firebase",jO="10.13.2";var Ep="[DEFAULT]",BO={[wp]:"fire-core",[gO]:"fire-core-compat",[yO]:"fire-analytics",[mO]:"fire-analytics-compat",[_O]:"fire-app-check",[vO]:"fire-app-check-compat",[IO]:"fire-auth",[wO]:"fire-auth-compat",[EO]:"fire-rtdb",[DO]:"fire-rtdb-compat",[TO]:"fire-fn",[bO]:"fire-fn-compat",[CO]:"fire-iid",[SO]:"fire-iid-compat",[AO]:"fire-fcm",[RO]:"fire-fcm-compat",[xO]:"fire-perf",[NO]:"fire-perf-compat",[MO]:"fire-rc",[PO]:"fire-rc-compat",[OO]:"fire-gcs",[kO]:"fire-gcs-compat",[FO]:"fire-fst",[VO]:"fire-fst-compat",[LO]:"fire-vertex","fire-js":"fire-js",[UO]:"fire-js-all"};var xo=new Map,$O=new Map,Dp=new Map;function pD(t,e){try{t.container.addComponent(e)}catch(n){En.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nn(t){let e=t.name;if(Dp.has(e))return En.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,t);for(let n of xo.values())pD(n,t);for(let n of $O.values())pD(n,t);return!0}function Mo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $i(t){return t.settings!==void 0}var HO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new wn("app","Firebase",HO);var Tp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}};var Hi=jO;function Sp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ep,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw er.create("bad-app-name",{appName:String(i)});if(n||(n=lp()),!n)throw er.create("no-options");let s=xo.get(i);if(s){if(Bi(n,s.options)&&Bi(r,s.config))return s;throw er.create("duplicate-app",{appName:i})}let o=new Du(i);for(let u of Dp.values())o.addComponent(u);let c=new Tp(n,r,o);return xo.set(i,c),c}function Fr(t=Ep){let e=xo.get(t);if(!e&&t===Ep&&lp())return Sp();if(!e)throw er.create("no-app",{appName:t});return e}function bu(){return Array.from(xo.values())}function Ce(t,e,n){var r;let i=(r=BO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),En.warn(c.join(" "));return}nn(new dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var qO="firebase-heartbeat-database",zO=1,No="firebase-heartbeat-store",_p=null;function vD(){return _p||(_p=hD(qO,zO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(No)}catch(n){console.warn(n)}}}}).catch(t=>{throw er.create("idb-open",{originalErrorMessage:t.message})})),_p}function GO(t){return S(this,null,function*(){try{let n=(yield vD()).transaction(No),r=yield n.objectStore(No).get(_D(t));return yield n.done,r}catch(e){if(e instanceof _t)En.warn(e.message);else{let n=er.create("idb-get",{originalErrorMessage:e?.message});En.warn(n.message)}}})}function gD(t,e){return S(this,null,function*(){try{let r=(yield vD()).transaction(No,"readwrite");yield r.objectStore(No).put(e,_D(t)),yield r.done}catch(n){if(n instanceof _t)En.warn(n.message);else{let r=er.create("idb-set",{originalErrorMessage:n?.message});En.warn(r.message)}}})}function _D(t){return`${t.name}!${t.options.appId}`}var WO=1024,KO=30*24*60*60*1e3,bp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Cp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=KO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){En.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=mD(),{heartbeatsToSend:r,unsentEntries:i}=QO(this._heartbeatsCache.heartbeats),s=Ro(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return En.warn(n),""}})}};function mD(){return new Date().toISOString().substring(0,10)}function QO(t,e=WO){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Cp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return dp()?iD().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield GO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function yD(t){return Ro(JSON.stringify({version:2,heartbeats:t})).length}function YO(t){nn(new dt("platform-logger",e=>new Ip(e),"PRIVATE")),nn(new dt("heartbeat",e=>new bp(e),"PRIVATE")),Ce(wp,fD,t),Ce(wp,fD,"esm2017"),Ce("fire-js","")}YO("");var JO="firebase",ZO="10.13.2";Ce(JO,ZO,"app");var tr=new Wn("ANGULARFIRE2_VERSION");function Po(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ur=(t,e)=>{let n=e?[e]:bu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Vr=class{constructor(){return Ur(XO)}},XO="app-check";function qi(){}var Cu=class{zone;delegate;constructor(e,n=ld){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Ap=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qi,{},qi,qi)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},jr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Cu(Zone.current)),this.insideAngular=n.run(()=>new Cu(Zone.current,ud)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(te(ve))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Su(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ek(t){return Su().ngZone.runOutsideAngular(()=>t())}function Lr(t){return Su().ngZone.run(()=>t())}function tk(t){return nk(Su())(t)}function nk(t){return function(n){return n=n.lift(new Ap(t.ngZone)),n.pipe(Vn(t.outsideAngular),Ln(t.insideAngular))}}var rk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Lr(()=>t.apply(void 0,r))},ht=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Lr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qi,{},qi,qi))),r[s]=rk(r[s],n));let i=ek(()=>t.apply(this,r));if(!e)if(i instanceof fe){let s=Su();return i.pipe(Vn(s.outsideAngular),Ln(s.insideAngular))}else return Lr(()=>i);return i instanceof fe?i.pipe(tk):i instanceof Promise?Lr(()=>new Promise((s,o)=>i.then(c=>Lr(()=>s(c)),c=>Lr(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Lr(()=>i)};var Dn=class{constructor(e){return e}},Br=class{constructor(){return bu()}};function ik(t){return t&&t.length===1?t[0]:new Dn(Fr())}var Rp=new Q("angularfire2._apps"),sk={provide:Dn,useFactory:ik,deps:[[new Ye,Rp]]},ok={provide:Br,deps:[[new Ye,Rp]]};function ak(t){return(e,n)=>{let r=n.get(Kn);Ce("angularfire",tr.full,"core"),Ce("angularfire",tr.full,"app"),Ce("angular",Sw.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Dn(i)}}function ID(t,...e){return Kt([sk,ok,{provide:Rp,useFactory:ak(t),multi:!0,deps:[ve,Vt,jr,...e]}])}var wD=ht(Sp,!0);function RD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var xD=RD,ND=new wn("auth","Firebase",RD());var Nu=new Xn("@firebase/auth");function uk(t,...e){Nu.logLevel<=ne.WARN&&Nu.warn(`Auth (${Hi}): ${t}`,...e)}function Ru(t,...e){Nu.logLevel<=ne.ERROR&&Nu.error(`Auth (${Hi}): ${t}`,...e)}function ED(t,...e){throw Bp(t,...e)}function jp(t,...e){return Bp(t,...e)}function MD(t,e,n){let r=Object.assign(Object.assign({},xD()),{[e]:n});return new wn("auth","Firebase",r).create(e,{appName:t.name})}function xu(t){return MD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bp(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ND.create(t,...e)}function pe(t,e,...n){if(!t)throw Bp(e,...n)}function Oo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ru(e),new Error(e)}function Mu(t,e){t||Oo(e)}function lk(){return DD()==="http:"||DD()==="https:"}function DD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function dk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lk()||tD()||"connection"in navigator)?navigator.onLine:!0}function hk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Hr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mu(n>e,"Short delay should be less than long delay!"),this.isMobile=XE()||nD()}get(){return dk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fk(t,e){Mu(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Pu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var pk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var gk=new Hr(3e4,6e4);function PD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Lu(s,o,c,u){return S(this,arguments,function*(t,e,n,r,i={}){return OD(t,i,()=>S(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=hp(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:y},l);return eD()||(I.referrerPolicy="no-referrer"),Pu.fetch()(kD(t,t.config.apiHost,n,p),I)}))})}function OD(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},pk),e);try{let i=new Mp(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Au(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Au(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Au(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw MD(t,f,l);ED(t,f)}}catch(i){if(i instanceof _t)throw i;ED(t,"network-request-failed",{message:String(i)})}})}function kD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?fk(t.config,i):`${t.config.apiScheme}://${i}`}var Mp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jp(this.auth,"network-request-failed")),gk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Au(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=jp(t,e,r);return i.customData._tokenResponse=n,i}function mk(t,e){return S(this,null,function*(){return Lu(t,"POST","/v1/accounts:delete",e)})}function FD(t,e){return S(this,null,function*(){return Lu(t,"POST","/v1/accounts:lookup",e)})}function ko(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $p(t,e=!1){return S(this,null,function*(){let n=lt(t),r=yield n.getIdToken(e),i=LD(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ko(xp(i.auth_time)),issuedAtTime:ko(xp(i.iat)),expirationTime:ko(xp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function xp(t){return Number(t)*1e3}function LD(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ru("JWT malformed, contained fewer than 3 sections"),null;try{let i=up(n);return i?JSON.parse(i):(Ru("Failed to decode base64 JWT payload"),null)}catch(i){return Ru("Caught error parsing JWT payload as JSON",i?.toString()),null}}function TD(t){let e=LD(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Pp(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof _t&&yk(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function yk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Op=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Lo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ko(this.lastLoginAt),this.creationTime=ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ou(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Pp(t,FD(n,{idToken:r}));pe(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?VD(s.providerUserInfo):[],c=vk(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Lo(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Hp(t){return S(this,null,function*(){let e=lt(t);yield Ou(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function vk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VD(t){return t.map(e=>{var{providerId:n}=e,r=dd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _k(t,e){return S(this,null,function*(){let n=yield OD(t,{},()=>S(this,null,function*(){let r=hp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kD(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Pu.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Ik(t,e){return S(this,null,function*(){return Lu(t,"POST","/v2/accounts:revokeToken",PD(t,e))})}var Fo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");let n=TD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield _k(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Oo("not implemented")}};function nr(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Vo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=dd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Op(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield Pp(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return $p(this,e)}reload(){return Hp(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ou(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if($i(this.auth.app))return Promise.reject(xu(this.auth));let e=yield this.getIdToken();return yield Pp(this,mk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,G=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:K,emailVerified:de,isAnonymous:be,providerData:Z,stsTokenManager:E}=n;pe(K&&E,e,"internal-error");let m=Fo.fromJSON(this.name,E);pe(typeof K=="string",e,"internal-error"),nr(p,e.name),nr(y,e.name),pe(typeof de=="boolean",e,"internal-error"),pe(typeof be=="boolean",e,"internal-error"),nr(I,e.name),nr(A,e.name),nr(R,e.name),nr(N,e.name),nr(L,e.name),nr(G,e.name);let v=new t({uid:K,auth:e,email:y,emailVerified:de,displayName:p,isAnonymous:be,photoURL:A,phoneNumber:I,tenantId:R,stsTokenManager:m,createdAt:L,lastLoginAt:G});return Z&&Array.isArray(Z)&&(v.providerData=Z.map(w=>Object.assign({},w))),N&&(v._redirectEventId=N),v}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new Fo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ou(s),s})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];pe(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?VD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Fo;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Lo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var bD=new Map;function $r(t){Mu(t instanceof Function,"Expected a class definition");let e=bD.get(t);return e?(Mu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bD.set(t,e),e)}var wk=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),kp=wk;function Np(t,e,n){return`firebase:${t}:${e}:${n}`}var ku=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Np(this.userKey,i.apiKey,s),this.fullPersistenceKey=Np("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Vo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t($r(kp),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||$r(kp),o=Np(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=Vo._fromJSON(e,f);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function CD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ek(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sk(e))return"Blackberry";if(Ak(e))return"Webos";if(Dk(e))return"Safari";if((e.includes("chrome/")||Tk(e))&&!e.includes("edge/"))return"Chrome";if(Ck(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Ek(t=It()){return/firefox\//i.test(t)}function Dk(t=It()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tk(t=It()){return/crios\//i.test(t)}function bk(t=It()){return/iemobile/i.test(t)}function Ck(t=It()){return/android/i.test(t)}function Sk(t=It()){return/blackberry/i.test(t)}function Ak(t=It()){return/webos/i.test(t)}function UD(t,e=[]){let n;switch(t){case"Browser":n=CD(It());break;case"Worker":n=`${CD(It())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hi}/${r}`}var Fp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Rk(n){return S(this,arguments,function*(t,e={}){return Lu(t,"GET","/v2/passwordPolicy",PD(t,e))})}var xk=6,Lp=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:xk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Vp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fu(this),this.idTokenSubscription=new Fu(this),this.beforeStateQueue=new Fp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ND,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ku.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield FD(this,{idToken:e}),r=yield Vo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if($i(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Ou(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=hk()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if($i(this.app))return Promise.reject(xu(this));let n=e?lt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return $i(this.app)?Promise.reject(xu(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return $i(this.app)?Promise.reject(xu(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence($r(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield Rk(this),n=new Lp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Ik(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&$r(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=yield ku.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&uk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Nk(t){return lt(t)}var Fu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=sD(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mk={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pk(t){Mk=t}function Ok(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function kk(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($r);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var vz=Ok("rcb"),_z=new Hr(3e4,6e4);var Iz=new Hr(2e3,1e4);var wz=10*60*1e3;var Ez=new Hr(3e4,6e4);var Dz=new Hr(5e3,15e3);var Tz=encodeURIComponent("fac");var SD="@firebase/auth",AD="1.7.9";var Up=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Fk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lk(t){nn(new dt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UD(t)},l=new Vp(r,i,s,u);return kk(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nn(new dt("auth-internal",e=>{let n=Nk(e.getProvider("auth").getImmediate());return(r=>new Up(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ce(SD,AD,Fk(t)),Ce(SD,AD,"esm2017")}var Vk=5*60,bz=JE("authIdTokenMaxAge")||Vk;function Uk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Pk({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=jp("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Uk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lk("Browser");var V1="auth";var zi=class{constructor(){return Ur(V1)}};var jD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},BD={};var rr,qp;(function(){var t;function e(E,m){function v(){}v.prototype=m.prototype,E.D=m.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(w,D,b){for(var _=Array(arguments.length-2),cn=2;cn<arguments.length;cn++)_[cn-2]=arguments[cn];return m.prototype[D].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,v){v||(v=0);var w=Array(16);if(typeof m=="string")for(var D=0;16>D;++D)w[D]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(D=0;16>D;++D)w[D]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=E.g[0],v=E.g[1],D=E.g[2];var b=E.g[3],_=m+(b^v&(D^b))+w[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=b+(D^m&(v^D))+w[1]+3905402710&4294967295,b=m+(_<<12&4294967295|_>>>20),_=D+(v^b&(m^v))+w[2]+606105819&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(m^D&(b^m))+w[3]+3250441966&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(b^v&(D^b))+w[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(D^m&(v^D))+w[5]+1200080426&4294967295,b=m+(_<<12&4294967295|_>>>20),_=D+(v^b&(m^v))+w[6]+2821735955&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(m^D&(b^m))+w[7]+4249261313&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(b^v&(D^b))+w[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(D^m&(v^D))+w[9]+2336552879&4294967295,b=m+(_<<12&4294967295|_>>>20),_=D+(v^b&(m^v))+w[10]+4294925233&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(m^D&(b^m))+w[11]+2304563134&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(b^v&(D^b))+w[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(D^m&(v^D))+w[13]+4254626195&4294967295,b=m+(_<<12&4294967295|_>>>20),_=D+(v^b&(m^v))+w[14]+2792965006&4294967295,D=b+(_<<17&4294967295|_>>>15),_=v+(m^D&(b^m))+w[15]+1236535329&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(D^b&(v^D))+w[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(m^v))+w[6]+3225465664&4294967295,b=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(b^m))+w[11]+643717713&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(D^b))+w[0]+3921069994&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^b&(v^D))+w[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(m^v))+w[10]+38016083&4294967295,b=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(b^m))+w[15]+3634488961&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(D^b))+w[4]+3889429448&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^b&(v^D))+w[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(m^v))+w[14]+3275163606&4294967295,b=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(b^m))+w[3]+4107603335&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(D^b))+w[8]+1163531501&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^b&(v^D))+w[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^D&(m^v))+w[2]+4243563512&4294967295,b=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(b^m))+w[7]+1735328473&4294967295,D=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(D^b))+w[12]+2368359562&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(v^D^b)+w[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^D)+w[8]+2272392833&4294967295,b=m+(_<<11&4294967295|_>>>21),_=D+(b^m^v)+w[11]+1839030562&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^m)+w[14]+4259657740&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^b)+w[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^D)+w[4]+1272893353&4294967295,b=m+(_<<11&4294967295|_>>>21),_=D+(b^m^v)+w[7]+4139469664&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^m)+w[10]+3200236656&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^b)+w[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^D)+w[0]+3936430074&4294967295,b=m+(_<<11&4294967295|_>>>21),_=D+(b^m^v)+w[3]+3572445317&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^m)+w[6]+76029189&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^b)+w[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^D)+w[12]+3873151461&4294967295,b=m+(_<<11&4294967295|_>>>21),_=D+(b^m^v)+w[15]+530742520&4294967295,D=b+(_<<16&4294967295|_>>>16),_=v+(D^b^m)+w[2]+3299628645&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(D^(v|~b))+w[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~D))+w[7]+1126891415&4294967295,b=m+(_<<10&4294967295|_>>>22),_=D+(m^(b|~v))+w[14]+2878612391&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~m))+w[5]+4237533241&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~b))+w[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~D))+w[3]+2399980690&4294967295,b=m+(_<<10&4294967295|_>>>22),_=D+(m^(b|~v))+w[10]+4293915773&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~m))+w[1]+2240044497&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~b))+w[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~D))+w[15]+4264355552&4294967295,b=m+(_<<10&4294967295|_>>>22),_=D+(m^(b|~v))+w[6]+2734768916&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~m))+w[13]+1309151649&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~b))+w[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~D))+w[11]+3174756917&4294967295,b=m+(_<<10&4294967295|_>>>22),_=D+(m^(b|~v))+w[2]+718787259&4294967295,D=b+(_<<15&4294967295|_>>>17),_=v+(b^(D|~m))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var v=m-this.blockSize,w=this.B,D=this.h,b=0;b<m;){if(D==0)for(;b<=v;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<m;)if(w[D++]=E.charCodeAt(b++),D==this.blockSize){i(this,w),D=0;break}}else for(;b<m;)if(w[D++]=E[b++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var v=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=v&255,v/=256;for(this.u(E),E=Array(16),m=v=0;4>m;++m)for(var w=0;32>w;w+=8)E[v++]=this.g[m]>>>w&255;return E};function s(E,m){var v=c;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=m(E)}function o(E,m){this.h=m;for(var v=[],w=!0,D=E.length-1;0<=D;D--){var b=E[D]|0;w&&b==m||(v[D]=b,w=!1)}this.g=v}var c={};function u(E){return-128<=E&&128>E?s(E,function(m){return new o([m|0],0>m?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return N(l(-E));for(var m=[],v=1,w=0;E>=v;w++)m[w]=E/v|0,v*=4294967296;return new o(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return N(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),w=p,D=0;D<E.length;D+=8){var b=Math.min(8,E.length-D),_=parseInt(E.substring(D,D+b),m);8>b?(b=l(Math.pow(m,b)),w=w.j(b).add(l(_))):(w=w.j(v),w=w.add(l(_)))}return w}var p=u(0),y=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-N(this).m();for(var E=0,m=1,v=0;v<this.g.length;v++){var w=this.i(v);E+=(0<=w?w:4294967296+w)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(R(this))return"-"+N(this).toString(E);for(var m=l(Math.pow(E,6)),v=this,w="";;){var D=de(v,m).g;v=L(v,D.j(m));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=D,A(v))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=L(this,E),R(E)?-1:A(E)?0:1};function N(E){for(var m=E.g.length,v=[],w=0;w<m;w++)v[w]=~E.g[w];return new o(v,~E.h).add(y)}t.abs=function(){return R(this)?N(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0,D=0;D<=m;D++){var b=w+(this.i(D)&65535)+(E.i(D)&65535),_=(b>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);w=_>>>16,b&=65535,_&=65535,v[D]=_<<16|b}return new o(v,v[v.length-1]&-2147483648?-1:0)};function L(E,m){return E.add(N(m))}t.j=function(E){if(A(this)||A(E))return p;if(R(this))return R(E)?N(this).j(N(E)):N(N(this).j(E));if(R(E))return N(this.j(N(E)));if(0>this.l(I)&&0>E.l(I))return l(this.m()*E.m());for(var m=this.g.length+E.g.length,v=[],w=0;w<2*m;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<E.g.length;D++){var b=this.i(w)>>>16,_=this.i(w)&65535,cn=E.i(D)>>>16,gs=E.i(D)&65535;v[2*w+2*D]+=_*gs,G(v,2*w+2*D),v[2*w+2*D+1]+=b*gs,G(v,2*w+2*D+1),v[2*w+2*D+1]+=_*cn,G(v,2*w+2*D+1),v[2*w+2*D+2]+=b*cn,G(v,2*w+2*D+2)}for(w=0;w<m;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=m;w<2*m;w++)v[w]=0;return new o(v,0)};function G(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function K(E,m){this.g=E,this.h=m}function de(E,m){if(A(m))throw Error("division by zero");if(A(E))return new K(p,p);if(R(E))return m=de(N(E),m),new K(N(m.g),N(m.h));if(R(m))return m=de(E,N(m)),new K(N(m.g),m.h);if(30<E.g.length){if(R(E)||R(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,w=m;0>=w.l(E);)v=be(v),w=be(w);var D=Z(v,1),b=Z(w,1);for(w=Z(w,2),v=Z(v,2);!A(w);){var _=b.add(w);0>=_.l(E)&&(D=D.add(v),b=_),w=Z(w,1),v=Z(v,1)}return m=L(E,D.j(m)),new K(D,m)}for(D=p;0<=E.l(m);){for(v=Math.max(1,Math.floor(E.m()/m.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=l(v),_=b.j(m);R(_)||0<_.l(E);)v-=w,b=l(v),_=b.j(m);A(b)&&(b=y),D=D.add(b),E=L(E,_)}return new K(D,E)}t.A=function(E){return de(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)&E.i(w);return new o(v,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)|E.i(w);return new o(v,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)^E.i(w);return new o(v,this.h^E.h)};function be(E){for(var m=E.g.length+1,v=[],w=0;w<m;w++)v[w]=E.i(w)<<1|E.i(w-1)>>>31;return new o(v,E.h)}function Z(E,m){var v=m>>5;m%=32;for(var w=E.g.length-v,D=[],b=0;b<w;b++)D[b]=0<m?E.i(b+v)>>>m|E.i(b+v+1)<<32-m:E.i(b+v);return new o(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qp=BD.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,rr=BD.Integer=o}).apply(typeof jD<"u"?jD:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tn={};var zp,Gp,Gi,Wp,Uo,Uu,Kp,Qp,Yp;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in h))break e;h=h[T]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,T={next:function(){if(!g&&h<a.length){var C=h++;return{value:d(C,a[C]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),a.apply(d,T)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,T,C){for(var P=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)P[_e-2]=arguments[_e];return d.prototype[T].apply(g,P)}}function R(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function N(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let T=a.length||0,C=g.length||0;a.length=T+C;for(let P=0;P<C;P++)a[T+P]=g[P]}else a.push(g)}}class L{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(a){return/^[\s\xa0]*$/.test(a)}function K(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function de(a){return de[" "](a),a}de[" "]=function(){};var be=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function Z(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(h in g)a[h]=g[h];for(let C=0;C<v.length;C++)h=v[C],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function D(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Tl;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class cn{constructor(){this.h=this.g=null}add(d,h){let g=gs.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var gs=new L(()=>new zb,a=>a.reset());class zb{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ms,ys=!1,Tl=new cn,cy=()=>{let a=c.Promise.resolve(void 0);ms=()=>{a.then(Gb)}};var Gb=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=gs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ys=!1};function Mn(){this.s=this.s,this.C=this.C}Mn.prototype.s=!1,Mn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var Wb=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function vs(a,d){if(ze.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(be){e:{try{de(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Kb[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&vs.aa.h.call(this)}}A(vs,ze);var Kb={2:"touch",3:"pen",4:"mouse"};vs.prototype.h=function(){vs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var _s="closure_listenable_"+(1e6*Math.random()|0),Qb=0;function Yb(a,d,h,g,T){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=T,this.key=++Qb,this.da=this.fa=!1}function pa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ga(a){this.src=a,this.g={},this.h=0}ga.prototype.add=function(a,d,h,g,T){var C=a.toString();a=this.g[C],a||(a=this.g[C]=[],this.h++);var P=Cl(a,d,g,T);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new Yb(d,this.src,C,!!g,T),d.fa=h,a.push(d)),d};function bl(a,d){var h=d.type;if(h in a.g){var g=a.g[h],T=Array.prototype.indexOf.call(g,d,void 0),C;(C=0<=T)&&Array.prototype.splice.call(g,T,1),C&&(pa(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Cl(a,d,h,g){for(var T=0;T<a.length;++T){var C=a[T];if(!C.da&&C.listener==d&&C.capture==!!h&&C.ha==g)return T}return-1}var Sl="closure_lm_"+(1e6*Math.random()|0),Al={};function uy(a,d,h,g,T){if(g&&g.once)return dy(a,d,h,g,T);if(Array.isArray(d)){for(var C=0;C<d.length;C++)uy(a,d[C],h,g,T);return null}return h=Ml(h),a&&a[_s]?a.K(d,h,l(g)?!!g.capture:!!g,T):ly(a,d,h,!1,g,T)}function ly(a,d,h,g,T,C){if(!d)throw Error("Invalid event type");var P=l(T)?!!T.capture:!!T,_e=xl(a);if(_e||(a[Sl]=_e=new ga(a)),h=_e.add(d,h,g,P,C),h.proxy)return h;if(g=Jb(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)Wb||(T=P),T===void 0&&(T=!1),a.addEventListener(d.toString(),g,T);else if(a.attachEvent)a.attachEvent(fy(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Jb(){function a(h){return d.call(a.src,a.listener,h)}let d=Zb;return a}function dy(a,d,h,g,T){if(Array.isArray(d)){for(var C=0;C<d.length;C++)dy(a,d[C],h,g,T);return null}return h=Ml(h),a&&a[_s]?a.L(d,h,l(g)?!!g.capture:!!g,T):ly(a,d,h,!0,g,T)}function hy(a,d,h,g,T){if(Array.isArray(d))for(var C=0;C<d.length;C++)hy(a,d[C],h,g,T);else g=l(g)?!!g.capture:!!g,h=Ml(h),a&&a[_s]?(a=a.i,d=String(d).toString(),d in a.g&&(C=a.g[d],h=Cl(C,h,g,T),-1<h&&(pa(C[h]),Array.prototype.splice.call(C,h,1),C.length==0&&(delete a.g[d],a.h--)))):a&&(a=xl(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Cl(d,h,g,T)),(h=-1<a?d[a]:null)&&Rl(h))}function Rl(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[_s])bl(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(fy(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=xl(d))?(bl(h,a),h.h==0&&(h.src=null,d[Sl]=null)):pa(a)}}}function fy(a){return a in Al?Al[a]:Al[a]="on"+a}function Zb(a,d){if(a.da)a=!0;else{d=new vs(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Rl(a),a=h.call(g,d)}return a}function xl(a){return a=a[Sl],a instanceof ga?a:null}var Nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ml(a){return typeof a=="function"?a:(a[Nl]||(a[Nl]=function(d){return a.handleEvent(d)}),a[Nl])}function Ge(){Mn.call(this),this.i=new ga(this),this.M=this,this.F=null}A(Ge,Mn),Ge.prototype[_s]=!0,Ge.prototype.removeEventListener=function(a,d,h,g){hy(this,a,d,h,g)};function tt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new ze(d,a);else if(d instanceof ze)d.target=d.target||a;else{var T=d;d=new ze(g,a),w(d,T)}if(T=!0,h)for(var C=h.length-1;0<=C;C--){var P=d.g=h[C];T=ma(P,g,!0,d)&&T}if(P=d.g=a,T=ma(P,g,!0,d)&&T,T=ma(P,g,!1,d)&&T,h)for(C=0;C<h.length;C++)P=d.g=h[C],T=ma(P,g,!1,d)&&T}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)pa(h[g]);delete a.g[d],a.h--}}this.F=null},Ge.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Ge.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function ma(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,C=0;C<d.length;++C){var P=d[C];if(P&&!P.da&&P.capture==h){var _e=P.listener,$e=P.ha||P.src;P.fa&&bl(a.i,P),T=_e.call($e,g)!==!1&&T}}return T&&!g.defaultPrevented}function py(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function gy(a){a.g=py(()=>{a.g=null,a.i&&(a.i=!1,gy(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class Xb extends Mn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gy(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(a){Mn.call(this),this.h=a,this.g={}}A(Is,Mn);var my=[];function yy(a){Z(a.g,function(d,h){this.g.hasOwnProperty(h)&&Rl(d)},a),a.g={}}Is.prototype.N=function(){Is.aa.N.call(this),yy(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pl=c.JSON.stringify,eC=c.JSON.parse,tC=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Ol(){}Ol.prototype.h=null;function vy(a){return a.h||(a.h=a.i())}function _y(){}var ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kl(){ze.call(this,"d")}A(kl,ze);function Fl(){ze.call(this,"c")}A(Fl,ze);var cr={},Iy=null;function ya(){return Iy=Iy||new Ge}cr.La="serverreachability";function wy(a){ze.call(this,cr.La,a)}A(wy,ze);function Es(a){let d=ya();tt(d,new wy(d))}cr.STAT_EVENT="statevent";function Ey(a,d){ze.call(this,cr.STAT_EVENT,a),this.stat=d}A(Ey,ze);function nt(a){let d=ya();tt(d,new Ey(d,a))}cr.Ma="timingevent";function Dy(a,d){ze.call(this,cr.Ma,a),this.size=d}A(Dy,ze);function Ds(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ts(){this.g=!0}Ts.prototype.xa=function(){this.g=!1};function nC(a,d,h,g,T,C){a.info(function(){if(a.g)if(C)for(var P="",_e=C.split("&"),$e=0;$e<_e.length;$e++){var he=_e[$e].split("=");if(1<he.length){var We=he[0];he=he[1];var Ke=We.split("_");P=2<=Ke.length&&Ke[1]=="type"?P+(We+"="+he+"&"):P+(We+"=redacted&")}}else P=null;else P=C;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+h+`
`+P})}function rC(a,d,h,g,T,C,P){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+h+`
`+C+" "+P})}function Zr(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+sC(a,h)+(g?" "+g:"")})}function iC(a,d){a.info(function(){return"TIMEOUT: "+d})}Ts.prototype.info=function(){};function sC(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var C=T[0];if(C!="noop"&&C!="stop"&&C!="close")for(var P=1;P<T.length;P++)T[P]=""}}}}return Pl(h)}catch{return d}}var va={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ty={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ll;function _a(){}A(_a,Ol),_a.prototype.g=function(){return new XMLHttpRequest},_a.prototype.i=function(){return{}},Ll=new _a;function Pn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new by}function by(){this.i=null,this.g="",this.h=!1}var Cy={},Vl={};function Ul(a,d,h){a.L=1,a.v=Da(un(d)),a.m=h,a.P=!0,Sy(a,null)}function Sy(a,d){a.F=Date.now(),Ia(a),a.A=un(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),By(h.i,"t",g),a.C=0,h=a.j.J,a.h=new by,a.g=sv(a.j,h?d:null,!a.m),0<a.O&&(a.M=new Xb(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(my[0]=T.toString()),T=my);for(var C=0;C<T.length;C++){var P=uy(h,T[C],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Es(),nC(a.i,a.u,a.A,a.l,a.R,a.m)}Pn.prototype.ca=function(a){a=a.target;let d=this.M;d&&ln(a)==3?d.j():this.Y(a)},Pn.prototype.Y=function(a){try{if(a==this.g)e:{let Ke=ln(this.g);var d=this.g.Ba();let ti=this.g.Z();if(!(3>Ke)&&(Ke!=3||this.g&&(this.h.h||this.g.oa()||Ky(this.g)))){this.J||Ke!=4||d==7||(d==8||0>=ti?Es(3):Es(2)),jl(this);var h=this.g.Z();this.X=h;t:if(Ay(this)){var g=Ky(this.g);a="";var T=g.length,C=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ur(this),bs(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(C&&d==T-1)});g.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,rC(this.i,this.u,this.A,this.l,this.R,Ke,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,$e=this.g;if((_e=$e.g?$e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(_e)){var he=_e;break t}}he=null}if(h=he)Zr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bl(this,h);else{this.o=!1,this.s=3,nt(12),ur(this),bs(this);break e}}if(this.P){h=!0;let St;for(;!this.J&&this.C<P.length;)if(St=oC(this,P),St==Vl){Ke==4&&(this.s=4,nt(14),h=!1),Zr(this.i,this.l,null,"[Incomplete Response]");break}else if(St==Cy){this.s=4,nt(15),Zr(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Zr(this.i,this.l,St,null),Bl(this,St);if(Ay(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||P.length!=0||this.h.h||(this.s=1,nt(16),h=!1),this.o=this.o&&h,!h)Zr(this.i,this.l,P,"[Invalid Chunked Response]"),ur(this),bs(this);else if(0<P.length&&!this.W){this.W=!0;var We=this.j;We.g==this&&We.ba&&!We.M&&(We.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Wl(We),We.M=!0,nt(11))}}else Zr(this.i,this.l,P,null),Bl(this,P);Ke==4&&ur(this),this.o&&!this.J&&(Ke==4?tv(this.j,this):(this.o=!1,Ia(this)))}else DC(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),ur(this),bs(this)}}}catch{}finally{}};function Ay(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function oC(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Vl:(h=Number(d.substring(h,g)),isNaN(h)?Cy:(g+=1,g+h>d.length?Vl:(d=d.slice(g,g+h),a.C=g+h,d)))}Pn.prototype.cancel=function(){this.J=!0,ur(this)};function Ia(a){a.S=Date.now()+a.I,Ry(a,a.I)}function Ry(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ds(y(a.ba,a),d)}function jl(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Pn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(iC(this.i,this.A),this.L!=2&&(Es(),nt(17)),ur(this),this.s=2,bs(this)):Ry(this,this.S-a)};function bs(a){a.j.G==0||a.J||tv(a.j,a)}function ur(a){jl(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,yy(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Bl(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||$l(h.h,a))){if(!a.K&&$l(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Aa(h),Ca(h);else break e;Gl(h),nt(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Ds(y(h.Za,h),6e3));if(1>=My(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else dr(h,11)}else if((a.K||h.g==a)&&Aa(h),!G(d))for(T=h.Da.g.parse(d),d=0;d<T.length;d++){let he=T[d];if(h.T=he[0],he=he[1],h.G==2)if(he[0]=="c"){h.K=he[1],h.ia=he[2];let We=he[3];We!=null&&(h.la=We,h.j.info("VER="+h.la));let Ke=he[4];Ke!=null&&(h.Aa=Ke,h.j.info("SVER="+h.Aa));let ti=he[5];ti!=null&&typeof ti=="number"&&0<ti&&(g=1.5*ti,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let St=a.g;if(St){let xa=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var C=g.h;C.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(Hl(C,C.h),C.h=null))}if(g.D){let Kl=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;Kl&&(g.ya=Kl,De(g.I,g.D,Kl))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var P=a;if(g.qa=iv(g,g.J?g.ia:null,g.W),P.K){Py(g.h,P);var _e=P,$e=g.L;$e&&(_e.I=$e),_e.B&&(jl(_e),Ia(_e)),g.g=P}else Xy(g);0<h.i.length&&Sa(h)}else he[0]!="stop"&&he[0]!="close"||dr(h,7);else h.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?dr(h,7):zl(h):he[0]!="noop"&&h.l&&h.l.ta(he),h.v=0)}}Es(4)}catch{}}var aC=class{constructor(a,d){this.g=a,this.map=d}};function xy(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ny(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function My(a){return a.h?1:a.g?a.g.size:0}function $l(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Hl(a,d){a.g?a.g.add(d):a.h=d}function Py(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}xy.prototype.cancel=function(){if(this.i=Oy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Oy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return R(a.i)}function cC(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function uC(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function ky(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=uC(a),g=cC(a),T=g.length,C=0;C<T;C++)d.call(void 0,g[C],h&&h[C],a)}var Fy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lC(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),T=null;if(0<=g){var C=a[h].substring(0,g);T=a[h].substring(g+1)}else C=a[h];d(C,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function lr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof lr){this.h=a.h,wa(this,a.j),this.o=a.o,this.g=a.g,Ea(this,a.s),this.l=a.l;var d=a.i,h=new As;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Ly(this,h),this.m=a.m}else a&&(d=String(a).match(Fy))?(this.h=!1,wa(this,d[1]||"",!0),this.o=Cs(d[2]||""),this.g=Cs(d[3]||"",!0),Ea(this,d[4]),this.l=Cs(d[5]||"",!0),Ly(this,d[6]||"",!0),this.m=Cs(d[7]||"")):(this.h=!1,this.i=new As(null,this.h))}lr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ss(d,Vy,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ss(d,Vy,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ss(h,h.charAt(0)=="/"?fC:hC,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ss(h,gC)),a.join("")};function un(a){return new lr(a)}function wa(a,d,h){a.j=h?Cs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ea(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Ly(a,d,h){d instanceof As?(a.i=d,mC(a.i,a.h)):(h||(d=Ss(d,pC)),a.i=new As(d,a.h))}function De(a,d,h){a.i.set(d,h)}function Da(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Cs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ss(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,dC),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function dC(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Vy=/[#\/\?@]/g,hC=/[#\?:]/g,fC=/[#\?]/g,pC=/[#\?@]/g,gC=/#/g;function As(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function On(a){a.g||(a.g=new Map,a.h=0,a.i&&lC(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=As.prototype,t.add=function(a,d){On(this),this.i=null,a=Xr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Uy(a,d){On(a),d=Xr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function jy(a,d){return On(a),d=Xr(a,d),a.g.has(d)}t.forEach=function(a,d){On(this),this.g.forEach(function(h,g){h.forEach(function(T){a.call(d,T,g,this)},this)},this)},t.na=function(){On(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let T=a[g];for(let C=0;C<T.length;C++)h.push(d[g])}return h},t.V=function(a){On(this);let d=[];if(typeof a=="string")jy(this,a)&&(d=d.concat(this.g.get(Xr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return On(this),this.i=null,a=Xr(this,a),jy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function By(a,d,h){Uy(a,d),0<h.length&&(a.i=null,a.g.set(Xr(a,d),R(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let C=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var T=C;P[g]!==""&&(T+="="+encodeURIComponent(String(P[g]))),a.push(T)}}return this.i=a.join("&")};function Xr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function mC(a,d){d&&!a.j&&(On(a),a.i=null,a.g.forEach(function(h,g){var T=g.toLowerCase();g!=T&&(Uy(this,g),By(this,T,h))},a)),a.j=d}function yC(a,d){let h=new Ts;if(c.Image){let g=new Image;g.onload=I(kn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=I(kn,h,"TestLoadImage: error",!1,d,g),g.onabort=I(kn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(kn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function vC(a,d){let h=new Ts,g=new AbortController,T=setTimeout(()=>{g.abort(),kn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(C=>{clearTimeout(T),C.ok?kn(h,"TestPingServer: ok",!0,d):kn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),kn(h,"TestPingServer: error",!1,d)})}function kn(a,d,h,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(h)}catch{}}function _C(){this.g=new tC}function IC(a,d,h){let g=h||"";try{ky(a,function(T,C){let P=T;l(T)&&(P=Pl(T)),d.push(g+C+"="+encodeURIComponent(P))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Rs(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Rs,Ol),Rs.prototype.g=function(){return new Ta(this.l,this.j)},Rs.prototype.i=function(a){return function(){return a}}({});function Ta(a,d){Ge.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ta,Ge),t=Ta.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ns(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$y(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function $y(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?xs(this):Ns(this),this.readyState==3&&$y(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,xs(this))},t.Qa=function(a){this.g&&(this.response=a,xs(this))},t.ga=function(){this.g&&xs(this)};function xs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ns(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Ns(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Hy(a){let d="";return Z(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function ql(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=Hy(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):De(a,d,h))}function Se(a){Ge.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Se,Ge);var wC=/^https?$/i,EC=["POST","PUT"];t=Se.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ll.g(),this.v=this.o?vy(this.o):vy(Ll),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(C){qy(this,C);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)h.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let C of g.keys())h.set(C,g.get(C));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(C=>C.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(EC,d,void 0))||g||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,P]of h)this.g.setRequestHeader(C,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wy(this),this.u=!0,this.g.send(a),this.u=!1}catch(C){qy(this,C)}};function qy(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,zy(a),ba(a)}function zy(a){a.A||(a.A=!0,tt(a,"complete"),tt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,tt(this,"complete"),tt(this,"abort"),ba(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ba(this,!0)),Se.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gy(this):this.bb())},t.bb=function(){Gy(this)};function Gy(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ln(a)!=4||a.Z()!=2)){if(a.u&&ln(a)==4)py(a.Ea,0,a);else if(tt(a,"readystatechange"),ln(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=P===0){var T=String(a.D).match(Fy)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),g=!wC.test(T?T.toLowerCase():"")}h=g}if(h)tt(a,"complete"),tt(a,"success");else{a.m=6;try{var C=2<ln(a)?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.Z()+"]",zy(a)}}finally{ba(a)}}}}function ba(a,d){if(a.g){Wy(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||tt(a,"ready");try{h.onreadystatechange=g}catch{}}}function Wy(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function ln(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),eC(d)}};function Ky(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function DC(a){let d={};a=(a.g&&2<=ln(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(G(a[g]))continue;var h=D(a[g]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let C=d[T]||[];d[T]=C,C.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function Qy(a){this.Aa=0,this.i=[],this.j=new Ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,a),this.cb=Ms("retryDelaySeedMs",1e4,a),this.Wa=Ms("forwardChannelMaxRetries",2,a),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new xy(a&&a.concurrentRequestLimit),this.Da=new _C,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qy.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){nt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=iv(this,null,this.W),Sa(this)};function zl(a){if(Yy(a),a.G==3){var d=a.U++,h=un(a.I);if(De(h,"SID",a.K),De(h,"RID",d),De(h,"TYPE","terminate"),Ps(a,h),d=new Pn(a,a.j,d),d.L=2,d.v=Da(un(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=sv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ia(d)}rv(a)}function Ca(a){a.g&&(Wl(a),a.g.cancel(),a.g=null)}function Yy(a){Ca(a),a.u&&(c.clearTimeout(a.u),a.u=null),Aa(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Sa(a){if(!Ny(a.h)&&!a.s){a.s=!0;var d=a.Ga;ms||cy(),ys||(ms(),ys=!0),Tl.add(d,a),a.B=0}}function TC(a,d){return My(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ds(y(a.Ga,a,d),nv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new Pn(this,this.j,a),C=this.o;if(this.S&&(C?(C=m(C),w(C,this.S)):C=this.S),this.m!==null||this.O||(T.H=C,C=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Zy(this,T,d),h=un(this.I),De(h,"RID",a),De(h,"CVER",22),this.D&&De(h,"X-HTTP-Session-Id",this.D),Ps(this,h),C&&(this.O?d="headers="+encodeURIComponent(String(Hy(C)))+"&"+d:this.m&&ql(h,this.m,C)),Hl(this.h,T),this.Ua&&De(h,"TYPE","init"),this.P?(De(h,"$req",d),De(h,"SID","null"),T.T=!0,Ul(T,h,null)):Ul(T,h,d),this.G=2}}else this.G==3&&(a?Jy(this,a):this.i.length==0||Ny(this.h)||Jy(this))};function Jy(a,d){var h;d?h=d.l:h=a.U++;let g=un(a.I);De(g,"SID",a.K),De(g,"RID",h),De(g,"AID",a.T),Ps(a,g),a.m&&a.o&&ql(g,a.m,a.o),h=new Pn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Zy(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Hl(a.h,h),Ul(h,g,d)}function Ps(a,d){a.H&&Z(a.H,function(h,g){De(d,g,h)}),a.l&&ky({},function(h,g){De(d,g,h)})}function Zy(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var T=a.i;let C=-1;for(;;){let P=["count="+h];C==-1?0<h?(C=T[0].g,P.push("ofs="+C)):C=0:P.push("ofs="+C);let _e=!0;for(let $e=0;$e<h;$e++){let he=T[$e].g,We=T[$e].map;if(he-=C,0>he)C=Math.max(0,T[$e].g-100),_e=!1;else try{IC(We,P,"req"+he+"_")}catch{g&&g(We)}}if(_e){g=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function Xy(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ms||cy(),ys||(ms(),ys=!0),Tl.add(d,a),a.v=0}}function Gl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ds(y(a.Fa,a),nv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ev(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ds(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Ca(this),ev(this))};function Wl(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function ev(a){a.g=new Pn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=un(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),Ps(a,d),a.m&&a.o&&ql(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Da(un(d)),h.m=null,h.P=!0,Sy(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Ca(this),Gl(this),nt(19))};function Aa(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function tv(a,d){var h=null;if(a.g==d){Aa(a),Wl(a),a.g=null;var g=2}else if($l(a.h,d))h=d.D,Py(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var T=a.B;g=ya(),tt(g,new Dy(g,h)),Sa(a)}else Xy(a);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&TC(a,d)||g==2&&Gl(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),T){case 1:dr(a,5);break;case 4:dr(a,10);break;case 3:dr(a,6);break;default:dr(a,2)}}}function nv(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function dr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let T=!g;g=new lr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||wa(g,"https"),Da(g),T?yC(g.toString(),h):vC(g.toString(),h)}else nt(2);a.G=0,a.l&&a.l.sa(d),rv(a),Yy(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function rv(a){if(a.G=0,a.ka=[],a.l){let d=Oy(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function iv(a,d,h){var g=h instanceof lr?un(h):new lr(h);if(g.g!="")d&&(g.g=d+"."+g.g),Ea(g,g.s);else{var T=c.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var C=new lr(null);g&&wa(C,g),d&&(C.g=d),T&&Ea(C,T),h&&(C.l=h),g=C}return h=a.D,d=a.ya,h&&d&&De(g,h,d),De(g,"VER",a.la),Ps(a,g),g}function sv(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Se(new Rs({eb:h})):new Se(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ov(){}t=ov.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ra(){}Ra.prototype.g=function(a,d){return new ft(a,d)};function ft(a,d){Ge.call(this),this.g=new Qy(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!G(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ei(this)}A(ft,Ge),ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ft.prototype.close=function(){zl(this.g)},ft.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Pl(a),a=h);d.i.push(new aC(d.Ya++,a)),d.G==3&&Sa(d)},ft.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,ft.aa.N.call(this)};function av(a){kl.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(av,kl);function cv(){Fl.call(this),this.status=1}A(cv,Fl);function ei(a){this.g=a}A(ei,ov),ei.prototype.ua=function(){tt(this.g,"a")},ei.prototype.ta=function(a){tt(this.g,new av(a))},ei.prototype.sa=function(a){tt(this.g,new cv)},ei.prototype.ra=function(){tt(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,ft.prototype.send=ft.prototype.o,ft.prototype.open=ft.prototype.m,ft.prototype.close=ft.prototype.close,Yp=Tn.createWebChannelTransport=function(){return new Ra},Qp=Tn.getStatEventTarget=function(){return ya()},Kp=Tn.Event=cr,Uu=Tn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,Uo=Tn.ErrorCode=va,Ty.COMPLETE="complete",Wp=Tn.EventType=Ty,_y.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,Gi=Tn.WebChannel=_y,Gp=Tn.FetchXmlHttpFactory=Rs,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,zp=Tn.XhrIo=Se}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});var $D="@firebase/firestore";var Be=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");var fs="10.13.2";var Wr=new Xn("@firebase/firestore");function jo(){return Wr.logLevel}function F(t,...e){if(Wr.logLevel<=ne.DEBUG){let n=e.map(Um);Wr.debug(`Firestore (${fs}): ${t}`,...n)}}function Sn(t,...e){if(Wr.logLevel<=ne.ERROR){let n=e.map(Um);Wr.error(`Firestore (${fs}): ${t}`,...n)}}function rs(t,...e){if(Wr.logLevel<=ne.WARN){let n=e.map(Um);Wr.warn(`Firestore (${fs}): ${t}`,...n)}}function Um(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t="Unexpected state"){let e=`FIRESTORE (${fs}) INTERNAL ASSERTION FAILED: `+t;throw Sn(e),new Error(e)}function Fe(t,e){t||z()}function ue(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends _t{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Hu=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ng=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}},rg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ig=class{constructor(e){this.t=e,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new Hu(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Be(e)}},sg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},og=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ag=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new ag(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function U1(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ug=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=U1(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ge(t,e){return t<e?-1:t>e?1:0}function is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new O(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ze(0,0))}static max(){return new t(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var qu=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Re=class t extends qu{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},j1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class t extends qu{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return j1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new O(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new O(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new O(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var U=class t{constructor(e){this.path=e}static fromPath(e){return new t(Re.fromString(e))}static fromName(e){return new t(Re.fromString(e).popFirst(5))}static empty(){return new t(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Re(e.slice()))}};var lg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};lg.UNKNOWN_ID=-1;function B1(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new Kr(i,U.empty(),e)}function $1(t){return new Kr(t.readTime,t.key,-1)}var Kr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),U.empty(),-1)}static max(){return new t(J.max(),U.empty(),-1)}};function H1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}var q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function jm(t){return S(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==q1)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function z1(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ua(t){return t.name==="IndexedDbTransactionError"}var IT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function gl(t){return t==null}function Go(t){return t===0&&1/t==-1/0}function G1(t){return typeof t=="number"&&Number.isInteger(t)&&!Go(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var W1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],C4=[...W1,"documentOverlays"],K1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Q1=K1,Y1=[...Q1,"indexConfiguration","indexState","indexEntries"];var S4=[...Y1,"globals"];function HD(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Me=class t{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yi(this.root,e,this.comparator,!0)}},Yi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();let e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}};sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xe=class t{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zu(this.data.getIterator())}getIteratorFrom(e){return new zu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},zu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qr=class t{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new Xe(Ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Gu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gu("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};et.EMPTY_BYTE_STRING=new et("");var J1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function An(t){if(Fe(!!t),typeof t=="string"){let e=0,n=J1.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Te(t.seconds),nanos:Te(t.nanos)}}function Te(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ir(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}function ml(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bm(t){let e=t.mapValue.fields.__previous_value__;return ml(e)?Bm(e):e}function Wo(t){let e=An(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}var hg=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Wu=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ml(t)?4:DT(t)?9007199254740991:ET(t)?10:11:z()}function an(t,e){if(t===e)return!0;let n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wo(t).isEqual(Wo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=An(i.timestampValue),c=An(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ir(i.bytesValue).isEqual(ir(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Te(i.geoPointValue.latitude)===Te(s.geoPointValue.latitude)&&Te(i.geoPointValue.longitude)===Te(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Te(i.integerValue)===Te(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Te(i.doubleValue),c=Te(s.doubleValue);return o===c?Go(o)===Go(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return is(t.arrayValue.values||[],e.arrayValue.values||[],an);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(HD(o)!==HD(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!an(o[u],c[u])))return!1;return!0}(t,e);default:return z()}}function Ko(t,e){return(t.values||[]).find(n=>an(n,e))!==void 0}function ss(t,e){if(t===e)return 0;let n=Qr(t),r=Qr(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Te(s.integerValue||s.doubleValue),u=Te(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return qD(t.timestampValue,e.timestampValue);case 4:return qD(Wo(t),Wo(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){let c=ir(s),u=ir(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ge(c[l],u[l]);if(f!==0)return f}return ge(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=ge(Te(s.latitude),Te(o.latitude));return c!==0?c:ge(Te(s.longitude),Te(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zD(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let p=s.fields||{},y=o.fields||{},I=(c=p.value)===null||c===void 0?void 0:c.arrayValue,A=(u=y.value)===null||u===void 0?void 0:u.arrayValue,R=ge(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:zD(I,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ju.mapValue&&o===ju.mapValue)return 0;if(s===ju.mapValue)return 1;if(o===ju.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=ge(u[p],f[p]);if(y!==0)return y;let I=ss(c[u[p]],l[f[p]]);if(I!==0)return I}return ge(u.length,f.length)}(t.mapValue,e.mapValue);default:throw z()}}function qD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);let n=An(t),r=An(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function zD(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ss(n[i],r[i]);if(s)return s}return ge(n.length,r.length)}function os(t){return fg(t)}function fg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=An(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=fg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${fg(n.fields[o])}`;return i+"}"}(t.mapValue):z()}function Ku(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pg(t){return!!t&&"integerValue"in t}function $m(t){return!!t&&"arrayValue"in t}function GD(t){return!!t&&"nullValue"in t}function WD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jp(t){return!!t&&"mapValue"in t}function ET(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function $o(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return la(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$o(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$o(t.arrayValue.values[n]);return e}return Object.assign({},t)}function DT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var bn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$o(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=$o(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Jp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return an(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){la(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t($o(this.value))}};var $t=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var sr=class{constructor(e,n){this.position=e,this.inclusive=n}};function KD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),n.key):r=ss(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function QD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!an(t.position[n],e.position[n]))return!1;return!0}var Yr=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Z1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Qu=class{},ke=class t extends Qu{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mg(e,n,r):n==="array-contains"?new _g(e,r):n==="in"?new Ig(e,r):n==="not-in"?new wg(e,r):n==="array-contains-any"?new Eg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yg(e,r):new vg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ss(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ht=class t extends Qu{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return TT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function TT(t){return t.op==="and"}function bT(t){return X1(t)&&TT(t)}function X1(t){for(let e of t.filters)if(e instanceof Ht)return!1;return!0}function gg(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+os(t.value);if(bT(t))return t.filters.map(e=>gg(e)).join(",");{let e=t.filters.map(n=>gg(n)).join(",");return`${t.op}(${e})`}}function CT(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&an(r.value,i.value)}(t,e):t instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&CT(o,i.filters[c]),!0):!1}(t,e):void z()}function ST(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${os(n.value)}`}(t):t instanceof Ht?function(n){return n.op.toString()+" {"+n.getFilters().map(ST).join(" ,")+"}"}(t):"Filter"}var mg=class extends ke{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){let n=U.comparator(e.key,this.key);return this.matchesComparison(n)}},yg=class extends ke{constructor(e,n){super(e,"in",n),this.keys=AT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},vg=class extends ke{constructor(e,n){super(e,"not-in",n),this.keys=AT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function AT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}var _g=class extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return $m(n)&&Ko(n.arrayValue,this.value)}},Ig=class extends ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ko(this.value.arrayValue,n)}},wg=class extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ko(this.value.arrayValue,n)}},Eg=class extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!$m(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ko(this.value.arrayValue,r))}};var Dg=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function YD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Dg(t,e,n,r,i,s,o)}function Hm(t){let e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>os(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>os(r)).join(",")),e.ue=n}return e.ue}function qm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QD(t.startAt,e.startAt)&&QD(t.endAt,e.endAt)}function Tg(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Rn=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function eF(t,e,n,r,i,s,o,c){return new Rn(t,e,n,r,i,s,o,c)}function RT(t){return new Rn(t)}function JD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zm(t){return t.collectionGroup!==null}function Zi(t){let e=ue(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Xe(Ct.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yr(s,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new Yr(Ct.keyField(),r))}return e.ce}function on(t){let e=ue(t);return e.le||(e.le=tF(e,Zi(t))),e.le}function tF(t,e){if(t.limitType==="F")return YD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Yr(i.field,s)});let n=t.endAt?new sr(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sr(t.startAt.position,t.startAt.inclusive):null;return YD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bg(t,e){let n=t.filters.concat([e]);return new Rn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yu(t,e,n){return new Rn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yl(t,e){return qm(on(t),on(e))&&t.limitType===e.limitType}function xT(t){return`${Hm(on(t))}|lt:${t.limitType}`}function Wi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ST(i)).join(", ")}]`),gl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>os(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>os(i)).join(",")),`Target(${r})`}(on(t))}; limitType=${t.limitType})`}function vl(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):U.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Zi(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=KD(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,Zi(r),i)||r.endAt&&!function(o,c,u){let l=KD(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,Zi(r),i))}(t,e)}function nF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NT(t){return(e,n)=>{let r=!1;for(let i of Zi(t)){let s=rF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function rF(t,e,n){let r=t.field.isKeyField()?U.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?ss(u,l):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}var or=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return wT(this.inner)}size(){return this.innerSize}};var iF=new Me(U.comparator);function ar(){return iF}var MT=new Me(U.comparator);function Bo(...t){let e=MT;for(let n of t)e=e.insert(n.key,n);return e}function sF(t){let e=MT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zr(){return Ho()}function PT(){return Ho()}function Ho(){return new or(t=>t.toString(),(t,e)=>t.isEqual(e))}var R4=new Me(U.comparator),oF=new Xe(U.comparator);function le(...t){let e=oF;for(let n of t)e=e.add(n);return e}var aF=new Xe(ge);function cF(){return aF}function Gm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Go(e)?"-0":e}}function OT(t){return{integerValue:""+t}}function uF(t,e){return G1(e)?OT(e):Gm(t,e)}var as=class{constructor(){this._=void 0}};function lF(t,e,n){return t instanceof Qo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ml(s)&&(s=Bm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof cs?kT(t,e):t instanceof us?FT(t,e):function(i,s){let o=hF(i,s),c=ZD(o)+ZD(i.Pe);return pg(o)&&pg(i.Pe)?OT(c):Gm(i.serializer,c)}(t,e)}function dF(t,e,n){return t instanceof cs?kT(t,e):t instanceof us?FT(t,e):n}function hF(t,e){return t instanceof Yo?function(r){return pg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Qo=class extends as{},cs=class extends as{constructor(e){super(),this.elements=e}};function kT(t,e){let n=LT(e);for(let r of t.elements)n.some(i=>an(i,r))||n.push(r);return{arrayValue:{values:n}}}var us=class extends as{constructor(e){super(),this.elements=e}};function FT(t,e){let n=LT(e);for(let r of t.elements)n=n.filter(i=>!an(i,r));return{arrayValue:{values:n}}}var Yo=class extends as{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function ZD(t){return Te(t.integerValue||t.doubleValue)}function LT(t){return $m(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cs&&i instanceof cs||r instanceof us&&i instanceof us?is(r.elements,i.elements,an):r instanceof Yo&&i instanceof Yo?an(r.Pe,i.Pe):r instanceof Qo&&i instanceof Qo}(t.transform,e.transform)}var qo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $u(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Jo=class{};function VT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cg(t.key,qo.none()):new Zo(t.key,t.data,qo.none());{let n=t.data,r=bn.empty(),i=new Xe(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ls(t.key,r,new qr(i.toArray()),qo.none())}}function pF(t,e,n){t instanceof Zo?function(i,s,o){let c=i.value.clone(),u=eT(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(i,s,o){if(!$u(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=eT(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(UT(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zo(t,e,n,r){return t instanceof Zo?function(s,o,c,u){if(!$u(s.precondition,o))return c;let l=s.value.clone(),f=tT(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ls?function(s,o,c,u){if(!$u(s.precondition,o))return c;let l=tT(s.fieldTransforms,u,o),f=o.data;return f.setAll(UT(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return $u(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function XD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&is(r,i,(s,o)=>fF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Zo=class extends Jo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ls=class extends Jo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function UT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function eT(t,e,n){let r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,dF(o,c,n[i]))}return r}function tT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,lF(s,o,e))}return r}var Cg=class extends Jo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Sg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&pF(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=zo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=zo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=PT();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=VT(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,(n,r)=>XD(n,r))&&is(this.baseMutations,e.baseMutations,(n,r)=>XD(n,r))}};var Ag=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Rg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Pe,ce;function jT(t){if(t===void 0)return Sn("GRPC error has no .code"),x.UNKNOWN;switch(t){case Pe.OK:return x.OK;case Pe.CANCELLED:return x.CANCELLED;case Pe.UNKNOWN:return x.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return x.INTERNAL;case Pe.UNAVAILABLE:return x.UNAVAILABLE;case Pe.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Pe.NOT_FOUND:return x.NOT_FOUND;case Pe.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Pe.ABORTED:return x.ABORTED;case Pe.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Pe.DATA_LOSS:return x.DATA_LOSS;default:return z()}}(ce=Pe||(Pe={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var nT=null;function gF(){return new TextEncoder}var mF=new rr([4294967295,4294967295],0);function rT(t){let e=gF().encode(t),n=new qp;return n.update(e),new Uint8Array(n.digest())}function iT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new rr([n,r],0),new rr([i,s],0)]}var xg=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gr(`Invalid padding: ${n}`);if(r<0)throw new Gr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=rr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(rr.fromNumber(r)));return i.compare(mF)===1&&(i=new rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=rT(e),[r,i]=iT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let n=rT(e),[r,i]=iT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Gr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ju=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Xo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new Me(ge),ar(),le())}},Xo=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var Xi=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Zu=class{constructor(e,n){this.targetId=e,this.me=n}},Xu=class{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},el=class{constructor(){this.fe=0,this.ge=oT(),this.pe=et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new Xo(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=oT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Ng=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ar(),this.qe=sT(),this.Qe=new Me(ge)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Tg(s))if(r===0){let o=new U(s.path);this.Ue(n,o,$t.newNoDocument(o,J.min()))}else Fe(r===1);else{let o=this.Ye(n);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}nT?.et(function(f,p,y,I,A){var R,N,L,G,K,de;let be={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},Z=p.unchangedNames;return Z&&(be.bloomFilter={applied:A===0,hashCount:(R=Z?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(G=(L=(N=Z?.bits)===null||N===void 0?void 0:N.bitmap)===null||L===void 0?void 0:L.length)!==null&&G!==void 0?G:0,padding:(de=(K=Z?.bits)===null||K===void 0?void 0:K.padding)!==null&&de!==void 0?de:0,mightContain:E=>{var m;return(m=I?.mightContain(E))!==null&&m!==void 0&&m}}),be}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,c;try{o=ir(r).toUint8Array()}catch(u){if(u instanceof Gu)return rs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new xg(o,i,s)}catch(u){return rs(u instanceof Gr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&Tg(c.target)){let u=new U(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,$t.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=le();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Ju(e,n,this.Qe,this.ke,r);return this.ke=ar(),this.qe=sT(),this.Qe=new Me(ge),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new el,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xe(ge),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new el),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function sT(){return new Me(U.comparator)}function oT(){return new Me(U.comparator)}var yF={asc:"ASCENDING",desc:"DESCENDING"},vF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_F={and:"AND",or:"OR"},Mg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Pg(t,e){return t.useProto3Json||gl(e)?e:{value:e}}function Og(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function es(t){return Fe(!!t),J.fromTimestamp(function(n){let r=An(n);return new Ze(r.seconds,r.nanos)}(t))}function $T(t,e){return kg(t,e).canonicalString()}function kg(t,e){let n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HT(t){let e=Re.fromString(t);return Fe(KT(e)),e}function Zp(t,e){let n=HT(e);if(n.get(1)!==t.databaseId.projectId)throw new O(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(zT(n))}function qT(t,e){return $T(t.databaseId,e)}function IF(t){let e=HT(t);return e.length===4?Re.emptyPath():zT(e)}function aT(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zT(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wF(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(Fe(f===void 0||typeof f=="string"),et.fromBase64String(f||"")):(Fe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),et.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let f=l.code===void 0?x.UNKNOWN:jT(l.code);return new O(f,l.message||"")}(o);n=new Xu(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Zp(t,r.document.name),s=es(r.document.updateTime),o=r.document.createTime?es(r.document.createTime):J.min(),c=new bn({mapValue:{fields:r.document.fields}}),u=$t.newFoundDocument(i,s,o,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Xi(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Zp(t,r.document),s=r.readTime?es(r.readTime):J.min(),o=$t.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Xi([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Zp(t,r.document),s=r.removedTargetIds||[];n=new Xi([],s,i,null)}else{if(!("filter"in e))return z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Rg(i,s),c=r.targetId;n=new Zu(c,o)}}return n}function EF(t,e){return{documents:[qT(t,e.path)]}}function DF(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qT(t,i);let s=function(l){if(l.length!==0)return WT(Ht.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:Ki(y.field),direction:CF(y.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=Pg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function TF(t){let e=IF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fe(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){let y=GT(p);return y instanceof Ht&&bT(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(A){return new Yr(Qi(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,gl(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,I=p.values||[];return new sr(I,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,I=p.values||[];return new sr(I,y)}(n.endAt)),eF(e,i,o,s,c,"F",u,l)}function bF(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Qi(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Qi(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Qi(n.unaryFilter.field);return ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Qi(n.unaryFilter.field);return ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(Qi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ht.create(n.compositeFilter.filters.map(r=>GT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z()}function CF(t){return yF[t]}function SF(t){return vF[t]}function AF(t){return _F[t]}function Ki(t){return{fieldPath:t.canonicalString()}}function Qi(t){return Ct.fromServerFormat(t.fieldPath)}function WT(t){return t instanceof ke?function(n){if(n.op==="=="){if(WD(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NAN"}};if(GD(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WD(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NOT_NAN"}};if(GD(n.value))return{unaryFilter:{field:Ki(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ki(n.field),op:SF(n.op),value:n.value}}}(t):t instanceof Ht?function(n){let r=n.getFilters().map(i=>WT(i));return r.length===1?r[0]:{compositeFilter:{op:AF(n.op),filters:r}}}(t):z()}function KT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ea=class t{constructor(e,n,r,i,s=J.min(),o=J.min(),c=et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Fg=class{constructor(e){this.ct=e}};function RF(t){let e=TF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yu(e,e.limit,"L"):e}var tl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Te(e.integerValue));else if("doubleValue"in e){let r=Te(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Go(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=An(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ir(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?DT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):ET(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Te(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),U.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};tl.vt=new tl;var Lg=class{constructor(){this.un=new Vg}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Kr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},Vg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(Re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Re.comparator)).toArray()}};var x4=new Uint8Array(0);var rn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(41943040,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);var ta=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Ug=class{constructor(){this.changes=new or(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jg=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Bg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zo(r.mutation,i,qr.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Bo();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=ar(),o=Ho(),c=function(){return Ho()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof ls)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),zo(f.mutation,l,f.mutation.getFieldMask(),Ze.now())):o.set(l.key,qr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new jg(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Ho(),i=new Me((o,c)=>o-c),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||qr.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||le()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=PT();f.forEach(y=>{if(!s.has(y)){let I=VT(n.get(y),r.get(y));I!==null&&p.set(y,I),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return U.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zm(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(zr()),c=-1,u=s;return o.next(l=>M.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(f=>({batchId:c,changes:sF(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=Bo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Bo();return this.indexManager.getCollectionParents(e,s).next(c=>M.forEach(c,u=>{let l=function(p,y){return new Rn(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,$t.newInvalidDocument(f)))});let c=Bo();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&zo(f.mutation,l,qr.empty(),Ze.now()),vl(n,l)&&(c=c.insert(u,l))}),c})}};var $g=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:es(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:RF(i.bundledQuery),readTime:es(i.readTime)}}(n)),M.resolve()}};var Hg=class{constructor(){this.overlays=new Me(U.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=zr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=zr(),s=n.length+1,o=new U(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=zr(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return M.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ag(n,r));let s=this.Ir.get(n);s===void 0&&(s=le(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var qg=class{constructor(){this.sessionToken=et.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var na=class{constructor(){this.Tr=new Xe(Oe.Er),this.dr=new Xe(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Oe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new U(new Re([])),r=new Oe(n,e),i=new Oe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new U(new Re([])),r=new Oe(n,e),i=new Oe(n,e+1),s=le();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Oe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return U.comparator(e.key,n.key)||ge(e.wr,n.wr)}static Ar(e,n){return ge(e.wr,n.wr)||U.comparator(e.key,n.key)}};var zg=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xe(Oe.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Sg(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Oe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(ge);return n.forEach(i=>{let s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;U.isDocumentKey(s)||(s=s.child(""));let o=new Oe(new U(s),0),c=new Xe(ge);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),M.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let s=new Oe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Oe(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Gg=class{constructor(e){this.Mr=e,this.docs=function(){return new Me(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=ar();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ar(),o=n.path,c=new U(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||H1($1(f),r)<=0||(i.has(f.key)||vl(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){z()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wg(this)}getSize(e){return M.resolve(this.size)}},Wg=class extends Ug{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Kg=class{constructor(e){this.persistence=e,this.Nr=new or(n=>Hm(n),qm),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Lr=0,this.Br=new na,this.targetCount=0,this.kr=ta.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ta(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var Qg=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new IT(0),this.Kr=!1,this.Kr=!0,this.$r=new qg,this.referenceDelegate=e(this),this.Ur=new Kg(this),this.indexManager=new Lg,this.remoteDocumentCache=function(i){return new Gg(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Fg(n),this.Gr=new $g(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zg(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new Yg(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Yg=class extends dg{constructor(e){super(),this.currentSequenceNumber=e}},Jg=class t{constructor(e){this.persistence=e,this.Jr=new na,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=U.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Zg=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=le(),i=le();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Xg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var em=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return rD()?8:z1(It())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Xg;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(jo()<=ne.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Wi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(jo()<=ne.DEBUG&&F("QueryEngine","Query:",Wi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(jo()<=ne.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Wi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,on(n))):M.resolve())}Yi(e,n){if(JD(n))return M.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Yu(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=le(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,Yu(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return JD(n)||i.isEqual(J.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(jo()<=ne.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wi(n)),this.rs(e,o,n,B1(i,-1)).next(c=>c))})}ts(e,n){let r=new Xe(NT(e));return n.forEach((i,s)=>{vl(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return jo()<=ne.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Wi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Kr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var tm=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Me(ge),this._s=new or(s=>Hm(s),qm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function xF(t,e,n,r){return new tm(t,e,n,r)}function QT(t,e){return S(this,null,function*(){let n=ue(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=le();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function YT(t){let e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function NF(t,e){let n=ue(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,p)));let I=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(et.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(p,I),function(R,N,L){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(y,I,f)&&c.push(n.Ur.updateTargetData(s,I))});let u=ar(),l=le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(MF(s,o,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(J.min())){let f=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return M.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function MF(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ar();return n.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):F("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function PF(t,e){let n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ea(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function nm(t,e,n){return S(this,null,function*(){let r=ue(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ua(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function cT(t,e,n){let r=ue(t),i=J.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let p=ue(u),y=p._s.get(f);return y!==void 0?M.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,o,on(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:le())).next(c=>(OF(r,nF(e),c),{documents:c,Ts:s})))}function OF(t,e,n){let r=t.us.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var nl=class{constructor(){this.activeTargetIds=cF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rm=class{constructor(){this.so=new nl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var im=class{_o(e){}shutdown(){}};var rl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bu=null;function Xp(){return Bu===null?Bu=function(){return 268435456+Math.round(2147483648*Math.random())}():Bu++,"0x"+Bu.toString(16)}var kF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var sm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Je="WebChannelConnection",om=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=Xp(),u=this.xo(n,r.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(F("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw rs("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=kF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Xp();return new Promise((o,c)=>{let u=new zp;u.setWithCredentials(!0),u.listenOnce(Wp.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Uo.NO_ERROR:let f=u.getResponseJson();F(Je,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Uo.TIMEOUT:F(Je,`RPC '${e}' ${s} timed out`),c(new O(x.DEADLINE_EXCEEDED,"Request time out"));break;case Uo.HTTP_ERROR:let p=u.getStatus();if(F(Je,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let A=function(N){let L=N.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(L)>=0?L:x.UNKNOWN}(I.status);c(new O(A,I.message))}else c(new O(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new O(x.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{F(Je,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);F(Je,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Xp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Yp(),c=Qp(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Gp({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");F(Je,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u),y=!1,I=!1,A=new sm({Io:N=>{I?F(Je,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(y||(F(Je,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),F(Je,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),R=(N,L,G)=>{N.listen(L,K=>{try{G(K)}catch(de){setTimeout(()=>{throw de},0)}})};return R(p,Gi.EventType.OPEN,()=>{I||(F(Je,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),R(p,Gi.EventType.CLOSE,()=>{I||(I=!0,F(Je,`RPC '${e}' stream ${i} transport closed`),A.So())}),R(p,Gi.EventType.ERROR,N=>{I||(I=!0,rs(Je,`RPC '${e}' stream ${i} transport errored:`,N),A.So(new O(x.UNAVAILABLE,"The operation could not be completed")))}),R(p,Gi.EventType.MESSAGE,N=>{var L;if(!I){let G=N.data[0];Fe(!!G);let K=G,de=K.error||((L=K[0])===null||L===void 0?void 0:L.error);if(de){F(Je,`RPC '${e}' stream ${i} received error:`,de);let be=de.status,Z=function(v){let w=Pe[v];if(w!==void 0)return jT(w)}(be),E=de.message;Z===void 0&&(Z=x.INTERNAL,E="Unknown error status: "+be+" with message "+de.message),I=!0,A.So(new O(Z,E)),p.close()}else F(Je,`RPC '${e}' stream ${i} received:`,G),A.bo(G)}}),R(c,Kp.STAT_EVENT,N=>{N.stat===Uu.PROXY?F(Je,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Uu.NOPROXY&&F(Je,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function eg(){return typeof document<"u"?document:null}function _l(t){return new Mg(t,!0)}var il=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var am=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new il(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Sn(n.toString()),Sn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new O(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},cm=class extends am{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=wF(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?es(o.readTime):J.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=aT(this.serializer),n.addTarget=function(s,o){let c,u=o.target;if(c=Tg(u)?{documents:EF(s,u)}:{query:DF(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=BT(s,o.resumeToken);let l=Pg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(J.min())>0){c.readTime=Og(s,o.snapshotVersion.toTimestamp());let l=Pg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=bF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=aT(this.serializer),n.removeTarget=e,this.a_(n)}};var um=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new O(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,kg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(x.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,kg(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(x.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},lm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Sn(n),this.D_=!1):F("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var dm=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>S(this,null,function*(){ha(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=ue(u);l.L_.add(4),yield da(l),l.q_.set("Unknown"),l.L_.delete(4),yield Il(l)})}(this))}))}),this.q_=new lm(r,i)}};function Il(t){return S(this,null,function*(){if(ha(t))for(let e of t.B_)yield e(!0)})}function da(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function JT(t,e){let n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ym(n)?Qm(n):ps(n).r_()&&Km(n,e))}function Wm(t,e){let n=ue(t),r=ps(n);n.N_.delete(e),r.r_()&&ZT(n,e),n.N_.size===0&&(r.r_()?r.o_():ha(n)&&n.q_.set("Unknown"))}function Km(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ps(t).A_(e)}function ZT(t,e){t.Q_.xe(e),ps(t).R_(e)}function Qm(t){t.Q_=new Ng({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ps(t).start(),t.q_.v_()}function Ym(t){return ha(t)&&!ps(t).n_()&&t.N_.size>0}function ha(t){return ue(t).L_.size===0}function XT(t){t.Q_=void 0}function FF(t){return S(this,null,function*(){t.q_.set("Online")})}function LF(t){return S(this,null,function*(){t.N_.forEach((e,n)=>{Km(t,e)})})}function VF(t,e){return S(this,null,function*(){XT(t),Ym(t)?(t.q_.M_(e),Qm(t)):t.q_.set("Unknown")})}function UF(t,e,n){return S(this,null,function*(){if(t.q_.set("Online"),e instanceof Xu&&e.state===2&&e.cause)try{yield function(i,s){return S(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uT(t,r)}else if(e instanceof Xi?t.Q_.Ke(e):e instanceof Zu?t.Q_.He(e):t.Q_.We(e),!n.isEqual(J.min()))try{let r=yield YT(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.N_.get(l);f&&s.N_.set(l,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(et.EMPTY_BYTE_STRING,f.snapshotVersion)),ZT(s,u);let p=new ea(f.target,u,l,f.sequenceNumber);Km(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield uT(t,r)}})}function uT(t,e,n){return S(this,null,function*(){if(!ua(e))throw e;t.L_.add(1),yield da(t),t.q_.set("Offline"),n||(n=()=>YT(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Il(t)}))})}function lT(t,e){return S(this,null,function*(){let n=ue(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=ha(n);n.L_.add(3),yield da(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Il(n)})}function jF(t,e){return S(this,null,function*(){let n=ue(t);e?(n.L_.delete(2),yield Il(n)):e||(n.L_.add(2),yield da(n),n.q_.set("Unknown"))})}function ps(t){return t.K_||(t.K_=function(n,r,i){let s=ue(n);return s.w_(),new cm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:FF.bind(null,t),Ro:LF.bind(null,t),mo:VF.bind(null,t),d_:UF.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.K_.s_(),Ym(t)?Qm(t):t.q_.set("Unknown")):(yield t.K_.stop(),XT(t))}))),t.K_}var hm=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function eb(t,e){if(Sn("AsyncQueue",`${e}: ${t}`),ua(t))return new O(x.UNAVAILABLE,`${e}: ${t}`);throw t}var sl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=Bo(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ol=class{constructor(){this.W_=new Me(U.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):z():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ds=class t{constructor(e,n,r,i,s,o,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,sl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var fm=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},pm=class{constructor(){this.queries=dT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ue(n),s=i.queries;i.queries=dT(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new O(x.ABORTED,"Firestore shutting down"))}};function dT(){return new or(t=>xT(t),yl)}function BF(t,e){return S(this,null,function*(){let n=ue(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new fm,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let c=eb(o,`Initialization of query '${Wi(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Jm(n)})}function $F(t,e){return S(this,null,function*(){let n=ue(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function HF(t,e){let n=ue(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&Jm(n)}function qF(t,e,n){let r=ue(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function Jm(t){t.Y_.forEach(e=>{e.next()})}var gm,hT;(hT=gm||(gm={})).ea="default",hT.Cache="cache";var mm=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ds(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gm.Cache}};var al=class{constructor(e){this.key=e}},cl=class{constructor(e){this.key=e}},ym=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=NT(e),this.Ra=new sl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new ol,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),I=vl(this.query,p)?p:null,A=!!y&&this.mutatedKeys.has(y.key),R=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),N=!1;y&&I?y.data.isEqual(I.data)?A!==R&&(r.track({type:3,doc:I}),N=!0):this.ga(y,I)||(r.track({type:2,doc:I}),N=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(c=!0)):!y&&I?(r.track({type:0,doc:I}),N=!0):y&&!I&&(r.track({type:1,doc:y}),N=!0,(u||l)&&(c=!0)),N&&(I?(o=o.add(I),s=R?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,p)=>function(I,A){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return R(I)-R(A)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new ds(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ol,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cl(r))}),this.da.forEach(r=>{e.has(r)||n.push(new al(r))}),n}ba(e){this.Ta=e.Ts,this.da=le();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ds.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},vm=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},_m=class{constructor(e){this.key=e,this.va=!1}},Im=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new or(c=>xT(c),yl),this.Ma=new Map,this.xa=new Set,this.Oa=new Me(U.comparator),this.Na=new Map,this.La=new na,this.Ba={},this.ka=new Map,this.qa=ta.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function zF(t,e,n=!0){return S(this,null,function*(){let r=sb(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield tb(r,e,n,!0),i})}function GF(t,e){return S(this,null,function*(){let n=sb(t);yield tb(n,e,!0,!1)})}function tb(t,e,n,r){return S(this,null,function*(){let i=yield PF(t.localStore,on(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),c;return r&&(c=yield WF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&JT(t.remoteStore,i),c})}function WF(t,e,n,r,i){return S(this,null,function*(){t.Ka=(p,y,I)=>function(R,N,L,G){return S(this,null,function*(){let K=N.view.ma(L);K.ns&&(K=yield cT(R.localStore,N.query,!1).then(({documents:E})=>N.view.ma(E,K)));let de=G&&G.targetChanges.get(N.targetId),be=G&&G.targetMismatches.get(N.targetId)!=null,Z=N.view.applyChanges(K,R.isPrimaryClient,de,be);return pT(R,N.targetId,Z.wa),Z.snapshot})}(t,p,y,I);let s=yield cT(t.localStore,e,!0),o=new ym(e,s.Ts),c=o.ma(s.documents),u=Xo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(c,t.isPrimaryClient,u);pT(t,n,l.wa);let f=new vm(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function KF(t,e,n){return S(this,null,function*(){let r=ue(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!yl(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wm(r.remoteStore,i.targetId),wm(r,i.targetId)}).catch(jm))):(wm(r,i.targetId),yield nm(r.localStore,i.targetId,!0))})}function QF(t,e){return S(this,null,function*(){let n=ue(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wm(n.remoteStore,r.targetId))})}function nb(t,e){return S(this,null,function*(){let n=ue(t);try{let r=yield NF(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Fe(o.va):i.removedDocuments.size>0&&(Fe(o.va),o.va=!1))}),yield ib(n,r,e)}catch(r){yield jm(r)}})}function fT(t,e,n){let r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=ue(o);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&Jm(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function YF(t,e,n){return S(this,null,function*(){let r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Me(U.comparator);o=o.insert(s,$t.newNoDocument(s,J.min()));let c=le().add(s),u=new Ju(J.min(),new Map,new Me(ge),o,c);yield nb(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Zm(r)}else yield nm(r.localStore,e,!1).then(()=>wm(r,e,n)).catch(jm)})}function wm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||rb(t,r)})}function rb(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Wm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Zm(t))}function pT(t,e,n){for(let r of n)r instanceof al?(t.La.addReference(r.key,e),JF(t,r)):r instanceof cl?(F("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rb(t,r.key)):z()}function JF(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(F("SyncEngine","New document in limbo: "+n),t.xa.add(r),Zm(t))}function Zm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new U(Re.fromString(e)),r=t.qa.next();t.Na.set(r,new _m(n)),t.Oa=t.Oa.insert(n,r),JT(t.remoteStore,new ea(on(RT(n.path)),r,"TargetPurposeLimboResolution",IT.oe))}}function ib(t,e,n){return S(this,null,function*(){let r=ue(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Zg.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return S(this,null,function*(){let f=ue(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,y=>M.forEach(y.$i,I=>f.persistence.referenceDelegate.addReference(p,y.targetId,I)).next(()=>M.forEach(y.Ui,I=>f.persistence.referenceDelegate.removeReference(p,y.targetId,I)))))}catch(p){if(!ua(p))throw p;F("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let I=f.os.get(y),A=I.snapshotVersion,R=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(y,R)}}})}(r.localStore,s))})}function ZF(t,e){return S(this,null,function*(){let n=ue(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield QT(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new O(x.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ib(n,r.hs)}})}function XF(t,e){let n=ue(t),r=n.Na.get(e);if(r&&r.va)return le().add(r.key);{let i=le(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let c=n.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function sb(t){let e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YF.bind(null,e),e.Ca.d_=HF.bind(null,e.eventManager),e.Ca.$a=qF.bind(null,e.eventManager),e}var ul=class{constructor(){this.synchronizeTabs=!1}initialize(e){return S(this,null,function*(){this.serializer=_l(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xF(this.persistence,new em,e.initialUser,this.serializer)}createPersistence(e){return new Qg(Jg.Zr,this.serializer)}createSharedClientState(e){return new rm}terminate(){return S(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Em=class{initialize(e,n){return S(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZF.bind(null,this.syncEngine),yield jF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new pm}()}createDatastore(e){let n=_l(e.databaseInfo.databaseId),r=function(s){return new om(s)}(e.databaseInfo);return function(s,o,c,u){return new um(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new dm(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>fT(this.syncEngine,n,0),function(){return rl.D()?new rl:new im}())}createSyncEngine(e,n){return function(i,s,o,c,u,l,f){let p=new Im(i,s,o,c,u,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return S(this,null,function*(){var e,n;yield function(i){return S(this,null,function*(){let s=ue(i);F("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield da(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Dm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Sn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Tm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>S(this,null,function*(){F("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=eb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function tg(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield QT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function gT(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield tL(t);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lT(e.remoteStore,i)),t._onlineComponents=e})}function eL(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function tL(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!eL(n))throw n;rs("Error using user provided cache. Falling back to memory cache: "+n),yield tg(t,new ul)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield tg(t,new ul);return t._offlineComponents})}function nL(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield gT(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield gT(t,new Em))),t._onlineComponents})}function rL(t){return S(this,null,function*(){let e=yield nL(t),n=e.eventManager;return n.onListen=zF.bind(null,e.syncEngine),n.onUnlisten=KF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QF.bind(null,e.syncEngine),n})}function iL(t,e,n={}){let r=new Cn;return t.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(s,o,c,u,l){let f=new Dm({next:y=>{o.enqueueAndForget(()=>$F(s,p)),y.fromCache&&u.source==="server"?l.reject(new O(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new mm(c,f,{includeMetadataChanges:!0,_a:!0});return BF(s,p)}(yield rL(t),t.asyncQueue,e,n,r)})),r.promise}function ob(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var mT=new Map;function sL(t,e,n){if(!n)throw new O(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oL(t,e,n,r){if(e===!0&&r===!0)throw new O(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yT(t){if(U.isDocumentKey(t))throw new O(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function bm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=wl(t);throw new O(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function aL(t,e){if(e<=0)throw new O(x.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var ll=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ob((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new O(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new O(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new O(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ra=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ll({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new O(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ll(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ng;switch(r.type){case"firstParty":return new og(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=mT.get(n);r&&(F("ComponentProvider","Removing Datastore"),mT.delete(n),r.terminate())}(this),Promise.resolve()}};function ab(t,e,n,r={}){var i;let s=(t=bm(t,ra))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Be.MOCK_USER;else{c=ZE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new O(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Be(l)}t._authCredentials=new rg(new Hu(c,u))}}var xn=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Nn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ts=class t extends xn{constructor(e,n,r){super(e,n,RT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new U(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function cb(t,e,...n){if(t=lt(t),sL("collection","path",e),t instanceof ra){let r=Re.fromString(e,...n);return yT(r),new ts(t,null,r)}{if(!(t instanceof Nn||t instanceof ts))throw new O(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return yT(r),new ts(t.firestore,null,r)}}var Cm=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new il(this,"async_queue_retry"),this.Eu=()=>{let n=eg();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=eg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Cn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return S(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ua(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Sn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=hm.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&z()}verifyOperationInProgress(){}mu(){return S(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var dl=class extends ra{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Cm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||lb(this),this._firestoreClient.terminate()}};function ub(t,e){let n=typeof t=="object"?t:Fr(),r=typeof t=="string"?t:e||"(default)",i=Mo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Eu("firestore");s&&ab(i,...s)}return i}function cL(t){return t._firestoreClient||lb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lb(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new hg(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ob(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Tm(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ia=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(et.fromBase64String(e))}catch(n){throw new O(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var hl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fl=class{constructor(e){this._methodName=e}};var sa=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var oa=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var uL=/^__.*__$/;function db(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}var Sm=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Rm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(db(this.wu)&&uL.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Am=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_l(e)}Nu(e,n,r,i=!1){return new Sm({wu:e,methodName:n,Ou:r,path:Ct.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function hb(t){let e=t._freezeSettings(),n=_l(t._databaseId);return new Am(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fb(t,e,n,r=!1){return Xm(n,t.Nu(r?4:3,e))}function Xm(t,e){if(pb(t=lt(t)))return dL("Unsupported field value:",e,t),lL(t,e);if(t instanceof fl)return function(r,i){if(!db(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=Xm(c,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ze.fromDate(r);return{timestampValue:Og(i.serializer,s)}}if(r instanceof Ze){let s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Og(i.serializer,s)}}if(r instanceof sa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ia)return{bytesValue:BT(i.serializer,r._byteString)};if(r instanceof Nn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$T(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof oa)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return Gm(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${wl(r)}`)}(t,e)}function lL(t,e){let n={};return wT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(r,i)=>{let s=Xm(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function pb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof sa||t instanceof ia||t instanceof Nn||t instanceof fl||t instanceof oa)}function dL(t,e,n){if(!pb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=wl(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}var hL=new RegExp("[~\\*/\\[\\]]");function fL(t,e,n){if(e.search(hL)>=0)throw Rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hl(...e.split("."))._internalPath}catch{throw Rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rm(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new O(x.INVALID_ARGUMENT,c+t+u)}var aa=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new xm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(El("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},xm=class extends aa{data(){return super.data()}};function El(t,e){return typeof e=="string"?fL(t,e):e instanceof hl?e._internalPath:e._delegate._internalPath}function pL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ca=class{},hs=class extends ca{};function gb(t,e,...n){let r=[];e instanceof ca&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof Nm).length,c=s.filter(u=>u instanceof pl).length;if(o>1||o>0&&c>0)throw new O(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var pl=class t extends hs{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Ib(e._query,n),new xn(e.firestore,e.converter,bg(e._query,n))}_parse(e){let n=hb(e.firestore);return function(s,o,c,u,l,f,p){let y;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new O(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){_T(p,f);let I=[];for(let A of p)I.push(vT(u,s,A));y={arrayValue:{values:I}}}else y=vT(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||_T(p,f),y=fb(c,o,p,f==="in"||f==="not-in");return ke.create(l,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function mb(t,e,n){let r=e,i=El("where",t);return pl._create(i,r,n)}var Nm=class t extends ca{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ht.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,c=s.getFlattenedFilters();for(let u of c)Ib(o,u),o=bg(o,u)}(e._query,n),new xn(e.firestore,e.converter,bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Mm=class t extends hs{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new O(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yr(s,o)}(e._query,this._field,this._direction);return new xn(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Rn(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function yb(t,e="asc"){let n=e,r=El("orderBy",t);return Mm._create(r,n)}var Pm=class t extends hs{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new xn(e.firestore,e.converter,Yu(e._query,this._limit,this._limitType))}};function vb(t){return aL("limit",t),Pm._create("limit",t,"F")}var Om=class t extends hs{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=gL(e,this.type,this._docOrFields,this._inclusive);return new xn(e.firestore,e.converter,function(i,s){return new Rn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}};function _b(...t){return Om._create("startAfter",t,!1)}function gL(t,e,n,r){if(n[0]=lt(n[0]),n[0]instanceof aa)return function(s,o,c,u,l){if(!u)throw new O(x.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let f=[];for(let p of Zi(s))if(p.field.isKeyField())f.push(Ku(o,u.key));else{let y=u.data.field(p.field);if(ml(y))throw new O(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){let I=p.field.canonicalString();throw new O(x.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}f.push(y)}return new sr(f,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=hb(t.firestore);return function(o,c,u,l,f,p){let y=o.explicitOrderBy;if(f.length>y.length)throw new O(x.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let I=[];for(let A=0;A<f.length;A++){let R=f[A];if(y[A].field.isKeyField()){if(typeof R!="string")throw new O(x.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof R}`);if(!zm(o)&&R.indexOf("/")!==-1)throw new O(x.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${R}' contains a slash.`);let N=o.path.child(Re.fromString(R));if(!U.isDocumentKey(N))throw new O(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${N}' is not because it contains an odd number of segments.`);let L=new U(N);I.push(Ku(c,L))}else{let N=fb(u,l,R);I.push(N)}}return new sr(I,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function vT(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zm(e)&&n.indexOf("/")!==-1)throw new O(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Re.fromString(n));if(!U.isDocumentKey(r))throw new O(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ku(t,new U(r))}if(n instanceof Nn)return Ku(t,n._key);throw new O(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wl(n)}.`)}function _T(t,e){if(!Array.isArray(t)||t.length===0)throw new O(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ib(t,e){let n=function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new O(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var km=class{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return la(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Te(o.doubleValue));return new oa(s)}convertGeoPoint(e){return new sa(Te(e.latitude),Te(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Bm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wo(e));default:return null}}convertTimestamp(e){let n=An(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Re.fromString(e);Fe(KT(r));let i=new Wu(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(n)||Sn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var Ji=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fm=class extends aa{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ns(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(El("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ns=class extends Fm{data(e={}){return super.data(e)}},Lm=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ji(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ns(this._firestore,this._userDataWriter,r.key,r,new Ji(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new ns(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ji(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new ns(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ji(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:mL(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function mL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}var Vm=class extends km{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}};function wb(t){t=bm(t,xn);let e=bm(t.firestore,dl),n=cL(e),r=new Vm(e);return pL(t._query),iL(n,t._query).then(i=>new Lm(e,r,t,i))}(function(e,n=!0){(function(i){fs=i})(Hi),nn(new dt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new dl(new ig(r.getProvider("auth-internal")),new cg(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ce($D,"4.7.2",e),Ce($D,"4.7.2","esm2017")})();var Jr=class{constructor(e){return e}},Eb="firestore",ey=class{constructor(){return Ur(Eb)}};var ty=new Q("angularfire2.firestore-instances");function yL(t,e){let n=Po(Eb,t,e);return n&&new Jr(n)}function vL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Jr(r)}}var _L={provide:ey,deps:[[new Ye,ty]]},IL={provide:Jr,useFactory:yL,deps:[[new Ye,ty],Dn]};function Db(t,...e){return Ce("angularfire",tr.full,"fst"),Kt([IL,_L,{provide:ty,useFactory:vL(t),multi:!0,deps:[ve,Vt,jr,Br,[new Ye,zi],[new Ye,Vr],...e]}])}var Tb=ht(cb,!0);var bb=ht(wb,!0);var Cb=ht(ub,!0);var Sb=ht(vb,!0);var Ab=ht(yb,!0);var Dl=ht(gb,!0);var Rb=ht(_b,!0);var ny=ht(mb,!0);var xb=(()=>{let e=class e{constructor(){this.firestore=k(Jr)}getDesigns(r,i=null,s=""){return S(this,null,function*(){let o=Dl(Tb(this.firestore,"designs"),Ab("createdAt","desc"),Sb(r));s&&(o=Dl(o,ny("name",">=",s),ny("name","<=",s+"\uF8FF"))),i&&(o=Dl(o,Rb(i)));let c=yield bb(o),u=[],l=null;return c.forEach(f=>{u.push(V({id:f.id},f.data()))}),l=c.docs[c.docs.length-1],{designs:u,lastDoc:l}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wL(t,e){if(t&1&&(ef(0),Ee(1),tf()),t&2){let n=nf(2);Ut(),Zt(n.onContentRendered())}}function EL(t,e){if(t&1&&(q(0,"cw-home-card",4),Kc(1,wL,2,1,"ng-container",5),ee()),t&2){let n=e.$implicit,r=e.last,i=nf();Sr("design",n),Ut(),Sr("ngIf",r&&!i.contentRendered)}}var Nb=(()=>{let e=class e{constructor(){this.contentRendered=!1,this.designs=[],this.changeDetector=k(Rr),this.designService=k(xb)}ngOnInit(){return S(this,null,function*(){yield this.loadDesigns()})}loadDesigns(r=""){return S(this,null,function*(){let{designs:i,lastDoc:s}=yield this.designService.getDesigns(100);this.designs=i})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(r,i){return i.id}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ct({type:e,selectors:[["cw-home"]],standalone:!0,features:[ut],decls:5,vars:2,consts:[[1,"wrapper"],[1,"title"],[1,"grid"],[3,"design",4,"ngFor","ngForOf","ngForTrackBy"],[3,"design"],[4,"ngIf"]],template:function(i,s){i&1&&(q(0,"div",0)(1,"h1",1),Ee(2,"NA\u0160I PROIZVODI"),ee(),q(3,"div",2),Kc(4,EL,2,2,"cw-home-card",3),ee()()),i&2&&(Ut(4),Sr("ngForOf",s.designs)("ngForTrackBy",s.identify))},dependencies:[GE,ao,Yw,Jw],styles:[".wrapper[_ngcontent-%COMP%]{max-width:min(90rem,90%);margin-inline:auto;box-sizing:border-box;margin-bottom:2rem}.title[_ngcontent-%COMP%]{text-align:center;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin-inline:auto}.grid[_ngcontent-%COMP%]{--grid-layout-gap: 1rem;--grid-column-count: 3;--grid-item--min-width: 15rem;--gap-count: calc(var(--grid-column-count) - 1);--total-gap-width: calc(var(--gap-count) * var(--grid-layout-gap));--grid-item--max-width: calc( (100% - var(--total-gap-width)) / var(--grid-column-count) );display:grid;width:100%;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(max(var(--grid-item--min-width),var(--grid-item--max-width)),1fr));justify-content:center}.visible[_ngcontent-%COMP%]{display:grid}"]});let t=e;return t})();var Mb=[{path:"",component:Nb}];var kb="functions";var ry=class{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){return S(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return S(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return S(this,null,function*(){if(this.appCheck){let n=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(e){return S(this,null,function*(){let n=yield this.getAuthToken(),r=yield this.getMessagingToken(),i=yield this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}})}};var iy="us-central1";var sy=class{constructor(e,n,r,i,s=iy,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new ry(n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{let c=new URL(s);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=iy}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function DL(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}var Pb="@firebase/functions",Ob="0.11.8";var TL="auth-internal",bL="app-check-internal",CL="messaging-internal";function SL(t,e){let n=(r,{instanceIdentifier:i})=>{let s=r.getProvider("app").getImmediate(),o=r.getProvider(TL),c=r.getProvider(CL),u=r.getProvider(bL);return new sy(s,o,c,u,i,t)};nn(new dt(kb,n,"PUBLIC").setMultipleInstances(!0)),Ce(Pb,Ob,e),Ce(Pb,Ob,"esm2017")}function Fb(t=Fr(),e=iy){let r=Mo(lt(t),kb).getImmediate({identifier:e}),i=Eu("functions");return i&&Lb(r,...i),r}function Lb(t,e,n){DL(lt(t),e,n)}SL(fetch.bind(self));var fa=class{constructor(e){return e}},Vb="functions",oy=class{constructor(){return Ur(Vb)}};var ay=new Q("angularfire2.functions-instances");function AL(t,e){let n=Po(Vb,t,e);return n&&new fa(n)}function RL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fa(r)}}var xL={provide:oy,deps:[[new Ye,ay]]},NL={provide:fa,useFactory:AL,deps:[[new Ye,ay],Dn]};function Ub(t,...e){return Ce("angularfire",tr.full,"fn"),Kt([NL,xL,{provide:ay,useFactory:RL(t),multi:!0,deps:[ve,Vt,jr,Br,[new Ye,zi],[new Ye,Vr],...e]}])}var jb=ht(Fb,!0);var Bb={providers:[qE(Mb),ID(()=>wD({projectId:"currentwave-563b3",appId:"1:214702271750:web:4bf5a93092d8b0757c8287",storageBucket:"currentwave-563b3.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyATMkQlyO2nL_yKV3uwz-OuY_IAMZtX_-A",authDomain:"currentwave-563b3.firebaseapp.com",messagingSenderId:"214702271750",measurementId:"G-12H1ZL3EYH"})),Db(()=>Cb()),Ub(()=>jb())]};var $b=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ct({type:e,selectors:[["cw-navbar"]],standalone:!0,features:[ut],decls:23,vars:0,consts:[[1,"container"],[1,"white-bar"],[1,"logo"],["src","assets/current-wave-gradient.svg"],[1,"title"],[1,"cart"],[1,"cart-button"],[1,"fas","fa-shopping-cart","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button"],[1,"fas","fa-bars","cart-icon"],[1,"logo-hamburger"],[1,"content"],["src","assets/current-wave-white.svg",1,"logo-secondary"],[1,"slogan"],[1,"left-image-wrapper"],["src","assets/apparel/kendrick.png","alt","Kendrick",1,"left-image"],[1,"right-image-wrapper"],["src","assets/apparel/kendrick.png","alt","Kendrick",1,"right-image"]],template:function(i,s){i&1&&(q(0,"div",0)(1,"div",1)(2,"div",2),we(3,"img",3),ee(),q(4,"div",4),Ee(5,"CURRENT WAVE"),ee(),q(6,"div",5)(7,"div",6),we(8,"i",7),ee()()(),q(9,"div",8)(10,"div",9),we(11,"i",10),ee(),q(12,"div",11),we(13,"img",3),ee(),we(14,"div"),ee(),q(15,"div",12),we(16,"img",13),q(17,"div",14),Ee(18," Clothing brand \u010Diji je glavni cilj kreiranje sve\u017Eih i autenti\u010Dnih dizajnova rap i anime odece. "),ee()(),q(19,"div",15),we(20,"img",16),ee(),q(21,"div",17),we(22,"img",18),ee()())},styles:['.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;min-height:25rem;background:var(--gradient-secondary);justify-content:center;overflow:hidden}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:75%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative;z-index:1;flex-wrap:wrap;width:100%}.logo-secondary[_ngcontent-%COMP%]{max-width:22rem;max-height:22rem;color:var(--white-primary);display:block}.slogan[_ngcontent-%COMP%]{font-size:var(--fs-600);max-width:30rem;padding:1.5rem;font-family:ASAP Bold,sans-serif;color:var(--white-primary);-webkit-user-select:none;user-select:none;cursor:default}.left-image-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:left;position:absolute;z-index:0;top:-10rem;left:-20rem}.right-image-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:left;position:absolute;z-index:0;top:-2rem;right:-15rem}.left-image[_ngcontent-%COMP%]{width:60rem;height:60rem;transform:rotate(-15deg)}.right-image[_ngcontent-%COMP%]{width:60rem;height:60rem;transform:rotate(25deg)}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background-color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.hamburger-button[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}@media screen and (max-width: 800px){.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}}']});let t=e;return t})();var Hb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ct({type:e,selectors:[["cw-footer"]],standalone:!0,features:[ut],decls:42,vars:0,consts:[[1,"grid"],[1,"column","newsletter"],[1,"email"],["placeholder","Email address","type","email"],[1,"submit-btn"],[1,"column","socials"],[1,"icon","fa-brands","fa-instagram"],["href","https://www.instagram.com/nosicurrentwave/"],[1,"icon","fa-brands","fa-tiktok"],[1,"icon","fa-brands","fa-facebook"],[1,"column","about"],[1,"icon","fa-solid","fa-envelope"],[1,"icon","fa-solid","fa-phone"],[1,"icon","fa-solid","fa-circle-info"],["href","#"]],template:function(i,s){i&1&&(q(0,"div",0)(1,"div",1)(2,"h2"),Ee(3,"Newsletter"),ee(),q(4,"p"),Ee(5," Want to know what we're up to? Sign up for the newsletter to recieve updates. "),ee(),q(6,"div",2),we(7,"input",3),q(8,"button",4),Ee(9,"Subscribe"),ee()()(),q(10,"div",5)(11,"h2"),Ee(12,"Socials"),ee(),q(13,"ul")(14,"li"),we(15,"i",6),q(16,"a",7),Ee(17,"Instagram"),ee()(),q(18,"li"),we(19,"i",8),q(20,"a",7),Ee(21,"TikTok"),ee()(),q(22,"li"),we(23,"i",9),q(24,"a",7),Ee(25,"Facebook"),ee()()()(),q(26,"div",10)(27,"h2"),Ee(28,"Info"),ee(),q(29,"ul")(30,"li"),we(31,"i",11),q(32,"span"),Ee(33,"currentwavewear@gmail.com "),ee()(),q(34,"li"),we(35,"i",12),q(36,"span"),Ee(37,"+38169758176"),ee()(),q(38,"li"),we(39,"i",13),q(40,"a",14),Ee(41,"About Us"),ee()()()()())},styles:["[_nghost-%COMP%]{width:100%;background:var(--gradient-secondary);display:block}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;color:var(--white-primary);padding-block:6rem;box-sizing:border-box;justify-items:center;gap:4rem;margin-inline:auto}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center}.newsletter[_ngcontent-%COMP%]{align-items:center}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-width:max-content}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.icon[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;justify-content:center;align-items:center}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;color:var(--white-primary)}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--clr-offwhite)}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:var(--ff-secondary);font-size:var(--fs-400)}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0}p[_ngcontent-%COMP%]{max-width:40ch;line-height:1.25}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1rem}.email[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1rem}.email[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.1rem;padding:.5rem;border:2px solid var(--white-primary);outline:none;margin-left:auto}.submit-btn[_ngcontent-%COMP%]{border:2px solid var(--white-primary);outline:none;border-left:none;flex-grow:.3;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;margin-right:auto}.submit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9e9e9e}@media screen and (min-width: 800px){.grid[_ngcontent-%COMP%]{width:clamp(48rem,60%,64rem);grid-template-columns:repeat(4,1fr);gap:2rem}.newsletter[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:3}.submit-btn[_ngcontent-%COMP%]{flex-grow:.3;margin-right:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:.7;margin-left:0}}"]});let t=e;return t})();var qb=(()=>{let e=class e{constructor(){this.title="current-wave"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ct({type:e,selectors:[["app-root"]],standalone:!0,features:[ut],decls:3,vars:0,template:function(i,s){i&1&&we(0,"cw-navbar")(1,"router-outlet")(2,"cw-footer")},dependencies:[Xf,$b,Hb]});let t=e;return t})();cE(qb,Bb).catch(t=>console.error(t));
