var nC=Object.defineProperty,rC=Object.defineProperties;var iC=Object.getOwnPropertyDescriptors;var bv=Object.getOwnPropertySymbols;var oC=Object.prototype.hasOwnProperty,sC=Object.prototype.propertyIsEnumerable;var Tv=(t,e,n)=>e in t?nC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})oC.call(e,n)&&Tv(t,n,e[n]);if(bv)for(var n of bv(e))sC.call(e,n)&&Tv(t,n,e[n]);return t},Ne=(t,e)=>rC(t,iC(e));var C=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});var Cv=null;var md=1,Sv=Symbol("SIGNAL");function me(t){let e=Cv;return Cv=t,e}var Av={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function aC(t){if(!(_d(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===md)){if(!t.producerMustRecompute(t)&&!yd(t)){t.dirty=!1,t.lastCleanEpoch=md;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=md}}function Rv(t){return t&&(t.nextProducerIndex=0),me(t)}function xv(t,e){if(me(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(_d(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)vd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function yd(t){Ga(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(aC(n),r!==n.version))return!0}return!1}function Mv(t){if(Ga(t),_d(t))for(let e=0;e<t.producerNode.length;e++)vd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vd(t,e){if(cC(t),Ga(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)vd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ga(i),i.producerIndexOfThis[r]=e}}function _d(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ga(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function cC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function uC(){throw new Error}var lC=uC;function Nv(t){lC=t}function W(t){return typeof t=="function"}function di(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wa=di(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function _r(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(o){e=o instanceof Wa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Pv(o)}catch(s){e=e??[],s instanceof Wa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Wa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Pv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&_r(n,e)}remove(e){let{_finalizers:n}=this;n&&_r(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var wd=Pe.EMPTY;function Ka(t){return t instanceof Pe||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function Pv(t){W(t)?t():t.unsubscribe()}var Lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hi={setTimeout(t,e,...n){let{delegate:r}=hi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=hi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qa(t){hi.setTimeout(()=>{let{onUnhandledError:e}=Lt;if(e)e(t);else throw t})}function zo(){}var Ov=Id("C",void 0,void 0);function kv(t){return Id("E",void 0,t)}function Fv(t){return Id("N",t,void 0)}function Id(t,e,n){return{kind:t,value:e,error:n}}var wr=null;function fi(t){if(Lt.useDeprecatedSynchronousErrorHandling){let e=!wr;if(e&&(wr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=wr;if(wr=null,n)throw r}}else t()}function Lv(t){Lt.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=t)}var Ir=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ka(e)&&e.add(this)):this.destination=fC}static create(e,n,r){return new pi(e,n,r)}next(e){this.isStopped?Dd(Fv(e),this):this._next(e)}error(e){this.isStopped?Dd(kv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dd(Ov,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dC=Function.prototype.bind;function Ed(t,e){return dC.call(t,e)}var bd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ya(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ya(r)}else Ya(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ya(n)}}},pi=class extends Ir{constructor(e,n,r){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Lt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ed(e.next,o),error:e.error&&Ed(e.error,o),complete:e.complete&&Ed(e.complete,o)}):i=e}this.destination=new bd(i)}};function Ya(t){Lt.useDeprecatedSynchronousErrorHandling?Lv(t):Qa(t)}function hC(t){throw t}function Dd(t,e){let{onStoppedNotification:n}=Lt;n&&hi.setTimeout(()=>n(t,e))}var fC={closed:!0,next:zo,error:hC,complete:zo};var gi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mt(t){return t}function Td(...t){return Cd(t)}function Cd(t){return t.length===0?mt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ge=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=gC(n)?n:new pi(n,r,i);return fi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Vv(r),new r((i,o)=>{let s=new pi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[gi](){return this}pipe(...n){return Cd(n)(this)}toPromise(n){return n=Vv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Vv(t){var e;return(e=t??Lt.Promise)!==null&&e!==void 0?e:Promise}function pC(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function gC(t){return t&&t instanceof Ir||pC(t)&&Ka(t)}function Sd(t){return W(t?.lift)}function ce(t){return e=>{if(Sd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new Ad(t,e,n,r,i)}var Ad=class extends Ir{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function mi(){return ce((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var yi=class extends ge{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return mi()(this)}};var Uv=di(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ct=(()=>{class t extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ja(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Uv}next(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?wd:(this.currentObservers=null,o.push(n),new Pe(()=>{this.currentObservers=null,_r(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ge;return n.source=this,n}}return t.create=(e,n)=>new Ja(e,n),t})(),Ja=class extends ct{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:wd}};var Ke=class extends ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Rd={now(){return(Rd.delegate||Date).now()},delegate:void 0};var Za=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Go={setInterval(t,e,...n){let{delegate:r}=Go;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Go;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var vi=class extends Za{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Go.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Go.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,_r(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var _i=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};_i.now=Rd.now;var wi=class extends _i{constructor(e,n=_i.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var xd=new wi(vi);var Xa=class extends vi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ec=class extends wi{};var Md=new ec(Xa);var yt=new ge(t=>t.complete());function jv(t){return t&&W(t.schedule)}function Bv(t){return t[t.length-1]}function $v(t){return W(Bv(t))?t.pop():void 0}function Bn(t){return jv(Bv(t))?t.pop():void 0}function Nd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qv(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function Hv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Er(t){return this instanceof Er?(this.v=t,this):new Er(t)}function zv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(A){return Promise.resolve(A).then(w,p)}}function c(w,A){r[w]&&(i[w]=function(R){return new Promise(function(M,V){o.push([w,R,M,V])>1||u(w,R)})},A&&(i[w]=A(i[w])))}function u(w,A){try{l(r[w](A))}catch(R){y(o[0][3],R)}}function l(w){w.value instanceof Er?Promise.resolve(w.value.v).then(f,p):y(o[0][2],w)}function f(w){u("next",w)}function p(w){u("throw",w)}function y(w,A){w(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Gv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Hv=="function"?Hv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var tc=t=>t&&typeof t.length=="number"&&typeof t!="function";function nc(t){return W(t?.then)}function rc(t){return W(t[gi])}function ic(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function oc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sc=mC();function ac(t){return W(t?.[sc])}function cc(t){return zv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Er(n.read());if(i)return yield Er(void 0);yield yield Er(r)}}finally{n.releaseLock()}})}function uc(t){return W(t?.getReader)}function $e(t){if(t instanceof ge)return t;if(t!=null){if(rc(t))return yC(t);if(tc(t))return vC(t);if(nc(t))return _C(t);if(ic(t))return Wv(t);if(ac(t))return wC(t);if(uc(t))return IC(t)}throw oc(t)}function yC(t){return new ge(e=>{let n=t[gi]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vC(t){return new ge(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _C(t){return new ge(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qa)})}function wC(t){return new ge(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Wv(t){return new ge(e=>{EC(t,e).catch(n=>e.error(n))})}function IC(t){return Wv(cc(t))}function EC(t,e){var n,r,i,o;return qv(this,void 0,void 0,function*(){try{for(n=Gv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function lt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function $n(t,e=0){return ce((n,r)=>{n.subscribe(ue(r,i=>lt(r,t,()=>r.next(i),e),()=>lt(r,t,()=>r.complete(),e),i=>lt(r,t,()=>r.error(i),e)))})}function Hn(t,e=0){return ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Kv(t,e){return $e(t).pipe(Hn(e),$n(e))}function Qv(t,e){return $e(t).pipe(Hn(e),$n(e))}function Yv(t,e){return new ge(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Jv(t,e){return new ge(n=>{let r;return lt(n,e,()=>{r=t[sc](),lt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function lc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ge(n=>{lt(n,e,()=>{let r=t[Symbol.asyncIterator]();lt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Zv(t,e){return lc(cc(t),e)}function Xv(t,e){if(t!=null){if(rc(t))return Kv(t,e);if(tc(t))return Yv(t,e);if(nc(t))return Qv(t,e);if(ic(t))return lc(t,e);if(ac(t))return Jv(t,e);if(uc(t))return Zv(t,e)}throw oc(t)}function Ue(t,e){return e?Xv(t,e):$e(t)}function Y(...t){let e=Bn(t);return Ue(t,e)}function Ii(t,e){let n=W(t)?t:()=>t,r=i=>i.error(n());return new ge(e?i=>e.schedule(r,0,i):r)}function Pd(t){return!!t&&(t instanceof ge||W(t.lift)&&W(t.subscribe))}var wn=di(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return ce((n,r)=>{let i=0;n.subscribe(ue(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:DC}=Array;function bC(t,e){return DC(e)?t(...e):t(e)}function e_(t){return le(e=>bC(t,e))}var{isArray:TC}=Array,{getPrototypeOf:CC,prototype:SC,keys:AC}=Object;function t_(t){if(t.length===1){let e=t[0];if(TC(e))return{args:e,keys:null};if(RC(e)){let n=AC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function RC(t){return t&&typeof t=="object"&&CC(t)===SC}function n_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function dc(...t){let e=Bn(t),n=$v(t),{args:r,keys:i}=t_(t);if(r.length===0)return Ue([],e);let o=new ge(xC(r,e,i?s=>n_(i,s):mt));return n?o.pipe(e_(n)):o}function xC(t,e,n=mt){return r=>{r_(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)r_(e,()=>{let l=Ue(t[u],e),f=!1;l.subscribe(ue(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function r_(t,e,n){t?lt(n,t,e):e()}function i_(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},w=R=>l<r?A(R):u.push(R),A=R=>{o&&e.next(R),l++;let M=!1;$e(n(R,f++)).subscribe(ue(e,V=>{i?.(V),o?w(V):e.next(V)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let V=u.shift();s?lt(e,s,()=>A(V)):A(V)}y()}catch(V){e.error(V)}}))};return t.subscribe(ue(e,w,()=>{p=!0,y()})),()=>{c?.()}}function je(t,e,n=1/0){return W(e)?je((r,i)=>le((o,s)=>e(r,o,i,s))($e(t(r,i))),n):(typeof e=="number"&&(n=e),ce((r,i)=>i_(r,i,t,n)))}function Od(t=1/0){return je(mt,t)}function o_(){return Od(1)}function Ei(...t){return o_()(Ue(t,Bn(t)))}function hc(t){return new ge(e=>{$e(t()).subscribe(e)})}function Vt(t,e){return ce((n,r)=>{let i=0;n.subscribe(ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function qn(t){return ce((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ue(n,void 0,void 0,s=>{o=$e(t(s,qn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function s_(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(ue(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Di(t,e){return W(e)?je(t,e,1):je(t,1)}function zn(t){return ce((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function In(t){return t<=0?()=>yt:ce((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kd(t){return le(()=>t)}function fc(t=MC){return ce((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function MC(){return new wn}function Wo(t){return ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Xt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,o)=>t(i,o,r)):mt,In(1),n?zn(e):fc(()=>new wn))}function bi(t){return t<=0?()=>yt:ce((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Fd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,o)=>t(i,o,r)):mt,bi(1),n?zn(e):fc(()=>new wn))}function Ld(t,e){return ce(s_(t,e,arguments.length>=2,!0))}function Vd(...t){let e=Bn(t);return ce((n,r)=>{(e?Ei(t,n,e):Ei(t,n)).subscribe(r)})}function Ut(t,e){return ce((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,f=o++;$e(t(u,f)).subscribe(i=ue(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Ud(t){return ce((e,n)=>{$e(t).subscribe(ue(n,()=>n.complete(),zo)),!n.closed&&e.subscribe(n)})}function Be(t,e,n){let r=W(t)||e||n?{next:t,error:e,complete:n}:t;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mt}var $_="https://g.co/ng/security#xss",H=class extends Error{constructor(e,n){super(Uh(e,n)),this.code=e}};function Uh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function us(t){return{toString:t}.toString()}var pc="__parameters__";function NC(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function H_(t,e,n){return us(()=>{let r=NC(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(pc)?u[pc]:Object.defineProperty(u,pc,{value:[]})[pc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var En=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function eh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var PC=Ee({__forward_ref__:Ee});function q_(t){return t.__forward_ref__=q_,t.toString=function(){return ht(this())},t}function St(t){return z_(t)?t():t}function z_(t){return typeof t=="function"&&t.hasOwnProperty(PC)&&t.__forward_ref__===q_}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bc(t){return{providers:t.providers||[],imports:t.imports||[]}}function $c(t){return a_(t,W_)||a_(t,K_)}function G_(t){return $c(t)!==null}function a_(t,e){return t.hasOwnProperty(e)?t[e]:null}function OC(t){let e=t&&(t[W_]||t[K_]);return e||null}function c_(t){return t&&(t.hasOwnProperty(u_)||t.hasOwnProperty(kC))?t[u_]:null}var W_=Ee({\u0275prov:Ee}),u_=Ee({\u0275inj:Ee}),K_=Ee({ngInjectableDef:Ee}),kC=Ee({ngInjectorDef:Ee}),Z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Q_(t){return t&&!!t.\u0275providers}var FC=Ee({\u0275cmp:Ee}),LC=Ee({\u0275dir:Ee}),VC=Ee({\u0275pipe:Ee}),UC=Ee({\u0275mod:Ee}),Ic=Ee({\u0275fac:Ee}),Ko=Ee({__NG_ELEMENT_ID__:Ee}),l_=Ee({__NG_ENV_ID__:Ee});function Qo(t){return typeof t=="string"?t:t==null?"":String(t)}function jC(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Qo(t)}function BC(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,t)}function jh(t,e){throw new H(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),th;function Y_(){return th}function dt(t){let e=th;return th=t,e}function J_(t,e,n){let r=$c(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;jh(t,"Injector")}var $C={},Yo=$C,nh="__NG_DI_FLAG__",Ec="ngTempTokenPath",HC="ngTokenPath",qC=/\n/gm,zC="\u0275",d_="__source",Ai;function GC(){return Ai}function Gn(t){let e=Ai;return Ai=t,e}function WC(t,e=re.Default){if(Ai===void 0)throw new H(-203,!1);return Ai===null?J_(t,void 0,e):Ai.get(t,e&re.Optional?null:void 0,e)}function ie(t,e=re.Default){return(Y_()||WC)(St(t),e)}function O(t,e=re.Default){return ie(t,Hc(e))}function Hc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rh(t){let e=[];for(let n=0;n<t.length;n++){let r=St(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=re.Default;for(let s=0;s<r.length;s++){let c=r[s],u=KC(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(ie(i,o))}else e.push(ie(r))}return e}function Z_(t,e){return t[nh]=e,t.prototype[nh]=e,t}function KC(t){return t[nh]}function QC(t,e,n,r){let i=t[Ec];throw e[d_]&&i.unshift(e[d_]),t.message=YC(`
`+t.message,i,n,r),t[HC]=i,t[Ec]=null,t}function YC(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==zC?t.slice(2):t;let i=ht(e);if(Array.isArray(e))i=e.map(ht).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):ht(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(qC,`
  `)}`}var tt=Z_(H_("Optional"),8);var X_=Z_(H_("SkipSelf"),4);function Cr(t,e){let n=t.hasOwnProperty(Ic);return n?t[Ic]:null}function Bh(t,e){t.forEach(n=>Array.isArray(n)?Bh(n,e):e(n))}function ew(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Dc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function JC(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function $h(t,e,n){let r=ls(t,e);return r>=0?t[r|1]=n:(r=~r,JC(t,r,e,n)),r}function jd(t,e){let n=ls(t,e);if(n>=0)return t[n|1]}function ls(t,e){return ZC(t,e,1)}function ZC(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Jo={},vt=[],xi=new Z(""),tw=new Z("",-1),nw=new Z(""),bc=class{get(e,n=Yo){if(n===Yo){let r=new Error(`NullInjectorError: No provider for ${ht(e)}!`);throw r.name="NullInjectorError",r}return n}},rw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(rw||{}),nn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(nn||{}),Dn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Dn||{});function XC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ih(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];tS(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function eS(t){return t===3||t===4||t===6}function tS(t){return t.charCodeAt(0)===64}function Hh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?h_(t,n,i,null,e[++r]):h_(t,n,i,null,null))}}return t}function h_(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var iw="ng-template";function nS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&XC(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(qh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function qh(t){return t.type===4&&t.value!==iw}function rS(t,e,n){let r=t.type===4&&!n?iw:t.value;return e===r}function iS(t,e,n){let r=4,i=t.attrs,o=i!==null?aS(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!jt(r)&&!jt(u))return!1;if(s&&jt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!rS(t,u,n)||u===""&&e.length===1){if(jt(r))return!1;s=!0}}else if(r&8){if(i===null||!nS(t,i,u,n)){if(jt(r))return!1;s=!0}}else{let l=e[++c],f=oS(u,i,qh(t),n);if(f===-1){if(jt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(jt(r))return!1;s=!0}}}}return jt(r)||s}function jt(t){return(t&1)===0}function oS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return cS(e,t)}function sS(t,e,n=!1){for(let r=0;r<e.length;r++)if(iS(t,e[r],n))return!0;return!1}function aS(t){for(let e=0;e<t.length;e++){let n=t[e];if(eS(n))return e}return t.length}function cS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function f_(t,e){return t?":not("+e.trim()+")":e}function uS(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jt(s)&&(e+=f_(o,i),i=""),r=s,o=o||!jt(r);n++}return i!==""&&(e+=f_(o,i)),e}function lS(t){return t.map(uS).join(",")}function dS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!jt(i))break;i=o}r++}return{attrs:e,classes:n}}function qe(t){return us(()=>{let e=lw(t),n=Ne(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===rw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||nn.Emulated,styles:t.styles||vt,_:null,schemas:t.schemas||null,tView:null,id:""});dw(n);let r=t.dependencies;return n.directiveDefs=g_(r,!1),n.pipeDefs=g_(r,!0),n.id=pS(n),n})}function hS(t){return Sr(t)||sw(t)}function fS(t){return t!==null}function qc(t){return us(()=>({type:t.type,bootstrap:t.bootstrap||vt,declarations:t.declarations||vt,imports:t.imports||vt,exports:t.exports||vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function p_(t,e){if(t==null)return Jo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=Dn.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==Dn.None?[r,c]:r,e[o]=s):n[o]=r}return n}function Fi(t){return us(()=>{let e=lw(t);return dw(e),e})}function ow(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Sr(t){return t[FC]||null}function sw(t){return t[LC]||null}function aw(t){return t[VC]||null}function cw(t){let e=Sr(t)||sw(t)||aw(t);return e!==null?e.standalone:!1}function uw(t,e){let n=t[UC]||null;if(!n&&e===!0)throw new Error(`Type ${ht(t)} does not have '\u0275mod' property.`);return n}function lw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Jo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:p_(t.inputs,e),outputs:p_(t.outputs),debugInfo:null}}function dw(t){t.features?.forEach(e=>e(t))}function g_(t,e){if(!t)return null;let n=e?aw:hS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(fS)}function pS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function an(t){return{\u0275providers:t}}function gS(...t){return{\u0275providers:hw(!0,t),\u0275fromNgModule:!0}}function hw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Bh(e,s=>{let c=s;oh(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&fw(i,o),n}function fw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];zh(i,o=>{e(o,r)})}}function oh(t,e,n,r){if(t=St(t),!t)return!1;let i=null,o=c_(t),s=!o&&Sr(t);if(!o&&!s){let u=t.ngModule;if(o=c_(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)oh(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Bh(o.imports,f=>{oh(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&fw(l,e)}if(!c){let l=Cr(i)||(()=>new i);e({provide:i,useFactory:l,deps:vt},i),e({provide:nw,useValue:i,multi:!0},i),e({provide:xi,useValue:()=>ie(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;zh(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function zh(t,e){for(let n of t)Q_(n)&&(n=n.\u0275providers),Array.isArray(n)?zh(n,e):e(n)}var mS=Ee({provide:String,useValue:Ee});function pw(t){return t!==null&&typeof t=="object"&&mS in t}function yS(t){return!!(t&&t.useExisting)}function vS(t){return!!(t&&t.useFactory)}function sh(t){return typeof t=="function"}var zc=new Z(""),mc={},_S={},Bd;function Gh(){return Bd===void 0&&(Bd=new bc),Bd}var Rt=class{},Zo=class extends Rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ch(e,s=>this.processProvider(s)),this.records.set(tw,Ti(void 0,this)),i.has("environment")&&this.records.set(Rt,Ti(void 0,this));let o=this.records.get(zc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nw,vt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Gn(this),r=dt(void 0),i;try{return e()}finally{Gn(n),dt(r)}}get(e,n=Yo,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(l_))return e[l_](this);r=Hc(r);let i,o=Gn(this),s=dt(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=TS(e)&&$c(e);l&&this.injectableDefInScope(l)?u=Ti(ah(e),mc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&re.Self?Gh():this.parent;return n=r&re.Optional&&n===Yo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Ec]=c[Ec]||[]).unshift(ht(e)),o)throw c;return QC(c,e,"R3InjectorError",this.source)}else throw c}finally{dt(s),Gn(o)}}resolveInjectorInitializers(){let e=me(null),n=Gn(this),r=dt(void 0),i;try{let o=this.get(xi,vt,re.Self);for(let s of o)s()}finally{Gn(n),dt(r),me(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=St(e);let n=sh(e)?e:St(e&&e.provide),r=IS(e);if(!sh(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ti(void 0,mc,!0),i.factory=()=>rh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=me(null);try{return n.value===mc&&(n.value=_S,n.value=n.factory()),typeof n.value=="object"&&n.value&&bS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=St(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ah(t){let e=$c(t),n=e!==null?e.factory:Cr(t);if(n!==null)return n;if(t instanceof Z)throw new H(204,!1);if(t instanceof Function)return wS(t);throw new H(204,!1)}function wS(t){if(t.length>0)throw new H(204,!1);let n=OC(t);return n!==null?()=>n.factory(t):()=>new t}function IS(t){if(pw(t))return Ti(void 0,t.useValue);{let e=ES(t);return Ti(e,mc)}}function ES(t,e,n){let r;if(sh(t)){let i=St(t);return Cr(i)||ah(i)}else if(pw(t))r=()=>St(t.useValue);else if(vS(t))r=()=>t.useFactory(...rh(t.deps||[]));else if(yS(t))r=()=>ie(St(t.useExisting));else{let i=St(t&&(t.useClass||t.provide));if(DS(t))r=()=>new i(...rh(t.deps));else return Cr(i)||ah(i)}return r}function Ti(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function DS(t){return!!t.deps}function bS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function TS(t){return typeof t=="function"||typeof t=="object"&&t instanceof Z}function ch(t,e){for(let n of t)Array.isArray(n)?ch(n,e):n&&Q_(n)?ch(n.\u0275providers,e):e(n)}function Pr(t,e){t instanceof Zo&&t.assertNotDestroyed();let n,r=Gn(t),i=dt(void 0);try{return e()}finally{Gn(r),dt(i)}}function CS(){return Y_()!==void 0||GC()!=null}function SS(t){return typeof t=="function"}var Cn=0,ae=1,G=2,et=3,Ht=4,Gt=5,Tc=6,Xo=7,rn=8,Mi=9,qt=10,He=11,es=12,m_=13,Li=14,on=15,Gc=16,Ci=17,Ni=18,Wc=19,gw=20,Wn=21,$d=22,Ar=23,zt=25,mw=1;var Rr=7,Cc=8,Sc=9,At=10,Wh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Wh||{});function br(t){return Array.isArray(t)&&typeof t[mw]=="object"}function Sn(t){return Array.isArray(t)&&t[mw]===!0}function Kh(t){return(t.flags&4)!==0}function Kc(t){return t.componentOffset>-1}function Qc(t){return(t.flags&1)===1}function ds(t){return!!t.template}function AS(t){return(t[G]&512)!==0}var uh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function yw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Yc(){return vw}function vw(t){return t.type.prototype.ngOnChanges&&(t.setInput=xS),RS}Yc.ngInherit=!0;function RS(){let t=ww(this),e=t?.current;if(e){let n=t.previous;if(n===Jo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function xS(t,e,n,r,i){let o=this.declaredInputs[r],s=ww(t)||MS(t,{previous:Jo,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new uh(l&&l.currentValue,n,u===Jo),yw(t,e,i,n)}var _w="__ngSimpleChanges__";function ww(t){return t[_w]||null}function MS(t,e){return t[_w]=e}var y_=null;var en=function(t,e,n){y_?.(t,e,n)},NS="svg",PS="math",OS=!1;function kS(){return OS}function sn(t){for(;Array.isArray(t);)t=t[Cn];return t}function Iw(t,e){return sn(e[t])}function Wt(t,e){return sn(e[t.index])}function Ew(t,e){return t.data[e]}function FS(t,e){return t[e]}function Jn(t,e){let n=e[t];return br(n)?n:n[Cn]}function Qh(t){return(t[G]&128)===128}function LS(t){return Sn(t[et])}function Pi(t,e){return e==null?null:t[e]}function Dw(t){t[Ci]=0}function VS(t){t[G]&1024||(t[G]|=1024,Qh(t)&&ts(t))}function US(t,e){for(;t>0;)e=e[Li],t--;return e}function Yh(t){return!!(t[G]&9216||t[Ar]?.dirty)}function lh(t){t[qt].changeDetectionScheduler?.notify(1),Yh(t)?ts(t):t[G]&64&&(kS()?(t[G]|=1024,ts(t)):t[qt].changeDetectionScheduler?.notify())}function ts(t){t[qt].changeDetectionScheduler?.notify();let e=ns(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!Qh(e)));)e=ns(e)}function bw(t,e){if((t[G]&256)===256)throw new H(911,!1);t[Wn]===null&&(t[Wn]=[]),t[Wn].push(e)}function jS(t,e){if(t[Wn]===null)return;let n=t[Wn].indexOf(e);n!==-1&&t[Wn].splice(n,1)}function ns(t){let e=t[et];return Sn(e)?e[et]:e}var oe={lFrame:Ow(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function BS(){return oe.lFrame.elementDepthCount}function $S(){oe.lFrame.elementDepthCount++}function HS(){oe.lFrame.elementDepthCount--}function Tw(){return oe.bindingsEnabled}function qS(){return oe.skipHydrationRootTNode!==null}function zS(t){return oe.skipHydrationRootTNode===t}function GS(){oe.skipHydrationRootTNode=null}function be(){return oe.lFrame.lView}function xt(){return oe.lFrame.tView}function Mt(){let t=Cw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Cw(){return oe.lFrame.currentTNode}function WS(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Or(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Jh(){return oe.lFrame.isParent}function Sw(){oe.lFrame.isParent=!1}function Aw(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function KS(){return oe.lFrame.bindingIndex}function QS(t){return oe.lFrame.bindingIndex=t}function Rw(){return oe.lFrame.bindingIndex++}function xw(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function YS(){return oe.lFrame.inI18n}function JS(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,dh(e)}function ZS(){return oe.lFrame.currentDirectiveIndex}function dh(t){oe.lFrame.currentDirectiveIndex=t}function XS(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Mw(t){oe.lFrame.currentQueryIndex=t}function eA(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[Gt]:null}function Nw(t,e,n){if(n&re.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=eA(o),i===null||(o=o[Li],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=Pw();return r.currentTNode=e,r.lView=t,!0}function Zh(t){let e=Pw(),n=t[ae];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Pw(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?Ow(t):e}function Ow(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function kw(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Fw=kw;function Xh(){let t=kw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tA(t){return(oe.lFrame.contextLView=US(t,oe.lFrame.contextLView))[rn]}function kr(){return oe.lFrame.selectedIndex}function xr(t){oe.lFrame.selectedIndex=t}function Lw(){let t=oe.lFrame;return Ew(t.tView,t.selectedIndex)}function nA(){return oe.lFrame.currentNamespace}var Vw=!0;function Jc(){return Vw}function Zc(t){Vw=t}function rA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=vw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Xc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function yc(t,e,n){Uw(t,e,3,n)}function vc(t,e,n,r){(t[G]&3)===n&&Uw(t,e,n,r)}function Hd(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function Uw(t,e,n,r){let i=r!==void 0?t[Ci]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Ci]+=65536),(c<o||o==-1)&&(iA(t,n,e,u),t[Ci]=(t[Ci]&4294901760)+u+2),u++}function v_(t,e){en(4,t,e);let n=me(null);try{e.call(t)}finally{me(n),en(5,t,e)}}function iA(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[G]>>14<t[Ci]>>16&&(t[G]&3)===e&&(t[G]+=16384,v_(c,o)):v_(c,o)}var Ri=-1,rs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function oA(t){return t instanceof rs}function sA(t){return(t.flags&8)!==0}function aA(t){return(t.flags&16)!==0}function jw(t){return t!==Ri}function Ac(t){return t&32767}function cA(t){return t>>16}function Rc(t,e){let n=cA(t),r=e;for(;n>0;)r=r[Li],n--;return r}var hh=!0;function xc(t){let e=hh;return hh=t,e}var uA=256,Bw=uA-1,$w=5,lA=0,tn={};function dA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ko)&&(r=n[Ko]),r==null&&(r=n[Ko]=lA++);let i=r&Bw,o=1<<i;e.data[t+(i>>$w)]|=o}function Hw(t,e){let n=qw(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,qd(r.data,t),qd(e,null),qd(r.blueprint,null));let i=ef(t,e),o=t.injectorIndex;if(jw(i)){let s=Ac(i),c=Rc(i,e),u=c[ae].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function qd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ef(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Qw(i),r===null)return Ri;if(n++,i=i[Li],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ri}function hA(t,e,n){dA(t,e,n)}function zw(t,e,n){if(n&re.Optional||t!==void 0)return t;jh(e,"NodeInjector")}function Gw(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[Mi],o=dt(void 0);try{return i?i.get(e,r,n&re.Optional):J_(e,r,n&re.Optional)}finally{dt(o)}}return zw(r,e,n)}function Ww(t,e,n,r=re.Default,i){if(t!==null){if(e[G]&2048&&!(r&re.Self)){let s=yA(t,e,n,r,tn);if(s!==tn)return s}let o=Kw(t,e,n,r,tn);if(o!==tn)return o}return Gw(e,n,r,i)}function Kw(t,e,n,r,i){let o=gA(n);if(typeof o=="function"){if(!Nw(e,t,r))return r&re.Host?zw(i,n,r):Gw(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&re.Optional))jh(n);else return s}finally{Fw()}}else if(typeof o=="number"){let s=null,c=qw(t,e),u=Ri,l=r&re.Host?e[on][Gt]:null;for((c===-1||r&re.SkipSelf)&&(u=c===-1?ef(t,e):e[c+8],u===Ri||!w_(r,!1)?c=-1:(s=e[ae],c=Ac(u),e=Rc(u,e)));c!==-1;){let f=e[ae];if(__(o,c,f.data)){let p=fA(c,e,n,s,r,l);if(p!==tn)return p}u=e[c+8],u!==Ri&&w_(r,e[ae].data[c+8]===l)&&__(o,c,e)?(s=f,c=Ac(u),e=Rc(u,e)):c=-1}}return i}function fA(t,e,n,r,i,o){let s=e[ae],c=s.data[t+8],u=r==null?Kc(c)&&hh:r!=s&&(c.type&3)!==0,l=i&re.Host&&o===c,f=pA(c,s,n,u,l);return f!==null?is(e,s,f,c):tn}function pA(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,y=i?c+f:l;for(let w=p;w<y;w++){let A=s[w];if(w<u&&n===A||w>=u&&A.type===n)return w}if(i){let w=s[u];if(w&&ds(w)&&w.type===n)return u}return null}function is(t,e,n,r){let i=t[n],o=e.data;if(oA(i)){let s=i;s.resolving&&BC(jC(o[n]));let c=xc(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?dt(s.injectImpl):null,f=Nw(t,r,re.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&rA(n,o[n],e)}finally{l!==null&&dt(l),xc(c),s.resolving=!1,Fw()}}return i}function gA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ko)?t[Ko]:void 0;return typeof e=="number"?e>=0?e&Bw:mA:e}function __(t,e,n){let r=1<<t;return!!(n[e+(t>>$w)]&r)}function w_(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var Tr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Ww(this._tNode,this._lView,e,Hc(r),n)}};function mA(){return new Tr(Mt(),be())}function tf(t){return us(()=>{let e=t.prototype.constructor,n=e[Ic]||fh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ic]||fh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fh(t){return z_(t)?()=>{let e=fh(St(t));return e&&e()}:Cr(t)}function yA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[G]&2048&&!(s[G]&512);){let c=Kw(o,s,n,r|re.Self,tn);if(c!==tn)return c;let u=o.parent;if(!u){let l=s[gw];if(l){let f=l.get(n,tn,r);if(f!==tn)return f}u=Qw(s),s=s[Li]}o=u}return i}function Qw(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[Gt]:null}function I_(t,e=null,n=null,r){let i=Yw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Yw(t,e=null,n=null,r,i=new Set){let o=[n||vt,gS(t)];return r=r||(typeof t=="object"?void 0:ht(t)),new Zo(o,e||Gh(),r||null,i)}var Kt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return I_({name:""},i,r,"");{let o=r.name??"";return I_({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Yo,e.NULL=new bc,e.\u0275prov=q({token:e,providedIn:"any",factory:()=>ie(tw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var vA="ngOriginalError";function zd(t){return t[vA]}var bn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zd(e);for(;n&&zd(n);)n=zd(n);return n||null}},Jw=new Z("",{providedIn:"root",factory:()=>O(bn).handleError.bind(void 0)}),Zw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_A,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),ph=class extends Zw{constructor(e){super(),this._lView=e}onDestroy(e){return bw(this._lView,e),()=>jS(this._lView,e)}};function _A(){return new ph(be())}function wA(){return eu(Mt(),be())}function eu(t,e){return new hs(Wt(t,e))}var hs=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=wA;let t=e;return t})();var gh=class extends ct{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,CS()&&(this.destroyRef=O(Zw,{optional:!0})??void 0)}emit(e){let n=me(null);try{super.next(e)}finally{me(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Gd(o),i&&(i=Gd(i)),s&&(s=Gd(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(c),c}};function Gd(t){return e=>{setTimeout(t,void 0,e)}}var $t=gh;function Xw(t){return(t.flags&128)===128}var eI=new Map,IA=0;function EA(){return IA++}function DA(t){eI.set(t[Wc],t)}function bA(t){eI.delete(t[Wc])}var E_="__ngContext__";function Kn(t,e){br(e)?(t[E_]=e[Wc],DA(e)):t[E_]=e}function tI(t){return rI(t[es])}function nI(t){return rI(t[Ht])}function rI(t){for(;t!==null&&!Sn(t);)t=t[Ht];return t}var mh;function iI(t){mh=t}function TA(){if(mh!==void 0)return mh;if(typeof document<"u")return document;throw new H(210,!1)}var nf=new Z("",{providedIn:"root",factory:()=>CA}),CA="ng",rf=new Z(""),Zn=new Z("",{providedIn:"platform",factory:()=>"unknown"});var of=new Z("",{providedIn:"root",factory:()=>TA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var SA="h",AA="b";var RA=()=>null;function sf(t,e,n=!1){return RA(t,e,n)}var oI=!1,xA=new Z("",{providedIn:"root",factory:()=>oI});var Mc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$_})`}};function tu(t){return t instanceof Mc?t.changingThisBreaksApplicationSecurity:t}function sI(t,e){let n=MA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$_})`)}return n===e}function MA(t){return t instanceof Mc&&t.getTypeName()||null}var NA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function aI(t){return t=String(t),t.match(NA)?t:"unsafe:"+t}var af=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(af||{});function Vi(t){let e=PA();return e?e.sanitize(af.URL,t)||"":sI(t,"URL")?tu(t):aI(Qo(t))}function PA(){let t=be();return t&&t[qt].sanitizer}var OA=/^>|^->|<!--|-->|--!>|<!-$/g,kA=/(<|>)/g,FA="\u200B$1\u200B";function LA(t){return t.replace(OA,e=>e.replace(kA,FA))}function cI(t){return t instanceof Function?t():t}var Tn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tn||{}),VA;function cf(t,e){return VA(t,e)}function Si(t,e,n,r,i){if(r!=null){let o,s=!1;Sn(r)?o=r:br(r)&&(s=!0,r=r[Cn]);let c=sn(r);t===0&&n!==null?i==null?fI(e,n,c):Nc(e,n,c,i||null,!0):t===1&&n!==null?Nc(e,n,c,i||null,!0):t===2?nR(e,c,s):t===3&&e.destroyNode(c),o!=null&&iR(e,t,o,n,i)}}function UA(t,e){return t.createText(e)}function jA(t,e,n){t.setValue(e,n)}function BA(t,e){return t.createComment(LA(e))}function uI(t,e,n){return t.createElement(e,n)}function $A(t,e){lI(t,e),e[Cn]=null,e[Gt]=null}function HA(t,e,n,r,i,o){r[Cn]=i,r[Gt]=e,ru(t,r,n,1,i,o)}function lI(t,e){e[qt].changeDetectionScheduler?.notify(1),ru(t,e,e[He],2,null,null)}function qA(t){let e=t[es];if(!e)return Wd(t[ae],t);for(;e;){let n=null;if(br(e))n=e[es];else{let r=e[At];r&&(n=r)}if(!n){for(;e&&!e[Ht]&&e!==t;)br(e)&&Wd(e[ae],e),e=e[et];e===null&&(e=t),br(e)&&Wd(e[ae],e),n=e&&e[Ht]}e=n}}function zA(t,e,n,r){let i=At+r,o=n.length;r>0&&(n[i-1][Ht]=e),r<o-At?(e[Ht]=n[i],ew(n,At+r,e)):(n.push(e),e[Ht]=null),e[et]=n;let s=e[Gc];s!==null&&n!==s&&GA(s,e);let c=e[Ni];c!==null&&c.insertView(t),lh(e),e[G]|=128}function GA(t,e){let n=t[Sc],i=e[et][et][on];e[on]!==i&&(t[G]|=Wh.HasTransplantedViews),n===null?t[Sc]=[e]:n.push(e)}function dI(t,e){let n=t[Sc],r=n.indexOf(e);n.splice(r,1)}function yh(t,e){if(t.length<=At)return;let n=At+e,r=t[n];if(r){let i=r[Gc];i!==null&&i!==t&&dI(i,r),e>0&&(t[n-1][Ht]=r[Ht]);let o=Dc(t,At+e);$A(r[ae],r);let s=o[Ni];s!==null&&s.detachView(o[ae]),r[et]=null,r[Ht]=null,r[G]&=-129}return r}function hI(t,e){if(!(e[G]&256)){let n=e[He];n.destroyNode&&ru(t,e,n,3,null,null),qA(e)}}function Wd(t,e){if(e[G]&256)return;let n=me(null);try{e[G]&=-129,e[G]|=256,e[Ar]&&Mv(e[Ar]),KA(t,e),WA(t,e),e[ae].type===1&&e[He].destroy();let r=e[Gc];if(r!==null&&Sn(e[et])){r!==e[et]&&dI(r,e);let i=e[Ni];i!==null&&i.detachView(t)}bA(e)}finally{me(n)}}function WA(t,e){let n=t.cleanup,r=e[Xo];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Xo]=null);let i=e[Wn];if(i!==null){e[Wn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function KA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof rs)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];en(4,c,u);try{u.call(c)}finally{en(5,c,u)}}else{en(4,i,o);try{o.call(i)}finally{en(5,i,o)}}}}}function QA(t,e,n){return YA(t,e.parent,n)}function YA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Cn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===nn.None||o===nn.Emulated)return null}return Wt(r,n)}}function Nc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fI(t,e,n){t.appendChild(e,n)}function D_(t,e,n,r,i){r!==null?Nc(t,e,n,r,i):fI(t,e,n)}function JA(t,e,n,r){t.removeChild(e,n,r)}function uf(t,e){return t.parentNode(e)}function ZA(t,e){return t.nextSibling(e)}function XA(t,e,n){return tR(t,e,n)}function eR(t,e,n){return t.type&40?Wt(t,n):null}var tR=eR,b_;function nu(t,e,n,r){let i=QA(t,r,e),o=e[He],s=r.parent||e[Gt],c=XA(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)D_(o,i,n[u],c,!1);else D_(o,i,n,c,!1);b_!==void 0&&b_(o,r,e,n,i)}function _c(t,e){if(e!==null){let n=e.type;if(n&3)return Wt(e,t);if(n&4)return vh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return _c(t,r);{let i=t[e.index];return Sn(i)?vh(-1,i):sn(i)}}else{if(n&32)return cf(e,t)()||sn(t[e.index]);{let r=pI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ns(t[on]);return _c(i,r)}else return _c(t,e.next)}}}return null}function pI(t,e){if(e!==null){let r=t[on][Gt],i=e.projection;return r.projection[i]}return null}function vh(t,e){let n=At+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return _c(r,i)}return e[Rr]}function nR(t,e,n){let r=uf(t,e);r&&JA(t,r,e,n)}function lf(t,e,n,r,i,o,s){for(;n!=null;){let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Kn(sn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)lf(t,e,n.child,r,i,o,!1),Si(e,t,i,c,o);else if(u&32){let l=cf(n,r),f;for(;f=l();)Si(e,t,i,f,o);Si(e,t,i,c,o)}else u&16?rR(t,e,r,n,i,o):Si(e,t,i,c,o);n=s?n.projectionNext:n.next}}function ru(t,e,n,r,i,o){lf(n,r,t.firstChild,e,i,o,!1)}function rR(t,e,n,r,i,o){let s=n[on],u=s[Gt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Si(e,t,i,f,o)}else{let l=u,f=s[et];Xw(r)&&(l.flags|=128),lf(t,e,l,f,i,o,!0)}}function iR(t,e,n,r,i){let o=n[Rr],s=sn(n);o!==s&&Si(e,t,r,o,i);for(let c=At;c<n.length;c++){let u=n[c];ru(u[ae],u,t,e,r,o)}}function oR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Tn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Tn.Important),t.setStyle(n,r,i,o))}}function sR(t,e,n){t.setAttribute(e,"style",n)}function gI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&ih(t,e,r),i!==null&&gI(t,e,i),o!==null&&sR(t,e,o)}var Qt={};function De(t=1){yI(xt(),be(),kr()+t,!1)}function yI(t,e,n,r){if(!r)if((e[G]&3)===3){let o=t.preOrderCheckHooks;o!==null&&yc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&vc(e,o,0,n)}xr(n)}function _t(t,e=re.Default){let n=be();if(n===null)return ie(t,e);let r=Mt();return Ww(r,n,St(t),e)}function vI(t,e,n,r,i,o){let s=me(null);try{let c=null;i&Dn.SignalBased&&(c=e[r][Sv]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&Dn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):yw(e,c,r,o)}finally{me(s)}}function aR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xr(~i);else{let o=i,s=n[++r],c=n[++r];JS(s,o);let u=e[o];c(2,u)}}}finally{xr(-1)}}function iu(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Cn]=i,p[G]=r|4|128|8|64,(l!==null||t&&t[G]&2048)&&(p[G]|=2048),Dw(p),p[et]=p[Li]=t,p[rn]=n,p[qt]=s||t&&t[qt],p[He]=c||t&&t[He],p[Mi]=u||t&&t[Mi]||null,p[Gt]=o,p[Wc]=EA(),p[Tc]=f,p[gw]=l,p[on]=e.type==2?t[on]:p,p}function fs(t,e,n,r,i){let o=t.data[e];if(o===null)o=cR(t,e,n,r,i),YS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=WS();o.injectorIndex=s===null?-1:s.injectorIndex}return Or(o,!0),o}function cR(t,e,n,r,i){let o=Cw(),s=Jh(),c=s?o:o&&o.parent,u=t.data[e]=fR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function _I(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wI(t,e,n,r,i){let o=kr(),s=r&2;try{xr(-1),s&&e.length>zt&&yI(t,e,zt,!1),en(s?2:0,i),n(r,i)}finally{xr(o),en(s?3:1,i)}}function df(t,e,n){if(Kh(e)){let r=me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{me(r)}}}function hf(t,e,n){Tw()&&(_R(t,e,n,Wt(n,e)),(n.flags&64)===64&&bI(t,e,n))}function ff(t,e,n=Wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function II(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=pf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function pf(t,e,n,r,i,o,s,c,u,l,f){let p=zt+r,y=p+i,w=uR(p,y),A=typeof l=="function"?l():l;return w[ae]={type:t,blueprint:w,template:n,queries:null,viewQuery:c,declTNode:e,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function uR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Qt);return n}function lR(t,e,n,r){let o=r.get(xA,oI)||n===nn.ShadowDom,s=t.selectRootElement(e,o);return dR(s),s}function dR(t){hR(t)}var hR=()=>null;function fR(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return qS()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function T_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=Dn.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?C_(r,n,l,c,u):C_(r,n,l,c)}return r}function C_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function pR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=o[f],y=n?n.get(p):null,w=y?y.inputs:null,A=y?y.outputs:null;u=T_(0,p.inputs,f,u,w),l=T_(1,p.outputs,f,l,A);let R=u!==null&&s!==null&&!qh(e)?AR(u,f,s):null;c.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function gR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function EI(t,e,n,r,i,o,s,c){let u=Wt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(mf(t,n,f,r,i),Kc(e)&&mR(n,e.index)):e.type&3?(r=gR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function mR(t,e){let n=Jn(e,t);n[G]&16||(n[G]|=64)}function gf(t,e,n,r){if(Tw()){let i=r===null?null:{"":-1},o=IR(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&DI(t,e,n,s,i,c),i&&ER(n,r,i)}n.mergedAttrs=Hh(n.mergedAttrs,n.attrs)}function DI(t,e,n,r,i,o){for(let l=0;l<r.length;l++)hA(Hw(n,e),t,r[l].type);bR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=_I(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Hh(n.mergedAttrs,f.hostAttrs),TR(t,n,e,u,f),DR(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}pR(t,n,o)}function yR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;vR(s)!=c&&s.push(c),s.push(n,r,o)}}function vR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function _R(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Kc(n)&&CR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Hw(n,e),Kn(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],l=is(e,t,c,n);if(Kn(l,e),s!==null&&SR(e,c-i,l,u,n,s),ds(u)){let f=Jn(n.index,e);f[rn]=is(e,t,c,n)}}}function bI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ZS();try{xr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];dh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&wR(u,l)}}finally{xr(-1),dh(s)}}function wR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function IR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(sS(e,s.selectors,!1))if(r||(r=[]),ds(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;_h(t,e,u)}else r.unshift(s),_h(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function _h(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ER(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}}function DR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ds(e)&&(n[""]=t)}}function bR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function TR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Cr(i.type,!0)),s=new rs(o,ds(i),_t);t.blueprint[r]=s,n[r]=s,yR(t,e,r,_I(t,n,i.hostVars,Qt),i)}function CR(t,e,n){let r=Wt(e,t),i=II(n),o=t[qt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=ou(t,iu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function SR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],f=s[c++],p=s[c++];vI(r,n,u,l,f,p)}}function AR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function TI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function CI(t,e){let n=t.contentQueries;if(n!==null){let r=me(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];Mw(o),c.contentQueries(2,e[s],s)}}}finally{me(r)}}}function ou(t,e){return t[es]?t[m_][Ht]=e:t[es]=e,t[m_]=e,e}function wh(t,e,n){Mw(0);let r=me(null);try{e(t,n)}finally{me(r)}}function RR(t){return t[Xo]||(t[Xo]=[])}function xR(t){return t.cleanup||(t.cleanup=[])}function SI(t,e){let n=t[Mi],r=n?n.get(bn,null):null;r&&r.handleError(e)}function mf(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],l=e[s],f=t.data[s];vI(f,l,r,c,u,i)}}function AI(t,e,n){let r=Iw(e,t);jA(t[He],r,n)}function MR(t,e){let n=Jn(e,t),r=n[ae];NR(r,n);let i=n[Cn];i!==null&&n[Tc]===null&&(n[Tc]=sf(i,n[Mi])),yf(r,n,n[rn])}function NR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function yf(t,e,n){Zh(e);try{let r=t.viewQuery;r!==null&&wh(1,r,n);let i=t.template;i!==null&&wI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ni]?.finishViewCreation(t),t.staticContentQueries&&CI(t,e),t.staticViewQueries&&wh(2,t.viewQuery,n);let o=t.components;o!==null&&PR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,Xh()}}function PR(t,e){for(let n=0;n<e.length;n++)MR(t,e[n])}function OR(t,e,n,r){let i=me(null);try{let o=e.tView,c=t[G]&4096?4096:16,u=iu(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Gc]=l;let f=t[Ni];return f!==null&&(u[Ni]=f.createEmbeddedView(o)),yf(o,u,n),u}finally{me(i)}}function S_(t,e){return!e||e.firstChild===null||Xw(t)}function kR(t,e,n,r=!0){let i=e[ae];if(zA(i,e,t,n),r){let s=vh(n,t),c=e[He],u=uf(c,t[Rr]);u!==null&&HA(i,t[Gt],c,e,u,s)}let o=e[Tc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Pc(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(sn(o)),Sn(o)&&FR(o,r);let s=n.type;if(s&8)Pc(t,e,n.child,r);else if(s&32){let c=cf(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=pI(e,n);if(Array.isArray(c))r.push(...c);else{let u=ns(e[on]);Pc(u[ae],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function FR(t,e){for(let n=At;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&Pc(r[ae],r,i,e)}t[Rr]!==t[Cn]&&e.push(t[Rr])}var RI=[];function LR(t){return t[Ar]??VR(t)}function VR(t){let e=RI.pop()??Object.create(jR);return e.lView=t,e}function UR(t){t.lView[Ar]!==t&&(t.lView=null,RI.push(t))}var jR=Ne(j({},Av),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ts(t.lView)},consumerOnSignalRead(){this.lView[Ar]=this}}),xI=100;function MI(t,e=!0,n=0){let r=t[qt],i=r.rendererFactory,o=!1;o||i.begin?.();try{BR(t,n)}catch(s){throw e&&SI(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function BR(t,e){Ih(t,e);let n=0;for(;Yh(t);){if(n===xI)throw new H(103,!1);n++,Ih(t,1)}}function $R(t,e,n,r){let i=e[G];if((i&256)===256)return;let o=!1;!o&&e[qt].inlineEffectRunner?.flush(),Zh(e);let s=null,c=null;!o&&HR(t)&&(c=LR(e),s=Rv(c));try{Dw(e),QS(t.bindingStartIndex),n!==null&&wI(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&yc(e,p,null)}else{let p=t.preOrderHooks;p!==null&&vc(e,p,0,null),Hd(e,0)}if(qR(e),NI(e,0),t.contentQueries!==null&&CI(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&yc(e,p)}else{let p=t.contentHooks;p!==null&&vc(e,p,1),Hd(e,1)}aR(t,e);let l=t.components;l!==null&&OI(e,l,0);let f=t.viewQuery;if(f!==null&&wh(2,f,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&yc(e,p)}else{let p=t.viewHooks;p!==null&&vc(e,p,2),Hd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$d]){for(let p of e[$d])p();e[$d]=null}o||(e[G]&=-73)}catch(u){throw ts(e),u}finally{c!==null&&(xv(c,s),UR(c)),Xh()}}function HR(t){return t.type!==2}function NI(t,e){for(let n=tI(t);n!==null;n=nI(n))for(let r=At;r<n.length;r++){let i=n[r];PI(i,e)}}function qR(t){for(let e=tI(t);e!==null;e=nI(e)){if(!(e[G]&Wh.HasTransplantedViews))continue;let n=e[Sc];for(let r=0;r<n.length;r++){let i=n[r],o=i[et];VS(i)}}}function zR(t,e,n){let r=Jn(e,t);PI(r,n)}function PI(t,e){Qh(t)&&Ih(t,e)}function Ih(t,e){let r=t[ae],i=t[G],o=t[Ar],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&yd(o)),o&&(o.dirty=!1),t[G]&=-9217,s)$R(r,t,r.template,t[rn]);else if(i&8192){NI(t,1);let c=r.components;c!==null&&OI(t,c,1)}}function OI(t,e,n){for(let r=0;r<e.length;r++)zR(t,e[r],n)}function vf(t){for(t[qt].changeDetectionScheduler?.notify();t;){t[G]|=64;let e=ns(t);if(AS(t)&&!e)return t;t=e}return null}var Mr=class{get rootNodes(){let e=this._lView,n=e[ae];return Pc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rn]}set context(e){this._lView[rn]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[et];if(Sn(e)){let n=e[Cc],r=n?n.indexOf(this):-1;r>-1&&(yh(e,r),Dc(n,r))}this._attachedToViewContainer=!1}hI(this._lView[ae],this._lView)}onDestroy(e){bw(this._lView,e)}markForCheck(){vf(this._cdRefInjectingView||this._lView)}detach(){this._lView[G]&=-129}reattach(){lh(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,MI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,lI(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e,lh(this._lView)}},su=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KR;let t=e;return t})(),GR=su,WR=class extends GR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=OR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Mr(i)}};function KR(){return QR(Mt(),be())}function QR(t,e){return t.type&4?new WR(e,t,eu(t,e)):null}var TH=new RegExp(`^(\\d+)*(${AA}|${SA})*(.*)`);var YR=()=>null;function A_(t,e){return YR(t,e)}var Eh=class{},Dh=class{},Oc=class{};function JR(t){let e=Error(`No component factory found for ${ht(t)}.`);return e[ZR]=t,e}var ZR="ngComponent";var bh=class{resolveComponentFactory(e){throw JR(e)}},au=(()=>{let e=class e{};e.NULL=new bh;let t=e;return t})(),os=class{},cu=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>XR();let t=e;return t})();function XR(){let t=be(),e=Mt(),n=Jn(e.index,t);return(br(n)?n:t)[He]}var ex=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Kd={};var R_=new Set;function kI(t){R_.has(t)||(R_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function x_(...t){}function tx(){let t=typeof En.requestAnimationFrame=="function",e=En[t?"requestAnimationFrame":"setTimeout"],n=En[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var we=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $t(!1),this.onMicrotaskEmpty=new $t(!1),this.onStable=new $t(!1),this.onError=new $t(!1),typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=tx().nativeRequestAnimationFrame,ix(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nx,x_,x_);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},nx={};function _f(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(En,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Th(t),t.isCheckStableRunning=!0,_f(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Th(t))}function ix(t){let e=()=>{rx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,c)=>{if(ox(c))return n.invokeTask(i,o,s,c);try{return M_(t),n.invokeTask(i,o,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),N_(t)}},onInvoke:(n,r,i,o,s,c,u)=>{try{return M_(t),n.invoke(i,o,s,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),N_(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Th(t),_f(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Th(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function M_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function N_(t){t._nesting--,_f(t)}function ox(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var FI=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function kc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=eh(i,c);else if(o==2){let u=c,l=e[++s];r=eh(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Fc=class extends au{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Sr(e);return new ss(n,this.ngModule)}};function P_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function sx(t){let e=t.toLowerCase();return e==="svg"?NS:e==="math"?PS:null}var Ch=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hc(r);let i=this.injector.get(e,Kd,r);return i!==Kd||n===Kd?i:this.parentInjector.get(e,n,r)}},ss=class extends Oc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=P_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return P_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=lS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=me(null);try{i=i||this.ngModule;let s=i instanceof Rt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new Ch(e,s):e,u=c.get(os,null);if(u===null)throw new H(407,!1);let l=c.get(ex,null),f=c.get(FI,null),p=c.get(Eh,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},w=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=r?lR(w,r,this.componentDef.encapsulation,c):uI(w,A,sx(A)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let V=null;R!==null&&(V=sf(R,c,!0));let z=pf(0,null,null,1,0,null,null,null,null,null,null),$=iu(null,z,null,M,null,null,y,w,c,null,V);Zh($);let ne,Te;try{let J=this.componentDef,E,m=null;J.findHostDirectiveDefs?(E=[],m=new Map,J.findHostDirectiveDefs(J,E,m),E.push(J)):E=[J];let v=ax($,R),I=cx(v,R,J,E,$,y,w);Te=Ew(z,zt),R&&dx(w,J,R,r),n!==void 0&&hx(Te,this.ngContentSelectors,n),ne=lx(I,J,E,m,$,[fx]),yf(z,$,null)}finally{Xh()}return new Sh(this.componentType,ne,eu(Te,$),$,Te)}finally{me(o)}}},Sh=class extends Dh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Mr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;mf(o[ae],o,i,e,n),this.previousInputValues.set(e,n);let s=Jn(this._tNode.index,o);vf(s)}}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ax(t,e){let n=t[ae],r=zt;return t[r]=e,fs(n,r,2,"#host",null)}function cx(t,e,n,r,i,o,s){let c=i[ae];ux(r,t,e,s);let u=null;e!==null&&(u=sf(e,i[Mi]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=iu(i,II(n),null,f,i[t.index],t,o,l,null,null,u);return c.firstCreatePass&&_h(c,t,r.length-1),ou(i,p),i[t.index]=p}function ux(t,e,n,r){for(let i of t)e.mergedAttrs=Hh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(kc(e,e.mergedAttrs,!0),n!==null&&mI(r,n,e))}function lx(t,e,n,r,i,o){let s=Mt(),c=i[ae],u=Wt(s,i);DI(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let p=s.directiveStart+f,y=is(i,c,p,s);Kn(y,i)}bI(c,i,s),u&&Kn(u,i);let l=is(i,c,s.directiveStart+s.componentOffset,s);if(t[rn]=i[rn]=l,o!==null)for(let f of o)f(l,e);return df(c,s,i),l}function dx(t,e,n,r){if(r)ih(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=dS(e.selectors[0]);i&&ih(t,n,i),o&&o.length>0&&gI(t,n,o.join(" "))}}function hx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function fx(){let t=Mt();Xc(be()[ae],t)}var Ui=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=px;let t=e;return t})();function px(){let t=Mt();return mx(t,be())}var gx=Ui,LI=class extends gx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return eu(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){let e=ef(this._hostTNode,this._hostLView);if(jw(e)){let n=Rc(e,this._hostLView),r=Ac(e),i=n[ae].data[r+8];return new Tr(i,n)}else return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=O_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-At}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=A_(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,S_(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!SS(e),c;if(s)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new ss(Sr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(Rt,null);R&&(o=R)}let f=Sr(u.componentType??{}),p=A_(this._lContainer,f?.id??null),y=p?.firstChild??null,w=u.create(l,i,y,o);return this.insertImpl(w.hostView,c,S_(this._hostTNode,p)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(LS(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[et],l=new LI(u,u[Gt],u[et]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return kR(s,i,o,r),e.attachToViewContainerRef(),ew(Qd(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=O_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=yh(this._lContainer,n);r&&(Dc(Qd(this._lContainer),n),hI(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=yh(this._lContainer,n);return r&&Dc(Qd(this._lContainer),n)!=null?new Mr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function O_(t){return t[Cc]}function Qd(t){return t[Cc]||(t[Cc]=[])}function mx(t,e){let n,r=e[t.index];return Sn(r)?n=r:(n=TI(r,e,null,t),e[t.index]=n,ou(e,n)),vx(n,e,t,r),new LI(n,t,e)}function yx(t,e){let n=t[He],r=n.createComment(""),i=Wt(e,t),o=uf(n,i);return Nc(n,o,r,ZA(n,i),!1),r}var vx=Ix,_x=()=>!1;function wx(t,e,n){return _x(t,e,n)}function Ix(t,e,n,r){if(t[Rr])return;let i;n.type&8?i=sn(r):i=yx(e,n),t[Rr]=i}var Qn=class{},as=class{};var Ah=class extends Qn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fc(this);let i=uw(e);this._bootstrapComponents=cI(i.bootstrap),this._r3Injector=Yw(e,n,[{provide:Qn,useValue:this},{provide:au,useValue:this.componentFactoryResolver},...r],ht(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Rh=class extends as{constructor(e){super(),this.moduleType=e}create(e){return new Ah(this.moduleType,e,[])}};var Lc=class extends Qn{constructor(e){super(),this.componentFactoryResolver=new Fc(this),this.instance=null;let n=new Zo([...e.providers,{provide:Qn,useValue:this},{provide:au,useValue:this.componentFactoryResolver}],e.parent||Gh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function wf(t,e,n=null){return new Lc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var uu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VI(t){return Dx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Ex(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Dx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function UI(t,e,n){return t[e]=n}function Oi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function jI(t,e,n,r){let i=Oi(t,e,n);return Oi(t,e+1,r)||i}function bx(t){return(t.flags&32)===32}function Tx(t,e,n,r,i,o,s,c,u){let l=e.consts,f=fs(e,t,4,s||null,Pi(l,c));gf(e,n,f,Pi(l,u)),Xc(e,f);let p=f.tView=pf(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Nt(t,e,n,r,i,o,s,c){let u=be(),l=xt(),f=t+zt,p=l.firstCreatePass?Tx(f,l,u,e,n,r,i,o,s):l.data[f];Or(p,!1);let y=Cx(l,u,p,t);Jc()&&nu(l,u,y,p),Kn(y,u);let w=TI(y,u,y,p);return u[f]=w,ou(u,w),wx(w,p,u),Qc(p)&&hf(l,u,p),s!=null&&ff(u,p,c),Nt}var Cx=Sx;function Sx(t,e,n,r){return Zc(!0),e[He].createComment("")}function BI(t,e,n,r){return Oi(t,Rw(),n)?e+Qo(n)+r:Qt}function Ax(t,e,n,r,i,o){let s=KS(),c=jI(t,s,n,i);return xw(2),c?e+Qo(n)+r+Qo(i)+o:Qt}function gc(t,e){return t<<17|e<<2}function Nr(t){return t>>17&32767}function Rx(t){return(t&2)==2}function xx(t,e){return t&131071|e<<17}function xh(t){return t|2}function ki(t){return(t&131068)>>2}function Yd(t,e){return t&-131069|e<<2}function Mx(t){return(t&1)===1}function Mh(t){return t|1}function Nx(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Nr(s),u=ki(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||ls(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=Nr(t[c+1]);t[r+1]=gc(y,c),y!==0&&(t[y+1]=Yd(t[y+1],r)),t[c+1]=xx(t[c+1],r)}else t[r+1]=gc(c,0),c!==0&&(t[c+1]=Yd(t[c+1],r)),c=r;else t[r+1]=gc(u,0),c===0?c=r:t[u+1]=Yd(t[u+1],r),u=r;l&&(t[r+1]=xh(t[r+1])),k_(t,f,r,!0),k_(t,f,r,!1),Px(e,f,t,r,o),s=gc(c,u),o?e.classBindings=s:e.styleBindings=s}function Px(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ls(o,e)>=0&&(n[r+1]=Mh(n[r+1]))}function k_(t,e,n,r){let i=t[n+1],o=e===null,s=r?Nr(i):ki(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];Ox(u,e)&&(c=!0,t[s+1]=r?Mh(l):xh(l)),s=r?Nr(l):ki(l)}c&&(t[n+1]=r?xh(i):Mh(i))}function Ox(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ls(t,e)>=0:!1}var Bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kx(t){return t.substring(Bt.key,Bt.keyEnd)}function Fx(t){return Lx(t),$I(t,HI(t,0,Bt.textEnd))}function $I(t,e){let n=Bt.textEnd;return n===e?-1:(e=Bt.keyEnd=Vx(t,Bt.key=e,n),HI(t,e,n))}function Lx(t){Bt.key=0,Bt.keyEnd=0,Bt.value=0,Bt.valueEnd=0,Bt.textEnd=t.length}function HI(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Vx(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Se(t,e,n){let r=be(),i=Rw();if(Oi(r,i,e)){let o=xt(),s=Lw();EI(o,s,r,t,e,r[He],n,!1)}return Se}function Nh(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";mf(t,n,o[s],s,r)}function qI(t){jx(Wx,Ux,t,!0)}function Ux(t,e){for(let n=Fx(e);n>=0;n=$I(e,n))$h(t,kx(e),!0)}function jx(t,e,n,r){let i=xt(),o=xw(2);i.firstUpdatePass&&Bx(i,null,o,r);let s=be();if(n!==Qt&&Oi(s,o,n)){let c=i.data[kr()];if(GI(c,r)&&!zI(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=eh(u,n||"")),Nh(i,c,s,n,r)}else Kx(i,c,s,s[He],s[o+1],s[o+1]=Gx(t,e,n),r,o)}}function zI(t,e){return e>=t.expandoStartIndex}function Bx(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[kr()],s=zI(t,n);GI(o,r)&&e===null&&!s&&(e=!1),e=$x(i,o,e,r),Nx(i,o,e,n,s,r)}}function $x(t,e,n,r){let i=XS(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Jd(null,t,e,n,r),n=cs(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Jd(i,t,e,n,r),o===null){let u=Hx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Jd(null,t,e,u[1],r),u=cs(u,e.attrs,r),qx(t,e,r,u))}else o=zx(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Hx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ki(r)!==0)return t[Nr(r)]}function qx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Nr(i)]=r}function zx(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=cs(r,s,n)}return cs(r,e.attrs,n)}function Jd(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=cs(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function cs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),$h(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Gx(t,e,n){if(n==null||n==="")return vt;let r=[],i=tu(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Wx(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&$h(t,r,n)}function Kx(t,e,n,r,i,o,s,c){i===Qt&&(i=vt);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let y=u<i.length?i[u+1]:void 0,w=l<o.length?o[l+1]:void 0,A=null,R;f===p?(u+=2,l+=2,y!==w&&(A=p,R=w)):p===null||f!==null&&f<p?(u+=2,A=f):(l+=2,A=p,R=w),A!==null&&Qx(t,e,n,r,A,R,s,c),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function Qx(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=Mx(l)?F_(u,e,n,i,ki(l),s):void 0;if(!Vc(f)){Vc(o)||Rx(l)&&(o=F_(u,null,n,i,c,s));let p=Iw(kr(),n);oR(r,s,p,i,o)}}function F_(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=n[i+1];y===Qt&&(y=p?vt:void 0);let w=p?jd(y,r):f===r?y:void 0;if(l&&!Vc(w)&&(w=jd(u,r)),Vc(w)&&(c=w,s))return c;let A=t[i+1];i=s?Nr(A):ki(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=jd(u,r))}return c}function Vc(t){return t!==void 0}function GI(t,e){return(t.flags&(e?8:16))!==0}function Yx(t,e,n,r,i,o){let s=e.consts,c=Pi(s,i),u=fs(e,t,2,r,c);return gf(e,n,u,Pi(s,o)),u.attrs!==null&&kc(u,u.attrs,!1),u.mergedAttrs!==null&&kc(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function k(t,e,n,r){let i=be(),o=xt(),s=zt+t,c=i[He],u=o.firstCreatePass?Yx(s,o,i,e,n,r):o.data[s],l=Jx(o,i,u,c,e,t);i[s]=l;let f=Qc(u);return Or(u,!0),mI(c,l,u),!bx(u)&&Jc()&&nu(o,i,l,u),BS()===0&&Kn(l,i),$S(),f&&(hf(o,i,u),df(o,u,i)),r!==null&&ff(i,u),k}function U(){let t=Mt();Jh()?Sw():(t=t.parent,Or(t,!1));let e=t;zS(e)&&GS(),HS();let n=xt();return n.firstCreatePass&&(Xc(n,t),Kh(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&sA(e)&&Nh(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aA(e)&&Nh(n,e,be(),e.stylesWithoutHost,!1),U}function K(t,e,n,r){return k(t,e,n,r),U(),K}var Jx=(t,e,n,r,i,o)=>(Zc(!0),uI(r,i,nA()));function Zx(t,e,n,r,i){let o=e.consts,s=Pi(o,r),c=fs(e,t,8,"ng-container",s);s!==null&&kc(c,s,!0);let u=Pi(o,i);return gf(e,n,c,u),e.queries!==null&&e.queries.elementStart(e,c),c}function lu(t,e,n){let r=be(),i=xt(),o=t+zt,s=i.firstCreatePass?Zx(o,i,r,e,n):i.data[o];Or(s,!0);let c=Xx(i,r,s,t);return r[o]=c,Jc()&&nu(i,r,c,s),Kn(c,r),Qc(s)&&(hf(i,r,s),df(i,s,r)),n!=null&&ff(r,s),lu}function du(){let t=Mt(),e=xt();return Jh()?Sw():(t=t.parent,Or(t,!1)),e.firstCreatePass&&(Xc(e,t),Kh(t)&&e.queries.elementEnd(t)),du}var Xx=(t,e,n,r)=>(Zc(!0),BA(e[He],""));var Dr=void 0;function eM(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var tM=["en",[["a","p"],["AM","PM"],Dr],[["AM","PM"],Dr,Dr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dr,"{1} 'at' {0}",Dr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",eM],Zd={};function hu(t){let e=nM(t),n=L_(e);if(n)return n;let r=e.split("-")[0];if(n=L_(r),n)return n;if(r==="en")return tM;throw new H(701,!1)}function L_(t){return t in Zd||(Zd[t]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[t]),Zd[t]}var Fr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Fr||{});function nM(t){return t.toLowerCase().replace(/_/g,"-")}var Uc="en-US",rM="USD";var iM=Uc;function oM(t){typeof t=="string"&&(iM=t.toLowerCase().replace(/_/g,"-"))}function ji(t,e,n,r){let i=be(),o=xt(),s=Mt();return aM(o,i,i[He],s,t,e,r),ji}function sM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Xo],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function aM(t,e,n,r,i,o,s){let c=Qc(r),l=t.firstCreatePass&&xR(t),f=e[rn],p=RR(e),y=!0;if(r.type&3||s){let R=Wt(r,e),M=s?s(R):R,V=p.length,z=s?ne=>s(sn(ne[r.index])):r.index,$=null;if(!s&&c&&($=sM(t,e,i,r.index)),$!==null){let ne=$.__ngLastListenerFn__||$;ne.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,y=!1}else{o=U_(r,e,f,o,!1);let ne=n.listen(M,i,o);p.push(o,ne),l&&l.push(i,z,V,V+1)}}else o=U_(r,e,f,o,!1);let w=r.outputs,A;if(y&&w!==null&&(A=w[i])){let R=A.length;if(R)for(let M=0;M<R;M+=2){let V=A[M],z=A[M+1],Te=e[V][z].subscribe(o),J=p.length;p.push(o,Te),l&&l.push(i,r.index,J,-(J+1))}}}function V_(t,e,n,r){let i=me(null);try{return en(6,e,n),n(r)!==!1}catch(o){return SI(t,o),!1}finally{en(7,e,n),me(i)}}function U_(t,e,n,r,i){return function o(s){if(s===Function)return r;let c=t.componentOffset>-1?Jn(t.index,e):e;vf(c);let u=V_(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=V_(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Lr(t=1){return tA(t)}function If(t,e,n){return WI(t,"",e,"",n),If}function WI(t,e,n,r,i){let o=be(),s=BI(o,e,n,r);if(s!==Qt){let c=xt(),u=Lw();EI(c,u,o,t,s,o[He],i,!1)}return WI}function cM(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function te(t,e=""){let n=be(),r=xt(),i=t+zt,o=r.firstCreatePass?fs(r,i,1,e,null):r.data[i],s=uM(r,n,o,e,t);n[i]=s,Jc()&&nu(r,n,s,o),Or(o,!1)}var uM=(t,e,n,r,i)=>(Zc(!0),UA(e[He],r));function wt(t){return fu("",t,""),wt}function fu(t,e,n){let r=be(),i=BI(r,t,e,n);return i!==Qt&&AI(r,kr(),i),fu}function Ef(t,e,n,r,i){let o=be(),s=Ax(o,t,e,n,r,i);return s!==Qt&&AI(o,kr(),s),Ef}var lM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=hw(!1,r.type),o=i.length>0?wf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(ie(Rt))});let t=e;return t})();function ze(t){kI("NgStandalone"),t.getStandaloneInjector=e=>e.get(lM).getOrCreateStandaloneInjector(t)}function ps(t,e,n,r){return dM(be(),Aw(),t,e,n,r)}function KI(t,e){let n=t[e];return n===Qt?void 0:n}function dM(t,e,n,r,i,o){let s=e+n;return Oi(t,s,i)?UI(t,s+1,o?r.call(o,i):r(i)):KI(t,s+1)}function hM(t,e,n,r,i,o,s){let c=e+n;return jI(t,c,i,o)?UI(t,c+2,s?r.call(s,i,o):r(i,o)):KI(t,c+2)}function QI(t,e){let n=xt(),r,i=t+zt;n.firstCreatePass?(r=fM(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Cr(r.type,!0)),s,c=dt(_t);try{let u=xc(!1),l=o();return xc(u),cM(n,be(),i,l),l}finally{dt(c)}}function fM(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function YI(t,e,n,r){let i=t+zt,o=be(),s=FS(o,i);return pM(o,i)?hM(o,Aw(),e,s.transform,n,r,s):s.transform(n,r)}function pM(t,e){return t[ae].data[e].pure}var Yn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},JI=new Yn("17.3.12"),pu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ZI=new Z("");function gs(t){return!!t&&typeof t.then=="function"}function XI(t){return!!t&&typeof t.subscribe=="function"}var eE=new Z(""),tE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(eE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(gs(s))r.push(s);else if(XI(s)){let c=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Df=new Z("");function gM(){Nv(()=>{throw new H(600,!1)})}function mM(t){return t.isBoundToModule}function yM(t,e,n){try{let r=n();return gs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ms=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(Jw),this.afterRenderEffectManager=O(FI),this.externalTestViews=new Set,this.beforeRender=new ct,this.afterTick=new ct,this.componentTypes=[],this.components=[],this.isStable=O(uu).hasPendingTasks.pipe(le(r=>!r)),this._injector=O(Rt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Oc;if(!this._injector.get(tE).done){let w=!o&&cw(r),A=!1;throw new H(405,A)}let c;o?c=r:c=this._injector.get(au).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=mM(c)?void 0:this._injector.get(Qn),l=i||c.selector,f=c.create(Kt.NULL,[],l,u),p=f.location.nativeElement,y=f.injector.get(ZI,null);return y?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Xd(this.components,f),y?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new H(101,!1);let i=me(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,me(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===xI)throw new H(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:c,notifyErrorHandler:u}of this._views)vM(c,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Ph(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Ph(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Xd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Df,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Xd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new H(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vM(t,e,n){!e&&!Ph(t)||_M(t,n,e)}function Ph(t){return Yh(t)}function _M(t,e,n){let r;n?(r=0,t[G]|=1024):t[G]&64?r=0:r=1,MI(t,e,r)}var Oh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},bf=(()=>{let e=class e{compileModuleSync(r){return new Rh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=uw(r),s=cI(o.declarations).reduce((c,u)=>{let l=Sr(u);return l&&c.push(new ss(l)),c},[]);return new Oh(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wM=(()=>{let e=class e{constructor(){this.zone=O(we),this.applicationRef=O(ms)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IM(t){return[{provide:we,useFactory:t},{provide:xi,multi:!0,useFactory:()=>{let e=O(wM,{optional:!0});return()=>e.initialize()}},{provide:xi,multi:!0,useFactory:()=>{let e=O(TM);return()=>{e.initialize()}}},{provide:Jw,useFactory:EM}]}function EM(){let t=O(we),e=O(bn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function DM(t){let e=IM(()=>new we(bM(t)));return an([[],e])}function bM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var TM=(()=>{let e=class e{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=O(we),this.pendingTasks=O(uu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CM(){return typeof $localize<"u"&&$localize.locale||Uc}var gu=new Z("",{providedIn:"root",factory:()=>O(gu,re.Optional|re.SkipSelf)||CM()}),nE=new Z("",{providedIn:"root",factory:()=>rM});var rE=new Z("");var wc=null;function SM(t=[],e){return Kt.create({name:e,providers:[{provide:zc,useValue:"platform"},{provide:rE,useValue:new Set([()=>wc=null])},...t]})}function AM(t=[]){if(wc)return wc;let e=SM(t);return wc=e,gM(),RM(e),e}function RM(t){t.get(rf,null)?.forEach(n=>n())}var Vr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xM;let t=e;return t})();function xM(t){return MM(Mt(),be(),(t&16)===16)}function MM(t,e,n){if(Kc(t)&&!n){let r=Jn(t.index,e);return new Mr(r,r)}else if(t.type&47){let r=e[on];return new Mr(r,e)}return null}var kh=class{constructor(){}supports(e){return VI(e)}create(e){return new Fh(e)}},NM=(t,e)=>e,Fh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||NM}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<j_(r,i,o)?n:r,c=j_(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){let w=y<o.length?o[y]:o[y]=0,A=w+y;f<=A&&A<l&&(o[y]=w+1)}let p=s.previousIndex;o[p]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!VI(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Ex(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Lh(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new jc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Lh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Vh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},jc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Vh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function j_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function B_(){return new Tf([new kh])}var Tf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||B_()),deps:[[e,new X_,new tt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new H(901,!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:B_});let t=e;return t})();function iE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=AM(r),o=[DM(),...n||[]],c=new Lc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(we);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(bn,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:w=>{l.handleError(w)}})});let p=()=>c.destroy(),y=i.get(rE);return y.add(p),c.onDestroy(()=>{f.unsubscribe(),y.delete(p)}),yM(l,u,()=>{let w=c.get(tE);return w.runInitializers(),w.donePromise.then(()=>{let A=c.get(gu,Uc);oM(A||Uc);let R=c.get(ms);return e!==void 0&&R.bootstrap(e),R})})})}catch(e){return Promise.reject(e)}}var hE=null;function Bi(){return hE}function fE(t){hE??=t}var mu=class{};var Pt=new Z(""),Mf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>O(FM),providedIn:"platform"});let t=e;return t})();var FM=(()=>{let e=class e extends Mf{constructor(){super(),this._doc=O(Pt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bi().getBaseHref(this._doc)}onPopState(r){let i=Bi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Bi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Nf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function oE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function An(t){return t&&t[0]!=="?"?"?"+t:t}var $i=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>O(gE),providedIn:"root"});let t=e;return t})(),pE=new Z(""),gE=(()=>{let e=class e extends $i{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(Pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Nf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+An(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+An(s));this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+An(s));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ie(Mf),ie(pE,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mE=(()=>{let e=class e extends $i{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Nf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+An(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+An(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ie(Mf),ie(pE,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),_s=(()=>{let e=class e{constructor(r){this._subject=new $t,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=UM(oE(sE(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+An(i))}normalize(r){return e.stripTrailingSlash(VM(this._basePath,sE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+An(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+An(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=An,e.joinWithSlash=Nf,e.stripTrailingSlash=oE,e.\u0275fac=function(i){return new(i||e)(ie($i))},e.\u0275prov=q({token:e,factory:()=>LM(),providedIn:"root"});let t=e;return t})();function LM(){return new _s(ie($i))}function VM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function sE(t){return t.replace(/\/index.html$/,"")}function UM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var yE={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},vE=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(vE||{});var Rn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ys(t,e){let n=hu(t),r=n[Fr.NumberSymbols][e];if(typeof r>"u"){if(e===Rn.CurrencyDecimal)return n[Fr.NumberSymbols][Rn.Decimal];if(e===Rn.CurrencyGroup)return n[Fr.NumberSymbols][Rn.Group]}return r}function jM(t,e){return hu(t)[Fr.NumberFormats][e]}function BM(t){return hu(t)[Fr.Currencies]}function $M(t,e,n="en"){let r=BM(n)[t]||yE[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var HM=2;function qM(t){let e,n=yE[t];return n&&(e=n[2]),typeof e=="number"?e:HM}var zM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,aE=22,yu=".",vs="0",GM=";",WM=",",Cf="#",cE="\xA4";function KM(t,e,n,r,i,o,s=!1){let c="",u=!1;if(!isFinite(t))c=ys(n,Rn.Infinity);else{let l=ZM(t);s&&(l=JM(l));let f=e.minInt,p=e.minFrac,y=e.maxFrac;if(o){let z=o.match(zM);if(z===null)throw new Error(`${o} is not a valid digit info`);let $=z[1],ne=z[3],Te=z[5];$!=null&&(f=Sf($)),ne!=null&&(p=Sf(ne)),Te!=null?y=Sf(Te):ne!=null&&p>y&&(y=p)}XM(l,p,y);let w=l.digits,A=l.integerLen,R=l.exponent,M=[];for(u=w.every(z=>!z);A<f;A++)w.unshift(0);for(;A<0;A++)w.unshift(0);A>0?M=w.splice(A,w.length):(M=w,w=[0]);let V=[];for(w.length>=e.lgSize&&V.unshift(w.splice(-e.lgSize,w.length).join(""));w.length>e.gSize;)V.unshift(w.splice(-e.gSize,w.length).join(""));w.length&&V.unshift(w.join("")),c=V.join(ys(n,r)),M.length&&(c+=ys(n,i)+M.join("")),R&&(c+=ys(n,Rn.Exponential)+"+"+R)}return t<0&&!u?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function QM(t,e,n,r,i){let o=jM(e,vE.Currency),s=YM(o,ys(e,Rn.MinusSign));return s.minFrac=qM(r),s.maxFrac=s.minFrac,KM(t,s,e,Rn.CurrencyGroup,Rn.CurrencyDecimal,i).replace(cE,n).replace(cE,"").trim()}function YM(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(GM),i=r[0],o=r[1],s=i.indexOf(yu)!==-1?i.split(yu):[i.substring(0,i.lastIndexOf(vs)+1),i.substring(i.lastIndexOf(vs)+1)],c=s[0],u=s[1]||"";n.posPre=c.substring(0,c.indexOf(Cf));for(let f=0;f<u.length;f++){let p=u.charAt(f);p===vs?n.minFrac=n.maxFrac=f+1:p===Cf?n.maxFrac=f+1:n.posSuf+=p}let l=c.split(WM);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Cf);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function JM(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function ZM(t){let e=Math.abs(t)+"",n=0,r,i,o,s,c;for((i=e.indexOf(yu))>-1&&(e=e.replace(yu,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===vs;o++);if(o===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===vs;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(e.charAt(o))}return i>aE&&(r=r.splice(0,aE-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function XM(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,c=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(c>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,f=r.reduceRight(function(p,y,w,A){return y=y+p,A[w]=y<10?y:y-10,u&&(A[w]===0&&w>=l?A.pop():u=!1),y>=10?1:0},0);f&&(r.unshift(f),t.integerLen++)}function Sf(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function _E(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Af=/\s+/,uE=[],wE=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=uE,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Af):uE}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Af):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Af).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(_t(hs),_t(cu))},e.\u0275dir=Fi({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Dn.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Rf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},IE=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,c)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Rf(o.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,c),lE(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);lE(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(_t(Ui),_t(su),_t(Tf))},e.\u0275dir=Fi({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function lE(t,e){t.context.$implicit=e.item}var Xn=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new xf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){dE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){dE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(_t(Ui),_t(su))},e.\u0275dir=Fi({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),xf=class{constructor(){this.$implicit=null,this.ngIf=null}};function dE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ht(e)}'.`)}function eN(t,e){return new H(2100,!1)}var EE=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,o="symbol",s,c){if(!tN(r))return null;c||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let u=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?u=$M(u,o==="symbol"?"wide":"narrow",c):u=o);try{let l=nN(r);return QM(l,c,u,i,s)}catch(l){throw eN(e,l.message)}}};e.\u0275fac=function(i){return new(i||e)(_t(gu,16),_t(nE,16))},e.\u0275pipe=ow({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function tN(t){return!(t==null||t===""||t!==t)}function nN(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Yt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qc({type:e}),e.\u0275inj=Bc({});let t=e;return t})(),DE="browser",rN="server";function Pf(t){return t===rN}var vu=class{};var Ff=class extends mu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Lf=class t extends Ff{static makeCurrent(){fE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=iN();return n==null?null:oN(n)}resetBaseElement(){Is=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _E(document.cookie,e)}},Is=null;function iN(){return Is=Is||document.querySelector("base"),Is?Is.getAttribute("href"):null}function oN(t){return new URL(t,document.baseURI).pathname}var sN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Vf=new Z(""),SE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ie(Vf),ie(we))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),_u=class{constructor(e){this._doc=e}},Of="ng-app-id",AE=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Pf(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Of}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Of),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Of,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,c=s.get(i)?.elements;c?c.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ie(Pt),ie(nf),ie(of,8),ie(Zn))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),kf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jf=/%COMP%/g,RE="%COMP%",aN=`_nghost-${RE}`,cN=`_ngcontent-${RE}`,uN=!0,lN=new Z("",{providedIn:"root",factory:()=>uN});function dN(t){return cN.replace(jf,t)}function hN(t){return aN.replace(jf,t)}function xE(t,e){return e.map(n=>n.replace(jf,t))}var bE=(()=>{let e=class e{constructor(r,i,o,s,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Pf(u),this.defaultRenderer=new Es(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===nn.ShadowDom&&(i=Ne(j({},i),{encapsulation:nn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof wu?o.applyToHost(r):o instanceof Ds&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case nn.Emulated:s=new wu(l,f,i,this.appId,p,c,u,y);break;case nn.ShadowDom:return new Uf(l,f,r,i,c,u,this.nonce,y);default:s=new Ds(l,f,i,p,c,u,y);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ie(SE),ie(AE),ie(nf),ie(lN),ie(Pt),ie(Zn),ie(we),ie(of))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Es=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(kf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(TE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(TE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=kf[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=kf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Bi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function TE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Uf=class extends Es{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=xE(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ds=class extends Es{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?xE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},wu=class extends Ds{constructor(e,n,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,c,u,l),this.contentAttr=dN(l),this.hostAttr=hN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},fN=(()=>{let e=class e extends _u{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(ie(Pt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),CE=["alt","control","meta","shift"],pN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},mN=(()=>{let e=class e extends _u{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bi().onAndCancel(r,s.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),CE.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),c+=f+".")}),c+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let o=pN[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),CE.forEach(c=>{if(c!==o){let u=gN[c];u(r)&&(s+=c+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ie(Pt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function ME(t,e){return iE(j({rootComponent:t},yN(e)))}function yN(t){return{appProviders:[...EN,...t?.providers??[]],platformProviders:IN}}function vN(){Lf.makeCurrent()}function _N(){return new bn}function wN(){return iI(document),document}var IN=[{provide:Zn,useValue:DE},{provide:rf,useValue:vN,multi:!0},{provide:Pt,useFactory:wN,deps:[]}];var EN=[{provide:zc,useValue:"root"},{provide:bn,useFactory:_N,deps:[]},{provide:Vf,useClass:fN,multi:!0,deps:[Pt,we,Zn]},{provide:Vf,useClass:mN,multi:!0,deps:[Pt]},bE,AE,SE,{provide:os,useExisting:bE},{provide:vu,useClass:sN,deps:[]},[]];var NE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ie(Pt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var X="primary",Vs=Symbol("RouteTitle"),zf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Wi(t){return new zf(t)}function bN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s.startsWith(":"))i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function TN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!cn(t[n],e[n]))return!1;return!0}function cn(t,e){let n=t?Gf(t):void 0,r=e?Gf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!VE(t[i],e[i]))return!1;return!0}function Gf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function VE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function UE(t){return t.length>0?t[t.length-1]:null}function rr(t){return Pd(t)?t:gs(t)?Ue(Promise.resolve(t)):Y(t)}var CN={exact:BE,subset:$E},jE={exact:SN,subset:AN,ignored:()=>!0};function PE(t,e,n){return CN[n.paths](t.root,e.root,n.matrixParams)&&jE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function SN(t,e){return cn(t,e)}function BE(t,e,n){if(!jr(t.segments,e.segments)||!Du(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!BE(t.children[r],e.children[r],n))return!1;return!0}function AN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>VE(t[n],e[n]))}function $E(t,e,n){return HE(t,e,e.segments,n)}function HE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!jr(i,n)||e.hasChildren()||!Du(i,n,r))}else if(t.segments.length===n.length){if(!jr(t.segments,n)||!Du(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!$E(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!jr(t.segments,i)||!Du(t.segments,i,r)||!t.children[X]?!1:HE(t.children[X],e,o,r)}}function Du(t,e,n){return e.every((r,i)=>jE[n](t[i].parameters,r.parameters))}var er=class{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){return MN.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bu(this)}},Ur=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Wi(this.parameters),this._parameterMap}toString(){return zE(this)}};function RN(t,e){return jr(t,e)&&t.every((n,r)=>cn(n.parameters,e[r].parameters))}function jr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function xN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var vp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new Cu,providedIn:"root"});let t=e;return t})(),Cu=class{parse(e){let n=new Kf(e);return new er(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${bs(e.root,!0)}`,r=ON(e.queryParams),i=typeof e.fragment=="string"?`#${NN(e.fragment)}`:"";return`${n}${r}${i}`}},MN=new Cu;function bu(t){return t.segments.map(e=>zE(e)).join("/")}function bs(t,e){if(!t.hasChildren())return bu(t);if(e){let n=t.children[X]?bs(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${bs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=xN(t,(r,i)=>i===X?[bs(t.children[X],!1)]:[`${i}:${bs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${bu(t)}/${n[0]}`:`${bu(t)}/(${n.join("//")})`}}function qE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Iu(t){return qE(t).replace(/%3B/gi,";")}function NN(t){return encodeURI(t)}function Wf(t){return qE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tu(t){return decodeURIComponent(t)}function OE(t){return Tu(t.replace(/\+/g,"%20"))}function zE(t){return`${Wf(t.path)}${PN(t.parameters)}`}function PN(t){return Object.entries(t).map(([e,n])=>`;${Wf(e)}=${Wf(n)}`).join("")}function ON(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Iu(n)}=${Iu(i)}`).join("&"):`${Iu(n)}=${Iu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var kN=/^[^\/()?;#]+/;function Bf(t){let e=t.match(kN);return e?e[0]:""}var FN=/^[^\/()?;=#]+/;function LN(t){let e=t.match(FN);return e?e[0]:""}var VN=/^[^=?&#]+/;function UN(t){let e=t.match(VN);return e?e[0]:""}var jN=/^[^&#]+/;function BN(t){let e=t.match(jN);return e?e[0]:""}var Kf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new _e(e,n)),r}parseSegment(){let e=Bf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Ur(Tu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=LN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Bf(this.remaining);i&&(r=i,this.capture(r))}e[Tu(n)]=Tu(r)}parseQueryParam(e){let n=UN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=BN(this.remaining);s&&(r=s,this.capture(r))}let i=OE(n),o=OE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Bf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=X);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[X]:new _e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function GE(t){return t.segments.length>0?new _e([],{[X]:t}):t}function WE(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=WE(i);if(r===X&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new _e(t.segments,e);return $N(n)}function $N(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new _e(t.segments.concat(e.segments),e.children)}return t}function Ki(t){return t instanceof er}function HN(t,e,n=null,r=null){let i=KE(t);return QE(i,e,n,r)}function KE(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new _e(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=GE(r);return e??i}function QE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return $f(i,i,i,n,r);let o=qN(e);if(o.toRoot())return $f(i,i,new _e([],{}),n,r);let s=zN(o,i,t),c=s.processChildren?Ss(s.segmentGroup,s.index,o.commands):JE(s.segmentGroup,s.index,o.commands);return $f(i,s.segmentGroup,c,n,r)}function Su(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function xs(t){return typeof t=="object"&&t!=null&&t.outlets}function $f(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=YE(t,e,n);let c=GE(WE(s));return new er(c,o,i)}function YE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=YE(o,e,n)}),new _e(t.segments,r)}var Au=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Su(r[0]))throw new H(4003,!1);let i=r.find(xs);if(i&&i!==UE(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Au(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Au(n,e,r)}var zi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function zN(t,e,n){if(t.isAbsolute)return new zi(e,!0,0);if(!n)return new zi(e,!1,NaN);if(n.parent===null)return new zi(n,!0,0);let r=Su(t.commands[0])?0:1,i=n.segments.length-1+r;return GN(n,i,t.numberOfDoubleDots)}function GN(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new zi(r,!1,i-o)}function WN(t){return xs(t[0])?t[0].outlets:{[X]:t}}function JE(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return Ss(t,e,n);let r=KN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new _e(t.segments.slice(0,r.pathIndex),{});return o.children[X]=new _e(t.segments.slice(r.pathIndex),t.children),Ss(o,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?Qf(t,e,n):r.match?Ss(t,0,i):Qf(t,e,n)}function Ss(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=WN(n),i={};if(Object.keys(r).some(o=>o!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let o=Ss(t.children[X],e,n);return new _e(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=JE(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(t.segments,i)}}function KN(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(xs(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!FE(u,l,s))return o;r+=2}else{if(!FE(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Qf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(xs(o)){let u=QN(o.outlets);return new _e(r,u)}if(i===0&&Su(n[0])){let u=t.segments[e];r.push(new Ur(u.path,kE(n[0]))),i++;continue}let s=xs(o)?o.outlets[X]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Su(c)?(r.push(new Ur(s,kE(c))),i+=2):(r.push(new Ur(s,{})),i++)}return new _e(r,{})}function QN(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Qf(new _e([],{}),0,r))}),e}function kE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function FE(t,e,n){return t==n.path&&cn(e,n.parameters)}var As="imperative",Qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qe||{}),Ot=class{constructor(e,n){this.id=e,this.url=n}},Ms=class extends Ot{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Br=class extends Ot{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Dt||{}),Yf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Yf||{}),tr=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$r=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationSkipped}},Ns=class extends Ot{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ru=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jf=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zf=class extends Ot{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xf=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tp=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},np=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},rp=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ip=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},op=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sp=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ps=class{},Os=class{constructor(e){this.url=e}};var ap=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ku,this.attachRef=null}},ku=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new ap,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=cp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=cp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=up(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return up(e,this._root).map(n=>n.value)}};function cp(t,e){if(t===e.value)return e;for(let n of e.children){let r=cp(t,n);if(r)return r}return null}function up(t,e){if(t===e.value)return[e];for(let n of e.children){let r=up(t,n);if(r.length)return r.unshift(e),r}return[]}var Et=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function qi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Mu=class extends xu{constructor(e,n){super(e),this.snapshot=n,wp(this,e)}toString(){return this.snapshot.toString()}};function ZE(t){let e=YN(t),n=new Ke([new Ur("",{})]),r=new Ke({}),i=new Ke({}),o=new Ke({}),s=new Ke(""),c=new nr(n,r,o,s,i,X,t,e.root);return c.snapshot=e.root,new Mu(new Et(c,[]),e)}function YN(t){let e={},n={},r={},i="",o=new ks([],e,r,i,n,X,t,null,{});return new Nu("",new Et(o,[]))}var nr=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(l=>l[Vs]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>Wi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>Wi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _p(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&eD(i)&&(r.resolve[Vs]=i.title),r}var ks=class{get title(){return this.data?.[Vs]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Nu=class extends xu{constructor(e,n){super(n),this.url=e,wp(this,n)}toString(){return XE(this._root)}};function wp(t,e){e.value._routerState=t,e.children.forEach(n=>wp(t,n))}function XE(t){let e=t.children.length>0?` { ${t.children.map(XE).join(", ")} } `:"";return`${t.value}${e}`}function Hf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,cn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),cn(e.params,n.params)||t.paramsSubject.next(n.params),TN(e.url,n.url)||t.urlSubject.next(n.url),cn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function lp(t,e){let n=cn(t.params,e.params)&&RN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||lp(t.parent,e.parent))}function eD(t){return typeof t.title=="string"||t.title===null}var Ip=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=X,this.activateEvents=new $t,this.deactivateEvents=new $t,this.attachEvents=new $t,this.detachEvents=new $t,this.parentContexts=O(ku),this.location=O(Ui),this.changeDetector=O(Vr),this.environmentInjector=O(Rt),this.inputBinder=O(Ep,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=r;let o=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new dp(r,u,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Fi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yc]});let t=e;return t})(),dp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===nr?this.route:e===ku?this.childContexts:this.parent.get(e,n)}},Ep=new Z("");function JN(t,e,n){let r=Fs(t,e._root,n?n._root:void 0);return new Mu(r,e)}function Fs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=ZN(t,e,n);return new Et(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Fs(t,c)),s}}let r=XN(e.value),i=e.children.map(o=>Fs(t,o));return new Et(r,i)}}function ZN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fs(t,r,i);return Fs(t,r)})}function XN(t){return new nr(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var tD="ngNavigationCancelingError";function nD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ki(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rD(!1,Dt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function rD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[tD]=!0,n.cancellationCode=e,n}function eP(t){return iD(t)&&Ki(t.url)}function iD(t){return!!t&&t[tD]}var tP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["ng-component"]],standalone:!0,features:[ze],decls:1,vars:0,template:function(i,o){i&1&&K(0,"router-outlet")},dependencies:[Ip],encapsulation:2});let t=e;return t})();function nP(t,e){return t.providers&&!t._injector&&(t._injector=wf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Dp(t){let e=t.children&&t.children.map(Dp),n=e?Ne(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=tP),n}function un(t){return t.outlet||X}function rP(t,e){let n=t.filter(r=>un(r)===e);return n.push(...t.filter(r=>un(r)!==e)),n}function Us(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var iP=(t,e,n,r)=>le(i=>(new hp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),hp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Hf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=qi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=qi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=qi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=qi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new sp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ip(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Hf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Hf(c.route.value),this.activateChildRoutes(e,null,s.children)}else{let c=Us(i.snapshot);s.attachRef=null,s.route=i,s.injector=c,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Pu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Gi=class{constructor(e,n){this.component=e,this.route=n}};function oP(t,e,n){let r=t._root,i=e?e._root:null;return Ts(r,i,n,[r.value])}function sP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Yi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!G_(t)?t:e.get(t):r}function Ts(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=qi(e);return t.children.forEach(s=>{aP(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Rs(c,n.getContext(s),i)),i}function aP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=cP(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Pu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ts(t,e,c?c.children:null,r,i):Ts(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Gi(c.outlet.component,s))}else s&&Rs(e,c,i),i.canActivateChecks.push(new Pu(r)),o.component?Ts(t,null,c?c.children:null,r,i):Ts(t,null,n,r,i);return i}function cP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!jr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!jr(t.url,e.url)||!cn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lp(t,e)||!cn(t.queryParams,e.queryParams);case"paramsChange":default:return!lp(t,e)}}function Rs(t,e,n){let r=qi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Rs(s,e.children.getContext(o),n):Rs(s,null,n):Rs(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Gi(e.outlet.component,i)):n.canDeactivateChecks.push(new Gi(null,i)):n.canDeactivateChecks.push(new Gi(null,i))}function js(t){return typeof t=="function"}function uP(t){return typeof t=="boolean"}function lP(t){return t&&js(t.canLoad)}function dP(t){return t&&js(t.canActivate)}function hP(t){return t&&js(t.canActivateChild)}function fP(t){return t&&js(t.canDeactivate)}function pP(t){return t&&js(t.canMatch)}function oD(t){return t instanceof wn||t?.name==="EmptyError"}var Eu=Symbol("INITIAL_VALUE");function Qi(){return Ut(t=>dc(t.map(e=>e.pipe(In(1),Vd(Eu)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===Eu)return Eu;if(n===!1||n instanceof er)return n}return!0}),Vt(e=>e!==Eu),In(1)))}function gP(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Y(Ne(j({},n),{guardsResult:!0})):mP(s,r,i,t).pipe(je(c=>c&&uP(c)?yP(r,o,t,e):Y(c)),le(c=>Ne(j({},n),{guardsResult:c})))})}function mP(t,e,n,r){return Ue(t).pipe(je(i=>EP(i.component,i.route,n,e,r)),Xt(i=>i!==!0,!0))}function yP(t,e,n,r){return Ue(e).pipe(Di(i=>Ei(_P(i.route.parent,r),vP(i.route,r),IP(t,i.path,n),wP(t,i.route,n))),Xt(i=>i!==!0,!0))}function vP(t,e){return t!==null&&e&&e(new op(t)),Y(!0)}function _P(t,e){return t!==null&&e&&e(new rp(t)),Y(!0)}function wP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>hc(()=>{let s=Us(e)??n,c=Yi(o,s),u=dP(c)?c.canActivate(e,t):Pr(s,()=>c(e,t));return rr(u).pipe(Xt())}));return Y(i).pipe(Qi())}function IP(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>sP(s)).filter(s=>s!==null).map(s=>hc(()=>{let c=s.guards.map(u=>{let l=Us(s.node)??n,f=Yi(u,l),p=hP(f)?f.canActivateChild(r,t):Pr(l,()=>f(r,t));return rr(p).pipe(Xt())});return Y(c).pipe(Qi())}));return Y(o).pipe(Qi())}function EP(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(c=>{let u=Us(e)??i,l=Yi(c,u),f=fP(l)?l.canDeactivate(t,e,n,r):Pr(u,()=>l(t,e,n,r));return rr(f).pipe(Xt())});return Y(s).pipe(Qi())}function DP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let c=Yi(s,t),u=lP(c)?c.canLoad(e,n):Pr(t,()=>c(e,n));return rr(u)});return Y(o).pipe(Qi(),sD(r))}function sD(t){return Td(Be(e=>{if(Ki(e))throw nD(t,e)}),le(e=>e===!0))}function bP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let c=Yi(s,t),u=pP(c)?c.canMatch(e,n):Pr(t,()=>c(e,n));return rr(u)});return Y(o).pipe(Qi(),sD(r))}var Ls=class{constructor(e){this.segmentGroup=e||null}},Ou=class extends Error{constructor(e){super(),this.urlTree=e}};function Hi(t){return Ii(new Ls(t))}function TP(t){return Ii(new H(4e3,!1))}function CP(t){return Ii(rD(!1,Dt.GuardRejected))}var fp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[X])return TP(e.redirectTo);i=i.children[X]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ou(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new er(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},pp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SP(t,e,n,r,i){let o=bp(t,e,n);return o.matched?(r=nP(e,r),bP(r,e,n,i).pipe(le(s=>s===!0?o:j({},pp)))):Y(o)}function bp(t,e,n){if(e.path==="**")return AP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},pp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||bN)(n,t,e);if(!i)return j({},pp);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function AP(t){return{matched:!0,parameters:t.length>0?UE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function LE(t,e,n,r){return n.length>0&&MP(t,n,r)?{segmentGroup:new _e(e,xP(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&NP(t,n,r)?{segmentGroup:new _e(t.segments,RP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function RP(t,e,n,r){let i={};for(let o of n)if(Fu(t,e,o)&&!r[un(o)]){let s=new _e([],{});i[un(o)]=s}return j(j({},r),i)}function xP(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&un(r)!==X){let i=new _e([],{});n[un(r)]=i}return n}function MP(t,e,n){return n.some(r=>Fu(t,e,r)&&un(r)!==X)}function NP(t,e,n){return n.some(r=>Fu(t,e,r))}function Fu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function PP(t,e,n,r){return un(t)!==r&&(r===X||!Fu(e,n,t))?!1:bp(e,t,n).matched}function OP(t,e,n){return e.length===0&&!t.children[n]}var gp=class{};function kP(t,e,n,r,i,o,s="emptyOnly"){return new mp(t,e,n,r,i,s,o).recognize()}var FP=31,mp=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new fp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=LE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(n=>{let r=new ks([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,{},X,this.rootComponentType,null,{}),i=new Et(r,n),o=new Nu("",i),s=HN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,X).pipe(qn(r=>{if(r instanceof Ou)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ls?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=_p(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(le(o=>o instanceof Et?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Ue(i).pipe(Di(o=>{let s=r.children[o],c=rP(n,o);return this.processSegmentGroup(e,c,s,o)}),Ld((o,s)=>(o.push(...s),o)),zn(null),Fd(),je(o=>{if(o===null)return Hi(r);let s=aD(o);return LP(s),Y(s)}))}processSegment(e,n,r,i,o,s){return Ue(n).pipe(Di(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s).pipe(qn(u=>{if(u instanceof Ls)return Y(null);throw u}))),Xt(c=>!!c),qn(c=>{if(oD(c))return OP(r,i,o)?Y(new gp):Hi(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,c){return PP(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Hi(i):Hi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=bp(n,i,o);if(!c)return Hi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FP&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(je(y=>this.processSegment(e,r,n,y.concat(f),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=SP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Ut(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ut(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:y}=c,w=new ks(f,y,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,UP(r),un(r),r.component??r._loadedComponent??null,r,jP(r)),{segmentGroup:A,slicedSegments:R}=LE(n,f,p,u);if(R.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(le(V=>V===null?null:new Et(w,V)));if(u.length===0&&R.length===0)return Y(new Et(w,[]));let M=un(r)===o;return this.processSegment(l,u,A,R,M?X:o,!0).pipe(le(V=>new Et(w,V instanceof Et?[V]:[])))}))):Hi(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):DP(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(Be(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):CP(n))):Y({routes:[],injector:e})}};function LP(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function VP(t){let e=t.value.routeConfig;return e&&e.path===""}function aD(t){let e=[],n=new Set;for(let r of t){if(!VP(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=aD(r.children);e.push(new Et(r.value,i))}return e.filter(r=>!n.has(r))}function UP(t){return t.data||{}}function jP(t){return t.resolve||{}}function BP(t,e,n,r,i,o){return je(s=>kP(t,e,n,r,s.extractedUrl,i,o).pipe(le(({state:c,tree:u})=>Ne(j({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function $P(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of cD(u))s.add(l);let c=0;return Ue(s).pipe(Di(u=>o.has(u)?HP(u,r,t,e):(u.data=_p(u,u.parent,t).resolve,Y(void 0))),Be(()=>c++),bi(1),je(u=>c===s.size?Y(n):yt))})}function cD(t){let e=t.children.map(n=>cD(n)).flat();return[t,...e]}function HP(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!eD(i)&&(o[Vs]=i.title),qP(o,t,e,r).pipe(le(s=>(t._resolvedData=s,t.data=_p(t,t.parent,n).resolve,null)))}function qP(t,e,n,r){let i=Gf(t);if(i.length===0)return Y({});let o={};return Ue(i).pipe(je(s=>zP(t[s],e,n,r).pipe(Xt(),Be(c=>{o[s]=c}))),bi(1),kd(o),qn(s=>oD(s)?yt:Ii(s)))}function zP(t,e,n,r){let i=Us(e)??r,o=Yi(t,i),s=o.resolve?o.resolve(e,n):Pr(i,()=>o(e,n));return rr(s)}function qf(t){return Ut(e=>{let n=t(e);return n?Ue(n).pipe(le(()=>e)):Y(e)})}var uD=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===X);return i}getResolvedTitleForRoute(r){return r.data[Vs]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>O(GP),providedIn:"root"});let t=e;return t})(),GP=(()=>{let e=class e extends uD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ie(NE))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tp=new Z("",{providedIn:"root",factory:()=>({})}),Cp=new Z(""),WP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(bf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Y(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=rr(r.loadComponent()).pipe(le(lD),Be(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Wo(()=>{this.componentLoaders.delete(r)})),o=new yi(i,()=>new ct).pipe(mi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=KP(i,this.compiler,r,this.onLoadEndListener).pipe(Wo(()=>{this.childrenLoaders.delete(i)})),c=new yi(s,()=>new ct).pipe(mi());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KP(t,e,n,r){return rr(t.loadChildren()).pipe(le(lD),je(i=>i instanceof as||Array.isArray(i)?Y(i):Ue(e.compileModuleAsync(i))),le(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Cp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dp),injector:o}}))}function QP(t){return t&&typeof t=="object"&&"default"in t}function lD(t){return QP(t)?t.default:t}var Sp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>O(YP),providedIn:"root"});let t=e;return t})(),YP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JP=new Z("");var ZP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ct,this.transitionAbortSubject=new ct,this.configLoader=O(WP),this.environmentInjector=O(Rt),this.urlSerializer=O(vp),this.rootContexts=O(ku),this.location=O(_s),this.inputBindingEnabled=O(Ep,{optional:!0})!==null,this.titleStrategy=O(uD),this.options=O(Tp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Sp),this.createViewTransition=O(JP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let r=o=>this.events.next(new tp(o)),i=o=>this.events.next(new np(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ne(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:As,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vt(s=>s.id!==0),le(s=>Ne(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ut(s=>{let c=!1,u=!1;return Y(s).pipe(Ut(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Dt.SupersededByNewNavigation),yt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ne(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let y="";return this.events.next(new $r(l.id,this.urlSerializer.serialize(l.rawUrl),y,Yf.IgnoredSameUrlNavigation)),l.resolve(null),yt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Y(l).pipe(Ut(y=>{let w=this.transitions?.getValue();return this.events.next(new Ms(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),w!==this.transitions?.getValue()?yt:Promise.resolve(y)}),BP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Ne(j({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let w=new Ru(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:w,source:A,restoredState:R,extras:M}=l,V=new Ms(y,this.urlSerializer.serialize(w),A,R);this.events.next(V);let z=ZE(this.rootComponentType).snapshot;return this.currentTransition=s=Ne(j({},l),{targetSnapshot:z,urlAfterRedirects:w,extras:Ne(j({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,Y(s)}else{let y="";return this.events.next(new $r(l.id,this.urlSerializer.serialize(l.extractedUrl),y,Yf.IgnoredByUrlHandlingStrategy)),l.resolve(null),yt}}),Be(l=>{let f=new Jf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),le(l=>(this.currentTransition=s=Ne(j({},l),{guards:oP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),gP(this.environmentInjector,l=>this.events.next(l)),Be(l=>{if(s.guardsResult=l.guardsResult,Ki(l.guardsResult))throw nD(this.urlSerializer,l.guardsResult);let f=new Zf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Vt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Dt.GuardRejected),!1)),qf(l=>{if(l.guards.canActivateChecks.length)return Y(l).pipe(Be(f=>{let p=new Xf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Ut(f=>{let p=!1;return Y(f).pipe($P(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",Dt.NoDataFromResolver)}}))}),Be(f=>{let p=new ep(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),qf(l=>{let f=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(Be(w=>{p.component=w}),le(()=>{})));for(let w of p.children)y.push(...f(w));return y};return dc(f(l.targetSnapshot.root)).pipe(zn(null),In(1))}),qf(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:l,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?Ue(p).pipe(le(()=>s)):Y(s)}),le(l=>{let f=JN(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ne(j({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),Be(()=>{this.events.next(new Ps)}),iP(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),In(1),Be({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Br(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Ud(this.transitionAbortSubject.pipe(Be(l=>{throw l}))),Wo(()=>{!c&&!u&&this.cancelNavigationTransition(s,"",Dt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),qn(l=>{if(u=!0,iD(l))this.events.next(new tr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),eP(l)?this.events.next(new Os(l.url)):s.resolve(!1);else{this.events.next(new Ns(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return yt}))}))}cancelNavigationTransition(r,i,o){let s=new tr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XP(t){return t!==As}var eO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>O(tO),providedIn:"root"});let t=e;return t})(),yp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},tO=(()=>{let e=class e extends yp{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tf(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>O(nO),providedIn:"root"});let t=e;return t})(),nO=(()=>{let e=class e extends dD{constructor(){super(...arguments),this.location=O(_s),this.urlSerializer=O(vp),this.options=O(Tp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Sp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ZE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ms)this.stateMemento=this.createStateMemento();else if(r instanceof $r)this.rawUrlTree=i.initialUrl;else if(r instanceof Ru){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Ps?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof tr&&(r.code===Dt.GuardRejected||r.code===Dt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ns?this.restoreHistory(i,!0):r instanceof Br&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,c=j(j({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",c)}else{let s=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tf(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Cs||{});function rO(t,e){t.events.pipe(Vt(n=>n instanceof Br||n instanceof tr||n instanceof Ns||n instanceof $r),le(n=>n instanceof Br||n instanceof $r?Cs.COMPLETE:(n instanceof tr?n.code===Dt.Redirect||n.code===Dt.SupersededByNewNavigation:!1)?Cs.REDIRECTING:Cs.FAILED),Vt(n=>n!==Cs.REDIRECTING),In(1)).subscribe(()=>{e()})}function iO(t){throw t}var oO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ji=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(pu),this.stateManager=O(dD),this.options=O(Tp,{optional:!0})||{},this.pendingTasks=O(uu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(ZP),this.urlSerializer=O(vp),this.location=O(_s),this.urlHandlingStrategy=O(Sp),this._events=new ct,this.errorHandler=this.options.errorHandler||iO,this.navigated=!1,this.routeReuseStrategy=O(eO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Cp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Ep,{optional:!0}),this.eventsSubscription=new Pe,this.isNgZoneEnabled=O(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof tr&&i.code!==Dt.Redirect&&i.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Br)this.navigated=!0;else if(i instanceof Os){let c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||XP(o.source)};this.scheduleNavigation(c,As,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}cO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),As,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Dp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,p=null;switch(u){case"merge":p=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let w=o?o.snapshot:this.routerState.snapshot.root;y=KE(w)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),y=this.currentUrlTree.root}return QE(y,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ki(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,As,null,i)}navigate(r,i={skipLocationChange:!1}){return aO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=j({},oO):i===!1?o=j({},sO):o=i,Ki(r))return PE(this.currentUrlTree,r,o);let s=this.parseUrl(r);return PE(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((y,w)=>{u=y,l=w});let p=this.pendingTasks.add();return rO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function cO(t){return!(t instanceof Ps)&&!(t instanceof Os)}var uO=new Z("");function hD(t,...e){return an([{provide:Cp,multi:!0,useValue:t},[],{provide:nr,useFactory:lO,deps:[Ji]},{provide:Df,multi:!0,useFactory:hO},e.map(n=>n.\u0275providers)])}function lO(t){return t.routerState.root}function dO(t,e){return{\u0275kind:t,\u0275providers:e}}function hO(){let t=O(Kt);return e=>{let n=t.get(ms);if(e!==n.components[0])return;let r=t.get(Ji),i=t.get(fO);t.get(pO)===1&&r.initialNavigation(),t.get(gO,null,re.Optional)?.setUpPreloading(),t.get(uO,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fO=new Z("",{factory:()=>new ct}),pO=new Z("",{providedIn:"root",factory:()=>1});var gO=new Z("");function fD(){return dO(6,[{provide:$i,useClass:mE}])}function mO(t,e){if(t&1&&K(0,"i",2),t&2){let n=Lr();qI(n.iconClasses)}}var pD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["cw-button"]],inputs:{iconClasses:"iconClasses",text:"text"},standalone:!0,features:[ze],decls:3,vars:2,consts:[["class","icon",3,"class",4,"ngIf"],[1,"text"],[1,"icon"]],template:function(i,o){i&1&&(Nt(0,mO,1,2,"i",0),k(1,"div",1),te(2),U()),i&2&&(Se("ngIf",o.iconClasses),De(2),wt(o.text))},dependencies:[Yt,Xn],styles:['[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative;padding:1rem;color:var(--white-primary);gap:1rem}[_nghost-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}[_nghost-%COMP%]:hover:before{opacity:1}[_nghost-%COMP%]:hover{border-color:#000}[_nghost-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.icon[_ngcontent-%COMP%]{z-index:4}.text[_ngcontent-%COMP%]{z-index:4;transition:color .2s ease-in}']});let t=e;return t})();function yO(t,e){t&1&&(k(0,"div",11),K(1,"img",12),U())}var gD=(()=>{let e=class e{constructor(){this.imageLoaded=!1,this.router=O(Ji)}onImageLoad(){this.imageLoaded=!0}showDesign(){this.router.navigate(["/design",this.design.id])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["cw-home-card"]],inputs:{design:"design"},standalone:!0,features:[ze],decls:18,vars:9,consts:[["loading","lazy",1,"card",3,"click","load","src"],["class","loader",4,"ngIf"],[1,"info",3,"click"],[1,"row","basic-info"],[1,"name"],[1,"price"],[1,"row","tags"],[1,"tag"],[1,"row","bottom"],[1,"click"],["iconClasses","fas fa-shopping-cart","text","Dodaj u korpu",3,"click"],[1,"loader"],["src","assets/current-wave-skeleton.svg","alt","Loading..."]],template:function(i,o){i&1&&(k(0,"img",0),ji("click",function(){return o.showDesign()})("load",function(){return o.onImageLoad()}),U(),Nt(1,yO,2,0,"div",1),k(2,"div",2),ji("click",function(){return o.showDesign()}),k(3,"div",3)(4,"div",4),te(5),U(),k(6,"div",5),te(7),QI(8,"currency"),U()(),k(9,"div",6)(10,"div",7),te(11),U(),k(12,"div",7),te(13),U()(),k(14,"div",8)(15,"div",9),te(16,"(Klikni za jo\u0161 informacija)"),U(),k(17,"cw-button",10),ji("click",function(){return o.showDesign()}),U()()()),i&2&&(Se("src",o.design.image,Vi),De(),Se("ngIf",!o.imageLoaded),De(4),wt(o.design.name),De(2),wt(YI(8,6,o.design.price,"RSD")),De(4),wt(o.design.category),De(2),wt(o.design.type))},dependencies:[pD,Yt,Xn,EE],styles:["[_nghost-%COMP%]{width:100%;position:relative;transition:.2s ease;border-radius:.8rem}[_nghost-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}[_nghost-%COMP%]:hover   .info[_ngcontent-%COMP%]{height:max(13rem,30%);background-color:var(--white-primary)}.card[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{border-radius:.8rem;width:100%;overflow:hidden}.info[_ngcontent-%COMP%]{position:absolute;bottom:0;height:0px;background-color:var(--white-primary);width:100%;border-radius:.8rem;padding-inline:1rem;box-sizing:border-box;overflow:hidden;display:flex;flex-direction:column;transition:.4s ease-in-out}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.name[_ngcontent-%COMP%]{flex-grow:1;padding:5px}.basic-info[_ngcontent-%COMP%]{border-bottom:1px solid black;padding-bottom:5px;margin-top:2rem}.price[_ngcontent-%COMP%]{background:var(--gradient-primary);color:var(--white-primary);display:flex;justify-content:center;align-items:center;padding:5px;border-radius:5px}.tags[_ngcontent-%COMP%]{margin-top:5px;justify-content:start;gap:3px;font-family:var(--ff-secondary)}.tag[_ngcontent-%COMP%]{background-color:var(--clr-primary-700);padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-300);color:var(--white-primary)}.bottom[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:2rem}.click[_ngcontent-%COMP%]{color:var(--white-primary-transparent);font-family:var(--ff-secondary);opacity:.5;font-size:var(--fs-300)}"]});let t=e;return t})();var yD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|l>>6,w=l&63;u||(w=64,s||(y=64)),r.push(n[f],n[p],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Rp;let y=o<<2|c>>4;if(r.push(y),l!==64){let w=c<<4&240|l>>2;if(r.push(w),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Rp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_O=function(t){let e=yD(t);return vD.encodeByteArray(e,!0)},Bs=function(t){return _O(t).replace(/\./g,"")},Mp=function(t){try{return vD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var IO=()=>wO().__FIREBASE_DEFAULTS__,EO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Mp(t[1]);return e&&JSON.parse(e)},Vu=()=>{try{return IO()||EO()||DO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_D=t=>{var e,n;return(n=(e=Vu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Uu=t=>{let e=_D(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Np=()=>{var t;return(t=Vu())===null||t===void 0?void 0:t.config},wD=t=>{var e;return(e=Vu())===null||e===void 0?void 0:e[`_${t}`]};var Lu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ID(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bs(JSON.stringify(n)),Bs(JSON.stringify(s)),""].join(".")}function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ED(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function bO(){var t;let e=(t=Vu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CD(){return!bO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pp(){try{return typeof indexedDB=="object"}catch{return!1}}function SD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var TO="FirebaseError",bt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}},xn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?CO(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new bt(i,c,r)}};function CO(t,e){return t.replace(SO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var SO=/\{\$([^}]+)}/g;function Zi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(mD(o)&&mD(s)){if(!Zi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function mD(t){return t!==null&&typeof t=="object"}function Op(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AD(t,e){let n=new xp(t,e);return n.subscribe.bind(n)}var xp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ap),i.error===void 0&&(i.error=Ap),i.complete===void 0&&(i.complete=Ap);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function AO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ap(){}var nz=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Hr="[DEFAULT]";var kp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Lu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xO(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RO(t){return t===Hr?void 0:t}function xO(t){return t.instantiationMode==="EAGER"}var ju=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new kp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var MO=[],se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(se||{}),NO={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},PO=se.INFO,OO={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},kO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=OO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ir=class{constructor(e){this.name=e,this._logLevel=PO,this._logHandler=kO,this._userLogHandler=null,MO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var FO=(t,e)=>e.some(n=>t instanceof n),RD,xD;function LO(){return RD||(RD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VO(){return xD||(xD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var MD=new WeakMap,Lp=new WeakMap,ND=new WeakMap,Fp=new WeakMap,Up=new WeakMap;function UO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ln(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&MD.set(n,t)}).catch(()=>{}),Up.set(e,t),e}function jO(t){if(Lp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Lp.set(t,e)}var Vp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ND.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ln(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PD(t){Vp=t(Vp)}function BO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Bu(this),e,...n);return ND.set(r,e.sort?e.sort():[e]),ln(r)}:VO().includes(t)?function(...e){return t.apply(Bu(this),e),ln(MD.get(this))}:function(...e){return ln(t.apply(Bu(this),e))}}function $O(t){return typeof t=="function"?BO(t):(t instanceof IDBTransaction&&jO(t),FO(t,LO())?new Proxy(t,Vp):t)}function ln(t){if(t instanceof IDBRequest)return UO(t);if(Fp.has(t))return Fp.get(t);let e=$O(t);return e!==t&&(Fp.set(t,e),Up.set(e,t)),e}var Bu=t=>Up.get(t);function kD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=ln(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ln(s.result),u.oldVersion,u.newVersion,ln(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var HO=["get","getKey","getAll","getAllKeys","count"],qO=["put","add","delete","clear"],jp=new Map;function OD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=qO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HO.includes(n)))return;let o=function(s,...c){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return jp.set(e,o),o}PD(t=>Ne(j({},t),{get:(e,n,r)=>OD(e,n)||t.get(e,n,r),has:(e,n)=>!!OD(e,n)||t.has(e,n)}));var $p=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function zO(t){let e=t.getComponent();return e?.type==="VERSION"}var Hp="@firebase/app",FD="0.10.11";var Mn=new ir("@firebase/app"),GO="@firebase/app-compat",WO="@firebase/analytics-compat",KO="@firebase/analytics",QO="@firebase/app-check-compat",YO="@firebase/app-check",JO="@firebase/auth",ZO="@firebase/auth-compat",XO="@firebase/database",ek="@firebase/database-compat",tk="@firebase/functions",nk="@firebase/functions-compat",rk="@firebase/installations",ik="@firebase/installations-compat",ok="@firebase/messaging",sk="@firebase/messaging-compat",ak="@firebase/performance",ck="@firebase/performance-compat",uk="@firebase/remote-config",lk="@firebase/remote-config-compat",dk="@firebase/storage",hk="@firebase/storage-compat",fk="@firebase/firestore",pk="@firebase/vertexai-preview",gk="@firebase/firestore-compat",mk="firebase",yk="10.13.2";var qp="[DEFAULT]",vk={[Hp]:"fire-core",[GO]:"fire-core-compat",[KO]:"fire-analytics",[WO]:"fire-analytics-compat",[YO]:"fire-app-check",[QO]:"fire-app-check-compat",[JO]:"fire-auth",[ZO]:"fire-auth-compat",[XO]:"fire-rtdb",[ek]:"fire-rtdb-compat",[tk]:"fire-fn",[nk]:"fire-fn-compat",[rk]:"fire-iid",[ik]:"fire-iid-compat",[ok]:"fire-fcm",[sk]:"fire-fcm-compat",[ak]:"fire-perf",[ck]:"fire-perf-compat",[uk]:"fire-rc",[lk]:"fire-rc-compat",[dk]:"fire-gcs",[hk]:"fire-gcs-compat",[fk]:"fire-fst",[gk]:"fire-fst-compat",[pk]:"fire-vertex","fire-js":"fire-js",[mk]:"fire-js-all"};var $s=new Map,_k=new Map,zp=new Map;function LD(t,e){try{t.container.addComponent(e)}catch(n){Mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dn(t){let e=t.name;if(zp.has(e))return Mn.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,t);for(let n of $s.values())LD(n,t);for(let n of _k.values())LD(n,t);return!0}function qs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xi(t){return t.settings!==void 0}var wk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new xn("app","Firebase",wk);var Gp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}};var eo=yk;function Qp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw or.create("bad-app-name",{appName:String(i)});if(n||(n=Np()),!n)throw or.create("no-options");let o=$s.get(i);if(o){if(Zi(n,o.options)&&Zi(r,o.config))return o;throw or.create("duplicate-app",{appName:i})}let s=new ju(i);for(let u of zp.values())s.addComponent(u);let c=new Gp(n,r,s);return $s.set(i,c),c}function qr(t=qp){let e=$s.get(t);if(!e&&t===qp&&Np())return Qp();if(!e)throw or.create("no-app",{appName:t});return e}function $u(){return Array.from($s.values())}function Re(t,e,n){var r;let i=(r=vk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mn.warn(c.join(" "));return}dn(new pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Ik="firebase-heartbeat-database",Ek=1,Hs="firebase-heartbeat-store",Bp=null;function BD(){return Bp||(Bp=kD(Ik,Ek,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hs)}catch(n){console.warn(n)}}}}).catch(t=>{throw or.create("idb-open",{originalErrorMessage:t.message})})),Bp}function Dk(t){return C(this,null,function*(){try{let n=(yield BD()).transaction(Hs),r=yield n.objectStore(Hs).get($D(t));return yield n.done,r}catch(e){if(e instanceof bt)Mn.warn(e.message);else{let n=or.create("idb-get",{originalErrorMessage:e?.message});Mn.warn(n.message)}}})}function VD(t,e){return C(this,null,function*(){try{let r=(yield BD()).transaction(Hs,"readwrite");yield r.objectStore(Hs).put(e,$D(t)),yield r.done}catch(n){if(n instanceof bt)Mn.warn(n.message);else{let r=or.create("idb-set",{originalErrorMessage:n?.message});Mn.warn(r.message)}}})}function $D(t){return`${t.name}!${t.options.appId}`}var bk=1024,Tk=30*24*60*60*1e3,Wp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Kp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=UD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=Tk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mn.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=UD(),{heartbeatsToSend:r,unsentEntries:i}=Ck(this._heartbeatsCache.heartbeats),o=Bs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Mn.warn(n),""}})}};function UD(){return new Date().toISOString().substring(0,10)}function Ck(t,e=bk){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Kp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Pp()?SD().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Dk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function jD(t){return Bs(JSON.stringify({version:2,heartbeats:t})).length}function Sk(t){dn(new pt("platform-logger",e=>new $p(e),"PRIVATE")),dn(new pt("heartbeat",e=>new Wp(e),"PRIVATE")),Re(Hp,FD,t),Re(Hp,FD,"esm2017"),Re("fire-js","")}Sk("");var Ak="firebase",Rk="10.13.2";Re(Ak,Rk,"app");var sr=new Yn("ANGULARFIRE2_VERSION");function zs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Wr=(t,e)=>{let n=e?[e]:$u(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Gr=class{constructor(){return Wr(xk)}},xk="app-check";function to(){}var Hu=class{zone;delegate;constructor(e,n=Md){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Yp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",to,{},to,to)),n.pipe(Be({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Kr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Hu(Zone.current)),this.insideAngular=n.run(()=>new Hu(Zone.current,xd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ie(we))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Mk(t){return qu().ngZone.runOutsideAngular(()=>t())}function zr(t){return qu().ngZone.run(()=>t())}function Nk(t){return Pk(qu())(t)}function Pk(t){return function(n){return n=n.lift(new Yp(t.ngZone)),n.pipe(Hn(t.outsideAngular),$n(t.insideAngular))}}var Ok=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),zr(()=>t.apply(void 0,r))},ut=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=zr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",to,{},to,to))),r[o]=Ok(r[o],n));let i=Mk(()=>t.apply(this,r));if(!e)if(i instanceof ge){let o=qu();return i.pipe(Hn(o.outsideAngular),$n(o.insideAngular))}else return zr(()=>i);return i instanceof ge?i.pipe(Nk):i instanceof Promise?zr(()=>new Promise((o,s)=>i.then(c=>zr(()=>o(c)),c=>zr(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:zr(()=>i)};var Nn=class{constructor(e){return e}},Qr=class{constructor(){return $u()}};function kk(t){return t&&t.length===1?t[0]:new Nn(qr())}var Jp=new Z("angularfire2._apps"),Fk={provide:Nn,useFactory:kk,deps:[[new tt,Jp]]},Lk={provide:Qr,deps:[[new tt,Jp]]};function Vk(t){return(e,n)=>{let r=n.get(Zn);Re("angularfire",sr.full,"core"),Re("angularfire",sr.full,"app"),Re("angular",JI.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Nn(i)}}function HD(t,...e){return an([Fk,Lk,{provide:Jp,useFactory:Vk(t),multi:!0,deps:[we,Kt,Kr,...e]}])}var qD=ut(Qp,!0);function ZD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var XD=ZD,eb=new xn("auth","Firebase",ZD());var Ku=new ir("@firebase/auth");function jk(t,...e){Ku.logLevel<=se.WARN&&Ku.warn(`Auth (${eo}): ${t}`,...e)}function Gu(t,...e){Ku.logLevel<=se.ERROR&&Ku.error(`Auth (${eo}): ${t}`,...e)}function zD(t,...e){throw ug(t,...e)}function cg(t,...e){return ug(t,...e)}function tb(t,e,n){let r=Object.assign(Object.assign({},XD()),{[e]:n});return new xn("auth","Firebase",r).create(e,{appName:t.name})}function Wu(t){return tb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ug(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eb.create(t,...e)}function ye(t,e,...n){if(!t)throw ug(e,...n)}function Gs(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Gu(e),new Error(e)}function Qu(t,e){t||Gs(e)}function Bk(){return GD()==="http:"||GD()==="https:"}function GD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function $k(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bk()||bD()||"connection"in navigator)?navigator.onLine:!0}function Hk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Jr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qu(n>e,"Short delay should be less than long delay!"),this.isMobile=ED()||TD()}get(){return $k()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qk(t,e){Qu(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Yu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var zk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Gk=new Jr(3e4,6e4);function nb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function el(o,s,c,u){return C(this,arguments,function*(t,e,n,r,i={}){return rb(t,i,()=>C(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Op(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:y},l);return DD()||(w.referrerPolicy="no-referrer"),Yu.fetch()(ib(t,t.config.apiHost,n,p),w)}))})}function rb(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},zk),e);try{let i=new eg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw zu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw zu(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw zu(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw tb(t,f,l);zD(t,f)}}catch(i){if(i instanceof bt)throw i;zD(t,"network-request-failed",{message:String(i)})}})}function ib(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?qk(t.config,i):`${t.config.apiScheme}://${i}`}var eg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cg(this.auth,"network-request-failed")),Gk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function zu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=cg(t,e,r);return i.customData._tokenResponse=n,i}function Wk(t,e){return C(this,null,function*(){return el(t,"POST","/v1/accounts:delete",e)})}function ob(t,e){return C(this,null,function*(){return el(t,"POST","/v1/accounts:lookup",e)})}function Ws(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function lg(t,e=!1){return C(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=sb(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ws(Zp(i.auth_time)),issuedAtTime:Ws(Zp(i.iat)),expirationTime:Ws(Zp(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Zp(t){return Number(t)*1e3}function sb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Mp(n);return i?JSON.parse(i):(Gu("Failed to decode base64 JWT payload"),null)}catch(i){return Gu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function WD(t){let e=sb(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function tg(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof bt&&Kk(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Kk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ng=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qs=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ws(this.lastLoginAt),this.creationTime=Ws(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ju(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield tg(t,ob(n,{idToken:r}));ye(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ab(o.providerUserInfo):[],c=Qk(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Qs(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function dg(t){return C(this,null,function*(){let e=ft(t);yield Ju(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Qk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ab(t){return t.map(e=>{var{providerId:n}=e,r=Nd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Yk(t,e){return C(this,null,function*(){let n=yield rb(t,{},()=>C(this,null,function*(){let r=Op({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=ib(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Yu.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Jk(t,e){return C(this,null,function*(){return el(t,"POST","/v2/accounts:revokeToken",nb(t,e))})}var Ks=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");let n=WD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Yk(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ye(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Gs("not implemented")}};function ar(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ys=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Nd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ng(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qs(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield tg(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return lg(this,e)}reload(){return dg(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ju(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(Xi(this.auth.app))return Promise.reject(Wu(this.auth));let e=yield this.getIdToken();return yield tg(this,Wk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,z=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:$,emailVerified:ne,isAnonymous:Te,providerData:J,stsTokenManager:E}=n;ye($&&E,e,"internal-error");let m=Ks.fromJSON(this.name,E);ye(typeof $=="string",e,"internal-error"),ar(p,e.name),ar(y,e.name),ye(typeof ne=="boolean",e,"internal-error"),ye(typeof Te=="boolean",e,"internal-error"),ar(w,e.name),ar(A,e.name),ar(R,e.name),ar(M,e.name),ar(V,e.name),ar(z,e.name);let v=new t({uid:$,auth:e,email:y,emailVerified:ne,displayName:p,isAnonymous:Te,photoURL:A,phoneNumber:w,tenantId:R,stsTokenManager:m,createdAt:V,lastLoginAt:z});return J&&Array.isArray(J)&&(v.providerData=J.map(I=>Object.assign({},I))),M&&(v._redirectEventId=M),v}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new Ks;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ju(o),o})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];ye(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ab(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Ks;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Qs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var KD=new Map;function Yr(t){Qu(t instanceof Function,"Expected a class definition");let e=KD.get(t);return e?(Qu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KD.set(t,e),e)}var Zk=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),rg=Zk;function Xp(t,e,n){return`firebase:${t}:${e}:${n}`}var Zu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Xp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Xp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ys._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(Yr(rg),e,r);let i=(yield Promise.all(n.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Yr(rg),s=Xp(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let p=Ys._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>C(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function QD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i1(e))return"Blackberry";if(o1(e))return"Webos";if(e1(e))return"Safari";if((e.includes("chrome/")||t1(e))&&!e.includes("edge/"))return"Chrome";if(r1(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Xk(t=Tt()){return/firefox\//i.test(t)}function e1(t=Tt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t1(t=Tt()){return/crios\//i.test(t)}function n1(t=Tt()){return/iemobile/i.test(t)}function r1(t=Tt()){return/android/i.test(t)}function i1(t=Tt()){return/blackberry/i.test(t)}function o1(t=Tt()){return/webos/i.test(t)}function cb(t,e=[]){let n;switch(t){case"Browser":n=QD(Tt());break;case"Worker":n=`${QD(Tt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${r}`}var ig=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function s1(n){return C(this,arguments,function*(t,e={}){return el(t,"GET","/v2/passwordPolicy",nb(t,e))})}var a1=6,og=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:a1,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var sg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xu(this),this.idTokenSubscription=new Xu(this),this.beforeStateQueue=new ig(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Zu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield ob(this,{idToken:e}),r=yield Ys._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(Xi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Ju(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Hk()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(Xi(this.app))return Promise.reject(Wu(this));let n=e?ft(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return Xi(this.app)?Promise.reject(Wu(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Xi(this.app)?Promise.reject(Wu(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Yr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield s1(this),n=new og(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Jk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Yr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=yield Zu.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&jk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function c1(t){return ft(t)}var Xu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=AD(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var u1={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l1(t){u1=t}function d1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function h1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Xz=d1("rcb"),e4=new Jr(3e4,6e4);var t4=new Jr(2e3,1e4);var n4=10*60*1e3;var r4=new Jr(3e4,6e4);var i4=new Jr(5e3,15e3);var o4=encodeURIComponent("fac");var YD="@firebase/auth",JD="1.7.9";var ag=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function f1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p1(t){dn(new pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;ye(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cb(t)},l=new sg(r,i,o,u);return h1(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dn(new pt("auth-internal",e=>{let n=c1(e.getProvider("auth").getImmediate());return(r=>new ag(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Re(YD,JD,f1(t)),Re(YD,JD,"esm2017")}var g1=5*60,s4=wD("authIdTokenMaxAge")||g1;function m1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}l1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=cg("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",m1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p1("Browser");var gF="auth";var no=class{constructor(){return Wr(gF)}};var ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lb={};var cr,hg;(function(){var t;function e(E,m){function v(){}v.prototype=m.prototype,E.D=m.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(I,D,T){for(var _=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)_[yn-2]=arguments[yn];return m.prototype[D].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,v){v||(v=0);var I=Array(16);if(typeof m=="string")for(var D=0;16>D;++D)I[D]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(D=0;16>D;++D)I[D]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=E.g[0],v=E.g[1],D=E.g[2];var T=E.g[3],_=m+(T^v&(D^T))+I[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=T+(D^m&(v^D))+I[1]+3905402710&4294967295,T=m+(_<<12&4294967295|_>>>20),_=D+(v^T&(m^v))+I[2]+606105819&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(m^D&(T^m))+I[3]+3250441966&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(T^v&(D^T))+I[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(D^m&(v^D))+I[5]+1200080426&4294967295,T=m+(_<<12&4294967295|_>>>20),_=D+(v^T&(m^v))+I[6]+2821735955&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(m^D&(T^m))+I[7]+4249261313&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(T^v&(D^T))+I[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(D^m&(v^D))+I[9]+2336552879&4294967295,T=m+(_<<12&4294967295|_>>>20),_=D+(v^T&(m^v))+I[10]+4294925233&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(m^D&(T^m))+I[11]+2304563134&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(T^v&(D^T))+I[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=T+(D^m&(v^D))+I[13]+4254626195&4294967295,T=m+(_<<12&4294967295|_>>>20),_=D+(v^T&(m^v))+I[14]+2792965006&4294967295,D=T+(_<<17&4294967295|_>>>15),_=v+(m^D&(T^m))+I[15]+1236535329&4294967295,v=D+(_<<22&4294967295|_>>>10),_=m+(D^T&(v^D))+I[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(m^v))+I[6]+3225465664&4294967295,T=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(T^m))+I[11]+643717713&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(D^T))+I[0]+3921069994&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^T&(v^D))+I[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(m^v))+I[10]+38016083&4294967295,T=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(T^m))+I[15]+3634488961&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(D^T))+I[4]+3889429448&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^T&(v^D))+I[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(m^v))+I[14]+3275163606&4294967295,T=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(T^m))+I[3]+4107603335&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(D^T))+I[8]+1163531501&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(D^T&(v^D))+I[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=T+(v^D&(m^v))+I[2]+4243563512&4294967295,T=m+(_<<9&4294967295|_>>>23),_=D+(m^v&(T^m))+I[7]+1735328473&4294967295,D=T+(_<<14&4294967295|_>>>18),_=v+(T^m&(D^T))+I[12]+2368359562&4294967295,v=D+(_<<20&4294967295|_>>>12),_=m+(v^D^T)+I[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^D)+I[8]+2272392833&4294967295,T=m+(_<<11&4294967295|_>>>21),_=D+(T^m^v)+I[11]+1839030562&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^m)+I[14]+4259657740&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^T)+I[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^D)+I[4]+1272893353&4294967295,T=m+(_<<11&4294967295|_>>>21),_=D+(T^m^v)+I[7]+4139469664&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^m)+I[10]+3200236656&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^T)+I[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^D)+I[0]+3936430074&4294967295,T=m+(_<<11&4294967295|_>>>21),_=D+(T^m^v)+I[3]+3572445317&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^m)+I[6]+76029189&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(v^D^T)+I[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=T+(m^v^D)+I[12]+3873151461&4294967295,T=m+(_<<11&4294967295|_>>>21),_=D+(T^m^v)+I[15]+530742520&4294967295,D=T+(_<<16&4294967295|_>>>16),_=v+(D^T^m)+I[2]+3299628645&4294967295,v=D+(_<<23&4294967295|_>>>9),_=m+(D^(v|~T))+I[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~D))+I[7]+1126891415&4294967295,T=m+(_<<10&4294967295|_>>>22),_=D+(m^(T|~v))+I[14]+2878612391&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~m))+I[5]+4237533241&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~T))+I[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~D))+I[3]+2399980690&4294967295,T=m+(_<<10&4294967295|_>>>22),_=D+(m^(T|~v))+I[10]+4293915773&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~m))+I[1]+2240044497&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~T))+I[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~D))+I[15]+4264355552&4294967295,T=m+(_<<10&4294967295|_>>>22),_=D+(m^(T|~v))+I[6]+2734768916&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~m))+I[13]+1309151649&4294967295,v=D+(_<<21&4294967295|_>>>11),_=m+(D^(v|~T))+I[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=T+(v^(m|~D))+I[11]+3174756917&4294967295,T=m+(_<<10&4294967295|_>>>22),_=D+(m^(T|~v))+I[2]+718787259&4294967295,D=T+(_<<15&4294967295|_>>>17),_=v+(T^(D|~m))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+T&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var v=m-this.blockSize,I=this.B,D=this.h,T=0;T<m;){if(D==0)for(;T<=v;)i(this,E,T),T+=this.blockSize;if(typeof E=="string"){for(;T<m;)if(I[D++]=E.charCodeAt(T++),D==this.blockSize){i(this,I),D=0;break}}else for(;T<m;)if(I[D++]=E[T++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var v=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=v&255,v/=256;for(this.u(E),E=Array(16),m=v=0;4>m;++m)for(var I=0;32>I;I+=8)E[v++]=this.g[m]>>>I&255;return E};function o(E,m){var v=c;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=m(E)}function s(E,m){this.h=m;for(var v=[],I=!0,D=E.length-1;0<=D;D--){var T=E[D]|0;I&&T==m||(v[D]=T,I=!1)}this.g=v}var c={};function u(E){return-128<=E&&128>E?o(E,function(m){return new s([m|0],0>m?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return M(l(-E));for(var m=[],v=1,I=0;E>=v;I++)m[I]=E/v|0,v*=4294967296;return new s(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return M(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),I=p,D=0;D<E.length;D+=8){var T=Math.min(8,E.length-D),_=parseInt(E.substring(D,D+T),m);8>T?(T=l(Math.pow(m,T)),I=I.j(T).add(l(_))):(I=I.j(v),I=I.add(l(_)))}return I}var p=u(0),y=u(1),w=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-M(this).m();for(var E=0,m=1,v=0;v<this.g.length;v++){var I=this.i(v);E+=(0<=I?I:4294967296+I)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(R(this))return"-"+M(this).toString(E);for(var m=l(Math.pow(E,6)),v=this,I="";;){var D=ne(v,m).g;v=V(v,D.j(m));var T=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=D,A(v))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=V(this,E),R(E)?-1:A(E)?0:1};function M(E){for(var m=E.g.length,v=[],I=0;I<m;I++)v[I]=~E.g[I];return new s(v,~E.h).add(y)}t.abs=function(){return R(this)?M(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0,D=0;D<=m;D++){var T=I+(this.i(D)&65535)+(E.i(D)&65535),_=(T>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);I=_>>>16,T&=65535,_&=65535,v[D]=_<<16|T}return new s(v,v[v.length-1]&-2147483648?-1:0)};function V(E,m){return E.add(M(m))}t.j=function(E){if(A(this)||A(E))return p;if(R(this))return R(E)?M(this).j(M(E)):M(M(this).j(E));if(R(E))return M(this.j(M(E)));if(0>this.l(w)&&0>E.l(w))return l(this.m()*E.m());for(var m=this.g.length+E.g.length,v=[],I=0;I<2*m;I++)v[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<E.g.length;D++){var T=this.i(I)>>>16,_=this.i(I)&65535,yn=E.i(D)>>>16,Co=E.i(D)&65535;v[2*I+2*D]+=_*Co,z(v,2*I+2*D),v[2*I+2*D+1]+=T*Co,z(v,2*I+2*D+1),v[2*I+2*D+1]+=_*yn,z(v,2*I+2*D+1),v[2*I+2*D+2]+=T*yn,z(v,2*I+2*D+2)}for(I=0;I<m;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=m;I<2*m;I++)v[I]=0;return new s(v,0)};function z(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function $(E,m){this.g=E,this.h=m}function ne(E,m){if(A(m))throw Error("division by zero");if(A(E))return new $(p,p);if(R(E))return m=ne(M(E),m),new $(M(m.g),M(m.h));if(R(m))return m=ne(E,M(m)),new $(M(m.g),m.h);if(30<E.g.length){if(R(E)||R(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,I=m;0>=I.l(E);)v=Te(v),I=Te(I);var D=J(v,1),T=J(I,1);for(I=J(I,2),v=J(v,2);!A(I);){var _=T.add(I);0>=_.l(E)&&(D=D.add(v),T=_),I=J(I,1),v=J(v,1)}return m=V(E,D.j(m)),new $(D,m)}for(D=p;0<=E.l(m);){for(v=Math.max(1,Math.floor(E.m()/m.m())),I=Math.ceil(Math.log(v)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=l(v),_=T.j(m);R(_)||0<_.l(E);)v-=I,T=l(v),_=T.j(m);A(T)&&(T=y),D=D.add(T),E=V(E,_)}return new $(D,E)}t.A=function(E){return ne(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)&E.i(I);return new s(v,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)|E.i(I);return new s(v,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)^E.i(I);return new s(v,this.h^E.h)};function Te(E){for(var m=E.g.length+1,v=[],I=0;I<m;I++)v[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(v,E.h)}function J(E,m){var v=m>>5;m%=32;for(var I=E.g.length-v,D=[],T=0;T<I;T++)D[T]=0<m?E.i(T+v)>>>m|E.i(T+v+1)<<32-m:E.i(T+v);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hg=lb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,cr=lb.Integer=s}).apply(typeof ub<"u"?ub:typeof self<"u"?self:typeof window<"u"?window:{});var tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pn={};var fg,pg,ro,gg,Js,nl,mg,yg,vg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof tl=="object"&&tl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in h))break e;h=h[b]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,b={next:function(){if(!g&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function w(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,b,S){for(var P=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)P[Ie-2]=arguments[Ie];return d.prototype[b].apply(g,P)}}function R(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function M(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let b=a.length||0,S=g.length||0;a.length=b+S;for(let P=0;P<S;P++)a[b+P]=g[P]}else a.push(g)}}class V{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(a){return/^[\s\xa0]*$/.test(a)}function $(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ne(a){return ne[" "](a),a}ne[" "]=function(){};var Te=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function J(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(h in g)a[h]=g[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function D(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function _(){var a=zl;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class yn{constructor(){this.h=this.g=null}add(d,h){let g=Co.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Co=new V(()=>new E0,a=>a.reset());class E0{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let So,Ao=!1,zl=new yn,Dy=()=>{let a=c.Promise.resolve(void 0);So=()=>{a.then(D0)}};var D0=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){T(h)}var d=Co;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ao=!1};function Ln(){this.s=this.s,this.C=this.C}Ln.prototype.s=!1,Ln.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ln.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var b0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Ro(a,d){if(Ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Te){e:{try{ne(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:T0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ro.aa.h.call(this)}}A(Ro,Ye);var T0={2:"touch",3:"pen",4:"mouse"};Ro.prototype.h=function(){Ro.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var xo="closure_listenable_"+(1e6*Math.random()|0),C0=0;function S0(a,d,h,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=b,this.key=++C0,this.da=this.fa=!1}function Ra(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function xa(a){this.src=a,this.g={},this.h=0}xa.prototype.add=function(a,d,h,g,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var P=Wl(a,d,g,b);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new S0(d,this.src,S,!!g,b),d.fa=h,a.push(d)),d};function Gl(a,d){var h=d.type;if(h in a.g){var g=a.g[h],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Ra(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Wl(a,d,h,g){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return b}return-1}var Kl="closure_lm_"+(1e6*Math.random()|0),Ql={};function by(a,d,h,g,b){if(g&&g.once)return Cy(a,d,h,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)by(a,d[S],h,g,b);return null}return h=Xl(h),a&&a[xo]?a.K(d,h,l(g)?!!g.capture:!!g,b):Ty(a,d,h,!1,g,b)}function Ty(a,d,h,g,b,S){if(!d)throw Error("Invalid event type");var P=l(b)?!!b.capture:!!b,Ie=Jl(a);if(Ie||(a[Kl]=Ie=new xa(a)),h=Ie.add(d,h,g,P,S),h.proxy)return h;if(g=A0(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)b0||(b=P),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(Ay(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function A0(){function a(h){return d.call(a.src,a.listener,h)}let d=R0;return a}function Cy(a,d,h,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Cy(a,d[S],h,g,b);return null}return h=Xl(h),a&&a[xo]?a.L(d,h,l(g)?!!g.capture:!!g,b):Ty(a,d,h,!0,g,b)}function Sy(a,d,h,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)Sy(a,d[S],h,g,b);else g=l(g)?!!g.capture:!!g,h=Xl(h),a&&a[xo]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=Wl(S,h,g,b),-1<h&&(Ra(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Jl(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Wl(d,h,g,b)),(h=-1<a?d[a]:null)&&Yl(h))}function Yl(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[xo])Gl(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(Ay(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Jl(d))?(Gl(h,a),h.h==0&&(h.src=null,d[Kl]=null)):Ra(a)}}}function Ay(a){return a in Ql?Ql[a]:Ql[a]="on"+a}function R0(a,d){if(a.da)a=!0;else{d=new Ro(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Yl(a),a=h.call(g,d)}return a}function Jl(a){return a=a[Kl],a instanceof xa?a:null}var Zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(a){return typeof a=="function"?a:(a[Zl]||(a[Zl]=function(d){return a.handleEvent(d)}),a[Zl])}function Je(){Ln.call(this),this.i=new xa(this),this.M=this,this.F=null}A(Je,Ln),Je.prototype[xo]=!0,Je.prototype.removeEventListener=function(a,d,h,g){Sy(this,a,d,h,g)};function st(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Ye(d,a);else if(d instanceof Ye)d.target=d.target||a;else{var b=d;d=new Ye(g,a),I(d,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var P=d.g=h[S];b=Ma(P,g,!0,d)&&b}if(P=d.g=a,b=Ma(P,g,!0,d)&&b,b=Ma(P,g,!1,d)&&b,h)for(S=0;S<h.length;S++)P=d.g=h[S],b=Ma(P,g,!1,d)&&b}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Ra(h[g]);delete a.g[d],a.h--}}this.F=null},Je.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Je.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Ma(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var P=d[S];if(P&&!P.da&&P.capture==h){var Ie=P.listener,We=P.ha||P.src;P.fa&&Gl(a.i,P),b=Ie.call(We,g)!==!1&&b}}return b&&!g.defaultPrevented}function Ry(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function xy(a){a.g=Ry(()=>{a.g=null,a.i&&(a.i=!1,xy(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class x0 extends Ln{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:xy(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mo(a){Ln.call(this),this.h=a,this.g={}}A(Mo,Ln);var My=[];function Ny(a){J(a.g,function(d,h){this.g.hasOwnProperty(h)&&Yl(d)},a),a.g={}}Mo.prototype.N=function(){Mo.aa.N.call(this),Ny(this)},Mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ed=c.JSON.stringify,M0=c.JSON.parse,N0=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function td(){}td.prototype.h=null;function Py(a){return a.h||(a.h=a.i())}function Oy(){}var No={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nd(){Ye.call(this,"d")}A(nd,Ye);function rd(){Ye.call(this,"c")}A(rd,Ye);var gr={},ky=null;function Na(){return ky=ky||new Je}gr.La="serverreachability";function Fy(a){Ye.call(this,gr.La,a)}A(Fy,Ye);function Po(a){let d=Na();st(d,new Fy(d))}gr.STAT_EVENT="statevent";function Ly(a,d){Ye.call(this,gr.STAT_EVENT,a),this.stat=d}A(Ly,Ye);function at(a){let d=Na();st(d,new Ly(d,a))}gr.Ma="timingevent";function Vy(a,d){Ye.call(this,gr.Ma,a),this.size=d}A(Vy,Ye);function Oo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ko(){this.g=!0}ko.prototype.xa=function(){this.g=!1};function P0(a,d,h,g,b,S){a.info(function(){if(a.g)if(S)for(var P="",Ie=S.split("&"),We=0;We<Ie.length;We++){var pe=Ie[We].split("=");if(1<pe.length){var Ze=pe[0];pe=pe[1];var Xe=Ze.split("_");P=2<=Xe.length&&Xe[1]=="type"?P+(Ze+"="+pe+"&"):P+(Ze+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+h+`
`+P})}function O0(a,d,h,g,b,S,P){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+h+`
`+S+" "+P})}function ai(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+F0(a,h)+(g?" "+g:"")})}function k0(a,d){a.info(function(){return"TIMEOUT: "+d})}ko.prototype.info=function(){};function F0(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<b.length;P++)b[P]=""}}}}return ed(h)}catch{return d}}var Pa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Uy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},id;function Oa(){}A(Oa,td),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},id=new Oa;function Vn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jy}function jy(){this.i=null,this.g="",this.h=!1}var By={},od={};function sd(a,d,h){a.L=1,a.v=Va(vn(d)),a.m=h,a.P=!0,$y(a,null)}function $y(a,d){a.F=Date.now(),ka(a),a.A=vn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),nv(h.i,"t",g),a.C=0,h=a.j.J,a.h=new jy,a.g=wv(a.j,h?d:null,!a.m),0<a.O&&(a.M=new x0(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(My[0]=b.toString()),b=My);for(var S=0;S<b.length;S++){var P=by(h,b[S],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Po(),P0(a.i,a.u,a.A,a.l,a.R,a.m)}Vn.prototype.ca=function(a){a=a.target;let d=this.M;d&&_n(a)==3?d.j():this.Y(a)},Vn.prototype.Y=function(a){try{if(a==this.g)e:{let Xe=_n(this.g);var d=this.g.Ba();let li=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||uv(this.g)))){this.J||Xe!=4||d==7||(d==8||0>=li?Po(3):Po(2)),ad(this);var h=this.g.Z();this.X=h;t:if(Hy(this)){var g=uv(this.g);a="";var b=g.length,S=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mr(this),Fo(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,O0(this.i,this.u,this.A,this.l,this.R,Xe,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,We=this.g;if((Ie=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ie)){var pe=Ie;break t}}pe=null}if(h=pe)ai(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cd(this,h);else{this.o=!1,this.s=3,at(12),mr(this),Fo(this);break e}}if(this.P){h=!0;let Ft;for(;!this.J&&this.C<P.length;)if(Ft=L0(this,P),Ft==od){Xe==4&&(this.s=4,at(14),h=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==By){this.s=4,at(15),ai(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else ai(this.i,this.l,Ft,null),cd(this,Ft);if(Hy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||P.length!=0||this.h.h||(this.s=1,at(16),h=!1),this.o=this.o&&h,!h)ai(this.i,this.l,P,"[Invalid Chunked Response]"),mr(this),Fo(this);else if(0<P.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),pd(Ze),Ze.M=!0,at(11))}}else ai(this.i,this.l,P,null),cd(this,P);Xe==4&&mr(this),this.o&&!this.J&&(Xe==4?mv(this.j,this):(this.o=!1,ka(this)))}else eC(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),mr(this),Fo(this)}}}catch{}finally{}};function Hy(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function L0(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?od:(h=Number(d.substring(h,g)),isNaN(h)?By:(g+=1,g+h>d.length?od:(d=d.slice(g,g+h),a.C=g+h,d)))}Vn.prototype.cancel=function(){this.J=!0,mr(this)};function ka(a){a.S=Date.now()+a.I,qy(a,a.I)}function qy(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Oo(y(a.ba,a),d)}function ad(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Vn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(k0(this.i,this.A),this.L!=2&&(Po(),at(17)),mr(this),this.s=2,Fo(this)):qy(this,this.S-a)};function Fo(a){a.j.G==0||a.J||mv(a.j,a)}function mr(a){ad(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Ny(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function cd(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||ud(h.h,a))){if(!a.K&&ud(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ha(h),Ba(h);else break e;fd(h),at(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=Oo(y(h.Za,h),6e3));if(1>=Wy(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else vr(h,11)}else if((a.K||h.g==a)&&Ha(h),!z(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let pe=b[d];if(h.T=pe[0],pe=pe[1],h.G==2)if(pe[0]=="c"){h.K=pe[1],h.ia=pe[2];let Ze=pe[3];Ze!=null&&(h.la=Ze,h.j.info("VER="+h.la));let Xe=pe[4];Xe!=null&&(h.Aa=Xe,h.j.info("SVER="+h.Aa));let li=pe[5];li!=null&&typeof li=="number"&&0<li&&(g=1.5*li,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Ft=a.g;if(Ft){let za=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(za){var S=g.h;S.g||za.indexOf("spdy")==-1&&za.indexOf("quic")==-1&&za.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(ld(S,S.h),S.h=null))}if(g.D){let gd=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;gd&&(g.ya=gd,Ce(g.I,g.D,gd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var P=a;if(g.qa=_v(g,g.J?g.ia:null,g.W),P.K){Ky(g.h,P);var Ie=P,We=g.L;We&&(Ie.I=We),Ie.B&&(ad(Ie),ka(Ie)),g.g=P}else pv(g);0<h.i.length&&$a(h)}else pe[0]!="stop"&&pe[0]!="close"||vr(h,7);else h.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?vr(h,7):hd(h):pe[0]!="noop"&&h.l&&h.l.ta(pe),h.v=0)}}Po(4)}catch{}}var V0=class{constructor(a,d){this.g=a,this.map=d}};function zy(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gy(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Wy(a){return a.h?1:a.g?a.g.size:0}function ud(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ld(a,d){a.g?a.g.add(d):a.h=d}function Ky(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}zy.prototype.cancel=function(){if(this.i=Qy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Qy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return R(a.i)}function U0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function j0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function Yy(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=j0(a),g=U0(a),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],h&&h[S],a)}var Jy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B0(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),b=null;if(0<=g){var S=a[h].substring(0,g);b=a[h].substring(g+1)}else S=a[h];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function yr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof yr){this.h=a.h,Fa(this,a.j),this.o=a.o,this.g=a.g,La(this,a.s),this.l=a.l;var d=a.i,h=new Uo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Zy(this,h),this.m=a.m}else a&&(d=String(a).match(Jy))?(this.h=!1,Fa(this,d[1]||"",!0),this.o=Lo(d[2]||""),this.g=Lo(d[3]||"",!0),La(this,d[4]),this.l=Lo(d[5]||"",!0),Zy(this,d[6]||"",!0),this.m=Lo(d[7]||"")):(this.h=!1,this.i=new Uo(null,this.h))}yr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Vo(d,Xy,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Vo(d,Xy,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Vo(h,h.charAt(0)=="/"?q0:H0,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Vo(h,G0)),a.join("")};function vn(a){return new yr(a)}function Fa(a,d,h){a.j=h?Lo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function La(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Zy(a,d,h){d instanceof Uo?(a.i=d,W0(a.i,a.h)):(h||(d=Vo(d,z0)),a.i=new Uo(d,a.h))}function Ce(a,d,h){a.i.set(d,h)}function Va(a){return Ce(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Lo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Vo(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,$0),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function $0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Xy=/[#\/\?@]/g,H0=/[#\?:]/g,q0=/[#\?]/g,z0=/[#\?@]/g,G0=/#/g;function Uo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Un(a){a.g||(a.g=new Map,a.h=0,a.i&&B0(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Uo.prototype,t.add=function(a,d){Un(this),this.i=null,a=ci(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function ev(a,d){Un(a),d=ci(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function tv(a,d){return Un(a),d=ci(a,d),a.g.has(d)}t.forEach=function(a,d){Un(this),this.g.forEach(function(h,g){h.forEach(function(b){a.call(d,b,g,this)},this)},this)},t.na=function(){Un(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let b=a[g];for(let S=0;S<b.length;S++)h.push(d[g])}return h},t.V=function(a){Un(this);let d=[];if(typeof a=="string")tv(this,a)&&(d=d.concat(this.g.get(ci(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Un(this),this.i=null,a=ci(this,a),tv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function nv(a,d,h){ev(a,d),0<h.length&&(a.i=null,a.g.set(ci(a,d),R(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var b=S;P[g]!==""&&(b+="="+encodeURIComponent(String(P[g]))),a.push(b)}}return this.i=a.join("&")};function ci(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function W0(a,d){d&&!a.j&&(Un(a),a.i=null,a.g.forEach(function(h,g){var b=g.toLowerCase();g!=b&&(ev(this,g),nv(this,b,h))},a)),a.j=d}function K0(a,d){let h=new ko;if(c.Image){let g=new Image;g.onload=w(jn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=w(jn,h,"TestLoadImage: error",!1,d,g),g.onabort=w(jn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=w(jn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function Q0(a,d){let h=new ko,g=new AbortController,b=setTimeout(()=>{g.abort(),jn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?jn(h,"TestPingServer: ok",!0,d):jn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),jn(h,"TestPingServer: error",!1,d)})}function jn(a,d,h,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(h)}catch{}}function Y0(){this.g=new N0}function J0(a,d,h){let g=h||"";try{Yy(a,function(b,S){let P=b;l(b)&&(P=ed(b)),d.push(g+S+"="+encodeURIComponent(P))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function jo(a){this.l=a.Ub||null,this.j=a.eb||!1}A(jo,td),jo.prototype.g=function(){return new Ua(this.l,this.j)},jo.prototype.i=function(a){return function(){return a}}({});function Ua(a,d){Je.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ua,Je),t=Ua.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,$o(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function rv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Bo(this):$o(this),this.readyState==3&&rv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Bo(this))},t.Qa=function(a){this.g&&(this.response=a,Bo(this))},t.ga=function(){this.g&&Bo(this)};function Bo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,$o(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function $o(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function iv(a){let d="";return J(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function dd(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=iv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ce(a,d,h))}function Me(a){Je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Me,Je);var Z0=/^https?$/i,X0=["POST","PUT"];t=Me.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():id.g(),this.v=this.o?Py(this.o):Py(id),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){ov(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)h.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(X0,d,void 0))||g||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of h)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cv(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){ov(this,S)}};function ov(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,sv(a),ja(a)}function sv(a){a.A||(a.A=!0,st(a,"complete"),st(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,st(this,"complete"),st(this,"abort"),ja(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ja(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?av(this):this.bb())},t.bb=function(){av(this)};function av(a){if(a.h&&typeof s<"u"&&(!a.v[1]||_n(a)!=4||a.Z()!=2)){if(a.u&&_n(a)==4)Ry(a.Ea,0,a);else if(st(a,"readystatechange"),_n(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=P===0){var b=String(a.D).match(Jy)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!Z0.test(b?b.toLowerCase():"")}h=g}if(h)st(a,"complete"),st(a,"success");else{a.m=6;try{var S=2<_n(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",sv(a)}}finally{ja(a)}}}}function ja(a,d){if(a.g){cv(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||st(a,"ready");try{h.onreadystatechange=g}catch{}}}function cv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),M0(d)}};function uv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function eC(a){let d={};a=(a.g&&2<=_n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(z(a[g]))continue;var h=D(a[g]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[b]||[];d[b]=S,S.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function lv(a){this.Aa=0,this.i=[],this.j=new ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,a),this.cb=Ho("retryDelaySeedMs",1e4,a),this.Wa=Ho("forwardChannelMaxRetries",2,a),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new zy(a&&a.concurrentRequestLimit),this.Da=new Y0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lv.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){at(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=_v(this,null,this.W),$a(this)};function hd(a){if(dv(a),a.G==3){var d=a.U++,h=vn(a.I);if(Ce(h,"SID",a.K),Ce(h,"RID",d),Ce(h,"TYPE","terminate"),qo(a,h),d=new Vn(a,a.j,d),d.L=2,d.v=Va(vn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=wv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ka(d)}vv(a)}function Ba(a){a.g&&(pd(a),a.g.cancel(),a.g=null)}function dv(a){Ba(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ha(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function $a(a){if(!Gy(a.h)&&!a.s){a.s=!0;var d=a.Ga;So||Dy(),Ao||(So(),Ao=!0),zl.add(d,a),a.B=0}}function tC(a,d){return Wy(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Oo(y(a.Ga,a,d),yv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Vn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=fv(this,b,d),h=vn(this.I),Ce(h,"RID",a),Ce(h,"CVER",22),this.D&&Ce(h,"X-HTTP-Session-Id",this.D),qo(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(iv(S)))+"&"+d:this.m&&dd(h,this.m,S)),ld(this.h,b),this.Ua&&Ce(h,"TYPE","init"),this.P?(Ce(h,"$req",d),Ce(h,"SID","null"),b.T=!0,sd(b,h,null)):sd(b,h,d),this.G=2}}else this.G==3&&(a?hv(this,a):this.i.length==0||Gy(this.h)||hv(this))};function hv(a,d){var h;d?h=d.l:h=a.U++;let g=vn(a.I);Ce(g,"SID",a.K),Ce(g,"RID",h),Ce(g,"AID",a.T),qo(a,g),a.m&&a.o&&dd(g,a.m,a.o),h=new Vn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=fv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ld(a.h,h),sd(h,g,d)}function qo(a,d){a.H&&J(a.H,function(h,g){Ce(d,g,h)}),a.l&&Yy({},function(h,g){Ce(d,g,h)})}function fv(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let P=["count="+h];S==-1?0<h?(S=b[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let Ie=!0;for(let We=0;We<h;We++){let pe=b[We].g,Ze=b[We].map;if(pe-=S,0>pe)S=Math.max(0,b[We].g-100),Ie=!1;else try{J0(Ze,P,"req"+pe+"_")}catch{g&&g(Ze)}}if(Ie){g=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function pv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;So||Dy(),Ao||(So(),Ao=!0),zl.add(d,a),a.v=0}}function fd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Oo(y(a.Fa,a),yv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,gv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Oo(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Ba(this),gv(this))};function pd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function gv(a){a.g=new Vn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=vn(a.qa);Ce(d,"RID","rpc"),Ce(d,"SID",a.K),Ce(d,"AID",a.T),Ce(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ce(d,"TO",a.ja),Ce(d,"TYPE","xmlhttp"),qo(a,d),a.m&&a.o&&dd(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Va(vn(d)),h.m=null,h.P=!0,$y(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Ba(this),fd(this),at(19))};function Ha(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function mv(a,d){var h=null;if(a.g==d){Ha(a),pd(a),a.g=null;var g=2}else if(ud(a.h,d))h=d.D,Ky(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=Na(),st(g,new Vy(g,h)),$a(a)}else pv(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&tC(a,d)||g==2&&fd(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:vr(a,5);break;case 4:vr(a,10);break;case 3:vr(a,6);break;default:vr(a,2)}}}function yv(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function vr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let b=!g;g=new yr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Fa(g,"https"),Va(g),b?K0(g.toString(),h):Q0(g.toString(),h)}else at(2);a.G=0,a.l&&a.l.sa(d),vv(a),dv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function vv(a){if(a.G=0,a.ka=[],a.l){let d=Qy(a.h);(d.length!=0||a.i.length!=0)&&(M(a.ka,d),M(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function _v(a,d,h){var g=h instanceof yr?vn(h):new yr(h);if(g.g!="")d&&(g.g=d+"."+g.g),La(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new yr(null);g&&Fa(S,g),d&&(S.g=d),b&&La(S,b),h&&(S.l=h),g=S}return h=a.D,d=a.ya,h&&d&&Ce(g,h,d),Ce(g,"VER",a.la),qo(a,g),g}function wv(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Me(new jo({eb:h})):new Me(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iv(){}t=Iv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qa(){}qa.prototype.g=function(a,d){return new gt(a,d)};function gt(a,d){Je.call(this),this.g=new lv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!z(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ui(this)}A(gt,Je),gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gt.prototype.close=function(){hd(this.g)},gt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ed(a),a=h);d.i.push(new V0(d.Ya++,a)),d.G==3&&$a(d)},gt.prototype.N=function(){this.g.l=null,delete this.j,hd(this.g),delete this.g,gt.aa.N.call(this)};function Ev(a){nd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(Ev,nd);function Dv(){rd.call(this),this.status=1}A(Dv,rd);function ui(a){this.g=a}A(ui,Iv),ui.prototype.ua=function(){st(this.g,"a")},ui.prototype.ta=function(a){st(this.g,new Ev(a))},ui.prototype.sa=function(a){st(this.g,new Dv)},ui.prototype.ra=function(){st(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,gt.prototype.send=gt.prototype.o,gt.prototype.open=gt.prototype.m,gt.prototype.close=gt.prototype.close,vg=Pn.createWebChannelTransport=function(){return new qa},yg=Pn.getStatEventTarget=function(){return Na()},mg=Pn.Event=gr,nl=Pn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,Js=Pn.ErrorCode=Pa,Uy.COMPLETE="complete",gg=Pn.EventType=Uy,Oy.EventType=No,No.OPEN="a",No.CLOSE="b",No.ERROR="c",No.MESSAGE="d",Je.prototype.listen=Je.prototype.K,ro=Pn.WebChannel=Oy,pg=Pn.FetchXmlHttpFactory=jo,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,fg=Pn.XhrIo=Me}).apply(typeof tl<"u"?tl:typeof self<"u"?self:typeof window<"u"?window:{});var db="@firebase/firestore";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var Do="10.13.2";var ni=new ir("@firebase/firestore");function Zs(){return ni.logLevel}function L(t,...e){if(ni.logLevel<=se.DEBUG){let n=e.map(ey);ni.debug(`Firestore (${Do}): ${t}`,...n)}}function kn(t,...e){if(ni.logLevel<=se.ERROR){let n=e.map(ey);ni.error(`Firestore (${Do}): ${t}`,...n)}}function ho(t,...e){if(ni.logLevel<=se.WARN){let n=e.map(ey);ni.warn(`Firestore (${Do}): ${t}`,...n)}}function ey(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+t;throw kn(e),new Error(e)}function Ve(t,e){t||Q()}function he(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var sl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},bg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}},Tg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Cg=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new sl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new Ge(e)}},Sg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ag=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Sg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Rg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},xg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new Rg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function mF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var al=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=mF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function fo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},xe=class t extends cl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},yF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kt=class t extends cl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return yF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new F(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new F(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var B=class t{constructor(e){this.path=e}static fromPath(e){return new t(xe.fromString(e))}static fromName(e){return new t(xe.fromString(e).popFirst(5))}static empty(){return new t(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new xe(e.slice()))}};var Mg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Mg.UNKNOWN_ID=-1;function vF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new ri(i,B.empty(),e)}function _F(t){return new ri(t.readTime,t.key,-1)}var ri=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),B.empty(),-1)}static max(){return new t(ee.max(),B.empty(),-1)}};function wF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var IF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ng=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ty(t){return C(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==IF)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function EF(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Da(t){return t.name==="IndexedDbTransactionError"}var zb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Fl(t){return t==null}function oa(t){return t===0&&1/t==-1/0}function DF(t){return typeof t=="number"&&Number.isInteger(t)&&!oa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aG=[...bF,"documentOverlays"],TF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CF=TF,SF=[...CF,"indexConfiguration","indexState","indexEntries"];var cG=[...SF,"globals"];function hb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ba(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ao(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ao(this.root,e,this.comparator,!1)}getReverseIterator(){return new ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ao(this.root,e,this.comparator,!0)}},ao=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var it=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ul(this.data.getIterator())}getIteratorFrom(e){return new ul(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ul=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zr=class t{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new t([])}unionWith(e){let n=new it(kt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ll=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ot=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ll("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ot.EMPTY_BYTE_STRING=new ot("");var AF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fn(t){if(Ve(!!t),typeof t=="string"){let e=0,n=AF.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lr(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}function ny(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ry(t){let e=t.mapValue.fields.__previous_value__;return ny(e)?ry(e):e}function sa(t){let e=Fn(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var Pg=class{constructor(e,n,r,i,o,s,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},dl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var rl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ny(t)?4:Kb(t)?9007199254740991:Wb(t)?10:11:Q()}function mn(t,e){if(t===e)return!0;let n=ii(t);if(n!==ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sa(t).isEqual(sa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Fn(i.timestampValue),c=Fn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return lr(i.bytesValue).isEqual(lr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),c=Ae(o.doubleValue);return s===c?oa(s)===oa(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return fo(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(hb(s)!==hb(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!mn(s[u],c[u])))return!1;return!0}(t,e);default:return Q()}}function aa(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function po(t,e){if(t===e)return 0;let n=ii(t),r=ii(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return fb(t.timestampValue,e.timestampValue);case 4:return fb(sa(t),sa(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(o,s){let c=lr(o),u=lr(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ve(c[l],u[l]);if(f!==0)return f}return ve(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=ve(Ae(o.latitude),Ae(s.latitude));return c!==0?c:ve(Ae(o.longitude),Ae(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pb(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},y=s.fields||{},w=(c=p.value)===null||c===void 0?void 0:c.arrayValue,A=(u=y.value)===null||u===void 0?void 0:u.arrayValue,R=ve(((l=w?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:pb(w,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===rl.mapValue&&s===rl.mapValue)return 0;if(o===rl.mapValue)return 1;if(s===rl.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=ve(u[p],f[p]);if(y!==0)return y;let w=po(c[u[p]],l[f[p]]);if(w!==0)return w}return ve(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Q()}}function fb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=Fn(t),r=Fn(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function pb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=po(n[i],r[i]);if(o)return o}return ve(n.length,r.length)}function go(t){return Og(t)}function Og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Fn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return B.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Og(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Og(n.fields[s])}`;return i+"}"}(t.mapValue):Q()}function gb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kg(t){return!!t&&"integerValue"in t}function iy(t){return!!t&&"arrayValue"in t}function mb(t){return!!t&&"nullValue"in t}function yb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _g(t){return!!t&&"mapValue"in t}function Wb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ea(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Kb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var On=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_g(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=ea(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());_g(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_g(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ba(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ea(this.value))}};var Jt=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),On.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),On.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var mo=class{constructor(e,n){this.position=e,this.inclusive=n}};function vb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),n.key):r=po(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _b(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}var oi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function RF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var hl=class{},Le=class t extends hl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lg(e,n,r):n==="array-contains"?new jg(e,r):n==="in"?new Bg(e,r):n==="not-in"?new $g(e,r):n==="array-contains-any"?new Hg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vg(e,r):new Ug(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(po(n,this.value)):n!==null&&ii(this.value)===ii(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Zt=class t extends hl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Qb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Qb(t){return t.op==="and"}function Yb(t){return xF(t)&&Qb(t)}function xF(t){for(let e of t.filters)if(e instanceof Zt)return!1;return!0}function Fg(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+go(t.value);if(Yb(t))return t.filters.map(e=>Fg(e)).join(",");{let e=t.filters.map(n=>Fg(n)).join(",");return`${t.op}(${e})`}}function Jb(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(t,e):t instanceof Zt?function(r,i){return i instanceof Zt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&Jb(s,i.filters[c]),!0):!1}(t,e):void Q()}function Zb(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(t):t instanceof Zt?function(n){return n.op.toString()+" {"+n.getFilters().map(Zb).join(" ,")+"}"}(t):"Filter"}var Lg=class extends Le{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){let n=B.comparator(e.key,this.key);return this.matchesComparison(n)}},Vg=class extends Le{constructor(e,n){super(e,"in",n),this.keys=Xb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ug=class extends Le{constructor(e,n){super(e,"not-in",n),this.keys=Xb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Xb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}var jg=class extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return iy(n)&&aa(n.arrayValue,this.value)}},Bg=class extends Le{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&aa(this.value.arrayValue,n)}},$g=class extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!aa(this.value.arrayValue,n)}},Hg=class extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>aa(this.value.arrayValue,r))}};var qg=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function wb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new qg(t,e,n,r,i,o,s)}function oy(t){let e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Fl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.ue=n}return e.ue}function sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Jb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_b(t.startAt,e.startAt)&&_b(t.endAt,e.endAt)}function zg(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var dr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function MF(t,e,n,r,i,o,s,c){return new dr(t,e,n,r,i,o,s,c)}function ay(t){return new dr(t)}function Ib(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eT(t){return t.collectionGroup!==null}function ta(t){let e=he(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new it(kt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new oi(o,r))}),n.has(kt.keyField().canonicalString())||e.ce.push(new oi(kt.keyField(),r))}return e.ce}function gn(t){let e=he(t);return e.le||(e.le=NF(e,ta(t))),e.le}function NF(t,e){if(t.limitType==="F")return wb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new oi(i.field,o)});let n=t.endAt?new mo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mo(t.startAt.position,t.startAt.inclusive):null;return wb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gg(t,e){let n=t.filters.concat([e]);return new dr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fl(t,e,n){return new dr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ll(t,e){return sy(gn(t),gn(e))&&t.limitType===e.limitType}function tT(t){return`${oy(gn(t))}|lt:${t.limitType}`}function io(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Zb(i)).join(", ")}]`),Fl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>go(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>go(i)).join(",")),`Target(${r})`}(gn(t))}; limitType=${t.limitType})`}function Vl(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ta(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=vb(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,ta(r),i)||r.endAt&&!function(s,c,u){let l=vb(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,ta(r),i))}(t,e)}function PF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nT(t){return(e,n)=>{let r=!1;for(let i of ta(t)){let o=OF(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function OF(t,e,n){let r=t.field.isKeyField()?B.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?po(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var hr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Gb(this.inner)}size(){return this.innerSize}};var kF=new Oe(B.comparator);function fr(){return kF}var rT=new Oe(B.comparator);function Xs(...t){let e=rT;for(let n of t)e=e.insert(n.key,n);return e}function FF(t){let e=rT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xr(){return na()}function iT(){return na()}function na(){return new hr(t=>t.toString(),(t,e)=>t.isEqual(e))}var lG=new Oe(B.comparator),LF=new it(B.comparator);function fe(...t){let e=LF;for(let n of t)e=e.add(n);return e}var VF=new it(ve);function UF(){return VF}function cy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oa(e)?"-0":e}}function oT(t){return{integerValue:""+t}}function jF(t,e){return DF(e)?oT(e):cy(t,e)}var yo=class{constructor(){this._=void 0}};function BF(t,e,n){return t instanceof ca?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ny(o)&&(o=ry(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof vo?sT(t,e):t instanceof _o?aT(t,e):function(i,o){let s=HF(i,o),c=Eb(s)+Eb(i.Pe);return kg(s)&&kg(i.Pe)?oT(c):cy(i.serializer,c)}(t,e)}function $F(t,e,n){return t instanceof vo?sT(t,e):t instanceof _o?aT(t,e):n}function HF(t,e){return t instanceof ua?function(r){return kg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ca=class extends yo{},vo=class extends yo{constructor(e){super(),this.elements=e}};function sT(t,e){let n=cT(e);for(let r of t.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}var _o=class extends yo{constructor(e){super(),this.elements=e}};function aT(t,e){let n=cT(e);for(let r of t.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}var ua=class extends yo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Eb(t){return Ae(t.integerValue||t.doubleValue)}function cT(t){return iy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vo&&i instanceof vo||r instanceof _o&&i instanceof _o?fo(r.elements,i.elements,mn):r instanceof ua&&i instanceof ua?mn(r.Pe,i.Pe):r instanceof ca&&i instanceof ca}(t.transform,e.transform)}var ra=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ol(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var la=class{};function uT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wg(t.key,ra.none()):new da(t.key,t.data,ra.none());{let n=t.data,r=On.empty(),i=new it(kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new wo(t.key,r,new Zr(i.toArray()),ra.none())}}function zF(t,e,n){t instanceof da?function(i,o,s){let c=i.value.clone(),u=bb(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof wo?function(i,o,s){if(!ol(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=bb(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(lT(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ia(t,e,n,r){return t instanceof da?function(o,s,c,u){if(!ol(o.precondition,s))return c;let l=o.value.clone(),f=Tb(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof wo?function(o,s,c,u){if(!ol(o.precondition,s))return c;let l=Tb(o.fieldTransforms,u,s),f=s.data;return f.setAll(lT(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return ol(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function Db(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fo(r,i,(o,s)=>qF(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var da=class extends la{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},wo=class extends la{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function lT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function bb(t,e,n){let r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,$F(s,c,n[i]))}return r}function Tb(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,BF(o,s,e))}return r}var Wg=class extends la{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Kg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&zF(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ia(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ia(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=iT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=uT(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,r)=>Db(n,r))&&fo(this.baseMutations,e.baseMutations,(n,r)=>Db(n,r))}};var Qg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Yg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ke,de;function dT(t){if(t===void 0)return kn("GRPC error has no .code"),x.UNKNOWN;switch(t){case ke.OK:return x.OK;case ke.CANCELLED:return x.CANCELLED;case ke.UNKNOWN:return x.UNKNOWN;case ke.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case ke.INTERNAL:return x.INTERNAL;case ke.UNAVAILABLE:return x.UNAVAILABLE;case ke.UNAUTHENTICATED:return x.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case ke.NOT_FOUND:return x.NOT_FOUND;case ke.ALREADY_EXISTS:return x.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return x.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case ke.ABORTED:return x.ABORTED;case ke.OUT_OF_RANGE:return x.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return x.UNIMPLEMENTED;case ke.DATA_LOSS:return x.DATA_LOSS;default:return Q()}}(de=ke||(ke={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var Cb=null;function GF(){return new TextEncoder}var WF=new cr([4294967295,4294967295],0);function Sb(t){let e=GF().encode(t),n=new hg;return n.update(e),new Uint8Array(n.digest())}function Ab(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cr([n,r],0),new cr([i,o],0)]}var Jg=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ei(`Invalid padding: ${n}`);if(r<0)throw new ei(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ei(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ei(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=cr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(cr.fromNumber(r)));return i.compare(WF)===1&&(i=new cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=Sb(e),[r,i]=Ab(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let n=Sb(e),[r,i]=Ab(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ei=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var pl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ha.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new Oe(ve),fr(),fe())}},ha=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,fe(),fe(),fe())}};var co=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},gl=class{constructor(e,n){this.targetId=e,this.me=n}},ml=class{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},yl=class{constructor(){this.fe=0,this.ge=xb(),this.pe=ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new ha(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=xb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Zg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=fr(),this.qe=Rb(),this.Qe=new Oe(ve)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(zg(o))if(r===0){let s=new B(o.path);this.Ue(n,s,Jt.newNoDocument(s,ee.min()))}else Ve(r===1);else{let s=this.Ye(n);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}Cb?.et(function(f,p,y,w,A){var R,M,V,z,$,ne;let Te={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},J=p.unchangedNames;return J&&(Te.bloomFilter={applied:A===0,hashCount:(R=J?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(z=(V=(M=J?.bits)===null||M===void 0?void 0:M.bitmap)===null||V===void 0?void 0:V.length)!==null&&z!==void 0?z:0,padding:(ne=($=J?.bits)===null||$===void 0?void 0:$.padding)!==null&&ne!==void 0?ne:0,mightContain:E=>{var m;return(m=w?.mightContain(E))!==null&&m!==void 0&&m}}),Te}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=lr(r).toUint8Array()}catch(u){if(u instanceof ll)return ho("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Jg(s,i,o)}catch(u){return ho(u instanceof ei?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&zg(c.target)){let u=new B(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Jt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=fe();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new pl(e,n,this.Qe,this.ke,r);return this.ke=fr(),this.qe=Rb(),this.Qe=new Oe(ve),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new yl,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new it(ve),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Rb(){return new Oe(B.comparator)}function xb(){return new Oe(B.comparator)}var KF={asc:"ASCENDING",desc:"DESCENDING"},QF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YF={and:"AND",or:"OR"},Xg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function em(t,e){return t.useProto3Json||Fl(e)?e:{value:e}}function tm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uo(t){return Ve(!!t),ee.fromTimestamp(function(n){let r=Fn(n);return new rt(r.seconds,r.nanos)}(t))}function fT(t,e){return nm(t,e).canonicalString()}function nm(t,e){let n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pT(t){let e=xe.fromString(t);return Ve(_T(e)),e}function wg(t,e){let n=pT(e);if(n.get(1)!==t.databaseId.projectId)throw new F(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(mT(n))}function gT(t,e){return fT(t.databaseId,e)}function JF(t){let e=pT(t);return e.length===4?xe.emptyPath():mT(e)}function Mb(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mT(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZF(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(Ve(f===void 0||typeof f=="string"),ot.fromBase64String(f||"")):(Ve(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ot.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?x.UNKNOWN:dT(l.code);return new F(f,l.message||"")}(s);n=new ml(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=wg(t,r.document.name),o=uo(r.document.updateTime),s=r.document.createTime?uo(r.document.createTime):ee.min(),c=new On({mapValue:{fields:r.document.fields}}),u=Jt.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new co(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=wg(t,r.document),o=r.readTime?uo(r.readTime):ee.min(),s=Jt.newNoDocument(i,o),c=r.removedTargetIds||[];n=new co([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=wg(t,r.document),o=r.removedTargetIds||[];n=new co([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Yg(i,o),c=r.targetId;n=new gl(c,s)}}return n}function XF(t,e){return{documents:[gT(t,e.path)]}}function eL(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gT(t,i);let o=function(l){if(l.length!==0)return vT(Zt.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:oo(y.field),direction:rL(y.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=em(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function tL(t){let e=JF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ve(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let y=yT(p);return y instanceof Zt&&Yb(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(A){return new oi(so(A.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Fl(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,w=p.values||[];return new mo(w,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,w=p.values||[];return new mo(w,y)}(n.endAt)),MF(e,i,s,o,c,"F",u,l)}function nL(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=so(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=so(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=so(n.unaryFilter.field);return Le.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=so(n.unaryFilter.field);return Le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return Le.create(so(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zt.create(n.compositeFilter.filters.map(r=>yT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function rL(t){return KF[t]}function iL(t){return QF[t]}function oL(t){return YF[t]}function oo(t){return{fieldPath:t.canonicalString()}}function so(t){return kt.fromServerFormat(t.fieldPath)}function vT(t){return t instanceof Le?function(n){if(n.op==="=="){if(yb(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(mb(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yb(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(mb(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:iL(n.op),value:n.value}}}(t):t instanceof Zt?function(n){let r=n.getFilters().map(i=>vT(i));return r.length===1?r[0]:{compositeFilter:{op:oL(n.op),filters:r}}}(t):Q()}function _T(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var fa=class t{constructor(e,n,r,i,o=ee.min(),s=ee.min(),c=ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var rm=class{constructor(e){this.ct=e}};function sL(t){let e=tL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fl(e,e.limit,"L"):e}var vl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),oa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Fn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(lr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Kb(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Wb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ae(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),B.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};vl.vt=new vl;var im=class{constructor(){this.un=new om}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(ri.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},om=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(xe.comparator)).toArray()}};var dG=new Uint8Array(0);var hn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var pa=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var sm=class{constructor(){this.changes=new hr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var am=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var cm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ia(r.mutation,i,Zr.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){let i=Xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Xs();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=fr(),s=na(),c=function(){return na()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof wo)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),ia(f.mutation,l,f.mutation.getFieldMask(),rt.now())):s.set(l.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new am(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=na(),i=new Oe((s,c)=>s-c),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||Zr.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||fe()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=iT();f.forEach(y=>{if(!o.has(y)){let w=uT(n.get(y),r.get(y));w!==null&&p.set(y,w),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(Xr()),c=-1,u=o;return s.next(l=>N.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,fe())).next(f=>({batchId:c,changes:FF(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=Xs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Xs();return this.indexManager.getCollectionParents(e,o).next(c=>N.forEach(c,u=>{let l=function(p,y){return new dr(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Jt.newInvalidDocument(f)))});let c=Xs();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&ia(f.mutation,l,Zr.empty(),rt.now()),Vl(n,l)&&(c=c.insert(u,l))}),c})}};var um=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:uo(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:sL(i.bundledQuery),readTime:uo(i.readTime)}}(n)),N.resolve()}};var lm=class{constructor(){this.overlays=new Oe(B.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Xr();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=Xr(),o=n.length+1,s=new B(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Xr(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Xr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return N.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Qg(n,r));let o=this.Ir.get(n);o===void 0&&(o=fe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var dm=class{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var ga=class{constructor(){this.Tr=new it(Fe.Er),this.dr=new it(Fe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Fe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Fe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new B(new xe([])),r=new Fe(n,e),i=new Fe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new B(new xe([])),r=new Fe(n,e),i=new Fe(n,e+1),o=fe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Fe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return B.comparator(e.key,n.key)||ve(e.wr,n.wr)}static Ar(e,n){return ve(e.wr,n.wr)||B.comparator(e.key,n.key)}};var hm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new it(Fe.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Kg(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Fe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Fe(n,0),i=new Fe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(ve);return n.forEach(i=>{let o=new Fe(i,0),s=new Fe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new Fe(new B(o),0),c=new it(ve);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),N.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let o=new Fe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Fe(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var fm=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Jt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=fr(),s=n.path,c=new B(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||wF(_F(f),r)<=0||(i.has(f.key)||Vl(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pm(this)}getSize(e){return N.resolve(this.size)}},pm=class extends sm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var gm=class{constructor(e){this.persistence=e,this.Nr=new hr(n=>oy(n),sy),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ga,this.targetCount=0,this.kr=pa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new pa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var mm=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zb(0),this.Kr=!1,this.Kr=!0,this.$r=new dm,this.referenceDelegate=e(this),this.Ur=new gm(this),this.indexManager=new im,this.remoteDocumentCache=function(i){return new fm(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new rm(n),this.Gr=new um(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new hm(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new ym(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},ym=class extends Ng{constructor(e){super(),this.currentSequenceNumber=e}},vm=class t{constructor(e){this.persistence=e,this.Jr=new ga,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=B.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var _m=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=fe(),i=fe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var wm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Im=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return CD()?8:EF(Tt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new wm;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Zs()<=se.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(Zs()<=se.DEBUG&&L("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Zs()<=se.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):N.resolve())}Yi(e,n){if(Ib(n))return N.resolve(null);let r=gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fl(n,null,"F"),r=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=fe(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,s,u.readTime)?this.Yi(e,fl(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return Ib(n)||i.isEqual(ee.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?N.resolve(null):(Zs()<=se.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),io(n)),this.rs(e,s,n,vF(i,-1)).next(c=>c))})}ts(e,n){let r=new it(nT(e));return n.forEach((i,o)=>{Vl(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Zs()<=se.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",io(n)),this.Ji.getDocumentsMatchingQuery(e,n,ri.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Em=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(ve),this._s=new hr(o=>oy(o),sy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function aL(t,e,n,r){return new Em(t,e,n,r)}function wT(t,e){return C(this,null,function*(){let n=he(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=fe();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function IT(t){let e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function cL(t,e){let n=he(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(ot.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(p,w),function(R,M,V){return R.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(y,w,f)&&c.push(n.Ur.updateTargetData(o,w))});let u=fr(),l=fe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(uL(o,s,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(ee.min())){let f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return N.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function uL(t,e,n){let r=fe(),i=fe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=fr();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function lL(t,e){let n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new fa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Dm(t,e,n){return C(this,null,function*(){let r=he(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Da(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Nb(t,e,n){let r=he(t),i=ee.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=he(u),y=p._s.get(f);return y!==void 0?N.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,s,gn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:fe())).next(c=>(dL(r,PF(e),c),{documents:c,Ts:o})))}function dL(t,e,n){let r=t.us.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var _l=class{constructor(){this.activeTargetIds=UF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var bm=class{constructor(){this.so=new _l,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _l,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Tm=class{_o(e){}shutdown(){}};var wl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var il=null;function Ig(){return il===null?il=function(){return 268435456+Math.round(2147483648*Math.random())}():il++,"0x"+il.toString(16)}var hL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Cm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var nt="WebChannelConnection",Sm=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=Ig(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(f=>(L("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw ho("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=hL[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Ig();return new Promise((s,c)=>{let u=new fg;u.setWithCredentials(!0),u.listenOnce(gg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Js.NO_ERROR:let f=u.getResponseJson();L(nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Js.TIMEOUT:L(nt,`RPC '${e}' ${o} timed out`),c(new F(x.DEADLINE_EXCEEDED,"Request time out"));break;case Js.HTTP_ERROR:let p=u.getStatus();if(L(nt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let A=function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(V)>=0?V:x.UNKNOWN}(w.status);c(new F(A,w.message))}else c(new F(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new F(x.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{L(nt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);L(nt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Ig(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vg(),c=yg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new pg({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");L(nt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u),y=!1,w=!1,A=new Cm({Io:M=>{w?L(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(L(nt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),L(nt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},To:()=>p.close()}),R=(M,V,z)=>{M.listen(V,$=>{try{z($)}catch(ne){setTimeout(()=>{throw ne},0)}})};return R(p,ro.EventType.OPEN,()=>{w||(L(nt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),R(p,ro.EventType.CLOSE,()=>{w||(w=!0,L(nt,`RPC '${e}' stream ${i} transport closed`),A.So())}),R(p,ro.EventType.ERROR,M=>{w||(w=!0,ho(nt,`RPC '${e}' stream ${i} transport errored:`,M),A.So(new F(x.UNAVAILABLE,"The operation could not be completed")))}),R(p,ro.EventType.MESSAGE,M=>{var V;if(!w){let z=M.data[0];Ve(!!z);let $=z,ne=$.error||((V=$[0])===null||V===void 0?void 0:V.error);if(ne){L(nt,`RPC '${e}' stream ${i} received error:`,ne);let Te=ne.status,J=function(v){let I=ke[v];if(I!==void 0)return dT(I)}(Te),E=ne.message;J===void 0&&(J=x.INTERNAL,E="Unknown error status: "+Te+" with message "+ne.message),w=!0,A.So(new F(J,E)),p.close()}else L(nt,`RPC '${e}' stream ${i} received:`,z),A.bo(z)}}),R(c,mg.STAT_EVENT,M=>{M.stat===nl.PROXY?L(nt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===nl.NOPROXY&&L(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Eg(){return typeof document<"u"?document:null}function Ul(t){return new Xg(t,!0)}var Il=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Am=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Il(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new F(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Rm=class extends Am{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=ZF(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?uo(s.readTime):ee.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Mb(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=zg(u)?{documents:XF(o,u)}:{query:eL(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=hT(o,s.resumeToken);let l=em(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){c.readTime=tm(o,s.snapshotVersion.toTimestamp());let l=em(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=nL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Mb(this.serializer),n.removeTarget=e,this.a_(n)}};var xm=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new F(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,nm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(x.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,nm(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(x.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Mm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kn(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Nm=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>C(this,null,function*(){Ca(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let l=he(u);l.L_.add(4),yield Ta(l),l.q_.set("Unknown"),l.L_.delete(4),yield jl(l)})}(this))}))}),this.q_=new Mm(r,i)}};function jl(t){return C(this,null,function*(){if(Ca(t))for(let e of t.B_)yield e(!0)})}function Ta(t){return C(this,null,function*(){for(let e of t.B_)yield e(!1)})}function ET(t,e){let n=he(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),hy(n)?dy(n):bo(n).r_()&&ly(n,e))}function uy(t,e){let n=he(t),r=bo(n);n.N_.delete(e),r.r_()&&DT(n,e),n.N_.size===0&&(r.r_()?r.o_():Ca(n)&&n.q_.set("Unknown"))}function ly(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(t).A_(e)}function DT(t,e){t.Q_.xe(e),bo(t).R_(e)}function dy(t){t.Q_=new Zg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bo(t).start(),t.q_.v_()}function hy(t){return Ca(t)&&!bo(t).n_()&&t.N_.size>0}function Ca(t){return he(t).L_.size===0}function bT(t){t.Q_=void 0}function fL(t){return C(this,null,function*(){t.q_.set("Online")})}function pL(t){return C(this,null,function*(){t.N_.forEach((e,n)=>{ly(t,e)})})}function gL(t,e){return C(this,null,function*(){bT(t),hy(t)?(t.q_.M_(e),dy(t)):t.q_.set("Unknown")})}function mL(t,e,n){return C(this,null,function*(){if(t.q_.set("Online"),e instanceof ml&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pb(t,r)}else if(e instanceof co?t.Q_.Ke(e):e instanceof gl?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ee.min()))try{let r=yield IT(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(ot.EMPTY_BYTE_STRING,f.snapshotVersion)),DT(o,u);let p=new fa(f.target,u,l,f.sequenceNumber);ly(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield Pb(t,r)}})}function Pb(t,e,n){return C(this,null,function*(){if(!Da(e))throw e;t.L_.add(1),yield Ta(t),t.q_.set("Offline"),n||(n=()=>IT(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield jl(t)}))})}function Ob(t,e){return C(this,null,function*(){let n=he(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=Ca(n);n.L_.add(3),yield Ta(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield jl(n)})}function yL(t,e){return C(this,null,function*(){let n=he(t);e?(n.L_.delete(2),yield jl(n)):e||(n.L_.add(2),yield Ta(n),n.q_.set("Unknown"))})}function bo(t){return t.K_||(t.K_=function(n,r,i){let o=he(n);return o.w_(),new Rm(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:fL.bind(null,t),Ro:pL.bind(null,t),mo:gL.bind(null,t),d_:mL.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.K_.s_(),hy(t)?dy(t):t.q_.set("Unknown")):(yield t.K_.stop(),bT(t))}))),t.K_}var Pm=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function TT(t,e){if(kn("AsyncQueue",`${e}: ${t}`),Da(t))return new F(x.UNAVAILABLE,`${e}: ${t}`);throw t}var El=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=Xs(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Dl=class{constructor(){this.W_=new Oe(B.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Io=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,El.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ll(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Om=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},km=class{constructor(){this.queries=kb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=he(n),o=i.queries;i.queries=kb(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new F(x.ABORTED,"Firestore shutting down"))}};function kb(){return new hr(t=>tT(t),Ll)}function CT(t,e){return C(this,null,function*(){let n=he(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Om,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=TT(s,`Initialization of query '${io(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&fy(n)})}function ST(t,e){return C(this,null,function*(){let n=he(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function vL(t,e){let n=he(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&fy(n)}function _L(t,e,n){let r=he(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function fy(t){t.Y_.forEach(e=>{e.next()})}var Fm,Fb;(Fb=Fm||(Fm={})).ea="default",Fb.Cache="cache";var bl=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fm.Cache}};var Tl=class{constructor(e){this.key=e}},Cl=class{constructor(e){this.key=e}},Lm=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=nT(e),this.Ra=new El(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Dl,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),w=Vl(this.query,p)?p:null,A=!!y&&this.mutatedKeys.has(y.key),R=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),M=!1;y&&w?y.data.isEqual(w.data)?A!==R&&(r.track({type:3,doc:w}),M=!0):this.ga(y,w)||(r.track({type:2,doc:w}),M=!0,(u&&this.Aa(w,u)>0||l&&this.Aa(w,l)<0)&&(c=!0)):!y&&w?(r.track({type:0,doc:w}),M=!0):y&&!w&&(r.track({type:1,doc:y}),M=!0,(u||l)&&(c=!0)),M&&(w?(s=s.add(w),o=R?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(w,A){let R=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return R(w)-R(A)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Io(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Cl(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Tl(r))}),n}ba(e){this.Ta=e.Ts,this.da=fe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Vm=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Um=class{constructor(e){this.key=e,this.va=!1}},jm=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new hr(c=>tT(c),Ll),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(B.comparator),this.Na=new Map,this.La=new ga,this.Ba={},this.ka=new Map,this.qa=pa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function wL(t,e,n=!0){return C(this,null,function*(){let r=NT(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield AT(r,e,n,!0),i})}function IL(t,e){return C(this,null,function*(){let n=NT(t);yield AT(n,e,!0,!1)})}function AT(t,e,n,r){return C(this,null,function*(){let i=yield lL(t.localStore,gn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield EL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ET(t.remoteStore,i),c})}function EL(t,e,n,r,i){return C(this,null,function*(){t.Ka=(p,y,w)=>function(R,M,V,z){return C(this,null,function*(){let $=M.view.ma(V);$.ns&&($=yield Nb(R.localStore,M.query,!1).then(({documents:E})=>M.view.ma(E,$)));let ne=z&&z.targetChanges.get(M.targetId),Te=z&&z.targetMismatches.get(M.targetId)!=null,J=M.view.applyChanges($,R.isPrimaryClient,ne,Te);return Vb(R,M.targetId,J.wa),J.snapshot})}(t,p,y,w);let o=yield Nb(t.localStore,e,!0),s=new Lm(e,o.Ts),c=s.ma(o.documents),u=ha.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);Vb(t,n,l.wa);let f=new Vm(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function DL(t,e,n){return C(this,null,function*(){let r=he(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ll(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Dm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uy(r.remoteStore,i.targetId),Bm(r,i.targetId)}).catch(ty))):(Bm(r,i.targetId),yield Dm(r.localStore,i.targetId,!0))})}function bL(t,e){return C(this,null,function*(){let n=he(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uy(n.remoteStore,r.targetId))})}function RT(t,e){return C(this,null,function*(){let n=he(t);try{let r=yield cL(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ve(s.va):i.removedDocuments.size>0&&(Ve(s.va),s.va=!1))}),yield MT(n,r,e)}catch(r){yield ty(r)}})}function Lb(t,e,n){let r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=he(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&fy(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function TL(t,e,n){return C(this,null,function*(){let r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Oe(B.comparator);s=s.insert(o,Jt.newNoDocument(o,ee.min()));let c=fe().add(o),u=new pl(ee.min(),new Map,new Oe(ve),s,c);yield RT(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),py(r)}else yield Dm(r.localStore,e,!1).then(()=>Bm(r,e,n)).catch(ty)})}function Bm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||xT(t,r)})}function xT(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(uy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),py(t))}function Vb(t,e,n){for(let r of n)r instanceof Tl?(t.La.addReference(r.key,e),CL(t,r)):r instanceof Cl?(L("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||xT(t,r.key)):Q()}function CL(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(L("SyncEngine","New document in limbo: "+n),t.xa.add(r),py(t))}function py(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new B(xe.fromString(e)),r=t.qa.next();t.Na.set(r,new Um(n)),t.Oa=t.Oa.insert(n,r),ET(t.remoteStore,new fa(gn(ay(n.path)),r,"TargetPurposeLimboResolution",zb.oe))}}function MT(t,e,n){return C(this,null,function*(){let r=he(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=_m.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return C(this,null,function*(){let f=he(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,y=>N.forEach(y.$i,w=>f.persistence.referenceDelegate.addReference(p,y.targetId,w)).next(()=>N.forEach(y.Ui,w=>f.persistence.referenceDelegate.removeReference(p,y.targetId,w)))))}catch(p){if(!Da(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let w=f.os.get(y),A=w.snapshotVersion,R=w.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(y,R)}}})}(r.localStore,o))})}function SL(t,e){return C(this,null,function*(){let n=he(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield wT(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new F(x.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield MT(n,r.hs)}})}function AL(t,e){let n=he(t),r=n.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let c=n.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function NT(t){let e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TL.bind(null,e),e.Ca.d_=vL.bind(null,e.eventManager),e.Ca.$a=_L.bind(null,e.eventManager),e}var Sl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return C(this,null,function*(){this.serializer=Ul(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aL(this.persistence,new Im,e.initialUser,this.serializer)}createPersistence(e){return new mm(vm.Zr,this.serializer)}createSharedClientState(e){return new bm}terminate(){return C(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var $m=class{initialize(e,n){return C(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SL.bind(null,this.syncEngine),yield yL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new km}()}createDatastore(e){let n=Ul(e.databaseInfo.databaseId),r=function(o){return new Sm(o)}(e.databaseInfo);return function(o,s,c,u){return new xm(o,s,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,c){return new Nm(r,i,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Lb(this.syncEngine,n,0),function(){return wl.D()?new wl:new Tm}())}createSyncEngine(e,n){return function(i,o,s,c,u,l,f){let p=new jm(i,o,s,c,u,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return C(this,null,function*(){var e,n;yield function(i){return C(this,null,function*(){let o=he(i);L("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ta(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Al=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Hm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=al.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>C(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=TT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Dg(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield wT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Ub(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield xL(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ob(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ob(e.remoteStore,i)),t._onlineComponents=e})}function RL(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function xL(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!RL(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),yield Dg(t,new Sl)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield Dg(t,new Sl);return t._offlineComponents})}function ML(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ub(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield Ub(t,new $m))),t._onlineComponents})}function PT(t){return C(this,null,function*(){let e=yield ML(t),n=e.eventManager;return n.onListen=wL.bind(null,e.syncEngine),n.onUnlisten=DL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bL.bind(null,e.syncEngine),n})}function NL(t,e,n={}){let r=new fn;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,c,u,l){let f=new Al({next:y=>{s.enqueueAndForget(()=>ST(o,p));let w=y.docs.has(c);!w&&y.fromCache?l.reject(new F(x.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&u&&u.source==="server"?l.reject(new F(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new bl(ay(c.path),f,{includeMetadataChanges:!0,_a:!0});return CT(o,p)}(yield PT(t),t.asyncQueue,e,n,r)})),r.promise}function PL(t,e,n={}){let r=new fn;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,c,u,l){let f=new Al({next:y=>{s.enqueueAndForget(()=>ST(o,p)),y.fromCache&&u.source==="server"?l.reject(new F(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new bl(c,f,{includeMetadataChanges:!0,_a:!0});return CT(o,p)}(yield PT(t),t.asyncQueue,e,n,r)})),r.promise}function OT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var jb=new Map;function kT(t,e,n){if(!n)throw new F(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OL(t,e,n,r){if(e===!0&&r===!0)throw new F(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bb(t){if(!B.isDocumentKey(t))throw new F(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $b(t){if(B.isDocumentKey(t))throw new F(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function ma(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Bl(t);throw new F(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function kL(t,e){if(e<=0)throw new F(x.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Rl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Eo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bg;switch(r.type){case"firstParty":return new Ag(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=jb.get(n);r&&(L("ComponentProvider","Removing Datastore"),jb.delete(n),r.terminate())}(this),Promise.resolve()}};function FT(t,e,n,r={}){var i;let o=(t=ma(t,Eo))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ge.MOCK_USER;else{c=ID(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new F(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ge(l)}t._authCredentials=new Tg(new sl(c,u))}}var pr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ct=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ur=class t extends pr{constructor(e,n,r){super(e,n,ay(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new B(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function LT(t,e,...n){if(t=ft(t),kT("collection","path",e),t instanceof Eo){let r=xe.fromString(e,...n);return $b(r),new ur(t,null,r)}{if(!(t instanceof Ct||t instanceof ur))throw new F(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return $b(r),new ur(t.firestore,null,r)}}function VT(t,e,...n){if(t=ft(t),arguments.length===1&&(e=al.newId()),kT("doc","path",e),t instanceof Eo){let r=xe.fromString(e,...n);return Bb(r),new Ct(t,null,new B(r))}{if(!(t instanceof Ct||t instanceof ur))throw new F(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return Bb(r),new Ct(t.firestore,t instanceof ur?t.converter:null,new B(r))}}var qm=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Il(this,"async_queue_retry"),this.Eu=()=>{let n=Eg();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Eg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new fn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return C(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Da(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Pm.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Q()}verifyOperationInProgress(){}mu(){return C(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var ya=class extends Eo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new qm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BT(this),this._firestoreClient.terminate()}};function UT(t,e){let n=typeof t=="object"?t:qr(),r=typeof t=="string"?t:e||"(default)",i=qs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Uu("firestore");o&&FT(i,...o)}return i}function jT(t){return t._firestoreClient||BT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BT(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new Pg(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,OT(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Hm(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var va=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ot.fromBase64String(e))}catch(n){throw new F(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var xl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ml=class{constructor(e){this._methodName=e}};var _a=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var wa=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var FL=/^__.*__$/;function $T(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var zm=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Wm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if($T(this.wu)&&FL.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Gm=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ul(e)}Nu(e,n,r,i=!1){return new zm({wu:e,methodName:n,Ou:r,path:kt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function LL(t){let e=t._freezeSettings(),n=Ul(t._databaseId);return new Gm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VL(t,e,n,r=!1){return gy(n,t.Nu(r?4:3,e))}function gy(t,e){if(HT(t=ft(t)))return jL("Unsupported field value:",e,t),UL(t,e);if(t instanceof Ml)return function(r,i){if(!$T(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=gy(c,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=rt.fromDate(r);return{timestampValue:tm(i.serializer,o)}}if(r instanceof rt){let o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tm(i.serializer,o)}}if(r instanceof _a)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof va)return{bytesValue:hT(i.serializer,r._byteString)};if(r instanceof Ct){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:fT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wa)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return cy(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Bl(r)}`)}(t,e)}function UL(t,e){let n={};return Gb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(t,(r,i)=>{let o=gy(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function HT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof _a||t instanceof va||t instanceof Ct||t instanceof Ml||t instanceof wa)}function jL(t,e,n){if(!HT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Bl(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}var BL=new RegExp("[~\\*/\\[\\]]");function $L(t,e,n){if(e.search(BL)>=0)throw Wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xl(...e.split("."))._internalPath}catch{throw Wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wm(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(x.INVALID_ARGUMENT,c+t+u)}var Nl=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Km(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field($l("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Km=class extends Nl{data(){return super.data()}};function $l(t,e){return typeof e=="string"?$L(t,e):e instanceof xl?e._internalPath:e._delegate._internalPath}function HL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ia=class{},Ea=class extends Ia{};function qT(t,e,...n){let r=[];e instanceof Ia&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof Qm).length,c=o.filter(u=>u instanceof Pl).length;if(s>1||s>0&&c>0)throw new F(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Pl=class t extends Ea{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return KT(e._query,n),new pr(e.firestore,e.converter,Gg(e._query,n))}_parse(e){let n=LL(e.firestore);return function(o,s,c,u,l,f,p){let y;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new F(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){qb(p,f);let w=[];for(let A of p)w.push(Hb(u,o,A));y={arrayValue:{values:w}}}else y=Hb(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||qb(p,f),y=VL(c,s,p,f==="in"||f==="not-in");return Le.create(l,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function zT(t,e,n){let r=e,i=$l("where",t);return Pl._create(i,r,n)}var Qm=class t extends Ia{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)KT(s,u),s=Gg(s,u)}(e._query,n),new pr(e.firestore,e.converter,Gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Ym=class t extends Ea{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new F(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oi(o,s)}(e._query,this._field,this._direction);return new pr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new dr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function GT(t,e="asc"){let n=e,r=$l("orderBy",t);return Ym._create(r,n)}var Jm=class t extends Ea{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new pr(e.firestore,e.converter,fl(e._query,this._limit,this._limitType))}};function WT(t){return kL("limit",t),Jm._create("limit",t,"F")}function Hb(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new F(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eT(e)&&n.indexOf("/")!==-1)throw new F(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(xe.fromString(n));if(!B.isDocumentKey(r))throw new F(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gb(t,new B(r))}if(n instanceof Ct)return gb(t,n._key);throw new F(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bl(n)}.`)}function qb(t,e){if(!Array.isArray(t)||t.length===0)throw new F(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KT(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Zm=class{convertValue(e,n="none"){switch(ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ba(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new wa(o)}convertGeoPoint(e){return new _a(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sa(e));default:return null}}convertTimestamp(e){let n=Fn(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=xe.fromString(e);Ve(_T(r));let i=new dl(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(n)||kn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var ti=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ol=class extends Nl{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field($l("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},lo=class extends Ol{data(e={}){return super.data(e)}},Xm=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ti(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lo(this._firestore,this._userDataWriter,r.key,r,new ti(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new lo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ti(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new lo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ti(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:qL(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function qL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function QT(t){t=ma(t,Ct);let e=ma(t.firestore,ya);return NL(jT(e),t._key).then(n=>zL(e,t,n))}var kl=class extends Zm{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}};function YT(t){t=ma(t,pr);let e=ma(t.firestore,ya),n=jT(e),r=new kl(e);return HL(t._query),PL(n,t._query).then(i=>new Xm(e,r,t,i))}function zL(t,e,n){let r=n.docs.get(e._key),i=new kl(t);return new Ol(t,i,e._key,r,new ti(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Do=i})(eo),dn(new pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new ya(new Cg(r.getProvider("auth-internal")),new xg(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dl(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Re(db,"4.7.2",e),Re(db,"4.7.2","esm2017")})();var si=class{constructor(e){return e}},JT="firestore",my=class{constructor(){return Wr(JT)}};var yy=new Z("angularfire2.firestore-instances");function GL(t,e){let n=zs(JT,t,e);return n&&new si(n)}function WL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new si(r)}}var KL={provide:my,deps:[[new tt,yy]]},QL={provide:si,useFactory:GL,deps:[[new tt,yy],Nn]};function ZT(t,...e){return Re("angularfire",sr.full,"fst"),an([QL,KL,{provide:yy,useFactory:WL(t),multi:!0,deps:[we,Kt,Kr,Qr,[new tt,no],[new tt,Gr],...e]}])}var XT=ut(LT,!0);var e0=ut(VT,!0);var t0=ut(QT,!0);var n0=ut(YT,!0);var r0=ut(UT,!0);var i0=ut(WT,!0);var o0=ut(GT,!0);var To=ut(qT,!0);var Sa=ut(zT,!0);var Hl=(()=>{let e=class e{constructor(){this.firestore=O(si)}getDesign(r){return C(this,null,function*(){return(yield t0(e0(this.firestore,"designs/"+r))).data()})}getDesigns(r){return C(this,null,function*(){let i=To(XT(this.firestore,"designs"),o0("createdAt","desc"));r.searchTerm&&(i=To(i,Sa("name",">=",r.searchTerm),Sa("name","<=",r.searchTerm+"\uF8FF"))),r.count&&(i=To(i,i0(r.count))),r.category&&(i=To(i,Sa("category","==",r.category))),r.type&&(i=To(i,Sa("type","==",r.type)));let o=yield n0(i),s=[];return o.forEach(c=>{s.push(j({id:c.id},c.data()))}),s})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ql=t=>({show:t}),s0=(()=>{let e=class e{constructor(){this.isAnimationTriggered=!1}ngOnInit(){setTimeout(()=>{this.isAnimationTriggered=!0},0)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["cw-navbar"]],standalone:!0,features:[ze],decls:30,vars:12,consts:[[1,"container"],[1,"black-overlay"],[1,"white-bar"],[1,"logo"],["src","assets/current-wave-gradient.svg"],[1,"title"],[1,"cart"],[1,"cart-button"],[1,"fas","fa-shopping-cart","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button"],[1,"fas","fa-bars","cart-icon"],[1,"logo-hamburger"],[1,"content"],["src","assets/current-wave-white.svg",1,"logo-secondary"],[1,"slogan"],[1,"browse-button"],[1,"left-image-wrapper","wrapper-position"],["src","assets/apparel/cench.png","alt","Kendrick",1,"left-image","tshirt","image",3,"ngClass"],[1,"left-image-wrapper-2","wrapper-position"],["src","assets/apparel/kendrick.png","alt","Kendrick",1,"left-image-2","tshirt","image",3,"ngClass"],[1,"right-image-wrapper","wrapper-position"],["src","assets/apparel/gojo.png","alt","Kendrick",1,"right-image","tshirt","image",3,"ngClass"],[1,"right-image-wrapper-2","wrapper-position"],["src","assets/apparel/travis.png","alt","Kendrick",1,"right-image-2","tshirt","image",3,"ngClass"]],template:function(i,o){i&1&&(k(0,"div",0),K(1,"div",1),k(2,"div",2)(3,"div",3),K(4,"img",4),U(),k(5,"div",5),te(6,"CURRENT WAVE"),U(),k(7,"div",6)(8,"div",7),K(9,"i",8),U()()(),k(10,"div",9)(11,"div",10),K(12,"i",11),U(),k(13,"div",12),K(14,"img",4),U(),K(15,"div"),U(),k(16,"div",13),K(17,"img",14),k(18,"div",15),te(19,"Pridru\u017Ei se talasu."),U()(),k(20,"button",16),te(21,"Pogledaj kolekciju"),U(),k(22,"div",17),K(23,"img",18),U(),k(24,"div",19),K(25,"img",20),U(),k(26,"div",21),K(27,"img",22),U(),k(28,"div",23),K(29,"img",24),U()()),i&2&&(De(23),Se("ngClass",ps(4,ql,o.isAnimationTriggered)),De(2),Se("ngClass",ps(6,ql,o.isAnimationTriggered)),De(2),Se("ngClass",ps(8,ql,o.isAnimationTriggered)),De(2),Se("ngClass",ps(10,ql,o.isAnimationTriggered)))},dependencies:[Yt,wE],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;min-height:25rem;background:var(--gradient-secondary);justify-content:center;overflow:hidden;position:relative}.black-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%;background-color:#000;z-index:1;pointer-events:none;opacity:.05;transition:opacity .5s ease}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:100%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.browse-button[_ngcontent-%COMP%]{position:relative;z-index:2;height:3rem;width:12rem;outline:none;border:none;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;box-shadow:0 2px 4px #0003;border:3px solid var(--white-primary)}.browse-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;z-index:2;flex-wrap:wrap;width:100%}.logo-secondary[_ngcontent-%COMP%]{max-width:22rem;max-height:22rem;color:var(--white-primary);display:block}.slogan[_ngcontent-%COMP%]{position:absolute;font-size:var(--fs-600);max-width:30rem;padding-inline:1.5rem;padding-bottom:1.5rem;font-family:var(--ff-secondary);color:var(--white-primary);-webkit-user-select:none;user-select:none;cursor:default;z-index:2;top:80%}.wrapper-position[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:0}.left-image-wrapper[_ngcontent-%COMP%]{top:-5rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-5rem;left:-30rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-5rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-4rem;right:-25rem}.image[_ngcontent-%COMP%]{max-width:60rem;max-height:60rem;transition:width .3s ease,height .3s ease}.left-image[_ngcontent-%COMP%]{transform:rotate(15deg);--rotation: 15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.right-image[_ngcontent-%COMP%]{transform:rotate(-15deg);--rotation: -15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.left-image-2[_ngcontent-%COMP%]{transform:rotate(-10deg);--rotation: -10deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.right-image-2[_ngcontent-%COMP%]{transform:rotate(25deg);--rotation: 25deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background-color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.hamburger-button[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}@media screen and (max-width: 1770px){.image[_ngcontent-%COMP%]{max-width:55rem;max-height:55rem}.black-overlay[_ngcontent-%COMP%]{opacity:.1}.left-image-wrapper[_ngcontent-%COMP%]{top:-2rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-2rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;right:-20rem}}@media screen and (max-width: 1600px){.black-overlay[_ngcontent-%COMP%]{opacity:.15}}@media screen and (max-width: 1100px){.image[_ngcontent-%COMP%]{max-width:45rem;max-height:45rem}.black-overlay[_ngcontent-%COMP%]{opacity:.25}.left-image-wrapper[_ngcontent-%COMP%]{top:-1rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-1rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;right:-20rem}}@media screen and (max-width: 800px){.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}.browse-button[_ngcontent-%COMP%]{height:2.7rem;width:7rem;font-size:.8rem}.black-overlay[_ngcontent-%COMP%]{opacity:.35}.image[_ngcontent-%COMP%]{max-width:30rem;max-height:30rem}.left-image-wrapper[_ngcontent-%COMP%]{top:1rem;left:-4rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:1rem;left:-15rem}.right-image-wrapper[_ngcontent-%COMP%]{top:1rem;right:-4rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:2rem;right:-15rem}}@media screen and (max-width: 600px){.image[_ngcontent-%COMP%]{max-width:29rem;max-height:29rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{display:none}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 370px){.image[_ngcontent-%COMP%]{max-width:25rem;max-height:25rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}}.tshirt[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px) rotate(0);animation-duration:.8s;animation-fill-mode:forwards;transition:transform .5s}@keyframes _ngcontent-%COMP%_slide-in{0%{opacity:0;transform:translateY(50px) rotate(0)}to{opacity:1;transform:translateY(0) rotate(var(--rotation))}}']});let t=e;return t})();function YL(t,e){if(t&1&&(lu(0),te(1),du()),t&2){let n=Lr(2);De(),wt(n.onContentRendered())}}function JL(t,e){if(t&1&&(k(0,"cw-home-card",8),Nt(1,YL,2,1,"ng-container",9),U()),t&2){let n=e.$implicit,r=e.last,i=Lr();Se("design",n),De(),Se("ngIf",r&&!i.contentRendered)}}function ZL(t,e){if(t&1&&(lu(0),te(1),du()),t&2){let n=Lr(2);De(),wt(n.onContentRendered())}}function XL(t,e){if(t&1&&(k(0,"cw-home-card",8),Nt(1,ZL,2,1,"ng-container",9),U()),t&2){let n=e.$implicit,r=e.last,i=Lr();Se("design",n),De(),Se("ngIf",r&&!i.contentRendered)}}var a0=(()=>{let e=class e{constructor(){this.contentRendered=!1,this.shirtDesigns=[],this.hoodieDesigns=[],this.changeDetector=O(Vr),this.designService=O(Hl)}ngOnInit(){return C(this,null,function*(){yield this.loadDesigns()})}loadDesigns(r=""){return C(this,null,function*(){let i=yield this.designService.getDesigns({count:5,type:"Majica"}),o=yield this.designService.getDesigns({count:5,type:"Duks"});this.shirtDesigns=i,this.hoodieDesigns=o})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(r,i){return i.id}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["cw-home"]],standalone:!0,features:[ze],decls:20,vars:4,consts:[[1,"wrapper"],[1,"title"],[1,"subtitle"],[1,"grid"],[3,"design",4,"ngFor","ngForOf","ngForTrackBy"],[1,"show-more"],[1,"content"],["src","assets/current-wave-white.svg","alt","current wave logo",1,"logo"],[3,"design"],[4,"ngIf"]],template:function(i,o){i&1&&(K(0,"cw-navbar"),k(1,"div",0)(2,"h1",1),te(3,"NA\u0160I PROIZVODI"),U(),k(4,"h2",2),te(5,"Majice"),U(),k(6,"div",3),Nt(7,JL,2,2,"cw-home-card",4),k(8,"div",5)(9,"div",6),K(10,"img",7),te(11,"Jo\u0161 proizvoda... "),U()()(),k(12,"h2",2),te(13,"Duksevi"),U(),k(14,"div",3),Nt(15,XL,2,2,"cw-home-card",4),k(16,"div",5)(17,"div",6),K(18,"img",7),te(19,"Jo\u0161 proizvoda... "),U()()()()),i&2&&(De(7),Se("ngForOf",o.shirtDesigns)("ngForTrackBy",o.identify),De(8),Se("ngForOf",o.shirtDesigns)("ngForTrackBy",o.identify))},dependencies:[gD,Yt,IE,Xn,s0],styles:[".wrapper[_ngcontent-%COMP%]{max-width:min(90rem,90%);margin-inline:auto;box-sizing:border-box;margin-bottom:2rem;min-height:40rem}.title[_ngcontent-%COMP%]{text-align:center;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin-inline:auto}.subtitle[_ngcontent-%COMP%]{font-size:var(--fs-900);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content}.grid[_ngcontent-%COMP%]{--grid-layout-gap: 1rem;--grid-column-count: 3;--grid-item--min-width: 15rem;--gap-count: calc(var(--grid-column-count) - 1);--total-gap-width: calc(var(--gap-count) * var(--grid-layout-gap));--grid-item--max-width: calc( (100% - var(--total-gap-width)) / var(--grid-column-count) );display:grid;width:100%;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(max(var(--grid-item--min-width),var(--grid-item--max-width)),1fr));grid-auto-rows:1fr;justify-content:center}.visible[_ngcontent-%COMP%]{display:grid}.show-more[_ngcontent-%COMP%]{font-family:var(--ff-secondary);width:100%;height:100%;position:relative;transition:.2s ease;border-radius:.8rem;display:flex;justify-content:center;align-items:center;overflow:hidden;padding:.25rem;background:linear-gradient(-45deg,#6fc2e4,#44bbed,#0cb3f8);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}.content[_ngcontent-%COMP%]{color:var(--white-primary);width:100%;height:100%;border-radius:.55rem;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:var(--fs-700);font-weight:700;text-align:center}.show-more[_ngcontent-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}.logo[_ngcontent-%COMP%]{width:50%}@keyframes _ngcontent-%COMP%_gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]});let t=e;return t})();var c0=(()=>{let e=class e{constructor(){this.route=O(nr),this.designService=O(Hl)}ngOnInit(){return C(this,null,function*(){let r=this.route.snapshot.paramMap.get("id");this.design=yield this.designService.getDesign(r)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["cw-design"]],standalone:!0,features:[ze],decls:17,vars:8,consts:[[1,"container"],[1,"apparel-images"],[1,"main-image",3,"src","alt"],[1,"thumbnail-images"],[1,"thumbnail",3,"src"],[1,"apparel-info"],[1,"name"],[1,"category"],[1,"price"],[1,"size"],[1,"add-to-cart-btn"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1),K(2,"img",2),k(3,"div",3),K(4,"img",4)(5,"img",4),U()(),k(6,"div",5)(7,"div",6),te(8),U(),k(9,"div",7),te(10),U(),k(11,"div",8),te(12),U(),k(13,"div",9),te(14,"Velicina:"),U(),k(15,"button",10),te(16,"Dodaj u korpu"),U()()()),i&2&&(De(2),If("alt",o.design==null?null:o.design.name),Se("src",o.design==null?null:o.design.image,Vi),De(2),Se("src",o.design==null?null:o.design.front,Vi),De(),Se("src",o.design==null?null:o.design.back,Vi),De(3),wt(o.design==null?null:o.design.name),De(2),Ef("",o.design==null?null:o.design.category," ",o.design==null?null:o.design.type,""),De(2),fu("",o.design==null?null:o.design.price,".00 rsd"))},styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem}.apparel-info[_ngcontent-%COMP%]{padding:2rem;padding-left:0}.name[_ngcontent-%COMP%]{font-size:4rem}.category[_ngcontent-%COMP%]{font-size:2rem}.price[_ngcontent-%COMP%]{font-size:2rem;color:#000}.size[_ngcontent-%COMP%]{font-size:1.5rem}.add-to-cart-btn[_ngcontent-%COMP%]{height:5rem;width:20rem;outline:none;border:none;background-color:var(--white-primary);color:#000;font-family:var(--ff-primary);font-size:1.4rem;border:3px solid black;cursor:pointer;transition:background-color .3s ease,color .3s ease}.add-to-cart-btn[_ngcontent-%COMP%]:hover{background-color:#000;color:var(--white-primary)}.apparel-images[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:2rem}.main-image[_ngcontent-%COMP%]{max-width:38rem;height:auto;padding-bottom:1rem;border-radius:2rem}.thumbnail-images[_ngcontent-%COMP%]{display:flex;gap:.5rem}.thumbnail[_ngcontent-%COMP%]{width:5rem;height:auto;cursor:pointer}.size-selection[_ngcontent-%COMP%]{padding-bottom:1rem}"]});let t=e;return t})();var u0=[{path:"",component:a0},{path:"design/:id",component:c0}];var h0="functions";var vy=class{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){return C(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return C(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return C(this,null,function*(){if(this.appCheck){let n=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(e){return C(this,null,function*(){let n=yield this.getAuthToken(),r=yield this.getMessagingToken(),i=yield this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}})}};var _y="us-central1";var wy=class{constructor(e,n,r,i,o=_y,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new vy(n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{let c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=_y}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function eV(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}var l0="@firebase/functions",d0="0.11.8";var tV="auth-internal",nV="app-check-internal",rV="messaging-internal";function iV(t,e){let n=(r,{instanceIdentifier:i})=>{let o=r.getProvider("app").getImmediate(),s=r.getProvider(tV),c=r.getProvider(rV),u=r.getProvider(nV);return new wy(o,s,c,u,i,t)};dn(new pt(h0,n,"PUBLIC").setMultipleInstances(!0)),Re(l0,d0,e),Re(l0,d0,"esm2017")}function f0(t=qr(),e=_y){let r=qs(ft(t),h0).getImmediate({identifier:e}),i=Uu("functions");return i&&p0(r,...i),r}function p0(t,e,n){eV(ft(t),e,n)}iV(fetch.bind(self));var Aa=class{constructor(e){return e}},g0="functions",Iy=class{constructor(){return Wr(g0)}};var Ey=new Z("angularfire2.functions-instances");function oV(t,e){let n=zs(g0,t,e);return n&&new Aa(n)}function sV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Aa(r)}}var aV={provide:Iy,deps:[[new tt,Ey]]},cV={provide:Aa,useFactory:oV,deps:[[new tt,Ey],Nn]};function m0(t,...e){return Re("angularfire",sr.full,"fn"),an([cV,aV,{provide:Ey,useFactory:sV(t),multi:!0,deps:[we,Kt,Kr,Qr,[new tt,no],[new tt,Gr],...e]}])}var y0=ut(f0,!0);var v0={providers:[hD(u0,fD()),HD(()=>qD({projectId:"currentwave-563b3",appId:"1:214702271750:web:4bf5a93092d8b0757c8287",storageBucket:"currentwave-563b3.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyATMkQlyO2nL_yKV3uwz-OuY_IAMZtX_-A",authDomain:"currentwave-563b3.firebaseapp.com",messagingSenderId:"214702271750",measurementId:"G-12H1ZL3EYH"})),ZT(()=>r0()),m0(()=>y0())]};var _0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["cw-footer"]],standalone:!0,features:[ze],decls:42,vars:0,consts:[[1,"grid"],[1,"column","newsletter"],[1,"email"],["placeholder","Email address","type","email"],[1,"submit-btn"],[1,"column","socials"],[1,"icon","fa-brands","fa-instagram"],["href","https://www.instagram.com/nosicurrentwave/"],[1,"icon","fa-brands","fa-tiktok"],[1,"icon","fa-brands","fa-facebook"],[1,"column","about"],[1,"icon","fa-solid","fa-envelope"],[1,"icon","fa-solid","fa-phone"],[1,"icon","fa-solid","fa-circle-info"],["href","#"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1)(2,"h2"),te(3,"Newsletter"),U(),k(4,"p"),te(5," Want to know what we're up to? Sign up for the newsletter to recieve updates. "),U(),k(6,"div",2),K(7,"input",3),k(8,"button",4),te(9,"Subscribe"),U()()(),k(10,"div",5)(11,"h2"),te(12,"Socials"),U(),k(13,"ul")(14,"li"),K(15,"i",6),k(16,"a",7),te(17,"Instagram"),U()(),k(18,"li"),K(19,"i",8),k(20,"a",7),te(21,"TikTok"),U()(),k(22,"li"),K(23,"i",9),k(24,"a",7),te(25,"Facebook"),U()()()(),k(26,"div",10)(27,"h2"),te(28,"Info"),U(),k(29,"ul")(30,"li"),K(31,"i",11),k(32,"span"),te(33,"currentwavewear@gmail.com "),U()(),k(34,"li"),K(35,"i",12),k(36,"span"),te(37,"+38169758176"),U()(),k(38,"li"),K(39,"i",13),k(40,"a",14),te(41,"O Nama"),U()()()()())},styles:["[_nghost-%COMP%]{margin-top:auto;width:100%;background:var(--gradient-secondary);display:block}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;color:var(--white-primary);padding-block:6rem;box-sizing:border-box;justify-items:center;gap:4rem;margin-inline:auto}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center}.newsletter[_ngcontent-%COMP%]{align-items:center}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-width:max-content}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.icon[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;justify-content:center;align-items:center}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;color:var(--white-primary)}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--clr-offwhite)}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:var(--ff-secondary);font-size:var(--fs-400)}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0}p[_ngcontent-%COMP%]{max-width:min(100%,40ch);line-height:1.25}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1rem}.email[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1rem}.email[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:var(--fs-500);padding:.5rem;border:2px solid var(--white-primary);outline:none;margin-left:auto}.submit-btn[_ngcontent-%COMP%]{border:2px solid var(--white-primary);outline:none;border-left:none;flex-grow:.3;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;margin-right:auto}.submit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9e9e9e}@media screen and (min-width: 800px){.grid[_ngcontent-%COMP%]{width:clamp(48rem,60%,64rem);grid-template-columns:repeat(4,1fr);gap:2rem}.newsletter[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:3}.submit-btn[_ngcontent-%COMP%]{flex-grow:.3;margin-right:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:.7;margin-left:0}}"]});let t=e;return t})();var w0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["cw-simple-nav"]],standalone:!0,features:[ze],decls:15,vars:0,consts:[[1,"container"],[1,"white-bar"],[1,"logo"],["src","assets/current-wave-gradient.svg"],[1,"title"],[1,"cart"],[1,"cart-button"],[1,"fas","fa-shopping-cart","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button"],[1,"fas","fa-bars","cart-icon"],[1,"logo-hamburger"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1)(2,"div",2),K(3,"img",3),U(),k(4,"div",4),te(5,"CURRENT WAVE"),U(),k(6,"div",5)(7,"div",6),K(8,"i",7),U()()(),k(9,"div",8)(10,"div",9),K(11,"i",10),U(),k(12,"div",11),K(13,"img",3),U(),K(14,"div"),U()())},styles:['.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;width:100%}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:75%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background-color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.hamburger-button[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}@media screen and (max-width: 800px){.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}}']});let t=e;return t})();function uV(t,e){t&1&&K(0,"cw-simple-nav")}var I0=(()=>{let e=class e{constructor(){this.title="current-wave",this.router=O(Ji)}isHomePage(){return this.router.url==="/"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=qe({type:e,selectors:[["app-root"]],standalone:!0,features:[ze],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(i,o){i&1&&(Nt(0,uV,1,0,"cw-simple-nav",0),K(1,"router-outlet")(2,"cw-footer")),i&2&&Se("ngIf",!o.isHomePage())},dependencies:[Ip,_0,w0,Yt,Xn],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}"]});let t=e;return t})();ME(I0,v0).catch(t=>console.error(t));
