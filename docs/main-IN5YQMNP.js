var ZC=Object.defineProperty,XC=Object.defineProperties;var e0=Object.getOwnPropertyDescriptors;var Dv=Object.getOwnPropertySymbols;var t0=Object.prototype.hasOwnProperty,n0=Object.prototype.propertyIsEnumerable;var Tv=(t,e,n)=>e in t?ZC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})t0.call(e,n)&&Tv(t,n,e[n]);if(Dv)for(var n of Dv(e))n0.call(e,n)&&Tv(t,n,e[n]);return t},xe=(t,e)=>XC(t,e0(e));var C=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});var bv=null;var hd=1,Cv=Symbol("SIGNAL");function ge(t){let e=bv;return bv=t,e}var Sv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function r0(t){if(!(gd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hd)){if(!t.producerMustRecompute(t)&&!fd(t)){t.dirty=!1,t.lastCleanEpoch=hd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=hd}}function Av(t){return t&&(t.nextProducerIndex=0),ge(t)}function Rv(t,e){if(ge(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(gd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)pd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fd(t){Ha(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(r0(n),r!==n.version))return!0}return!1}function xv(t){if(Ha(t),gd(t))for(let e=0;e<t.producerNode.length;e++)pd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pd(t,e){if(i0(t),Ha(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)pd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ha(i),i.producerIndexOfThis[r]=e}}function gd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ha(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function i0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function o0(){throw new Error}var s0=o0;function Mv(t){s0=t}function W(t){return typeof t=="function"}function ui(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var qa=ui(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function _r(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(o){e=o instanceof qa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Nv(o)}catch(s){e=e??[],s instanceof qa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new qa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Nv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&_r(n,e)}remove(e){let{_finalizers:n}=this;n&&_r(n,e),e instanceof t&&e._removeParent(this)}};Me.EMPTY=(()=>{let t=new Me;return t.closed=!0,t})();var md=Me.EMPTY;function za(t){return t instanceof Me||t&&"closed"in t&&W(t.remove)&&W(t.add)&&W(t.unsubscribe)}function Nv(t){W(t)?t():t.unsubscribe()}var kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var li={setTimeout(t,e,...n){let{delegate:r}=li;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=li;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ga(t){li.setTimeout(()=>{let{onUnhandledError:e}=kt;if(e)e(t);else throw t})}function qo(){}var Pv=yd("C",void 0,void 0);function Ov(t){return yd("E",void 0,t)}function kv(t){return yd("N",t,void 0)}function yd(t,e,n){return{kind:t,value:e,error:n}}var wr=null;function di(t){if(kt.useDeprecatedSynchronousErrorHandling){let e=!wr;if(e&&(wr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=wr;if(wr=null,n)throw r}}else t()}function Fv(t){kt.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=t)}var Ir=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,za(e)&&e.add(this)):this.destination=u0}static create(e,n,r){return new hi(e,n,r)}next(e){this.isStopped?_d(kv(e),this):this._next(e)}error(e){this.isStopped?_d(Ov(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_d(Pv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},a0=Function.prototype.bind;function vd(t,e){return a0.call(t,e)}var wd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Wa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Wa(r)}else Wa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Wa(n)}}},hi=class extends Ir{constructor(e,n,r){super();let i;if(W(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&kt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vd(e.next,o),error:e.error&&vd(e.error,o),complete:e.complete&&vd(e.complete,o)}):i=e}this.destination=new wd(i)}};function Wa(t){kt.useDeprecatedSynchronousErrorHandling?Fv(t):Ga(t)}function c0(t){throw t}function _d(t,e){let{onStoppedNotification:n}=kt;n&&li.setTimeout(()=>n(t,e))}var u0={closed:!0,next:qo,error:c0,complete:qo};var fi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mt(t){return t}function Id(...t){return Ed(t)}function Ed(t){return t.length===0?mt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=d0(n)?n:new hi(n,r,i);return di(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Lv(r),new r((i,o)=>{let s=new hi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[fi](){return this}pipe(...n){return Ed(n)(this)}toPromise(n){return n=Lv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Lv(t){var e;return(e=t??kt.Promise)!==null&&e!==void 0?e:Promise}function l0(t){return t&&W(t.next)&&W(t.error)&&W(t.complete)}function d0(t){return t&&t instanceof Ir||l0(t)&&za(t)}function Dd(t){return W(t?.lift)}function ae(t){return e=>{if(Dd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new Td(t,e,n,r,i)}var Td=class extends Ir{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pi(){return ae((t,e)=>{let n=null;t._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var gi=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return pi()(this)}};var Vv=ui(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ka(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Vv}next(n){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?md:(this.currentObservers=null,o.push(n),new Me(()=>{this.currentObservers=null,_r(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new Ka(e,n),t})(),Ka=class extends ut{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:md}};var Ge=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var bd={now(){return(bd.delegate||Date).now()},delegate:void 0};var Qa=class extends Me{constructor(e,n){super()}schedule(e,n=0){return this}};var zo={setInterval(t,e,...n){let{delegate:r}=zo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=zo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var mi=class extends Qa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return zo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,_r(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var yi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};yi.now=bd.now;var vi=class extends yi{constructor(e,n=yi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Cd=new vi(mi);var Ya=class extends mi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ja=class extends vi{};var Sd=new Ja(Ya);var yt=new pe(t=>t.complete());function Uv(t){return t&&W(t.schedule)}function jv(t){return t[t.length-1]}function Bv(t){return W(jv(t))?t.pop():void 0}function Bn(t){return Uv(jv(t))?t.pop():void 0}function Ad(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Hv(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function $v(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Er(t){return this instanceof Er?(this.v=t,this):new Er(t)}function qv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(A){return Promise.resolve(A).then(v,p)}}function c(v,A){r[v]&&(i[v]=function(R){return new Promise(function(M,F){o.push([v,R,M,F])>1||u(v,R)})},A&&(i[v]=A(i[v])))}function u(v,A){try{l(r[v](A))}catch(R){m(o[0][3],R)}}function l(v){v.value instanceof Er?Promise.resolve(v.value.v).then(f,p):m(o[0][2],v)}function f(v){u("next",v)}function p(v){u("throw",v)}function m(v,A){v(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function zv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $v=="function"?$v(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Za=t=>t&&typeof t.length=="number"&&typeof t!="function";function Xa(t){return W(t?.then)}function ec(t){return W(t[fi])}function tc(t){return Symbol.asyncIterator&&W(t?.[Symbol.asyncIterator])}function nc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function h0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rc=h0();function ic(t){return W(t?.[rc])}function oc(t){return qv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Er(n.read());if(i)return yield Er(void 0);yield yield Er(r)}}finally{n.releaseLock()}})}function sc(t){return W(t?.getReader)}function je(t){if(t instanceof pe)return t;if(t!=null){if(ec(t))return f0(t);if(Za(t))return p0(t);if(Xa(t))return g0(t);if(tc(t))return Gv(t);if(ic(t))return m0(t);if(sc(t))return y0(t)}throw nc(t)}function f0(t){return new pe(e=>{let n=t[fi]();if(W(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function p0(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function g0(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ga)})}function m0(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Gv(t){return new pe(e=>{v0(t,e).catch(n=>e.error(n))})}function y0(t){return Gv(oc(t))}function v0(t,e){var n,r,i,o;return Hv(this,void 0,void 0,function*(){try{for(n=zv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function dt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function $n(t,e=0){return ae((n,r)=>{n.subscribe(ce(r,i=>dt(r,t,()=>r.next(i),e),()=>dt(r,t,()=>r.complete(),e),i=>dt(r,t,()=>r.error(i),e)))})}function Hn(t,e=0){return ae((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Wv(t,e){return je(t).pipe(Hn(e),$n(e))}function Kv(t,e){return je(t).pipe(Hn(e),$n(e))}function Qv(t,e){return new pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Yv(t,e){return new pe(n=>{let r;return dt(n,e,()=>{r=t[rc](),dt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function ac(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{dt(n,e,()=>{let r=t[Symbol.asyncIterator]();dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Jv(t,e){return ac(oc(t),e)}function Zv(t,e){if(t!=null){if(ec(t))return Wv(t,e);if(Za(t))return Qv(t,e);if(Xa(t))return Kv(t,e);if(tc(t))return ac(t,e);if(ic(t))return Yv(t,e);if(sc(t))return Jv(t,e)}throw nc(t)}function Le(t,e){return e?Zv(t,e):je(t)}function Q(...t){let e=Bn(t);return Le(t,e)}function _i(t,e){let n=W(t)?t:()=>t,r=i=>i.error(n());return new pe(e?i=>e.schedule(r,0,i):r)}function Rd(t){return!!t&&(t instanceof pe||W(t.lift)&&W(t.subscribe))}var vn=ui(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ue(t,e){return ae((n,r)=>{let i=0;n.subscribe(ce(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:_0}=Array;function w0(t,e){return _0(e)?t(...e):t(e)}function Xv(t){return ue(e=>w0(t,e))}var{isArray:I0}=Array,{getPrototypeOf:E0,prototype:D0,keys:T0}=Object;function e_(t){if(t.length===1){let e=t[0];if(I0(e))return{args:e,keys:null};if(b0(e)){let n=T0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function b0(t){return t&&typeof t=="object"&&E0(t)===D0}function t_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function cc(...t){let e=Bn(t),n=Bv(t),{args:r,keys:i}=e_(t);if(r.length===0)return Le([],e);let o=new pe(C0(r,e,i?s=>t_(i,s):mt));return n?o.pipe(Xv(n)):o}function C0(t,e,n=mt){return r=>{n_(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)n_(e,()=>{let l=Le(t[u],e),f=!1;l.subscribe(ce(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function n_(t,e,n){t?dt(n,t,e):e()}function r_(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=R=>l<r?A(R):u.push(R),A=R=>{o&&e.next(R),l++;let M=!1;je(n(R,f++)).subscribe(ce(e,F=>{i?.(F),o?v(F):e.next(F)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let F=u.shift();s?dt(e,s,()=>A(F)):A(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ce(e,v,()=>{p=!0,m()})),()=>{c?.()}}function Ve(t,e,n=1/0){return W(e)?Ve((r,i)=>ue((o,s)=>e(r,o,i,s))(je(t(r,i))),n):(typeof e=="number"&&(n=e),ae((r,i)=>r_(r,i,t,n)))}function xd(t=1/0){return Ve(mt,t)}function i_(){return xd(1)}function wi(...t){return i_()(Le(t,Bn(t)))}function uc(t){return new pe(e=>{je(t()).subscribe(e)})}function Ft(t,e){return ae((n,r)=>{let i=0;n.subscribe(ce(r,o=>t.call(e,o,i++)&&r.next(o)))})}function qn(t){return ae((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ce(n,void 0,void 0,s=>{o=je(t(s,qn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function o_(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(ce(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Ii(t,e){return W(e)?Ve(t,e,1):Ve(t,1)}function zn(t){return ae((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _n(t){return t<=0?()=>yt:ae((e,n)=>{let r=0;e.subscribe(ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Md(t){return ue(()=>t)}function lc(t=S0){return ae((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function S0(){return new vn}function Go(t){return ae((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ft((i,o)=>t(i,o,r)):mt,_n(1),n?zn(e):lc(()=>new vn))}function Ei(t){return t<=0?()=>yt:ae((e,n)=>{let r=[];e.subscribe(ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Nd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ft((i,o)=>t(i,o,r)):mt,Ei(1),n?zn(e):lc(()=>new vn))}function Pd(t,e){return ae(o_(t,e,arguments.length>=2,!0))}function Od(...t){let e=Bn(t);return ae((n,r)=>{(e?wi(t,n,e):wi(t,n)).subscribe(r)})}function Lt(t,e){return ae((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,f=o++;je(t(u,f)).subscribe(i=ce(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function kd(t){return ae((e,n)=>{je(t).subscribe(ce(n,()=>n.complete(),qo)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=W(t)||e||n?{next:t,error:e,complete:n}:t;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ce(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mt}var B_="https://g.co/ng/security#xss",H=class extends Error{constructor(e,n){super(kh(e,n)),this.code=e}};function kh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function as(t){return{toString:t}.toString()}var dc="__parameters__";function A0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function $_(t,e,n){return as(()=>{let r=A0(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(dc)?u[dc]:Object.defineProperty(u,dc,{value:[]})[dc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var wn=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Yd(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var R0=Ee({__forward_ref__:Ee});function H_(t){return t.__forward_ref__=H_,t.toString=function(){return ft(this())},t}function Ct(t){return q_(t)?t():t}function q_(t){return typeof t=="function"&&t.hasOwnProperty(R0)&&t.__forward_ref__===H_}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vc(t){return{providers:t.providers||[],imports:t.imports||[]}}function Uc(t){return s_(t,G_)||s_(t,W_)}function z_(t){return Uc(t)!==null}function s_(t,e){return t.hasOwnProperty(e)?t[e]:null}function x0(t){let e=t&&(t[G_]||t[W_]);return e||null}function a_(t){return t&&(t.hasOwnProperty(c_)||t.hasOwnProperty(M0))?t[c_]:null}var G_=Ee({\u0275prov:Ee}),c_=Ee({\u0275inj:Ee}),W_=Ee({ngInjectableDef:Ee}),M0=Ee({ngInjectorDef:Ee}),J=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function K_(t){return t&&!!t.\u0275providers}var N0=Ee({\u0275cmp:Ee}),P0=Ee({\u0275dir:Ee}),O0=Ee({\u0275pipe:Ee}),k0=Ee({\u0275mod:Ee}),vc=Ee({\u0275fac:Ee}),Wo=Ee({__NG_ELEMENT_ID__:Ee}),u_=Ee({__NG_ENV_ID__:Ee});function Fh(t){return typeof t=="string"?t:t==null?"":String(t)}function F0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Fh(t)}function L0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,t)}function Lh(t,e){throw new H(-201,!1)}var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),Jd;function Q_(){return Jd}function ht(t){let e=Jd;return Jd=t,e}function Y_(t,e,n){let r=Uc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(e!==void 0)return e;Lh(t,"Injector")}var V0={},Ko=V0,Zd="__NG_DI_FLAG__",_c="ngTempTokenPath",U0="ngTokenPath",j0=/\n/gm,B0="\u0275",l_="__source",Ci;function $0(){return Ci}function Gn(t){let e=Ci;return Ci=t,e}function H0(t,e=te.Default){if(Ci===void 0)throw new H(-203,!1);return Ci===null?Y_(t,void 0,e):Ci.get(t,e&te.Optional?null:void 0,e)}function ne(t,e=te.Default){return(Q_()||H0)(Ct(t),e)}function k(t,e=te.Default){return ne(t,jc(e))}function jc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xd(t){let e=[];for(let n=0;n<t.length;n++){let r=Ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=te.Default;for(let s=0;s<r.length;s++){let c=r[s],u=q0(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(ne(i,o))}else e.push(ne(r))}return e}function J_(t,e){return t[Zd]=e,t.prototype[Zd]=e,t}function q0(t){return t[Zd]}function z0(t,e,n,r){let i=t[_c];throw e[l_]&&i.unshift(e[l_]),t.message=G0(`
`+t.message,i,n,r),t[U0]=i,t[_c]=null,t}function G0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==B0?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):ft(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(j0,`
  `)}`}var et=J_($_("Optional"),8);var Z_=J_($_("SkipSelf"),4);function Cr(t,e){let n=t.hasOwnProperty(vc);return n?t[vc]:null}function Vh(t,e){t.forEach(n=>Array.isArray(n)?Vh(n,e):e(n))}function X_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function wc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function W0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Uh(t,e,n){let r=cs(t,e);return r>=0?t[r|1]=n:(r=~r,W0(t,r,e,n)),r}function Fd(t,e){let n=cs(t,e);if(n>=0)return t[n|1]}function cs(t,e){return K0(t,e,1)}function K0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Qo={},vt=[],Ai=new J(""),ew=new J("",-1),tw=new J(""),Ic=class{get(e,n=Ko){if(n===Ko){let r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}},nw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(nw||{}),en=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(en||{}),In=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(In||{});function Q0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function eh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];J0(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Y0(t){return t===3||t===4||t===6}function J0(t){return t.charCodeAt(0)===64}function jh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?d_(t,n,i,null,e[++r]):d_(t,n,i,null,null))}}return t}function d_(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var rw="ng-template";function Z0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Q0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Bh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Bh(t){return t.type===4&&t.value!==rw}function X0(t,e,n){let r=t.type===4&&!n?rw:t.value;return e===r}function eS(t,e,n){let r=4,i=t.attrs,o=i!==null?rS(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Vt(r)&&!Vt(u))return!1;if(s&&Vt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!X0(t,u,n)||u===""&&e.length===1){if(Vt(r))return!1;s=!0}}else if(r&8){if(i===null||!Z0(t,i,u,n)){if(Vt(r))return!1;s=!0}}else{let l=e[++c],f=tS(u,i,Bh(t),n);if(f===-1){if(Vt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Vt(r))return!1;s=!0}}}}return Vt(r)||s}function Vt(t){return(t&1)===0}function tS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return iS(e,t)}function nS(t,e,n=!1){for(let r=0;r<e.length;r++)if(eS(t,e[r],n))return!0;return!1}function rS(t){for(let e=0;e<t.length;e++){let n=t[e];if(Y0(n))return e}return t.length}function iS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function h_(t,e){return t?":not("+e.trim()+")":e}function oS(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Vt(s)&&(e+=h_(o,i),i=""),r=s,o=o||!Vt(r);n++}return i!==""&&(e+=h_(o,i)),e}function sS(t){return t.map(oS).join(",")}function aS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Vt(i))break;i=o}r++}return{attrs:e,classes:n}}function Be(t){return as(()=>{let e=uw(t),n=xe(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===nw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,styles:t.styles||vt,_:null,schemas:t.schemas||null,tView:null,id:""});lw(n);let r=t.dependencies;return n.directiveDefs=p_(r,!1),n.pipeDefs=p_(r,!0),n.id=lS(n),n})}function cS(t){return Sr(t)||ow(t)}function uS(t){return t!==null}function Bc(t){return as(()=>({type:t.type,bootstrap:t.bootstrap||vt,declarations:t.declarations||vt,imports:t.imports||vt,exports:t.exports||vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function f_(t,e){if(t==null)return Qo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=In.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==In.None?[r,c]:r,e[o]=s):n[o]=r}return n}function Oi(t){return as(()=>{let e=uw(t);return lw(e),e})}function iw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Sr(t){return t[N0]||null}function ow(t){return t[P0]||null}function sw(t){return t[O0]||null}function aw(t){let e=Sr(t)||ow(t)||sw(t);return e!==null?e.standalone:!1}function cw(t,e){let n=t[k0]||null;if(!n&&e===!0)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function uw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Qo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:f_(t.inputs,e),outputs:f_(t.outputs),debugInfo:null}}function lw(t){t.features?.forEach(e=>e(t))}function p_(t,e){if(!t)return null;let n=e?sw:cS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(uS)}function lS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function on(t){return{\u0275providers:t}}function dS(...t){return{\u0275providers:dw(!0,t),\u0275fromNgModule:!0}}function dw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Vh(e,s=>{let c=s;th(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&hw(i,o),n}function hw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];$h(i,o=>{e(o,r)})}}function th(t,e,n,r){if(t=Ct(t),!t)return!1;let i=null,o=a_(t),s=!o&&Sr(t);if(!o&&!s){let u=t.ngModule;if(o=a_(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)th(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Vh(o.imports,f=>{th(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&hw(l,e)}if(!c){let l=Cr(i)||(()=>new i);e({provide:i,useFactory:l,deps:vt},i),e({provide:tw,useValue:i,multi:!0},i),e({provide:Ai,useValue:()=>ne(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;$h(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function $h(t,e){for(let n of t)K_(n)&&(n=n.\u0275providers),Array.isArray(n)?$h(n,e):e(n)}var hS=Ee({provide:String,useValue:Ee});function fw(t){return t!==null&&typeof t=="object"&&hS in t}function fS(t){return!!(t&&t.useExisting)}function pS(t){return!!(t&&t.useFactory)}function nh(t){return typeof t=="function"}var $c=new J(""),fc={},gS={},Ld;function Hh(){return Ld===void 0&&(Ld=new Ic),Ld}var At=class{},Yo=class extends At{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ih(e,s=>this.processProvider(s)),this.records.set(ew,Di(void 0,this)),i.has("environment")&&this.records.set(At,Di(void 0,this));let o=this.records.get($c);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tw,vt,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Gn(this),r=ht(void 0),i;try{return e()}finally{Gn(n),ht(r)}}get(e,n=Ko,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(u_))return e[u_](this);r=jc(r);let i,o=Gn(this),s=ht(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=IS(e)&&Uc(e);l&&this.injectableDefInScope(l)?u=Di(rh(e),fc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&te.Self?Hh():this.parent;return n=r&te.Optional&&n===Ko?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[_c]=c[_c]||[]).unshift(ft(e)),o)throw c;return z0(c,e,"R3InjectorError",this.source)}else throw c}finally{ht(s),Gn(o)}}resolveInjectorInitializers(){let e=ge(null),n=Gn(this),r=ht(void 0),i;try{let o=this.get(Ai,vt,te.Self);for(let s of o)s()}finally{Gn(n),ht(r),ge(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=Ct(e);let n=nh(e)?e:Ct(e&&e.provide),r=yS(e);if(!nh(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Di(void 0,fc,!0),i.factory=()=>Xd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ge(null);try{return n.value===fc&&(n.value=gS,n.value=n.factory()),typeof n.value=="object"&&n.value&&wS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ge(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function rh(t){let e=Uc(t),n=e!==null?e.factory:Cr(t);if(n!==null)return n;if(t instanceof J)throw new H(204,!1);if(t instanceof Function)return mS(t);throw new H(204,!1)}function mS(t){if(t.length>0)throw new H(204,!1);let n=x0(t);return n!==null?()=>n.factory(t):()=>new t}function yS(t){if(fw(t))return Di(void 0,t.useValue);{let e=vS(t);return Di(e,fc)}}function vS(t,e,n){let r;if(nh(t)){let i=Ct(t);return Cr(i)||rh(i)}else if(fw(t))r=()=>Ct(t.useValue);else if(pS(t))r=()=>t.useFactory(...Xd(t.deps||[]));else if(fS(t))r=()=>ne(Ct(t.useExisting));else{let i=Ct(t&&(t.useClass||t.provide));if(_S(t))r=()=>new i(...Xd(t.deps));else return Cr(i)||rh(i)}return r}function Di(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _S(t){return!!t.deps}function wS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function IS(t){return typeof t=="function"||typeof t=="object"&&t instanceof J}function ih(t,e){for(let n of t)Array.isArray(n)?ih(n,e):n&&K_(n)?ih(n.\u0275providers,e):e(n)}function Pr(t,e){t instanceof Yo&&t.assertNotDestroyed();let n,r=Gn(t),i=ht(void 0);try{return e()}finally{Gn(r),ht(i)}}function ES(){return Q_()!==void 0||$0()!=null}function DS(t){return typeof t=="function"}var Tn=0,oe=1,G=2,Xe=3,Bt=4,qt=5,Ec=6,Jo=7,tn=8,Ri=9,$t=10,We=11,Zo=12,g_=13,ki=14,nn=15,Hc=16,Ti=17,xi=18,qc=19,pw=20,Wn=21,Vd=22,Ar=23,Ht=25,gw=1;var Rr=7,Dc=8,Tc=9,St=10,qh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(qh||{});function Tr(t){return Array.isArray(t)&&typeof t[gw]=="object"}function bn(t){return Array.isArray(t)&&t[gw]===!0}function zh(t){return(t.flags&4)!==0}function zc(t){return t.componentOffset>-1}function Gc(t){return(t.flags&1)===1}function us(t){return!!t.template}function TS(t){return(t[G]&512)!==0}var oh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function mw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Wc(){return yw}function yw(t){return t.type.prototype.ngOnChanges&&(t.setInput=CS),bS}Wc.ngInherit=!0;function bS(){let t=_w(this),e=t?.current;if(e){let n=t.previous;if(n===Qo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function CS(t,e,n,r,i){let o=this.declaredInputs[r],s=_w(t)||SS(t,{previous:Qo,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new oh(l&&l.currentValue,n,u===Qo),mw(t,e,i,n)}var vw="__ngSimpleChanges__";function _w(t){return t[vw]||null}function SS(t,e){return t[vw]=e}var m_=null;var Zt=function(t,e,n){m_?.(t,e,n)},AS="svg",RS="math",xS=!1;function MS(){return xS}function rn(t){for(;Array.isArray(t);)t=t[Tn];return t}function ww(t,e){return rn(e[t])}function zt(t,e){return rn(e[t.index])}function Iw(t,e){return t.data[e]}function NS(t,e){return t[e]}function Jn(t,e){let n=e[t];return Tr(n)?n:n[Tn]}function Gh(t){return(t[G]&128)===128}function PS(t){return bn(t[Xe])}function Mi(t,e){return e==null?null:t[e]}function Ew(t){t[Ti]=0}function OS(t){t[G]&1024||(t[G]|=1024,Gh(t)&&Xo(t))}function kS(t,e){for(;t>0;)e=e[ki],t--;return e}function Wh(t){return!!(t[G]&9216||t[Ar]?.dirty)}function sh(t){t[$t].changeDetectionScheduler?.notify(1),Wh(t)?Xo(t):t[G]&64&&(MS()?(t[G]|=1024,Xo(t)):t[$t].changeDetectionScheduler?.notify())}function Xo(t){t[$t].changeDetectionScheduler?.notify();let e=es(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!Gh(e)));)e=es(e)}function Dw(t,e){if((t[G]&256)===256)throw new H(911,!1);t[Wn]===null&&(t[Wn]=[]),t[Wn].push(e)}function FS(t,e){if(t[Wn]===null)return;let n=t[Wn].indexOf(e);n!==-1&&t[Wn].splice(n,1)}function es(t){let e=t[Xe];return bn(e)?e[Xe]:e}var se={lFrame:Nw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function LS(){return se.lFrame.elementDepthCount}function VS(){se.lFrame.elementDepthCount++}function US(){se.lFrame.elementDepthCount--}function Tw(){return se.bindingsEnabled}function jS(){return se.skipHydrationRootTNode!==null}function BS(t){return se.skipHydrationRootTNode===t}function $S(){se.skipHydrationRootTNode=null}function be(){return se.lFrame.lView}function Gt(){return se.lFrame.tView}function Rt(){let t=bw();for(;t!==null&&t.type===64;)t=t.parent;return t}function bw(){return se.lFrame.currentTNode}function HS(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Or(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function Kh(){return se.lFrame.isParent}function Cw(){se.lFrame.isParent=!1}function Sw(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function qS(t){return se.lFrame.bindingIndex=t}function Aw(){return se.lFrame.bindingIndex++}function zS(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function GS(){return se.lFrame.inI18n}function WS(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,ah(e)}function KS(){return se.lFrame.currentDirectiveIndex}function ah(t){se.lFrame.currentDirectiveIndex=t}function QS(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Rw(t){se.lFrame.currentQueryIndex=t}function YS(t){let e=t[oe];return e.type===2?e.declTNode:e.type===1?t[qt]:null}function xw(t,e,n){if(n&te.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&te.Host);)if(i=YS(o),i===null||(o=o[ki],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=se.lFrame=Mw();return r.currentTNode=e,r.lView=t,!0}function Qh(t){let e=Mw(),n=t[oe];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Mw(){let t=se.lFrame,e=t===null?null:t.child;return e===null?Nw(t):e}function Nw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Pw(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ow=Pw;function Yh(){let t=Pw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function JS(t){return(se.lFrame.contextLView=kS(t,se.lFrame.contextLView))[tn]}function Fi(){return se.lFrame.selectedIndex}function xr(t){se.lFrame.selectedIndex=t}function ZS(){let t=se.lFrame;return Iw(t.tView,t.selectedIndex)}function XS(){return se.lFrame.currentNamespace}var kw=!0;function Kc(){return kw}function Qc(t){kw=t}function eA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=yw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Yc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function pc(t,e,n){Fw(t,e,3,n)}function gc(t,e,n,r){(t[G]&3)===n&&Fw(t,e,n,r)}function Ud(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function Fw(t,e,n,r){let i=r!==void 0?t[Ti]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Ti]+=65536),(c<o||o==-1)&&(tA(t,n,e,u),t[Ti]=(t[Ti]&4294901760)+u+2),u++}function y_(t,e){Zt(4,t,e);let n=ge(null);try{e.call(t)}finally{ge(n),Zt(5,t,e)}}function tA(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[G]>>14<t[Ti]>>16&&(t[G]&3)===e&&(t[G]+=16384,y_(c,o)):y_(c,o)}var Si=-1,ts=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function nA(t){return t instanceof ts}function rA(t){return(t.flags&8)!==0}function iA(t){return(t.flags&16)!==0}function Lw(t){return t!==Si}function bc(t){return t&32767}function oA(t){return t>>16}function Cc(t,e){let n=oA(t),r=e;for(;n>0;)r=r[ki],n--;return r}var ch=!0;function Sc(t){let e=ch;return ch=t,e}var sA=256,Vw=sA-1,Uw=5,aA=0,Xt={};function cA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wo)&&(r=n[Wo]),r==null&&(r=n[Wo]=aA++);let i=r&Vw,o=1<<i;e.data[t+(i>>Uw)]|=o}function jw(t,e){let n=Bw(t,e);if(n!==-1)return n;let r=e[oe];r.firstCreatePass&&(t.injectorIndex=e.length,jd(r.data,t),jd(e,null),jd(r.blueprint,null));let i=Jh(t,e),o=t.injectorIndex;if(Lw(i)){let s=bc(i),c=Cc(i,e),u=c[oe].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function jd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Bw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Jh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Gw(i),r===null)return Si;if(n++,i=i[ki],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Si}function uA(t,e,n){cA(t,e,n)}function $w(t,e,n){if(n&te.Optional||t!==void 0)return t;Lh(e,"NodeInjector")}function Hw(t,e,n,r){if(n&te.Optional&&r===void 0&&(r=null),!(n&(te.Self|te.Host))){let i=t[Ri],o=ht(void 0);try{return i?i.get(e,r,n&te.Optional):Y_(e,r,n&te.Optional)}finally{ht(o)}}return $w(r,e,n)}function qw(t,e,n,r=te.Default,i){if(t!==null){if(e[G]&2048&&!(r&te.Self)){let s=pA(t,e,n,r,Xt);if(s!==Xt)return s}let o=zw(t,e,n,r,Xt);if(o!==Xt)return o}return Hw(e,n,r,i)}function zw(t,e,n,r,i){let o=hA(n);if(typeof o=="function"){if(!xw(e,t,r))return r&te.Host?$w(i,n,r):Hw(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&te.Optional))Lh(n);else return s}finally{Ow()}}else if(typeof o=="number"){let s=null,c=Bw(t,e),u=Si,l=r&te.Host?e[nn][qt]:null;for((c===-1||r&te.SkipSelf)&&(u=c===-1?Jh(t,e):e[c+8],u===Si||!__(r,!1)?c=-1:(s=e[oe],c=bc(u),e=Cc(u,e)));c!==-1;){let f=e[oe];if(v_(o,c,f.data)){let p=lA(c,e,n,s,r,l);if(p!==Xt)return p}u=e[c+8],u!==Si&&__(r,e[oe].data[c+8]===l)&&v_(o,c,e)?(s=f,c=bc(u),e=Cc(u,e)):c=-1}}return i}function lA(t,e,n,r,i,o){let s=e[oe],c=s.data[t+8],u=r==null?zc(c)&&ch:r!=s&&(c.type&3)!==0,l=i&te.Host&&o===c,f=dA(c,s,n,u,l);return f!==null?ns(e,s,f,c):Xt}function dA(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let v=p;v<m;v++){let A=s[v];if(v<u&&n===A||v>=u&&A.type===n)return v}if(i){let v=s[u];if(v&&us(v)&&v.type===n)return u}return null}function ns(t,e,n,r){let i=t[n],o=e.data;if(nA(i)){let s=i;s.resolving&&L0(F0(o[n]));let c=Sc(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?ht(s.injectImpl):null,f=xw(t,r,te.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&eA(n,o[n],e)}finally{l!==null&&ht(l),Sc(c),s.resolving=!1,Ow()}}return i}function hA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Wo)?t[Wo]:void 0;return typeof e=="number"?e>=0?e&Vw:fA:e}function v_(t,e,n){let r=1<<t;return!!(n[e+(t>>Uw)]&r)}function __(t,e){return!(t&te.Self)&&!(t&te.Host&&e)}var br=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qw(this._tNode,this._lView,e,jc(r),n)}};function fA(){return new br(Rt(),be())}function Zh(t){return as(()=>{let e=t.prototype.constructor,n=e[vc]||uh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[vc]||uh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function uh(t){return q_(t)?()=>{let e=uh(Ct(t));return e&&e()}:Cr(t)}function pA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[G]&2048&&!(s[G]&512);){let c=zw(o,s,n,r|te.Self,Xt);if(c!==Xt)return c;let u=o.parent;if(!u){let l=s[pw];if(l){let f=l.get(n,Xt,r);if(f!==Xt)return f}u=Gw(s),s=s[ki]}o=u}return i}function Gw(t){let e=t[oe],n=e.type;return n===2?e.declTNode:n===1?t[qt]:null}function w_(t,e=null,n=null,r){let i=Ww(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ww(t,e=null,n=null,r,i=new Set){let o=[n||vt,dS(t)];return r=r||(typeof t=="object"?void 0:ft(t)),new Yo(o,e||Hh(),r||null,i)}var Wt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return w_({name:""},i,r,"");{let o=r.name??"";return w_({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Ko,e.NULL=new Ic,e.\u0275prov=q({token:e,providedIn:"any",factory:()=>ne(ew)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var gA="ngOriginalError";function Bd(t){return t[gA]}var En=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Bd(e);for(;n&&Bd(n);)n=Bd(n);return n||null}},Kw=new J("",{providedIn:"root",factory:()=>k(En).handleError.bind(void 0)}),Qw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),lh=class extends Qw{constructor(e){super(),this._lView=e}onDestroy(e){return Dw(this._lView,e),()=>FS(this._lView,e)}};function mA(){return new lh(be())}function yA(){return Jc(Rt(),be())}function Jc(t,e){return new ls(zt(t,e))}var ls=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=yA;let t=e;return t})();var dh=class extends ut{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,ES()&&(this.destroyRef=k(Qw,{optional:!0})??void 0)}emit(e){let n=ge(null);try{super.next(e)}finally{ge(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=$d(o),i&&(i=$d(i)),s&&(s=$d(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Me&&e.add(c),c}};function $d(t){return e=>{setTimeout(t,void 0,e)}}var jt=dh;function Yw(t){return(t.flags&128)===128}var Jw=new Map,vA=0;function _A(){return vA++}function wA(t){Jw.set(t[qc],t)}function IA(t){Jw.delete(t[qc])}var I_="__ngContext__";function Kn(t,e){Tr(e)?(t[I_]=e[qc],wA(e)):t[I_]=e}function Zw(t){return eI(t[Zo])}function Xw(t){return eI(t[Bt])}function eI(t){for(;t!==null&&!bn(t);)t=t[Bt];return t}var hh;function tI(t){hh=t}function EA(){if(hh!==void 0)return hh;if(typeof document<"u")return document;throw new H(210,!1)}var Xh=new J("",{providedIn:"root",factory:()=>DA}),DA="ng",ef=new J(""),Zn=new J("",{providedIn:"platform",factory:()=>"unknown"});var tf=new J("",{providedIn:"root",factory:()=>EA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var TA="h",bA="b";var CA=()=>null;function nf(t,e,n=!1){return CA(t,e,n)}var nI=!1,SA=new J("",{providedIn:"root",factory:()=>nI});var Ac=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${B_})`}};function Zc(t){return t instanceof Ac?t.changingThisBreaksApplicationSecurity:t}function rI(t,e){let n=AA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${B_})`)}return n===e}function AA(t){return t instanceof Ac&&t.getTypeName()||null}var RA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iI(t){return t=String(t),t.match(RA)?t:"unsafe:"+t}var rf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(rf||{});function oI(t){let e=xA();return e?e.sanitize(rf.URL,t)||"":rI(t,"URL")?Zc(t):iI(Fh(t))}function xA(){let t=be();return t&&t[$t].sanitizer}var MA=/^>|^->|<!--|-->|--!>|<!-$/g,NA=/(<|>)/g,PA="\u200B$1\u200B";function OA(t){return t.replace(MA,e=>e.replace(NA,PA))}function sI(t){return t instanceof Function?t():t}var Dn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Dn||{}),kA;function of(t,e){return kA(t,e)}function bi(t,e,n,r,i){if(r!=null){let o,s=!1;bn(r)?o=r:Tr(r)&&(s=!0,r=r[Tn]);let c=rn(r);t===0&&n!==null?i==null?dI(e,n,c):Rc(e,n,c,i||null,!0):t===1&&n!==null?Rc(e,n,c,i||null,!0):t===2?XA(e,c,s):t===3&&e.destroyNode(c),o!=null&&tR(e,t,o,n,i)}}function FA(t,e){return t.createText(e)}function LA(t,e,n){t.setValue(e,n)}function VA(t,e){return t.createComment(OA(e))}function aI(t,e,n){return t.createElement(e,n)}function UA(t,e){cI(t,e),e[Tn]=null,e[qt]=null}function jA(t,e,n,r,i,o){r[Tn]=i,r[qt]=e,eu(t,r,n,1,i,o)}function cI(t,e){e[$t].changeDetectionScheduler?.notify(1),eu(t,e,e[We],2,null,null)}function BA(t){let e=t[Zo];if(!e)return Hd(t[oe],t);for(;e;){let n=null;if(Tr(e))n=e[Zo];else{let r=e[St];r&&(n=r)}if(!n){for(;e&&!e[Bt]&&e!==t;)Tr(e)&&Hd(e[oe],e),e=e[Xe];e===null&&(e=t),Tr(e)&&Hd(e[oe],e),n=e&&e[Bt]}e=n}}function $A(t,e,n,r){let i=St+r,o=n.length;r>0&&(n[i-1][Bt]=e),r<o-St?(e[Bt]=n[i],X_(n,St+r,e)):(n.push(e),e[Bt]=null),e[Xe]=n;let s=e[Hc];s!==null&&n!==s&&HA(s,e);let c=e[xi];c!==null&&c.insertView(t),sh(e),e[G]|=128}function HA(t,e){let n=t[Tc],i=e[Xe][Xe][nn];e[nn]!==i&&(t[G]|=qh.HasTransplantedViews),n===null?t[Tc]=[e]:n.push(e)}function uI(t,e){let n=t[Tc],r=n.indexOf(e);n.splice(r,1)}function fh(t,e){if(t.length<=St)return;let n=St+e,r=t[n];if(r){let i=r[Hc];i!==null&&i!==t&&uI(i,r),e>0&&(t[n-1][Bt]=r[Bt]);let o=wc(t,St+e);UA(r[oe],r);let s=o[xi];s!==null&&s.detachView(o[oe]),r[Xe]=null,r[Bt]=null,r[G]&=-129}return r}function lI(t,e){if(!(e[G]&256)){let n=e[We];n.destroyNode&&eu(t,e,n,3,null,null),BA(e)}}function Hd(t,e){if(e[G]&256)return;let n=ge(null);try{e[G]&=-129,e[G]|=256,e[Ar]&&xv(e[Ar]),zA(t,e),qA(t,e),e[oe].type===1&&e[We].destroy();let r=e[Hc];if(r!==null&&bn(e[Xe])){r!==e[Xe]&&uI(r,e);let i=e[xi];i!==null&&i.detachView(t)}IA(e)}finally{ge(n)}}function qA(t,e){let n=t.cleanup,r=e[Jo];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Jo]=null);let i=e[Wn];if(i!==null){e[Wn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function zA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ts)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Zt(4,c,u);try{u.call(c)}finally{Zt(5,c,u)}}else{Zt(4,i,o);try{o.call(i)}finally{Zt(5,i,o)}}}}}function GA(t,e,n){return WA(t,e.parent,n)}function WA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Tn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===en.None||o===en.Emulated)return null}return zt(r,n)}}function Rc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function dI(t,e,n){t.appendChild(e,n)}function E_(t,e,n,r,i){r!==null?Rc(t,e,n,r,i):dI(t,e,n)}function KA(t,e,n,r){t.removeChild(e,n,r)}function sf(t,e){return t.parentNode(e)}function QA(t,e){return t.nextSibling(e)}function YA(t,e,n){return ZA(t,e,n)}function JA(t,e,n){return t.type&40?zt(t,n):null}var ZA=JA,D_;function Xc(t,e,n,r){let i=GA(t,r,e),o=e[We],s=r.parent||e[qt],c=YA(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)E_(o,i,n[u],c,!1);else E_(o,i,n,c,!1);D_!==void 0&&D_(o,r,e,n,i)}function mc(t,e){if(e!==null){let n=e.type;if(n&3)return zt(e,t);if(n&4)return ph(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return mc(t,r);{let i=t[e.index];return bn(i)?ph(-1,i):rn(i)}}else{if(n&32)return of(e,t)()||rn(t[e.index]);{let r=hI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=es(t[nn]);return mc(i,r)}else return mc(t,e.next)}}}return null}function hI(t,e){if(e!==null){let r=t[nn][qt],i=e.projection;return r.projection[i]}return null}function ph(t,e){let n=St+t+1;if(n<e.length){let r=e[n],i=r[oe].firstChild;if(i!==null)return mc(r,i)}return e[Rr]}function XA(t,e,n){let r=sf(t,e);r&&KA(t,r,e,n)}function af(t,e,n,r,i,o,s){for(;n!=null;){let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Kn(rn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)af(t,e,n.child,r,i,o,!1),bi(e,t,i,c,o);else if(u&32){let l=of(n,r),f;for(;f=l();)bi(e,t,i,f,o);bi(e,t,i,c,o)}else u&16?eR(t,e,r,n,i,o):bi(e,t,i,c,o);n=s?n.projectionNext:n.next}}function eu(t,e,n,r,i,o){af(n,r,t.firstChild,e,i,o,!1)}function eR(t,e,n,r,i,o){let s=n[nn],u=s[qt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];bi(e,t,i,f,o)}else{let l=u,f=s[Xe];Yw(r)&&(l.flags|=128),af(t,e,l,f,i,o,!0)}}function tR(t,e,n,r,i){let o=n[Rr],s=rn(n);o!==s&&bi(e,t,r,o,i);for(let c=St;c<n.length;c++){let u=n[c];eu(u[oe],u,t,e,r,o)}}function nR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Dn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Dn.Important),t.setStyle(n,r,i,o))}}function rR(t,e,n){t.setAttribute(e,"style",n)}function fI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&eh(t,e,r),i!==null&&fI(t,e,i),o!==null&&rR(t,e,o)}var Xn={};function $e(t=1){gI(Gt(),be(),Fi()+t,!1)}function gI(t,e,n,r){if(!r)if((e[G]&3)===3){let o=t.preOrderCheckHooks;o!==null&&pc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&gc(e,o,0,n)}xr(n)}function _t(t,e=te.Default){let n=be();if(n===null)return ne(t,e);let r=Rt();return qw(r,n,Ct(t),e)}function mI(t,e,n,r,i,o){let s=ge(null);try{let c=null;i&In.SignalBased&&(c=e[r][Cv]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&In.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):mw(e,c,r,o)}finally{ge(s)}}function iR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xr(~i);else{let o=i,s=n[++r],c=n[++r];WS(s,o);let u=e[o];c(2,u)}}}finally{xr(-1)}}function tu(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Tn]=i,p[G]=r|4|128|8|64,(l!==null||t&&t[G]&2048)&&(p[G]|=2048),Ew(p),p[Xe]=p[ki]=t,p[tn]=n,p[$t]=s||t&&t[$t],p[We]=c||t&&t[We],p[Ri]=u||t&&t[Ri]||null,p[qt]=o,p[qc]=_A(),p[Ec]=f,p[pw]=l,p[nn]=e.type==2?t[nn]:p,p}function ds(t,e,n,r,i){let o=t.data[e];if(o===null)o=oR(t,e,n,r,i),GS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=HS();o.injectorIndex=s===null?-1:s.injectorIndex}return Or(o,!0),o}function oR(t,e,n,r,i){let o=bw(),s=Kh(),c=s?o:o&&o.parent,u=t.data[e]=lR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function yI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vI(t,e,n,r,i){let o=Fi(),s=r&2;try{xr(-1),s&&e.length>Ht&&gI(t,e,Ht,!1),Zt(s?2:0,i),n(r,i)}finally{xr(o),Zt(s?3:1,i)}}function cf(t,e,n){if(zh(e)){let r=ge(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{ge(r)}}}function uf(t,e,n){Tw()&&(yR(t,e,n,zt(n,e)),(n.flags&64)===64&&II(t,e,n))}function lf(t,e,n=zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function _I(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=df(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function df(t,e,n,r,i,o,s,c,u,l,f){let p=Ht+r,m=p+i,v=sR(p,m),A=typeof l=="function"?l():l;return v[oe]={type:t,blueprint:v,template:n,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function sR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Xn);return n}function aR(t,e,n,r){let o=r.get(SA,nI)||n===en.ShadowDom,s=t.selectRootElement(e,o);return cR(s),s}function cR(t){uR(t)}var uR=()=>null;function lR(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return jS()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function T_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=In.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?b_(r,n,l,c,u):b_(r,n,l,c)}return r}function b_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function dR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=o[f],m=n?n.get(p):null,v=m?m.inputs:null,A=m?m.outputs:null;u=T_(0,p.inputs,f,u,v),l=T_(1,p.outputs,f,l,A);let R=u!==null&&s!==null&&!Bh(e)?CR(u,f,s):null;c.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function hR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fR(t,e,n,r,i,o,s,c){let u=zt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(ff(t,n,f,r,i),zc(e)&&pR(n,e.index)):e.type&3?(r=hR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function pR(t,e){let n=Jn(e,t);n[G]&16||(n[G]|=64)}function hf(t,e,n,r){if(Tw()){let i=r===null?null:{"":-1},o=_R(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&wI(t,e,n,s,i,c),i&&wR(n,r,i)}n.mergedAttrs=jh(n.mergedAttrs,n.attrs)}function wI(t,e,n,r,i,o){for(let l=0;l<r.length;l++)uA(jw(n,e),t,r[l].type);ER(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=yI(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=jh(n.mergedAttrs,f.hostAttrs),DR(t,n,e,u,f),IR(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}dR(t,n,o)}function gR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;mR(s)!=c&&s.push(c),s.push(n,r,o)}}function mR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function yR(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;zc(n)&&TR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||jw(n,e),Kn(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],l=ns(e,t,c,n);if(Kn(l,e),s!==null&&bR(e,c-i,l,u,n,s),us(u)){let f=Jn(n.index,e);f[tn]=ns(e,t,c,n)}}}function II(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=KS();try{xr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];ah(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&vR(u,l)}}finally{xr(-1),ah(s)}}function vR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _R(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(nS(e,s.selectors,!1))if(r||(r=[]),us(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;gh(t,e,u)}else r.unshift(s),gh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function gh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function wR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}}function IR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;us(e)&&(n[""]=t)}}function ER(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function DR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Cr(i.type,!0)),s=new ts(o,us(i),_t);t.blueprint[r]=s,n[r]=s,gR(t,e,r,yI(t,n,i.hostVars,Xn),i)}function TR(t,e,n){let r=zt(e,t),i=_I(n),o=t[$t].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=nu(t,tu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function bR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],f=s[c++],p=s[c++];mI(r,n,u,l,f,p)}}function CR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function EI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function DI(t,e){let n=t.contentQueries;if(n!==null){let r=ge(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];Rw(o),c.contentQueries(2,e[s],s)}}}finally{ge(r)}}}function nu(t,e){return t[Zo]?t[g_][Bt]=e:t[Zo]=e,t[g_]=e,e}function mh(t,e,n){Rw(0);let r=ge(null);try{e(t,n)}finally{ge(r)}}function SR(t){return t[Jo]||(t[Jo]=[])}function AR(t){return t.cleanup||(t.cleanup=[])}function TI(t,e){let n=t[Ri],r=n?n.get(En,null):null;r&&r.handleError(e)}function ff(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],l=e[s],f=t.data[s];mI(f,l,r,c,u,i)}}function RR(t,e,n){let r=ww(e,t);LA(t[We],r,n)}function xR(t,e){let n=Jn(e,t),r=n[oe];MR(r,n);let i=n[Tn];i!==null&&n[Ec]===null&&(n[Ec]=nf(i,n[Ri])),pf(r,n,n[tn])}function MR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function pf(t,e,n){Qh(e);try{let r=t.viewQuery;r!==null&&mh(1,r,n);let i=t.template;i!==null&&vI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xi]?.finishViewCreation(t),t.staticContentQueries&&DI(t,e),t.staticViewQueries&&mh(2,t.viewQuery,n);let o=t.components;o!==null&&NR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,Yh()}}function NR(t,e){for(let n=0;n<e.length;n++)xR(t,e[n])}function PR(t,e,n,r){let i=ge(null);try{let o=e.tView,c=t[G]&4096?4096:16,u=tu(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Hc]=l;let f=t[xi];return f!==null&&(u[xi]=f.createEmbeddedView(o)),pf(o,u,n),u}finally{ge(i)}}function C_(t,e){return!e||e.firstChild===null||Yw(t)}function OR(t,e,n,r=!0){let i=e[oe];if($A(i,e,t,n),r){let s=ph(n,t),c=e[We],u=sf(c,t[Rr]);u!==null&&jA(i,t[qt],c,e,u,s)}let o=e[Ec];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xc(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(rn(o)),bn(o)&&kR(o,r);let s=n.type;if(s&8)xc(t,e,n.child,r);else if(s&32){let c=of(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=hI(e,n);if(Array.isArray(c))r.push(...c);else{let u=es(e[nn]);xc(u[oe],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function kR(t,e){for(let n=St;n<t.length;n++){let r=t[n],i=r[oe].firstChild;i!==null&&xc(r[oe],r,i,e)}t[Rr]!==t[Tn]&&e.push(t[Rr])}var bI=[];function FR(t){return t[Ar]??LR(t)}function LR(t){let e=bI.pop()??Object.create(UR);return e.lView=t,e}function VR(t){t.lView[Ar]!==t&&(t.lView=null,bI.push(t))}var UR=xe(U({},Sv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xo(t.lView)},consumerOnSignalRead(){this.lView[Ar]=this}}),CI=100;function SI(t,e=!0,n=0){let r=t[$t],i=r.rendererFactory,o=!1;o||i.begin?.();try{jR(t,n)}catch(s){throw e&&TI(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function jR(t,e){yh(t,e);let n=0;for(;Wh(t);){if(n===CI)throw new H(103,!1);n++,yh(t,1)}}function BR(t,e,n,r){let i=e[G];if((i&256)===256)return;let o=!1;!o&&e[$t].inlineEffectRunner?.flush(),Qh(e);let s=null,c=null;!o&&$R(t)&&(c=FR(e),s=Av(c));try{Ew(e),qS(t.bindingStartIndex),n!==null&&vI(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&pc(e,p,null)}else{let p=t.preOrderHooks;p!==null&&gc(e,p,0,null),Ud(e,0)}if(HR(e),AI(e,0),t.contentQueries!==null&&DI(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&pc(e,p)}else{let p=t.contentHooks;p!==null&&gc(e,p,1),Ud(e,1)}iR(t,e);let l=t.components;l!==null&&xI(e,l,0);let f=t.viewQuery;if(f!==null&&mh(2,f,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&pc(e,p)}else{let p=t.viewHooks;p!==null&&gc(e,p,2),Ud(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Vd]){for(let p of e[Vd])p();e[Vd]=null}o||(e[G]&=-73)}catch(u){throw Xo(e),u}finally{c!==null&&(Rv(c,s),VR(c)),Yh()}}function $R(t){return t.type!==2}function AI(t,e){for(let n=Zw(t);n!==null;n=Xw(n))for(let r=St;r<n.length;r++){let i=n[r];RI(i,e)}}function HR(t){for(let e=Zw(t);e!==null;e=Xw(e)){if(!(e[G]&qh.HasTransplantedViews))continue;let n=e[Tc];for(let r=0;r<n.length;r++){let i=n[r],o=i[Xe];OS(i)}}}function qR(t,e,n){let r=Jn(e,t);RI(r,n)}function RI(t,e){Gh(t)&&yh(t,e)}function yh(t,e){let r=t[oe],i=t[G],o=t[Ar],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&fd(o)),o&&(o.dirty=!1),t[G]&=-9217,s)BR(r,t,r.template,t[tn]);else if(i&8192){AI(t,1);let c=r.components;c!==null&&xI(t,c,1)}}function xI(t,e,n){for(let r=0;r<e.length;r++)qR(t,e[r],n)}function gf(t){for(t[$t].changeDetectionScheduler?.notify();t;){t[G]|=64;let e=es(t);if(TS(t)&&!e)return t;t=e}return null}var Mr=class{get rootNodes(){let e=this._lView,n=e[oe];return xc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(e){this._lView[tn]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(bn(e)){let n=e[Dc],r=n?n.indexOf(this):-1;r>-1&&(fh(e,r),wc(n,r))}this._attachedToViewContainer=!1}lI(this._lView[oe],this._lView)}onDestroy(e){Dw(this._lView,e)}markForCheck(){gf(this._cdRefInjectingView||this._lView)}detach(){this._lView[G]&=-129}reattach(){sh(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,SI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,cI(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e,sh(this._lView)}},ru=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WR;let t=e;return t})(),zR=ru,GR=class extends zR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=PR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Mr(i)}};function WR(){return KR(Rt(),be())}function KR(t,e){return t.type&4?new GR(e,t,Jc(t,e)):null}var IH=new RegExp(`^(\\d+)*(${bA}|${TA})*(.*)`);var QR=()=>null;function S_(t,e){return QR(t,e)}var vh=class{},_h=class{},Mc=class{};function YR(t){let e=Error(`No component factory found for ${ft(t)}.`);return e[JR]=t,e}var JR="ngComponent";var wh=class{resolveComponentFactory(e){throw YR(e)}},iu=(()=>{let e=class e{};e.NULL=new wh;let t=e;return t})(),rs=class{},ou=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>ZR();let t=e;return t})();function ZR(){let t=be(),e=Rt(),n=Jn(e.index,t);return(Tr(n)?n:t)[We]}var XR=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),qd={};var A_=new Set;function MI(t){A_.has(t)||(A_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function R_(...t){}function ex(){let t=typeof wn.requestAnimationFrame=="function",e=wn[t?"requestAnimationFrame":"setTimeout"],n=wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var we=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jt(!1),this.onMicrotaskEmpty=new jt(!1),this.onStable=new jt(!1),this.onError=new jt(!1),typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=ex().nativeRequestAnimationFrame,rx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,tx,R_,R_);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},tx={};function mf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ih(t),t.isCheckStableRunning=!0,mf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ih(t))}function rx(t){let e=()=>{nx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,c)=>{if(ix(c))return n.invokeTask(i,o,s,c);try{return x_(t),n.invokeTask(i,o,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),M_(t)}},onInvoke:(n,r,i,o,s,c,u)=>{try{return x_(t),n.invoke(i,o,s,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),M_(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Ih(t),mf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Ih(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function x_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function M_(t){t._nesting--,mf(t)}function ix(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var NI=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Nc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Yd(i,c);else if(o==2){let u=c,l=e[++s];r=Yd(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Pc=class extends iu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Sr(e);return new is(n,this.ngModule)}};function N_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function ox(t){let e=t.toLowerCase();return e==="svg"?AS:e==="math"?RS:null}var Eh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=jc(r);let i=this.injector.get(e,qd,r);return i!==qd||n===qd?i:this.parentInjector.get(e,n,r)}},is=class extends Mc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=N_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return N_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=sS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ge(null);try{i=i||this.ngModule;let s=i instanceof At?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new Eh(e,s):e,u=c.get(rs,null);if(u===null)throw new H(407,!1);let l=c.get(XR,null),f=c.get(NI,null),p=c.get(vh,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},v=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=r?aR(v,r,this.componentDef.encapsulation,c):aI(v,A,ox(A)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let F=null;R!==null&&(F=nf(R,c,!0));let z=df(0,null,null,1,0,null,null,null,null,null,null),$=tu(null,z,null,M,null,null,m,v,c,null,F);Qh($);let ee,De;try{let Y=this.componentDef,E,y=null;Y.findHostDirectiveDefs?(E=[],y=new Map,Y.findHostDirectiveDefs(Y,E,y),E.push(Y)):E=[Y];let _=sx($,R),I=ax(_,R,Y,E,$,m,v);De=Iw(z,Ht),R&&lx(v,Y,R,r),n!==void 0&&dx(De,this.ngContentSelectors,n),ee=ux(I,Y,E,y,$,[hx]),pf(z,$,null)}finally{Yh()}return new Dh(this.componentType,ee,Jc(De,$),$,De)}finally{ge(o)}}},Dh=class extends _h{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Mr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ff(o[oe],o,i,e,n),this.previousInputValues.set(e,n);let s=Jn(this._tNode.index,o);gf(s)}}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sx(t,e){let n=t[oe],r=Ht;return t[r]=e,ds(n,r,2,"#host",null)}function ax(t,e,n,r,i,o,s){let c=i[oe];cx(r,t,e,s);let u=null;e!==null&&(u=nf(e,i[Ri]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=tu(i,_I(n),null,f,i[t.index],t,o,l,null,null,u);return c.firstCreatePass&&gh(c,t,r.length-1),nu(i,p),i[t.index]=p}function cx(t,e,n,r){for(let i of t)e.mergedAttrs=jh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Nc(e,e.mergedAttrs,!0),n!==null&&pI(r,n,e))}function ux(t,e,n,r,i,o){let s=Rt(),c=i[oe],u=zt(s,i);wI(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let p=s.directiveStart+f,m=ns(i,c,p,s);Kn(m,i)}II(c,i,s),u&&Kn(u,i);let l=ns(i,c,s.directiveStart+s.componentOffset,s);if(t[tn]=i[tn]=l,o!==null)for(let f of o)f(l,e);return cf(c,s,i),l}function lx(t,e,n,r){if(r)eh(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=aS(e.selectors[0]);i&&eh(t,n,i),o&&o.length>0&&fI(t,n,o.join(" "))}}function dx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function hx(){let t=Rt();Yc(be()[oe],t)}var Li=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fx;let t=e;return t})();function fx(){let t=Rt();return gx(t,be())}var px=Li,PI=class extends px{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Jc(this._hostTNode,this._hostLView)}get injector(){return new br(this._hostTNode,this._hostLView)}get parentInjector(){let e=Jh(this._hostTNode,this._hostLView);if(Lw(e)){let n=Cc(e,this._hostLView),r=bc(e),i=n[oe].data[r+8];return new br(i,n)}else return new br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=P_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-St}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=S_(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,C_(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!DS(e),c;if(s)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new is(Sr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(At,null);R&&(o=R)}let f=Sr(u.componentType??{}),p=S_(this._lContainer,f?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,o);return this.insertImpl(v.hostView,c,C_(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(PS(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Xe],l=new PI(u,u[qt],u[Xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return OR(s,i,o,r),e.attachToViewContainerRef(),X_(zd(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=P_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=fh(this._lContainer,n);r&&(wc(zd(this._lContainer),n),lI(r[oe],r))}detach(e){let n=this._adjustIndex(e,-1),r=fh(this._lContainer,n);return r&&wc(zd(this._lContainer),n)!=null?new Mr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function P_(t){return t[Dc]}function zd(t){return t[Dc]||(t[Dc]=[])}function gx(t,e){let n,r=e[t.index];return bn(r)?n=r:(n=EI(r,e,null,t),e[t.index]=n,nu(e,n)),yx(n,e,t,r),new PI(n,t,e)}function mx(t,e){let n=t[We],r=n.createComment(""),i=zt(e,t),o=sf(n,i);return Rc(n,o,r,QA(n,i),!1),r}var yx=wx,vx=()=>!1;function _x(t,e,n){return vx(t,e,n)}function wx(t,e,n,r){if(t[Rr])return;let i;n.type&8?i=rn(r):i=mx(e,n),t[Rr]=i}var Qn=class{},os=class{};var Th=class extends Qn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pc(this);let i=cw(e);this._bootstrapComponents=sI(i.bootstrap),this._r3Injector=Ww(e,n,[{provide:Qn,useValue:this},{provide:iu,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bh=class extends os{constructor(e){super(),this.moduleType=e}create(e){return new Th(this.moduleType,e,[])}};var Oc=class extends Qn{constructor(e){super(),this.componentFactoryResolver=new Pc(this),this.instance=null;let n=new Yo([...e.providers,{provide:Qn,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],e.parent||Hh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yf(t,e,n=null){return new Oc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var su=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ge(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OI(t){return Ex(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Ix(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Ex(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function kI(t,e,n){return t[e]=n}function Ni(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Dx(t,e,n,r){let i=Ni(t,e,n);return Ni(t,e+1,r)||i}function Tx(t){return(t.flags&32)===32}function bx(t,e,n,r,i,o,s,c,u){let l=e.consts,f=ds(e,t,4,s||null,Mi(l,c));hf(e,n,f,Mi(l,u)),Yc(e,f);let p=f.tView=df(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function er(t,e,n,r,i,o,s,c){let u=be(),l=Gt(),f=t+Ht,p=l.firstCreatePass?bx(f,l,u,e,n,r,i,o,s):l.data[f];Or(p,!1);let m=Cx(l,u,p,t);Kc()&&Xc(l,u,m,p),Kn(m,u);let v=EI(m,u,m,p);return u[f]=v,nu(u,v),_x(v,p,u),Gc(p)&&uf(l,u,p),s!=null&&lf(u,p,c),er}var Cx=Sx;function Sx(t,e,n,r){return Qc(!0),e[We].createComment("")}function Ax(t,e,n,r){return Ni(t,Aw(),n)?e+Fh(n)+r:Xn}function hc(t,e){return t<<17|e<<2}function Nr(t){return t>>17&32767}function Rx(t){return(t&2)==2}function xx(t,e){return t&131071|e<<17}function Ch(t){return t|2}function Pi(t){return(t&131068)>>2}function Gd(t,e){return t&-131069|e<<2}function Mx(t){return(t&1)===1}function Sh(t){return t|1}function Nx(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Nr(s),u=Pi(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||cs(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=Nr(t[c+1]);t[r+1]=hc(m,c),m!==0&&(t[m+1]=Gd(t[m+1],r)),t[c+1]=xx(t[c+1],r)}else t[r+1]=hc(c,0),c!==0&&(t[c+1]=Gd(t[c+1],r)),c=r;else t[r+1]=hc(u,0),c===0?c=r:t[u+1]=Gd(t[u+1],r),u=r;l&&(t[r+1]=Ch(t[r+1])),O_(t,f,r,!0),O_(t,f,r,!1),Px(e,f,t,r,o),s=hc(c,u),o?e.classBindings=s:e.styleBindings=s}function Px(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&cs(o,e)>=0&&(n[r+1]=Sh(n[r+1]))}function O_(t,e,n,r){let i=t[n+1],o=e===null,s=r?Nr(i):Pi(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];Ox(u,e)&&(c=!0,t[s+1]=r?Sh(l):Ch(l)),s=r?Nr(l):Pi(l)}c&&(t[n+1]=r?Ch(i):Sh(i))}function Ox(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?cs(t,e)>=0:!1}var Ut={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kx(t){return t.substring(Ut.key,Ut.keyEnd)}function Fx(t){return Lx(t),FI(t,LI(t,0,Ut.textEnd))}function FI(t,e){let n=Ut.textEnd;return n===e?-1:(e=Ut.keyEnd=Vx(t,Ut.key=e,n),LI(t,e,n))}function Lx(t){Ut.key=0,Ut.keyEnd=0,Ut.value=0,Ut.valueEnd=0,Ut.textEnd=t.length}function LI(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Vx(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function tt(t,e,n){let r=be(),i=Aw();if(Ni(r,i,e)){let o=Gt(),s=ZS();fR(o,s,r,t,e,r[We],n,!1)}return tt}function Ah(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ff(t,n,o[s],s,r)}function VI(t){jx(Wx,Ux,t,!0)}function Ux(t,e){for(let n=Fx(e);n>=0;n=FI(e,n))Uh(t,kx(e),!0)}function jx(t,e,n,r){let i=Gt(),o=zS(2);i.firstUpdatePass&&Bx(i,null,o,r);let s=be();if(n!==Xn&&Ni(s,o,n)){let c=i.data[Fi()];if(jI(c,r)&&!UI(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=Yd(u,n||"")),Ah(i,c,s,n,r)}else Kx(i,c,s,s[We],s[o+1],s[o+1]=Gx(t,e,n),r,o)}}function UI(t,e){return e>=t.expandoStartIndex}function Bx(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Fi()],s=UI(t,n);jI(o,r)&&e===null&&!s&&(e=!1),e=$x(i,o,e,r),Nx(i,o,e,n,s,r)}}function $x(t,e,n,r){let i=QS(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Wd(null,t,e,n,r),n=ss(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Wd(i,t,e,n,r),o===null){let u=Hx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Wd(null,t,e,u[1],r),u=ss(u,e.attrs,r),qx(t,e,r,u))}else o=zx(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Hx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Pi(r)!==0)return t[Nr(r)]}function qx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Nr(i)]=r}function zx(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ss(r,s,n)}return ss(r,e.attrs,n)}function Wd(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=ss(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ss(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Uh(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Gx(t,e,n){if(n==null||n==="")return vt;let r=[],i=Zc(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Wx(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Uh(t,r,n)}function Kx(t,e,n,r,i,o,s,c){i===Xn&&(i=vt);let u=0,l=0,f=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;f!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,v=l<o.length?o[l+1]:void 0,A=null,R;f===p?(u+=2,l+=2,m!==v&&(A=p,R=v)):p===null||f!==null&&f<p?(u+=2,A=f):(l+=2,A=p,R=v),A!==null&&Qx(t,e,n,r,A,R,s,c),f=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function Qx(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=Mx(l)?k_(u,e,n,i,Pi(l),s):void 0;if(!kc(f)){kc(o)||Rx(l)&&(o=k_(u,null,n,i,c,s));let p=ww(Fi(),n);nR(r,s,p,i,o)}}function k_(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===Xn&&(m=p?vt:void 0);let v=p?Fd(m,r):f===r?m:void 0;if(l&&!kc(v)&&(v=Fd(u,r)),kc(v)&&(c=v,s))return c;let A=t[i+1];i=s?Nr(A):Pi(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Fd(u,r))}return c}function kc(t){return t!==void 0}function jI(t,e){return(t.flags&(e?8:16))!==0}function Yx(t,e,n,r,i,o){let s=e.consts,c=Mi(s,i),u=ds(e,t,2,r,c);return hf(e,n,u,Mi(s,o)),u.attrs!==null&&Nc(u,u.attrs,!1),u.mergedAttrs!==null&&Nc(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function V(t,e,n,r){let i=be(),o=Gt(),s=Ht+t,c=i[We],u=o.firstCreatePass?Yx(s,o,i,e,n,r):o.data[s],l=Jx(o,i,u,c,e,t);i[s]=l;let f=Gc(u);return Or(u,!0),pI(c,l,u),!Tx(u)&&Kc()&&Xc(o,i,l,u),LS()===0&&Kn(l,i),VS(),f&&(uf(o,i,u),cf(o,u,i)),r!==null&&lf(i,u),V}function B(){let t=Rt();Kh()?Cw():(t=t.parent,Or(t,!1));let e=t;BS(e)&&$S(),US();let n=Gt();return n.firstCreatePass&&(Yc(n,t),zh(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&rA(e)&&Ah(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&iA(e)&&Ah(n,e,be(),e.stylesWithoutHost,!1),B}function re(t,e,n,r){return V(t,e,n,r),B(),re}var Jx=(t,e,n,r,i,o)=>(Qc(!0),aI(r,i,XS()));function Zx(t,e,n,r,i){let o=e.consts,s=Mi(o,r),c=ds(e,t,8,"ng-container",s);s!==null&&Nc(c,s,!0);let u=Mi(o,i);return hf(e,n,c,u),e.queries!==null&&e.queries.elementStart(e,c),c}function vf(t,e,n){let r=be(),i=Gt(),o=t+Ht,s=i.firstCreatePass?Zx(o,i,r,e,n):i.data[o];Or(s,!0);let c=Xx(i,r,s,t);return r[o]=c,Kc()&&Xc(i,r,c,s),Kn(c,r),Gc(s)&&(uf(i,r,s),cf(i,s,r)),n!=null&&lf(r,s),vf}function _f(){let t=Rt(),e=Gt();return Kh()?Cw():(t=t.parent,Or(t,!1)),e.firstCreatePass&&(Yc(e,t),zh(t)&&e.queries.elementEnd(t)),_f}var Xx=(t,e,n,r)=>(Qc(!0),VA(e[We],""));var Dr=void 0;function eM(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var tM=["en",[["a","p"],["AM","PM"],Dr],[["AM","PM"],Dr,Dr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dr,"{1} 'at' {0}",Dr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",eM],Kd={};function au(t){let e=nM(t),n=F_(e);if(n)return n;let r=e.split("-")[0];if(n=F_(r),n)return n;if(r==="en")return tM;throw new H(701,!1)}function F_(t){return t in Kd||(Kd[t]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[t]),Kd[t]}var kr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(kr||{});function nM(t){return t.toLowerCase().replace(/_/g,"-")}var Fc="en-US",rM="USD";var iM=Fc;function oM(t){typeof t=="string"&&(iM=t.toLowerCase().replace(/_/g,"-"))}function Vi(t,e,n,r){let i=be(),o=Gt(),s=Rt();return aM(o,i,i[We],s,t,e,r),Vi}function sM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Jo],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function aM(t,e,n,r,i,o,s){let c=Gc(r),l=t.firstCreatePass&&AR(t),f=e[tn],p=SR(e),m=!0;if(r.type&3||s){let R=zt(r,e),M=s?s(R):R,F=p.length,z=s?ee=>s(rn(ee[r.index])):r.index,$=null;if(!s&&c&&($=sM(t,e,i,r.index)),$!==null){let ee=$.__ngLastListenerFn__||$;ee.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,m=!1}else{o=V_(r,e,f,o,!1);let ee=n.listen(M,i,o);p.push(o,ee),l&&l.push(i,z,F,F+1)}}else o=V_(r,e,f,o,!1);let v=r.outputs,A;if(m&&v!==null&&(A=v[i])){let R=A.length;if(R)for(let M=0;M<R;M+=2){let F=A[M],z=A[M+1],De=e[F][z].subscribe(o),Y=p.length;p.push(o,De),l&&l.push(i,r.index,Y,-(Y+1))}}}function L_(t,e,n,r){let i=ge(null);try{return Zt(6,e,n),n(r)!==!1}catch(o){return TI(t,o),!1}finally{Zt(7,e,n),ge(i)}}function V_(t,e,n,r,i){return function o(s){if(s===Function)return r;let c=t.componentOffset>-1?Jn(t.index,e):e;gf(c);let u=L_(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=L_(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function hs(t=1){return JS(t)}function cM(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function me(t,e=""){let n=be(),r=Gt(),i=t+Ht,o=r.firstCreatePass?ds(r,i,1,e,null):r.data[i],s=uM(r,n,o,e,t);n[i]=s,Kc()&&Xc(r,n,s,o),Or(o,!1)}var uM=(t,e,n,r,i)=>(Qc(!0),FA(e[We],r));function xt(t){return BI("",t,""),xt}function BI(t,e,n){let r=be(),i=Ax(r,t,e,n);return i!==Xn&&RR(r,Fi(),i),BI}var lM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=dw(!1,r.type),o=i.length>0?yf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(ne(At))});let t=e;return t})();function He(t){MI("NgStandalone"),t.getStandaloneInjector=e=>e.get(lM).getOrCreateStandaloneInjector(t)}function fs(t,e,n,r){return dM(be(),Sw(),t,e,n,r)}function $I(t,e){let n=t[e];return n===Xn?void 0:n}function dM(t,e,n,r,i,o){let s=e+n;return Ni(t,s,i)?kI(t,s+1,o?r.call(o,i):r(i)):$I(t,s+1)}function hM(t,e,n,r,i,o,s){let c=e+n;return Dx(t,c,i,o)?kI(t,c+2,s?r.call(s,i,o):r(i,o)):$I(t,c+2)}function HI(t,e){let n=Gt(),r,i=t+Ht;n.firstCreatePass?(r=fM(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Cr(r.type,!0)),s,c=ht(_t);try{let u=Sc(!1),l=o();return Sc(u),cM(n,be(),i,l),l}finally{ht(c)}}function fM(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function qI(t,e,n,r){let i=t+Ht,o=be(),s=NS(o,i);return pM(o,i)?hM(o,Sw(),e,s.transform,n,r,s):s.transform(n,r)}function pM(t,e){return t[oe].data[e].pure}var Yn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},zI=new Yn("17.3.12"),cu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var GI=new J("");function ps(t){return!!t&&typeof t.then=="function"}function WI(t){return!!t&&typeof t.subscribe=="function"}var KI=new J(""),QI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(KI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(ps(s))r.push(s);else if(WI(s)){let c=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wf=new J("");function gM(){Mv(()=>{throw new H(600,!1)})}function mM(t){return t.isBoundToModule}function yM(t,e,n){try{let r=n();return ps(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var gs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(Kw),this.afterRenderEffectManager=k(NI),this.externalTestViews=new Set,this.beforeRender=new ut,this.afterTick=new ut,this.componentTypes=[],this.components=[],this.isStable=k(su).hasPendingTasks.pipe(ue(r=>!r)),this._injector=k(At)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Mc;if(!this._injector.get(QI).done){let v=!o&&aw(r),A=!1;throw new H(405,A)}let c;o?c=r:c=this._injector.get(iu).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=mM(c)?void 0:this._injector.get(Qn),l=i||c.selector,f=c.create(Wt.NULL,[],l,u),p=f.location.nativeElement,m=f.injector.get(GI,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Qd(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new H(101,!1);let i=ge(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ge(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===CI)throw new H(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:c,notifyErrorHandler:u}of this._views)vM(c,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Rh(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Rh(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Qd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(wf,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Qd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new H(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vM(t,e,n){!e&&!Rh(t)||_M(t,n,e)}function Rh(t){return Wh(t)}function _M(t,e,n){let r;n?(r=0,t[G]|=1024):t[G]&64?r=0:r=1,SI(t,e,r)}var xh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},If=(()=>{let e=class e{compileModuleSync(r){return new bh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=cw(r),s=sI(o.declarations).reduce((c,u)=>{let l=Sr(u);return l&&c.push(new is(l)),c},[]);return new xh(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wM=(()=>{let e=class e{constructor(){this.zone=k(we),this.applicationRef=k(gs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IM(t){return[{provide:we,useFactory:t},{provide:Ai,multi:!0,useFactory:()=>{let e=k(wM,{optional:!0});return()=>e.initialize()}},{provide:Ai,multi:!0,useFactory:()=>{let e=k(bM);return()=>{e.initialize()}}},{provide:Kw,useFactory:EM}]}function EM(){let t=k(we),e=k(En);return n=>t.runOutsideAngular(()=>e.handleError(n))}function DM(t){let e=IM(()=>new we(TM(t)));return on([[],e])}function TM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var bM=(()=>{let e=class e{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=k(we),this.pendingTasks=k(su)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CM(){return typeof $localize<"u"&&$localize.locale||Fc}var uu=new J("",{providedIn:"root",factory:()=>k(uu,te.Optional|te.SkipSelf)||CM()}),YI=new J("",{providedIn:"root",factory:()=>rM});var JI=new J("");var yc=null;function SM(t=[],e){return Wt.create({name:e,providers:[{provide:$c,useValue:"platform"},{provide:JI,useValue:new Set([()=>yc=null])},...t]})}function AM(t=[]){if(yc)return yc;let e=SM(t);return yc=e,gM(),RM(e),e}function RM(t){t.get(ef,null)?.forEach(n=>n())}var Fr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xM;let t=e;return t})();function xM(t){return MM(Rt(),be(),(t&16)===16)}function MM(t,e,n){if(zc(t)&&!n){let r=Jn(t.index,e);return new Mr(r,r)}else if(t.type&47){let r=e[nn];return new Mr(r,e)}return null}var Mh=class{constructor(){}supports(e){return OI(e)}create(e){return new Nh(e)}},NM=(t,e)=>e,Nh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||NM}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<U_(r,i,o)?n:r,c=U_(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,A=v+m;f<=A&&A<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!OI(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Ix(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Ph(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Lc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Lc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ph=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Oh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Lc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Oh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function U_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function j_(){return new Ef([new Mh])}var Ef=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||j_()),deps:[[e,new Z_,new et]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new H(901,!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:j_});let t=e;return t})();function ZI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=AM(r),o=[DM(),...n||[]],c=new Oc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(we);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(En,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>c.destroy(),m=i.get(JI);return m.add(p),c.onDestroy(()=>{f.unsubscribe(),m.delete(p)}),yM(l,u,()=>{let v=c.get(QI);return v.runInitializers(),v.donePromise.then(()=>{let A=c.get(uu,Fc);oM(A||Fc);let R=c.get(gs);return e!==void 0&&R.bootstrap(e),R})})})}catch(e){return Promise.reject(e)}}var sE=null;function Ui(){return sE}function aE(t){sE??=t}var lu=class{};var Mt=new J(""),Af=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(FM),providedIn:"platform"});let t=e;return t})();var FM=(()=>{let e=class e extends Af{constructor(){super(),this._doc=k(Mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ui().getBaseHref(this._doc)}onPopState(r){let i=Ui().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ui().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Rf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function XI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Cn(t){return t&&t[0]!=="?"?"?"+t:t}var ji=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(uE),providedIn:"root"});let t=e;return t})(),cE=new J(""),uE=(()=>{let e=class e extends ji{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(Mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Rf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Cn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+Cn(s));this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+Cn(s));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ne(Af),ne(cE,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lE=(()=>{let e=class e extends ji{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Rf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+Cn(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+Cn(s));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ne(Af),ne(cE,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),vs=(()=>{let e=class e{constructor(r){this._subject=new jt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=UM(XI(eE(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Cn(i))}normalize(r){return e.stripTrailingSlash(VM(this._basePath,eE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Cn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Cn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Cn,e.joinWithSlash=Rf,e.stripTrailingSlash=XI,e.\u0275fac=function(i){return new(i||e)(ne(ji))},e.\u0275prov=q({token:e,factory:()=>LM(),providedIn:"root"});let t=e;return t})();function LM(){return new vs(ne(ji))}function VM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function eE(t){return t.replace(/\/index.html$/,"")}function UM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var dE={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},hE=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(hE||{});var Sn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ms(t,e){let n=au(t),r=n[kr.NumberSymbols][e];if(typeof r>"u"){if(e===Sn.CurrencyDecimal)return n[kr.NumberSymbols][Sn.Decimal];if(e===Sn.CurrencyGroup)return n[kr.NumberSymbols][Sn.Group]}return r}function jM(t,e){return au(t)[kr.NumberFormats][e]}function BM(t){return au(t)[kr.Currencies]}function $M(t,e,n="en"){let r=BM(n)[t]||dE[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var HM=2;function qM(t){let e,n=dE[t];return n&&(e=n[2]),typeof e=="number"?e:HM}var zM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,tE=22,du=".",ys="0",GM=";",WM=",",Df="#",nE="\xA4";function KM(t,e,n,r,i,o,s=!1){let c="",u=!1;if(!isFinite(t))c=ms(n,Sn.Infinity);else{let l=ZM(t);s&&(l=JM(l));let f=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let z=o.match(zM);if(z===null)throw new Error(`${o} is not a valid digit info`);let $=z[1],ee=z[3],De=z[5];$!=null&&(f=Tf($)),ee!=null&&(p=Tf(ee)),De!=null?m=Tf(De):ee!=null&&p>m&&(m=p)}XM(l,p,m);let v=l.digits,A=l.integerLen,R=l.exponent,M=[];for(u=v.every(z=>!z);A<f;A++)v.unshift(0);for(;A<0;A++)v.unshift(0);A>0?M=v.splice(A,v.length):(M=v,v=[0]);let F=[];for(v.length>=e.lgSize&&F.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)F.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&F.unshift(v.join("")),c=F.join(ms(n,r)),M.length&&(c+=ms(n,i)+M.join("")),R&&(c+=ms(n,Sn.Exponential)+"+"+R)}return t<0&&!u?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function QM(t,e,n,r,i){let o=jM(e,hE.Currency),s=YM(o,ms(e,Sn.MinusSign));return s.minFrac=qM(r),s.maxFrac=s.minFrac,KM(t,s,e,Sn.CurrencyGroup,Sn.CurrencyDecimal,i).replace(nE,n).replace(nE,"").trim()}function YM(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(GM),i=r[0],o=r[1],s=i.indexOf(du)!==-1?i.split(du):[i.substring(0,i.lastIndexOf(ys)+1),i.substring(i.lastIndexOf(ys)+1)],c=s[0],u=s[1]||"";n.posPre=c.substring(0,c.indexOf(Df));for(let f=0;f<u.length;f++){let p=u.charAt(f);p===ys?n.minFrac=n.maxFrac=f+1:p===Df?n.maxFrac=f+1:n.posSuf+=p}let l=c.split(WM);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Df);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function JM(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function ZM(t){let e=Math.abs(t)+"",n=0,r,i,o,s,c;for((i=e.indexOf(du))>-1&&(e=e.replace(du,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===ys;o++);if(o===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===ys;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(e.charAt(o))}return i>tE&&(r=r.splice(0,tE-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function XM(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,c=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(c>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,f=r.reduceRight(function(p,m,v,A){return m=m+p,A[v]=m<10?m:m-10,u&&(A[v]===0&&v>=l?A.pop():u=!1),m>=10?1:0},0);f&&(r.unshift(f),t.integerLen++)}function Tf(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function fE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bf=/\s+/,rE=[],pE=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=rE,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(bf):rE}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(bf):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(bf).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(_t(ls),_t(ou))},e.\u0275dir=Oi({type:e,selectors:[["","ngClass",""]],inputs:{klass:[In.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Cf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gE=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,c)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Cf(o.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,c),iE(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);iE(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(_t(Li),_t(ru),_t(Ef))},e.\u0275dir=Oi({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function iE(t,e){t.context.$implicit=e.item}var Bi=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Sf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){oE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){oE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(_t(Li),_t(ru))},e.\u0275dir=Oi({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Sf=class{constructor(){this.$implicit=null,this.ngIf=null}};function oE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ft(e)}'.`)}function eN(t,e){return new H(2100,!1)}var mE=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,o="symbol",s,c){if(!tN(r))return null;c||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let u=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?u=$M(u,o==="symbol"?"wide":"narrow",c):u=o);try{let l=nN(r);return QM(l,c,u,i,s)}catch(l){throw eN(e,l.message)}}};e.\u0275fac=function(i){return new(i||e)(_t(uu,16),_t(YI,16))},e.\u0275pipe=iw({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function tN(t){return!(t==null||t===""||t!==t)}function nN(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Kt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Bc({type:e}),e.\u0275inj=Vc({});let t=e;return t})(),yE="browser",rN="server";function xf(t){return t===rN}var hu=class{};var Pf=class extends lu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Of=class t extends Pf{static makeCurrent(){aE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=iN();return n==null?null:oN(n)}resetBaseElement(){ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fE(document.cookie,e)}},ws=null;function iN(){return ws=ws||document.querySelector("base"),ws?ws.getAttribute("href"):null}function oN(t){return new URL(t,document.baseURI).pathname}var sN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),kf=new J(""),IE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ne(kf),ne(we))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),fu=class{constructor(e){this._doc=e}},Mf="ng-app-id",EE=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xf(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Mf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Mf),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Mf,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,c=s.get(i)?.elements;c?c.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ne(Mt),ne(Xh),ne(tf,8),ne(Zn))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Nf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lf=/%COMP%/g,DE="%COMP%",aN=`_nghost-${DE}`,cN=`_ngcontent-${DE}`,uN=!0,lN=new J("",{providedIn:"root",factory:()=>uN});function dN(t){return cN.replace(Lf,t)}function hN(t){return aN.replace(Lf,t)}function TE(t,e){return e.map(n=>n.replace(Lf,t))}var vE=(()=>{let e=class e{constructor(r,i,o,s,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=xf(u),this.defaultRenderer=new Is(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===en.ShadowDom&&(i=xe(U({},i),{encapsulation:en.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof pu?o.applyToHost(r):o instanceof Es&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case en.Emulated:s=new pu(l,f,i,this.appId,p,c,u,m);break;case en.ShadowDom:return new Ff(l,f,r,i,c,u,this.nonce,m);default:s=new Es(l,f,i,p,c,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ne(IE),ne(EE),ne(Xh),ne(lN),ne(Mt),ne(Zn),ne(we),ne(tf))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Is=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Nf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_E(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_E(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Nf[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Nf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Dn.DashCase|Dn.Important)?e.style.setProperty(n,r,i&Dn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Dn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ui().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function _E(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ff=class extends Is{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=TE(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Es=class extends Is{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?TE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},pu=class extends Es{constructor(e,n,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,c,u,l),this.contentAttr=dN(l),this.hostAttr=hN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},fN=(()=>{let e=class e extends fu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(ne(Mt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),wE=["alt","control","meta","shift"],pN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},mN=(()=>{let e=class e extends fu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ui().onAndCancel(r,s.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),wE.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),c+=f+".")}),c+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let o=pN[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),wE.forEach(c=>{if(c!==o){let u=gN[c];u(r)&&(s+=c+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ne(Mt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function bE(t,e){return ZI(U({rootComponent:t},yN(e)))}function yN(t){return{appProviders:[...EN,...t?.providers??[]],platformProviders:IN}}function vN(){Of.makeCurrent()}function _N(){return new En}function wN(){return tI(document),document}var IN=[{provide:Zn,useValue:yE},{provide:ef,useValue:vN,multi:!0},{provide:Mt,useFactory:wN,deps:[]}];var EN=[{provide:$c,useValue:"root"},{provide:En,useFactory:_N,deps:[]},{provide:kf,useClass:fN,multi:!0,deps:[Mt,we,Zn]},{provide:kf,useClass:mN,multi:!0,deps:[Mt]},vE,EE,IE,{provide:rs,useExisting:vE},{provide:hu,useClass:sN,deps:[]},[]];var CE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ne(Mt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Z="primary",Ls=Symbol("RouteTitle"),$f=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Gi(t){return new $f(t)}function TN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s.startsWith(":"))i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function bN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sn(t[n],e[n]))return!1;return!0}function sn(t,e){let n=t?Hf(t):void 0,r=e?Hf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!NE(t[i],e[i]))return!1;return!0}function Hf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function NE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function PE(t){return t.length>0?t[t.length-1]:null}function ir(t){return Rd(t)?t:ps(t)?Le(Promise.resolve(t)):Q(t)}var CN={exact:kE,subset:FE},OE={exact:SN,subset:AN,ignored:()=>!0};function SE(t,e,n){return CN[n.paths](t.root,e.root,n.matrixParams)&&OE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function SN(t,e){return sn(t,e)}function kE(t,e,n){if(!Vr(t.segments,e.segments)||!yu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kE(t.children[r],e.children[r],n))return!1;return!0}function AN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>NE(t[n],e[n]))}function FE(t,e,n){return LE(t,e,e.segments,n)}function LE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Vr(i,n)||e.hasChildren()||!yu(i,n,r))}else if(t.segments.length===n.length){if(!Vr(t.segments,n)||!yu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!FE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Vr(t.segments,i)||!yu(t.segments,i,r)||!t.children[Z]?!1:LE(t.children[Z],e,o,r)}}function yu(t,e,n){return e.every((r,i)=>OE[n](t[i].parameters,r.parameters))}var tr=class{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gi(this.queryParams),this._queryParamMap}toString(){return MN.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vu(this)}},Lr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Gi(this.parameters),this._parameterMap}toString(){return UE(this)}};function RN(t,e){return Vr(t,e)&&t.every((n,r)=>sn(n.parameters,e[r].parameters))}function Vr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function xN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var gp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new wu,providedIn:"root"});let t=e;return t})(),wu=class{parse(e){let n=new zf(e);return new tr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ds(e.root,!0)}`,r=ON(e.queryParams),i=typeof e.fragment=="string"?`#${NN(e.fragment)}`:"";return`${n}${r}${i}`}},MN=new wu;function vu(t){return t.segments.map(e=>UE(e)).join("/")}function Ds(t,e){if(!t.hasChildren())return vu(t);if(e){let n=t.children[Z]?Ds(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Ds(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=xN(t,(r,i)=>i===Z?[Ds(t.children[Z],!1)]:[`${i}:${Ds(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${vu(t)}/${n[0]}`:`${vu(t)}/(${n.join("//")})`}}function VE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gu(t){return VE(t).replace(/%3B/gi,";")}function NN(t){return encodeURI(t)}function qf(t){return VE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _u(t){return decodeURIComponent(t)}function AE(t){return _u(t.replace(/\+/g,"%20"))}function UE(t){return`${qf(t.path)}${PN(t.parameters)}`}function PN(t){return Object.entries(t).map(([e,n])=>`;${qf(e)}=${qf(n)}`).join("")}function ON(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${gu(n)}=${gu(i)}`).join("&"):`${gu(n)}=${gu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var kN=/^[^\/()?;#]+/;function Vf(t){let e=t.match(kN);return e?e[0]:""}var FN=/^[^\/()?;=#]+/;function LN(t){let e=t.match(FN);return e?e[0]:""}var VN=/^[^=?&#]+/;function UN(t){let e=t.match(VN);return e?e[0]:""}var jN=/^[^&#]+/;function BN(t){let e=t.match(jN);return e?e[0]:""}var zf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new _e(e,n)),r}parseSegment(){let e=Vf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Lr(_u(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=LN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Vf(this.remaining);i&&(r=i,this.capture(r))}e[_u(n)]=_u(r)}parseQueryParam(e){let n=UN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=BN(this.remaining);s&&(r=s,this.capture(r))}let i=AE(n),o=AE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Z]:new _e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function jE(t){return t.segments.length>0?new _e([],{[Z]:t}):t}function BE(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=BE(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new _e(t.segments,e);return $N(n)}function $N(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new _e(t.segments.concat(e.segments),e.children)}return t}function Wi(t){return t instanceof tr}function HN(t,e,n=null,r=null){let i=$E(t);return HE(i,e,n,r)}function $E(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new _e(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=jE(r);return e??i}function HE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Uf(i,i,i,n,r);let o=qN(e);if(o.toRoot())return Uf(i,i,new _e([],{}),n,r);let s=zN(o,i,t),c=s.processChildren?Cs(s.segmentGroup,s.index,o.commands):zE(s.segmentGroup,s.index,o.commands);return Uf(i,s.segmentGroup,c,n,r)}function Iu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Rs(t){return typeof t=="object"&&t!=null&&t.outlets}function Uf(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=qE(t,e,n);let c=jE(BE(s));return new tr(c,o,i)}function qE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=qE(o,e,n)}),new _e(t.segments,r)}var Eu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Iu(r[0]))throw new H(4003,!1);let i=r.find(Rs);if(i&&i!==PE(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Eu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Eu(n,e,r)}var qi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function zN(t,e,n){if(t.isAbsolute)return new qi(e,!0,0);if(!n)return new qi(e,!1,NaN);if(n.parent===null)return new qi(n,!0,0);let r=Iu(t.commands[0])?0:1,i=n.segments.length-1+r;return GN(n,i,t.numberOfDoubleDots)}function GN(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new qi(r,!1,i-o)}function WN(t){return Rs(t[0])?t[0].outlets:{[Z]:t}}function zE(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return Cs(t,e,n);let r=KN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new _e(t.segments.slice(0,r.pathIndex),{});return o.children[Z]=new _e(t.segments.slice(r.pathIndex),t.children),Cs(o,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?Gf(t,e,n):r.match?Cs(t,0,i):Gf(t,e,n)}function Cs(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=WN(n),i={};if(Object.keys(r).some(o=>o!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let o=Cs(t.children[Z],e,n);return new _e(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=zE(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(t.segments,i)}}function KN(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(Rs(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!xE(u,l,s))return o;r+=2}else{if(!xE(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Rs(o)){let u=QN(o.outlets);return new _e(r,u)}if(i===0&&Iu(n[0])){let u=t.segments[e];r.push(new Lr(u.path,RE(n[0]))),i++;continue}let s=Rs(o)?o.outlets[Z]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Iu(c)?(r.push(new Lr(s,RE(c))),i+=2):(r.push(new Lr(s,{})),i++)}return new _e(r,{})}function QN(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Gf(new _e([],{}),0,r))}),e}function RE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function xE(t,e,n){return t==n.path&&sn(e,n.parameters)}var Ss="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),Nt=class{constructor(e,n){this.id=e,this.url=n}},xs=class extends Nt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ur=class extends Nt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Et=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Et||{}),Wf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wf||{}),nr=class extends Nt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},jr=class extends Nt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},Ms=class extends Nt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Du=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kf=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qf=class extends Nt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yf=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jf=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zf=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xf=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ep=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tp=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},np=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rp=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ns=class{},Ps=class{constructor(e){this.url=e}};var ip=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ru,this.attachRef=null}},Ru=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new ip,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=op(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=op(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sp(e,this._root).map(n=>n.value)}};function op(t,e){if(t===e.value)return e;for(let n of e.children){let r=op(t,n);if(r)return r}return null}function sp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sp(t,n);if(r.length)return r.unshift(e),r}return[]}var It=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Hi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var bu=class extends Tu{constructor(e,n){super(e),this.snapshot=n,yp(this,e)}toString(){return this.snapshot.toString()}};function GE(t){let e=YN(t),n=new Ge([new Lr("",{})]),r=new Ge({}),i=new Ge({}),o=new Ge({}),s=new Ge(""),c=new rr(n,r,o,s,i,Z,t,e.root);return c.snapshot=e.root,new bu(new It(c,[]),e)}function YN(t){let e={},n={},r={},i="",o=new Os([],e,r,i,n,Z,t,null,{});return new Cu("",new It(o,[]))}var rr=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ue(l=>l[Ls]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ue(e=>Gi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ue(e=>Gi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&KE(i)&&(r.resolve[Ls]=i.title),r}var Os=class{get title(){return this.data?.[Ls]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Cu=class extends Tu{constructor(e,n){super(n),this.url=e,yp(this,n)}toString(){return WE(this._root)}};function yp(t,e){e.value._routerState=t,e.children.forEach(n=>yp(t,n))}function WE(t){let e=t.children.length>0?` { ${t.children.map(WE).join(", ")} } `:"";return`${t.value}${e}`}function jf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),sn(e.params,n.params)||t.paramsSubject.next(n.params),bN(e.url,n.url)||t.urlSubject.next(n.url),sn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ap(t,e){let n=sn(t.params,e.params)&&RN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ap(t.parent,e.parent))}function KE(t){return typeof t.title=="string"||t.title===null}var vp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new jt,this.deactivateEvents=new jt,this.attachEvents=new jt,this.detachEvents=new jt,this.parentContexts=k(Ru),this.location=k(Li),this.changeDetector=k(Fr),this.environmentInjector=k(At),this.inputBinder=k(_p,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=r;let o=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new cp(r,u,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Oi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wc]});let t=e;return t})(),cp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===rr?this.route:e===Ru?this.childContexts:this.parent.get(e,n)}},_p=new J("");function JN(t,e,n){let r=ks(t,e._root,n?n._root:void 0);return new bu(r,e)}function ks(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=ZN(t,e,n);return new It(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>ks(t,c)),s}}let r=XN(e.value),i=e.children.map(o=>ks(t,o));return new It(r,i)}}function ZN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ks(t,r,i);return ks(t,r)})}function XN(t){return new rr(new Ge(t.url),new Ge(t.params),new Ge(t.queryParams),new Ge(t.fragment),new Ge(t.data),t.outlet,t.component,t)}var QE="ngNavigationCancelingError";function YE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Wi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JE(!1,Et.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function JE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[QE]=!0,n.cancellationCode=e,n}function eP(t){return ZE(t)&&Wi(t.url)}function ZE(t){return!!t&&t[QE]}var tP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["ng-component"]],standalone:!0,features:[He],decls:1,vars:0,template:function(i,o){i&1&&re(0,"router-outlet")},dependencies:[vp],encapsulation:2});let t=e;return t})();function nP(t,e){return t.providers&&!t._injector&&(t._injector=yf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function wp(t){let e=t.children&&t.children.map(wp),n=e?xe(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=tP),n}function an(t){return t.outlet||Z}function rP(t,e){let n=t.filter(r=>an(r)===e);return n.push(...t.filter(r=>an(r)!==e)),n}function Vs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var iP=(t,e,n,r)=>ue(i=>(new up(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),up=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),jf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Hi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Hi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new rp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new tp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(jf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),jf(c.route.value),this.activateChildRoutes(e,null,s.children)}else{let c=Vs(i.snapshot);s.attachRef=null,s.route=i,s.injector=c,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Su=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},zi=class{constructor(e,n){this.component=e,this.route=n}};function oP(t,e,n){let r=t._root,i=e?e._root:null;return Ts(r,i,n,[r.value])}function sP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Qi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!z_(t)?t:e.get(t):r}function Ts(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Hi(e);return t.children.forEach(s=>{aP(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>As(c,n.getContext(s),i)),i}function aP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=cP(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Su(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ts(t,e,c?c.children:null,r,i):Ts(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new zi(c.outlet.component,s))}else s&&As(e,c,i),i.canActivateChecks.push(new Su(r)),o.component?Ts(t,null,c?c.children:null,r,i):Ts(t,null,n,r,i);return i}function cP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Vr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vr(t.url,e.url)||!sn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ap(t,e)||!sn(t.queryParams,e.queryParams);case"paramsChange":default:return!ap(t,e)}}function As(t,e,n){let r=Hi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?As(s,e.children.getContext(o),n):As(s,null,n):As(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new zi(e.outlet.component,i)):n.canDeactivateChecks.push(new zi(null,i)):n.canDeactivateChecks.push(new zi(null,i))}function Us(t){return typeof t=="function"}function uP(t){return typeof t=="boolean"}function lP(t){return t&&Us(t.canLoad)}function dP(t){return t&&Us(t.canActivate)}function hP(t){return t&&Us(t.canActivateChild)}function fP(t){return t&&Us(t.canDeactivate)}function pP(t){return t&&Us(t.canMatch)}function XE(t){return t instanceof vn||t?.name==="EmptyError"}var mu=Symbol("INITIAL_VALUE");function Ki(){return Lt(t=>cc(t.map(e=>e.pipe(_n(1),Od(mu)))).pipe(ue(e=>{for(let n of e)if(n!==!0){if(n===mu)return mu;if(n===!1||n instanceof tr)return n}return!0}),Ft(e=>e!==mu),_n(1)))}function gP(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(xe(U({},n),{guardsResult:!0})):mP(s,r,i,t).pipe(Ve(c=>c&&uP(c)?yP(r,o,t,e):Q(c)),ue(c=>xe(U({},n),{guardsResult:c})))})}function mP(t,e,n,r){return Le(t).pipe(Ve(i=>EP(i.component,i.route,n,e,r)),Jt(i=>i!==!0,!0))}function yP(t,e,n,r){return Le(e).pipe(Ii(i=>wi(_P(i.route.parent,r),vP(i.route,r),IP(t,i.path,n),wP(t,i.route,n))),Jt(i=>i!==!0,!0))}function vP(t,e){return t!==null&&e&&e(new np(t)),Q(!0)}function _P(t,e){return t!==null&&e&&e(new ep(t)),Q(!0)}function wP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>uc(()=>{let s=Vs(e)??n,c=Qi(o,s),u=dP(c)?c.canActivate(e,t):Pr(s,()=>c(e,t));return ir(u).pipe(Jt())}));return Q(i).pipe(Ki())}function IP(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>sP(s)).filter(s=>s!==null).map(s=>uc(()=>{let c=s.guards.map(u=>{let l=Vs(s.node)??n,f=Qi(u,l),p=hP(f)?f.canActivateChild(r,t):Pr(l,()=>f(r,t));return ir(p).pipe(Jt())});return Q(c).pipe(Ki())}));return Q(o).pipe(Ki())}function EP(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(c=>{let u=Vs(e)??i,l=Qi(c,u),f=fP(l)?l.canDeactivate(t,e,n,r):Pr(u,()=>l(t,e,n,r));return ir(f).pipe(Jt())});return Q(s).pipe(Ki())}function DP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let c=Qi(s,t),u=lP(c)?c.canLoad(e,n):Pr(t,()=>c(e,n));return ir(u)});return Q(o).pipe(Ki(),eD(r))}function eD(t){return Id(Ue(e=>{if(Wi(e))throw YE(t,e)}),ue(e=>e===!0))}function TP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let c=Qi(s,t),u=pP(c)?c.canMatch(e,n):Pr(t,()=>c(e,n));return ir(u)});return Q(o).pipe(Ki(),eD(r))}var Fs=class{constructor(e){this.segmentGroup=e||null}},Au=class extends Error{constructor(e){super(),this.urlTree=e}};function $i(t){return _i(new Fs(t))}function bP(t){return _i(new H(4e3,!1))}function CP(t){return _i(JE(!1,Et.GuardRejected))}var lp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[Z])return bP(e.redirectTo);i=i.children[Z]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Au(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new tr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},dp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SP(t,e,n,r,i){let o=Ip(t,e,n);return o.matched?(r=nP(e,r),TP(r,e,n,i).pipe(ue(s=>s===!0?o:U({},dp)))):Q(o)}function Ip(t,e,n){if(e.path==="**")return AP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},dp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||TN)(n,t,e);if(!i)return U({},dp);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function AP(t){return{matched:!0,parameters:t.length>0?PE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ME(t,e,n,r){return n.length>0&&MP(t,n,r)?{segmentGroup:new _e(e,xP(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&NP(t,n,r)?{segmentGroup:new _e(t.segments,RP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function RP(t,e,n,r){let i={};for(let o of n)if(xu(t,e,o)&&!r[an(o)]){let s=new _e([],{});i[an(o)]=s}return U(U({},r),i)}function xP(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&an(r)!==Z){let i=new _e([],{});n[an(r)]=i}return n}function MP(t,e,n){return n.some(r=>xu(t,e,r)&&an(r)!==Z)}function NP(t,e,n){return n.some(r=>xu(t,e,r))}function xu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function PP(t,e,n,r){return an(t)!==r&&(r===Z||!xu(e,n,t))?!1:Ip(e,t,n).matched}function OP(t,e,n){return e.length===0&&!t.children[n]}var hp=class{};function kP(t,e,n,r,i,o,s="emptyOnly"){return new fp(t,e,n,r,i,s,o).recognize()}var FP=31,fp=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new lp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=ME(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ue(n=>{let r=new Os([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},Z,this.rootComponentType,null,{}),i=new It(r,n),o=new Cu("",i),s=HN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Z).pipe(qn(r=>{if(r instanceof Au)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fs?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=mp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ue(o=>o instanceof It?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Le(i).pipe(Ii(o=>{let s=r.children[o],c=rP(n,o);return this.processSegmentGroup(e,c,s,o)}),Pd((o,s)=>(o.push(...s),o)),zn(null),Nd(),Ve(o=>{if(o===null)return $i(r);let s=tD(o);return LP(s),Q(s)}))}processSegment(e,n,r,i,o,s){return Le(n).pipe(Ii(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s).pipe(qn(u=>{if(u instanceof Fs)return Q(null);throw u}))),Jt(c=>!!c),qn(c=>{if(XE(c))return OP(r,i,o)?Q(new hp):$i(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,c){return PP(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):$i(i):$i(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=Ip(n,i,o);if(!c)return $i(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FP&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ve(m=>this.processSegment(e,r,n,m.concat(f),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=SP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Lt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Lt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:m}=c,v=new Os(f,m,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,UP(r),an(r),r.component??r._loadedComponent??null,r,jP(r)),{segmentGroup:A,slicedSegments:R}=ME(n,f,p,u);if(R.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(ue(F=>F===null?null:new It(v,F)));if(u.length===0&&R.length===0)return Q(new It(v,[]));let M=an(r)===o;return this.processSegment(l,u,A,R,M?Z:o,!0).pipe(ue(F=>new It(v,F instanceof It?[F]:[])))}))):$i(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):DP(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):CP(n))):Q({routes:[],injector:e})}};function LP(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function VP(t){let e=t.value.routeConfig;return e&&e.path===""}function tD(t){let e=[],n=new Set;for(let r of t){if(!VP(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=tD(r.children);e.push(new It(r.value,i))}return e.filter(r=>!n.has(r))}function UP(t){return t.data||{}}function jP(t){return t.resolve||{}}function BP(t,e,n,r,i,o){return Ve(s=>kP(t,e,n,r,s.extractedUrl,i,o).pipe(ue(({state:c,tree:u})=>xe(U({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function $P(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of nD(u))s.add(l);let c=0;return Le(s).pipe(Ii(u=>o.has(u)?HP(u,r,t,e):(u.data=mp(u,u.parent,t).resolve,Q(void 0))),Ue(()=>c++),Ei(1),Ve(u=>c===s.size?Q(n):yt))})}function nD(t){let e=t.children.map(n=>nD(n)).flat();return[t,...e]}function HP(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!KE(i)&&(o[Ls]=i.title),qP(o,t,e,r).pipe(ue(s=>(t._resolvedData=s,t.data=mp(t,t.parent,n).resolve,null)))}function qP(t,e,n,r){let i=Hf(t);if(i.length===0)return Q({});let o={};return Le(i).pipe(Ve(s=>zP(t[s],e,n,r).pipe(Jt(),Ue(c=>{o[s]=c}))),Ei(1),Md(o),qn(s=>XE(s)?yt:_i(s)))}function zP(t,e,n,r){let i=Vs(e)??r,o=Qi(t,i),s=o.resolve?o.resolve(e,n):Pr(i,()=>o(e,n));return ir(s)}function Bf(t){return Lt(e=>{let n=t(e);return n?Le(n).pipe(ue(()=>e)):Q(e)})}var rD=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Z);return i}getResolvedTitleForRoute(r){return r.data[Ls]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(GP),providedIn:"root"});let t=e;return t})(),GP=(()=>{let e=class e extends rD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ne(CE))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ep=new J("",{providedIn:"root",factory:()=>({})}),Dp=new J(""),WP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(If)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ir(r.loadComponent()).pipe(ue(iD),Ue(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Go(()=>{this.componentLoaders.delete(r)})),o=new gi(i,()=>new ut).pipe(pi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=KP(i,this.compiler,r,this.onLoadEndListener).pipe(Go(()=>{this.childrenLoaders.delete(i)})),c=new gi(s,()=>new ut).pipe(pi());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KP(t,e,n,r){return ir(t.loadChildren()).pipe(ue(iD),Ve(i=>i instanceof os||Array.isArray(i)?Q(i):Le(e.compileModuleAsync(i))),ue(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Dp,[],{optional:!0,self:!0}).flat()),{routes:s.map(wp),injector:o}}))}function QP(t){return t&&typeof t=="object"&&"default"in t}function iD(t){return QP(t)?t.default:t}var Tp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(YP),providedIn:"root"});let t=e;return t})(),YP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JP=new J("");var ZP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=k(WP),this.environmentInjector=k(At),this.urlSerializer=k(gp),this.rootContexts=k(Ru),this.location=k(vs),this.inputBindingEnabled=k(_p,{optional:!0})!==null,this.titleStrategy=k(rD),this.options=k(Ep,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Tp),this.createViewTransition=k(JP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Zf(o)),i=o=>this.events.next(new Xf(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(xe(U(U({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ge({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ss,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ft(s=>s.id!==0),ue(s=>xe(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Lt(s=>{let c=!1,u=!1;return Q(s).pipe(Lt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Et.SupersededByNewNavigation),yt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?xe(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let m="";return this.events.next(new jr(l.id,this.urlSerializer.serialize(l.rawUrl),m,Wf.IgnoredSameUrlNavigation)),l.resolve(null),yt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Q(l).pipe(Lt(m=>{let v=this.transitions?.getValue();return this.events.next(new xs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?yt:Promise.resolve(m)}),BP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=xe(U({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Du(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:A,restoredState:R,extras:M}=l,F=new xs(m,this.urlSerializer.serialize(v),A,R);this.events.next(F);let z=GE(this.rootComponentType).snapshot;return this.currentTransition=s=xe(U({},l),{targetSnapshot:z,urlAfterRedirects:v,extras:xe(U({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,Q(s)}else{let m="";return this.events.next(new jr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Wf.IgnoredByUrlHandlingStrategy)),l.resolve(null),yt}}),Ue(l=>{let f=new Kf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),ue(l=>(this.currentTransition=s=xe(U({},l),{guards:oP(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),gP(this.environmentInjector,l=>this.events.next(l)),Ue(l=>{if(s.guardsResult=l.guardsResult,Wi(l.guardsResult))throw YE(this.urlSerializer,l.guardsResult);let f=new Qf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Ft(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Et.GuardRejected),!1)),Bf(l=>{if(l.guards.canActivateChecks.length)return Q(l).pipe(Ue(f=>{let p=new Yf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Lt(f=>{let p=!1;return Q(f).pipe($P(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",Et.NoDataFromResolver)}}))}),Ue(f=>{let p=new Jf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),Bf(l=>{let f=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ue(v=>{p.component=v}),ue(()=>{})));for(let v of p.children)m.push(...f(v));return m};return cc(f(l.targetSnapshot.root)).pipe(zn(null),_n(1))}),Bf(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:l,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?Le(p).pipe(ue(()=>s)):Q(s)}),ue(l=>{let f=JN(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=xe(U({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),Ue(()=>{this.events.next(new Ns)}),iP(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),_n(1),Ue({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ur(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),kd(this.transitionAbortSubject.pipe(Ue(l=>{throw l}))),Go(()=>{!c&&!u&&this.cancelNavigationTransition(s,"",Et.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),qn(l=>{if(u=!0,ZE(l))this.events.next(new nr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),eP(l)?this.events.next(new Ps(l.url)):s.resolve(!1);else{this.events.next(new Ms(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return yt}))}))}cancelNavigationTransition(r,i,o){let s=new nr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XP(t){return t!==Ss}var eO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(tO),providedIn:"root"});let t=e;return t})(),pp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},tO=(()=>{let e=class e extends pp{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Zh(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>k(nO),providedIn:"root"});let t=e;return t})(),nO=(()=>{let e=class e extends oD{constructor(){super(...arguments),this.location=k(vs),this.urlSerializer=k(gp),this.options=k(Ep,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Tp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new tr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof xs)this.stateMemento=this.createStateMemento();else if(r instanceof jr)this.rawUrlTree=i.initialUrl;else if(r instanceof Du){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Ns?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof nr&&(r.code===Et.GuardRejected||r.code===Et.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ms?this.restoreHistory(i,!0):r instanceof Ur&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,c=U(U({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",c)}else{let s=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Zh(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(bs||{});function rO(t,e){t.events.pipe(Ft(n=>n instanceof Ur||n instanceof nr||n instanceof Ms||n instanceof jr),ue(n=>n instanceof Ur||n instanceof jr?bs.COMPLETE:(n instanceof nr?n.code===Et.Redirect||n.code===Et.SupersededByNewNavigation:!1)?bs.REDIRECTING:bs.FAILED),Ft(n=>n!==bs.REDIRECTING),_n(1)).subscribe(()=>{e()})}function iO(t){throw t}var oO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Yi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(cu),this.stateManager=k(oD),this.options=k(Ep,{optional:!0})||{},this.pendingTasks=k(su),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(ZP),this.urlSerializer=k(gp),this.location=k(vs),this.urlHandlingStrategy=k(Tp),this._events=new ut,this.errorHandler=this.options.errorHandler||iO,this.navigated=!1,this.routeReuseStrategy=k(eO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Dp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(_p,{optional:!0}),this.eventsSubscription=new Me,this.isNgZoneEnabled=k(we)instanceof we&&we.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof nr&&i.code!==Et.Redirect&&i.code!==Et.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ur)this.navigated=!0;else if(i instanceof Ps){let c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||XP(o.source)};this.scheduleNavigation(c,Ss,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}cO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ss,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let l=U({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(wp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,p=null;switch(u){case"merge":p=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=o?o.snapshot:this.routerState.snapshot.root;m=$E(v)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return HE(m,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Wi(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ss,null,i)}navigate(r,i={skipLocationChange:!1}){return aO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=U({},oO):i===!1?o=U({},sO):o=i,Wi(r))return SE(this.currentUrlTree,r,o);let s=this.parseUrl(r);return SE(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return rO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function cO(t){return!(t instanceof Ns)&&!(t instanceof Ps)}var uO=new J("");function sD(t,...e){return on([{provide:Dp,multi:!0,useValue:t},[],{provide:rr,useFactory:lO,deps:[Yi]},{provide:wf,multi:!0,useFactory:hO},e.map(n=>n.\u0275providers)])}function lO(t){return t.routerState.root}function dO(t,e){return{\u0275kind:t,\u0275providers:e}}function hO(){let t=k(Wt);return e=>{let n=t.get(gs);if(e!==n.components[0])return;let r=t.get(Yi),i=t.get(fO);t.get(pO)===1&&r.initialNavigation(),t.get(gO,null,te.Optional)?.setUpPreloading(),t.get(uO,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fO=new J("",{factory:()=>new ut}),pO=new J("",{providedIn:"root",factory:()=>1});var gO=new J("");function aD(){return dO(6,[{provide:ji,useClass:lE}])}function mO(t,e){if(t&1&&re(0,"i",2),t&2){let n=hs();VI(n.iconClasses)}}var cD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["cw-button"]],inputs:{iconClasses:"iconClasses",text:"text"},standalone:!0,features:[He],decls:3,vars:2,consts:[["class","icon",3,"class",4,"ngIf"],[1,"text"],[1,"icon"]],template:function(i,o){i&1&&(er(0,mO,1,2,"i",0),V(1,"div",1),me(2),B()),i&2&&(tt("ngIf",o.iconClasses),$e(2),xt(o.text))},dependencies:[Kt,Bi],styles:['[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative;padding:1rem;color:var(--white-primary);gap:1rem}[_nghost-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}[_nghost-%COMP%]:hover:before{opacity:1}[_nghost-%COMP%]:hover{border-color:#000}[_nghost-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.icon[_ngcontent-%COMP%]{z-index:4}.text[_ngcontent-%COMP%]{z-index:4;transition:color .2s ease-in}']});let t=e;return t})();var uD=(()=>{let e=class e{constructor(){this.router=k(Yi)}showDesign(){this.router.navigate(["/design",this.design.id])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["cw-home-card"]],inputs:{design:"design"},standalone:!0,features:[He],decls:17,vars:8,consts:[["loading","lazy",1,"card",3,"click","src"],[1,"info",3,"click"],[1,"row","basic-info"],[1,"name"],[1,"price"],[1,"row","tags"],[1,"tag"],[1,"row","bottom"],[1,"click"],["iconClasses","fas fa-shopping-cart","text","Add to cart",3,"click"]],template:function(i,o){i&1&&(V(0,"img",0),Vi("click",function(){return o.showDesign()}),B(),V(1,"div",1),Vi("click",function(){return o.showDesign()}),V(2,"div",2)(3,"div",3),me(4),B(),V(5,"div",4),me(6),HI(7,"currency"),B()(),V(8,"div",5)(9,"div",6),me(10),B(),V(11,"div",6),me(12),B()(),V(13,"div",7)(14,"div",8),me(15,"(Click to show more information)"),B(),V(16,"cw-button",9),Vi("click",function(){return o.showDesign()}),B()()()),i&2&&(tt("src",o.design.image,oI),$e(4),xt(o.design.name),$e(2),xt(qI(7,5,o.design.price,"RSD")),$e(4),xt(o.design.category),$e(2),xt(o.design.type))},dependencies:[cD,Kt,mE],styles:["[_nghost-%COMP%]{width:100%;position:relative;transition:.2s ease;border-radius:.8rem}[_nghost-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}[_nghost-%COMP%]:hover   .info[_ngcontent-%COMP%]{height:max(13rem,30%);background-color:var(--white-primary)}.card[_ngcontent-%COMP%]{border-radius:.8rem;width:100%;overflow:hidden}.info[_ngcontent-%COMP%]{position:absolute;bottom:0;height:0px;background-color:var(--white-primary);width:100%;border-radius:.8rem;padding-inline:1rem;box-sizing:border-box;overflow:hidden;display:flex;flex-direction:column;transition:.4s ease-in-out}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.name[_ngcontent-%COMP%]{flex-grow:1;padding:5px}.basic-info[_ngcontent-%COMP%]{border-bottom:1px solid black;padding-bottom:5px;margin-top:2rem}.price[_ngcontent-%COMP%]{background:var(--gradient-primary);color:var(--white-primary);display:flex;justify-content:center;align-items:center;padding:5px;border-radius:5px}.tags[_ngcontent-%COMP%]{margin-top:5px;justify-content:start;gap:3px;font-family:var(--ff-secondary)}.tag[_ngcontent-%COMP%]{background-color:var(--clr-primary-700);padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-300);color:var(--white-primary)}.bottom[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:2rem}.click[_ngcontent-%COMP%]{color:var(--white-primary-transparent);font-family:var(--ff-secondary);opacity:.5;font-size:var(--fs-300)}"]});let t=e;return t})();var dD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},hD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(n[f],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Cp;let m=o<<2|c>>4;if(r.push(m),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Cp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vO=function(t){let e=dD(t);return hD.encodeByteArray(e,!0)},js=function(t){return vO(t).replace(/\./g,"")},Ap=function(t){try{return hD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _O(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var wO=()=>_O().__FIREBASE_DEFAULTS__,IO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ap(t[1]);return e&&JSON.parse(e)},Nu=()=>{try{return wO()||IO()||EO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fD=t=>{var e,n;return(n=(e=Nu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Pu=t=>{let e=fD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rp=()=>{var t;return(t=Nu())===null||t===void 0?void 0:t.config},pD=t=>{var e;return(e=Nu())===null||e===void 0?void 0:e[`_${t}`]};var Mu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function gD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[js(JSON.stringify(n)),js(JSON.stringify(s)),""].join(".")}function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function DO(){var t;let e=(t=Nu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _D(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wD(){return!DO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xp(){try{return typeof indexedDB=="object"}catch{return!1}}function ID(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var TO="FirebaseError",Dt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,An.prototype.create)}},An=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?bO(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Dt(i,c,r)}};function bO(t,e){return t.replace(CO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var CO=/\{\$([^}]+)}/g;function Ji(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(lD(o)&&lD(s)){if(!Ji(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function lD(t){return t!==null&&typeof t=="object"}function Mp(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ED(t,e){let n=new Sp(t,e);return n.subscribe.bind(n)}var Sp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bp),i.error===void 0&&(i.error=bp),i.complete===void 0&&(i.complete=bp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function SO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bp(){}var Zq=4*60*60*1e3;function lt(t){return t&&t._delegate?t._delegate:t}var pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Br="[DEFAULT]";var Np=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Mu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RO(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function AO(t){return t===Br?void 0:t}function RO(t){return t.instantiationMode==="EAGER"}var Ou=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Np(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var xO=[],ie=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ie||{}),MO={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},NO=ie.INFO,PO={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},OO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=PO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},or=class{constructor(e){this.name=e,this._logLevel=NO,this._logHandler=OO,this._userLogHandler=null,xO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};var kO=(t,e)=>e.some(n=>t instanceof n),DD,TD;function FO(){return DD||(DD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LO(){return TD||(TD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bD=new WeakMap,Op=new WeakMap,CD=new WeakMap,Pp=new WeakMap,Fp=new WeakMap;function VO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(cn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&bD.set(n,t)}).catch(()=>{}),Fp.set(e,t),e}function UO(t){if(Op.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Op.set(t,e)}var kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Op.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SD(t){kp=t(kp)}function jO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ku(this),e,...n);return CD.set(r,e.sort?e.sort():[e]),cn(r)}:LO().includes(t)?function(...e){return t.apply(ku(this),e),cn(bD.get(this))}:function(...e){return cn(t.apply(ku(this),e))}}function BO(t){return typeof t=="function"?jO(t):(t instanceof IDBTransaction&&UO(t),kO(t,FO())?new Proxy(t,kp):t)}function cn(t){if(t instanceof IDBRequest)return VO(t);if(Pp.has(t))return Pp.get(t);let e=BO(t);return e!==t&&(Pp.set(t,e),Fp.set(e,t)),e}var ku=t=>Fp.get(t);function RD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=cn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(cn(s.result),u.oldVersion,u.newVersion,cn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var $O=["get","getKey","getAll","getAllKeys","count"],HO=["put","add","delete","clear"],Lp=new Map;function AD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lp.get(e))return Lp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=HO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$O.includes(n)))return;let o=function(s,...c){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Lp.set(e,o),o}SD(t=>xe(U({},t),{get:(e,n,r)=>AD(e,n)||t.get(e,n,r),has:(e,n)=>!!AD(e,n)||t.has(e,n)}));var Up=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function qO(t){let e=t.getComponent();return e?.type==="VERSION"}var jp="@firebase/app",xD="0.10.11";var Rn=new or("@firebase/app"),zO="@firebase/app-compat",GO="@firebase/analytics-compat",WO="@firebase/analytics",KO="@firebase/app-check-compat",QO="@firebase/app-check",YO="@firebase/auth",JO="@firebase/auth-compat",ZO="@firebase/database",XO="@firebase/database-compat",ek="@firebase/functions",tk="@firebase/functions-compat",nk="@firebase/installations",rk="@firebase/installations-compat",ik="@firebase/messaging",ok="@firebase/messaging-compat",sk="@firebase/performance",ak="@firebase/performance-compat",ck="@firebase/remote-config",uk="@firebase/remote-config-compat",lk="@firebase/storage",dk="@firebase/storage-compat",hk="@firebase/firestore",fk="@firebase/vertexai-preview",pk="@firebase/firestore-compat",gk="firebase",mk="10.13.2";var Bp="[DEFAULT]",yk={[jp]:"fire-core",[zO]:"fire-core-compat",[WO]:"fire-analytics",[GO]:"fire-analytics-compat",[QO]:"fire-app-check",[KO]:"fire-app-check-compat",[YO]:"fire-auth",[JO]:"fire-auth-compat",[ZO]:"fire-rtdb",[XO]:"fire-rtdb-compat",[ek]:"fire-fn",[tk]:"fire-fn-compat",[nk]:"fire-iid",[rk]:"fire-iid-compat",[ik]:"fire-fcm",[ok]:"fire-fcm-compat",[sk]:"fire-perf",[ak]:"fire-perf-compat",[ck]:"fire-rc",[uk]:"fire-rc-compat",[lk]:"fire-gcs",[dk]:"fire-gcs-compat",[hk]:"fire-fst",[pk]:"fire-fst-compat",[fk]:"fire-vertex","fire-js":"fire-js",[gk]:"fire-js-all"};var Bs=new Map,vk=new Map,$p=new Map;function MD(t,e){try{t.container.addComponent(e)}catch(n){Rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function un(t){let e=t.name;if($p.has(e))return Rn.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,t);for(let n of Bs.values())MD(n,t);for(let n of vk.values())MD(n,t);return!0}function Hs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zi(t){return t.settings!==void 0}var _k={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new An("app","Firebase",_k);var Hp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}};var Xi=mk;function Gp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Bp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw sr.create("bad-app-name",{appName:String(i)});if(n||(n=Rp()),!n)throw sr.create("no-options");let o=Bs.get(i);if(o){if(Ji(n,o.options)&&Ji(r,o.config))return o;throw sr.create("duplicate-app",{appName:i})}let s=new Ou(i);for(let u of $p.values())s.addComponent(u);let c=new Hp(n,r,s);return Bs.set(i,c),c}function $r(t=Bp){let e=Bs.get(t);if(!e&&t===Bp&&Rp())return Gp();if(!e)throw sr.create("no-app",{appName:t});return e}function Fu(){return Array.from(Bs.values())}function Ae(t,e,n){var r;let i=(r=yk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rn.warn(c.join(" "));return}un(new pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var wk="firebase-heartbeat-database",Ik=1,$s="firebase-heartbeat-store",Vp=null;function kD(){return Vp||(Vp=RD(wk,Ik,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($s)}catch(n){console.warn(n)}}}}).catch(t=>{throw sr.create("idb-open",{originalErrorMessage:t.message})})),Vp}function Ek(t){return C(this,null,function*(){try{let n=(yield kD()).transaction($s),r=yield n.objectStore($s).get(FD(t));return yield n.done,r}catch(e){if(e instanceof Dt)Rn.warn(e.message);else{let n=sr.create("idb-get",{originalErrorMessage:e?.message});Rn.warn(n.message)}}})}function ND(t,e){return C(this,null,function*(){try{let r=(yield kD()).transaction($s,"readwrite");yield r.objectStore($s).put(e,FD(t)),yield r.done}catch(n){if(n instanceof Dt)Rn.warn(n.message);else{let r=sr.create("idb-set",{originalErrorMessage:n?.message});Rn.warn(r.message)}}})}function FD(t){return`${t.name}!${t.options.appId}`}var Dk=1024,Tk=30*24*60*60*1e3,qp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new zp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=PD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=Tk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Rn.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=PD(),{heartbeatsToSend:r,unsentEntries:i}=bk(this._heartbeatsCache.heartbeats),o=js(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Rn.warn(n),""}})}};function PD(){return new Date().toISOString().substring(0,10)}function bk(t,e=Dk){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),OD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),OD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var zp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return xp()?ID().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Ek(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ND(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ND(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function OD(t){return js(JSON.stringify({version:2,heartbeats:t})).length}function Ck(t){un(new pt("platform-logger",e=>new Up(e),"PRIVATE")),un(new pt("heartbeat",e=>new qp(e),"PRIVATE")),Ae(jp,xD,t),Ae(jp,xD,"esm2017"),Ae("fire-js","")}Ck("");var Sk="firebase",Ak="10.13.2";Ae(Sk,Ak,"app");var ar=new Yn("ANGULARFIRE2_VERSION");function qs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var zr=(t,e)=>{let n=e?[e]:Fu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},qr=class{constructor(){return zr(Rk)}},Rk="app-check";function eo(){}var Lu=class{zone;delegate;constructor(e,n=Sd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Wp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eo,{},eo,eo)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Gr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Lu(Zone.current)),this.insideAngular=n.run(()=>new Lu(Zone.current,Cd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ne(we))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function xk(t){return Vu().ngZone.runOutsideAngular(()=>t())}function Hr(t){return Vu().ngZone.run(()=>t())}function Mk(t){return Nk(Vu())(t)}function Nk(t){return function(n){return n=n.lift(new Wp(t.ngZone)),n.pipe(Hn(t.outsideAngular),$n(t.insideAngular))}}var Pk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Hr(()=>t.apply(void 0,r))},nt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Hr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eo,{},eo,eo))),r[o]=Pk(r[o],n));let i=xk(()=>t.apply(this,r));if(!e)if(i instanceof pe){let o=Vu();return i.pipe(Hn(o.outsideAngular),$n(o.insideAngular))}else return Hr(()=>i);return i instanceof pe?i.pipe(Mk):i instanceof Promise?Hr(()=>new Promise((o,s)=>i.then(c=>Hr(()=>o(c)),c=>Hr(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Hr(()=>i)};var xn=class{constructor(e){return e}},Wr=class{constructor(){return Fu()}};function Ok(t){return t&&t.length===1?t[0]:new xn($r())}var Kp=new J("angularfire2._apps"),kk={provide:xn,useFactory:Ok,deps:[[new et,Kp]]},Fk={provide:Wr,deps:[[new et,Kp]]};function Lk(t){return(e,n)=>{let r=n.get(Zn);Ae("angularfire",ar.full,"core"),Ae("angularfire",ar.full,"app"),Ae("angular",zI.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new xn(i)}}function LD(t,...e){return on([kk,Fk,{provide:Kp,useFactory:Lk(t),multi:!0,deps:[we,Wt,Gr,...e]}])}var VD=nt(Gp,!0);function GD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WD=GD,KD=new An("auth","Firebase",GD());var $u=new or("@firebase/auth");function Uk(t,...e){$u.logLevel<=ie.WARN&&$u.warn(`Auth (${Xi}): ${t}`,...e)}function ju(t,...e){$u.logLevel<=ie.ERROR&&$u.error(`Auth (${Xi}): ${t}`,...e)}function UD(t,...e){throw sg(t,...e)}function og(t,...e){return sg(t,...e)}function QD(t,e,n){let r=Object.assign(Object.assign({},WD()),{[e]:n});return new An("auth","Firebase",r).create(e,{appName:t.name})}function Bu(t){return QD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KD.create(t,...e)}function ye(t,e,...n){if(!t)throw sg(e,...n)}function zs(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ju(e),new Error(e)}function Hu(t,e){t||zs(e)}function jk(){return jD()==="http:"||jD()==="https:"}function jD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Bk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jk()||vD()||"connection"in navigator)?navigator.onLine:!0}function $k(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Qr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hu(n>e,"Short delay should be less than long delay!"),this.isMobile=mD()||_D()}get(){return Bk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Hk(t,e){Hu(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var qu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var qk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var zk=new Qr(3e4,6e4);function YD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ku(o,s,c,u){return C(this,arguments,function*(t,e,n,r,i={}){return JD(t,i,()=>C(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Mp(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:m},l);return yD()||(v.referrerPolicy="no-referrer"),qu.fetch()(ZD(t,t.config.apiHost,n,p),v)}))})}function JD(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},qk),e);try{let i=new Jp(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Uu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Uu(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Uu(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw QD(t,f,l);UD(t,f)}}catch(i){if(i instanceof Dt)throw i;UD(t,"network-request-failed",{message:String(i)})}})}function ZD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Hk(t.config,i):`${t.config.apiScheme}://${i}`}var Jp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(og(this.auth,"network-request-failed")),zk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Uu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=og(t,e,r);return i.customData._tokenResponse=n,i}function Gk(t,e){return C(this,null,function*(){return Ku(t,"POST","/v1/accounts:delete",e)})}function XD(t,e){return C(this,null,function*(){return Ku(t,"POST","/v1/accounts:lookup",e)})}function Gs(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ag(t,e=!1){return C(this,null,function*(){let n=lt(t),r=yield n.getIdToken(e),i=eT(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Gs(Qp(i.auth_time)),issuedAtTime:Gs(Qp(i.iat)),expirationTime:Gs(Qp(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Qp(t){return Number(t)*1e3}function eT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ju("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ap(n);return i?JSON.parse(i):(ju("Failed to decode base64 JWT payload"),null)}catch(i){return ju("Caught error parsing JWT payload as JSON",i?.toString()),null}}function BD(t){let e=eT(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Zp(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Dt&&Wk(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Wk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Xp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ks=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gs(this.lastLoginAt),this.creationTime=Gs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function zu(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Zp(t,XD(n,{idToken:r}));ye(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tT(o.providerUserInfo):[],c=Kk(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ks(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function cg(t){return C(this,null,function*(){let e=lt(t);yield zu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Kk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tT(t){return t.map(e=>{var{providerId:n}=e,r=Ad(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Qk(t,e){return C(this,null,function*(){let n=yield JD(t,{},()=>C(this,null,function*(){let r=Mp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=ZD(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",qu.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Yk(t,e){return C(this,null,function*(){return Ku(t,"POST","/v2/accounts:revokeToken",YD(t,e))})}var Ws=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");let n=BD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Qk(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ye(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return zs("not implemented")}};function cr(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Qs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ad(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ks(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield Zp(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ag(this,e)}reload(){return cg(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield zu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(Zi(this.auth.app))return Promise.reject(Bu(this.auth));let e=yield this.getIdToken();return yield Zp(this,Gk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,z=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:$,emailVerified:ee,isAnonymous:De,providerData:Y,stsTokenManager:E}=n;ye($&&E,e,"internal-error");let y=Ws.fromJSON(this.name,E);ye(typeof $=="string",e,"internal-error"),cr(p,e.name),cr(m,e.name),ye(typeof ee=="boolean",e,"internal-error"),ye(typeof De=="boolean",e,"internal-error"),cr(v,e.name),cr(A,e.name),cr(R,e.name),cr(M,e.name),cr(F,e.name),cr(z,e.name);let _=new t({uid:$,auth:e,email:m,emailVerified:ee,displayName:p,isAnonymous:De,photoURL:A,phoneNumber:v,tenantId:R,stsTokenManager:y,createdAt:F,lastLoginAt:z});return Y&&Array.isArray(Y)&&(_.providerData=Y.map(I=>Object.assign({},I))),M&&(_._redirectEventId=M),_}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new Ws;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zu(o),o})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];ye(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?tT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Ws;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ks(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var $D=new Map;function Kr(t){Hu(t instanceof Function,"Expected a class definition");let e=$D.get(t);return e?(Hu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$D.set(t,e),e)}var Jk=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),eg=Jk;function Yp(t,e,n){return`firebase:${t}:${e}:${n}`}var Gu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Yp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Yp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Qs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(Kr(eg),e,r);let i=(yield Promise.all(n.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Kr(eg),s=Yp(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let p=Qs._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>C(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function HD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r1(e))return"Blackberry";if(i1(e))return"Webos";if(Xk(e))return"Safari";if((e.includes("chrome/")||e1(e))&&!e.includes("edge/"))return"Chrome";if(n1(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Zk(t=Tt()){return/firefox\//i.test(t)}function Xk(t=Tt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e1(t=Tt()){return/crios\//i.test(t)}function t1(t=Tt()){return/iemobile/i.test(t)}function n1(t=Tt()){return/android/i.test(t)}function r1(t=Tt()){return/blackberry/i.test(t)}function i1(t=Tt()){return/webos/i.test(t)}function nT(t,e=[]){let n;switch(t){case"Browser":n=HD(Tt());break;case"Worker":n=`${HD(Tt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xi}/${r}`}var tg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function o1(n){return C(this,arguments,function*(t,e={}){return Ku(t,"GET","/v2/passwordPolicy",YD(t,e))})}var s1=6,ng=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:s1,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var rg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wu(this),this.idTokenSubscription=new Wu(this),this.beforeStateQueue=new tg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Gu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield XD(this,{idToken:e}),r=yield Qs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(Zi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield zu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=$k()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(Zi(this.app))return Promise.reject(Bu(this));let n=e?lt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return Zi(this.app)?Promise.reject(Bu(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Zi(this.app)?Promise.reject(Bu(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Kr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield o1(this),n=new ng(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new An("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Yk(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Kr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=yield Gu.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Uk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function a1(t){return lt(t)}var Wu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ED(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var c1={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u1(t){c1=t}function l1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function d1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Kr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Qz=l1("rcb"),Yz=new Qr(3e4,6e4);var Jz=new Qr(2e3,1e4);var Zz=10*60*1e3;var Xz=new Qr(3e4,6e4);var e4=new Qr(5e3,15e3);var t4=encodeURIComponent("fac");var qD="@firebase/auth",zD="1.7.9";var ig=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function h1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f1(t){un(new pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;ye(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nT(t)},l=new rg(r,i,o,u);return d1(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),un(new pt("auth-internal",e=>{let n=a1(e.getProvider("auth").getImmediate());return(r=>new ig(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ae(qD,zD,h1(t)),Ae(qD,zD,"esm2017")}var p1=5*60,n4=pD("authIdTokenMaxAge")||p1;function g1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}u1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=og("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",g1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f1("Browser");var pF="auth";var to=class{constructor(){return zr(pF)}};var rT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iT={};var ur,ug;(function(){var t;function e(E,y){function _(){}_.prototype=y.prototype,E.D=y.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(I,D,b){for(var w=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)w[gn-2]=arguments[gn];return y.prototype[D].apply(I,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,_){_||(_=0);var I=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)I[D]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(D=0;16>D;++D)I[D]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=E.g[0],_=E.g[1],D=E.g[2];var b=E.g[3],w=y+(b^_&(D^b))+I[0]+3614090360&4294967295;y=_+(w<<7&4294967295|w>>>25),w=b+(D^y&(_^D))+I[1]+3905402710&4294967295,b=y+(w<<12&4294967295|w>>>20),w=D+(_^b&(y^_))+I[2]+606105819&4294967295,D=b+(w<<17&4294967295|w>>>15),w=_+(y^D&(b^y))+I[3]+3250441966&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(b^_&(D^b))+I[4]+4118548399&4294967295,y=_+(w<<7&4294967295|w>>>25),w=b+(D^y&(_^D))+I[5]+1200080426&4294967295,b=y+(w<<12&4294967295|w>>>20),w=D+(_^b&(y^_))+I[6]+2821735955&4294967295,D=b+(w<<17&4294967295|w>>>15),w=_+(y^D&(b^y))+I[7]+4249261313&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(b^_&(D^b))+I[8]+1770035416&4294967295,y=_+(w<<7&4294967295|w>>>25),w=b+(D^y&(_^D))+I[9]+2336552879&4294967295,b=y+(w<<12&4294967295|w>>>20),w=D+(_^b&(y^_))+I[10]+4294925233&4294967295,D=b+(w<<17&4294967295|w>>>15),w=_+(y^D&(b^y))+I[11]+2304563134&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(b^_&(D^b))+I[12]+1804603682&4294967295,y=_+(w<<7&4294967295|w>>>25),w=b+(D^y&(_^D))+I[13]+4254626195&4294967295,b=y+(w<<12&4294967295|w>>>20),w=D+(_^b&(y^_))+I[14]+2792965006&4294967295,D=b+(w<<17&4294967295|w>>>15),w=_+(y^D&(b^y))+I[15]+1236535329&4294967295,_=D+(w<<22&4294967295|w>>>10),w=y+(D^b&(_^D))+I[1]+4129170786&4294967295,y=_+(w<<5&4294967295|w>>>27),w=b+(_^D&(y^_))+I[6]+3225465664&4294967295,b=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(b^y))+I[11]+643717713&4294967295,D=b+(w<<14&4294967295|w>>>18),w=_+(b^y&(D^b))+I[0]+3921069994&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^b&(_^D))+I[5]+3593408605&4294967295,y=_+(w<<5&4294967295|w>>>27),w=b+(_^D&(y^_))+I[10]+38016083&4294967295,b=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(b^y))+I[15]+3634488961&4294967295,D=b+(w<<14&4294967295|w>>>18),w=_+(b^y&(D^b))+I[4]+3889429448&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^b&(_^D))+I[9]+568446438&4294967295,y=_+(w<<5&4294967295|w>>>27),w=b+(_^D&(y^_))+I[14]+3275163606&4294967295,b=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(b^y))+I[3]+4107603335&4294967295,D=b+(w<<14&4294967295|w>>>18),w=_+(b^y&(D^b))+I[8]+1163531501&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(D^b&(_^D))+I[13]+2850285829&4294967295,y=_+(w<<5&4294967295|w>>>27),w=b+(_^D&(y^_))+I[2]+4243563512&4294967295,b=y+(w<<9&4294967295|w>>>23),w=D+(y^_&(b^y))+I[7]+1735328473&4294967295,D=b+(w<<14&4294967295|w>>>18),w=_+(b^y&(D^b))+I[12]+2368359562&4294967295,_=D+(w<<20&4294967295|w>>>12),w=y+(_^D^b)+I[5]+4294588738&4294967295,y=_+(w<<4&4294967295|w>>>28),w=b+(y^_^D)+I[8]+2272392833&4294967295,b=y+(w<<11&4294967295|w>>>21),w=D+(b^y^_)+I[11]+1839030562&4294967295,D=b+(w<<16&4294967295|w>>>16),w=_+(D^b^y)+I[14]+4259657740&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^b)+I[1]+2763975236&4294967295,y=_+(w<<4&4294967295|w>>>28),w=b+(y^_^D)+I[4]+1272893353&4294967295,b=y+(w<<11&4294967295|w>>>21),w=D+(b^y^_)+I[7]+4139469664&4294967295,D=b+(w<<16&4294967295|w>>>16),w=_+(D^b^y)+I[10]+3200236656&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^b)+I[13]+681279174&4294967295,y=_+(w<<4&4294967295|w>>>28),w=b+(y^_^D)+I[0]+3936430074&4294967295,b=y+(w<<11&4294967295|w>>>21),w=D+(b^y^_)+I[3]+3572445317&4294967295,D=b+(w<<16&4294967295|w>>>16),w=_+(D^b^y)+I[6]+76029189&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(_^D^b)+I[9]+3654602809&4294967295,y=_+(w<<4&4294967295|w>>>28),w=b+(y^_^D)+I[12]+3873151461&4294967295,b=y+(w<<11&4294967295|w>>>21),w=D+(b^y^_)+I[15]+530742520&4294967295,D=b+(w<<16&4294967295|w>>>16),w=_+(D^b^y)+I[2]+3299628645&4294967295,_=D+(w<<23&4294967295|w>>>9),w=y+(D^(_|~b))+I[0]+4096336452&4294967295,y=_+(w<<6&4294967295|w>>>26),w=b+(_^(y|~D))+I[7]+1126891415&4294967295,b=y+(w<<10&4294967295|w>>>22),w=D+(y^(b|~_))+I[14]+2878612391&4294967295,D=b+(w<<15&4294967295|w>>>17),w=_+(b^(D|~y))+I[5]+4237533241&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~b))+I[12]+1700485571&4294967295,y=_+(w<<6&4294967295|w>>>26),w=b+(_^(y|~D))+I[3]+2399980690&4294967295,b=y+(w<<10&4294967295|w>>>22),w=D+(y^(b|~_))+I[10]+4293915773&4294967295,D=b+(w<<15&4294967295|w>>>17),w=_+(b^(D|~y))+I[1]+2240044497&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~b))+I[8]+1873313359&4294967295,y=_+(w<<6&4294967295|w>>>26),w=b+(_^(y|~D))+I[15]+4264355552&4294967295,b=y+(w<<10&4294967295|w>>>22),w=D+(y^(b|~_))+I[6]+2734768916&4294967295,D=b+(w<<15&4294967295|w>>>17),w=_+(b^(D|~y))+I[13]+1309151649&4294967295,_=D+(w<<21&4294967295|w>>>11),w=y+(D^(_|~b))+I[4]+4149444226&4294967295,y=_+(w<<6&4294967295|w>>>26),w=b+(_^(y|~D))+I[11]+3174756917&4294967295,b=y+(w<<10&4294967295|w>>>22),w=D+(y^(b|~_))+I[2]+718787259&4294967295,D=b+(w<<15&4294967295|w>>>17),w=_+(b^(D|~y))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var _=y-this.blockSize,I=this.B,D=this.h,b=0;b<y;){if(D==0)for(;b<=_;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<y;)if(I[D++]=E.charCodeAt(b++),D==this.blockSize){i(this,I),D=0;break}}else for(;b<y;)if(I[D++]=E[b++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var _=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=_&255,_/=256;for(this.u(E),E=Array(16),y=_=0;4>y;++y)for(var I=0;32>I;I+=8)E[_++]=this.g[y]>>>I&255;return E};function o(E,y){var _=c;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=y(E)}function s(E,y){this.h=y;for(var _=[],I=!0,D=E.length-1;0<=D;D--){var b=E[D]|0;I&&b==y||(_[D]=b,I=!1)}this.g=_}var c={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return M(l(-E));for(var y=[],_=1,I=0;E>=_;I++)y[I]=E/_|0,_*=4294967296;return new s(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return M(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),I=p,D=0;D<E.length;D+=8){var b=Math.min(8,E.length-D),w=parseInt(E.substring(D,D+b),y);8>b?(b=l(Math.pow(y,b)),I=I.j(b).add(l(w))):(I=I.j(_),I=I.add(l(w)))}return I}var p=u(0),m=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-M(this).m();for(var E=0,y=1,_=0;_<this.g.length;_++){var I=this.i(_);E+=(0<=I?I:4294967296+I)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(R(this))return"-"+M(this).toString(E);for(var y=l(Math.pow(E,6)),_=this,I="";;){var D=ee(_,y).g;_=F(_,D.j(y));var b=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=D,A(_))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=F(this,E),R(E)?-1:A(E)?0:1};function M(E){for(var y=E.g.length,_=[],I=0;I<y;I++)_[I]=~E.g[I];return new s(_,~E.h).add(m)}t.abs=function(){return R(this)?M(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0,D=0;D<=y;D++){var b=I+(this.i(D)&65535)+(E.i(D)&65535),w=(b>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);I=w>>>16,b&=65535,w&=65535,_[D]=w<<16|b}return new s(_,_[_.length-1]&-2147483648?-1:0)};function F(E,y){return E.add(M(y))}t.j=function(E){if(A(this)||A(E))return p;if(R(this))return R(E)?M(this).j(M(E)):M(M(this).j(E));if(R(E))return M(this.j(M(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,_=[],I=0;I<2*y;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<E.g.length;D++){var b=this.i(I)>>>16,w=this.i(I)&65535,gn=E.i(D)>>>16,bo=E.i(D)&65535;_[2*I+2*D]+=w*bo,z(_,2*I+2*D),_[2*I+2*D+1]+=b*bo,z(_,2*I+2*D+1),_[2*I+2*D+1]+=w*gn,z(_,2*I+2*D+1),_[2*I+2*D+2]+=b*gn,z(_,2*I+2*D+2)}for(I=0;I<y;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=y;I<2*y;I++)_[I]=0;return new s(_,0)};function z(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function $(E,y){this.g=E,this.h=y}function ee(E,y){if(A(y))throw Error("division by zero");if(A(E))return new $(p,p);if(R(E))return y=ee(M(E),y),new $(M(y.g),M(y.h));if(R(y))return y=ee(E,M(y)),new $(M(y.g),y.h);if(30<E.g.length){if(R(E)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,I=y;0>=I.l(E);)_=De(_),I=De(I);var D=Y(_,1),b=Y(I,1);for(I=Y(I,2),_=Y(_,2);!A(I);){var w=b.add(I);0>=w.l(E)&&(D=D.add(_),b=w),I=Y(I,1),_=Y(_,1)}return y=F(E,D.j(y)),new $(D,y)}for(D=p;0<=E.l(y);){for(_=Math.max(1,Math.floor(E.m()/y.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=l(_),w=b.j(y);R(w)||0<w.l(E);)_-=I,b=l(_),w=b.j(y);A(b)&&(b=m),D=D.add(b),E=F(E,w)}return new $(D,E)}t.A=function(E){return ee(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0;I<y;I++)_[I]=this.i(I)&E.i(I);return new s(_,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0;I<y;I++)_[I]=this.i(I)|E.i(I);return new s(_,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0;I<y;I++)_[I]=this.i(I)^E.i(I);return new s(_,this.h^E.h)};function De(E){for(var y=E.g.length+1,_=[],I=0;I<y;I++)_[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(_,E.h)}function Y(E,y){var _=y>>5;y%=32;for(var I=E.g.length-_,D=[],b=0;b<I;b++)D[b]=0<y?E.i(b+_)>>>y|E.i(b+_+1)<<32-y:E.i(b+_);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ug=iT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,ur=iT.Integer=s}).apply(typeof rT<"u"?rT:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mn={};var lg,dg,no,hg,Ys,Yu,fg,pg,gg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in h))break e;h=h[T]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,T={next:function(){if(!g&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),a.apply(d,T)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,T,S){for(var P=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)P[Ie-2]=arguments[Ie];return d.prototype[T].apply(g,P)}}function R(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function M(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let T=a.length||0,S=g.length||0;a.length=T+S;for(let P=0;P<S;P++)a[T+P]=g[P]}else a.push(g)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(a){return/^[\s\xa0]*$/.test(a)}function $(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ee(a){return ee[" "](a),a}ee[" "]=function(){};var De=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Y(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function y(a){let d={};for(let h in a)d[h]=a[h];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(h in g)a[h]=g[h];for(let S=0;S<_.length;S++)h=_[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function D(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function w(){var a=Bl;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class gn{constructor(){this.h=this.g=null}add(d,h){let g=bo.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var bo=new F(()=>new vC,a=>a.reset());class vC{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Co,So=!1,Bl=new gn,Ey=()=>{let a=c.Promise.resolve(void 0);Co=()=>{a.then(_C)}};var _C=()=>{for(var a;a=w();){try{a.h.call(a.g)}catch(h){b(h)}var d=bo;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}So=!1};function Ln(){this.s=this.s,this.C=this.C}Ln.prototype.s=!1,Ln.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ln.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var wC=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Ao(a,d){if(Qe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(De){e:{try{ee(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:IC[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ao.aa.h.call(this)}}A(Ao,Qe);var IC={2:"touch",3:"pen",4:"mouse"};Ao.prototype.h=function(){Ao.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ro="closure_listenable_"+(1e6*Math.random()|0),EC=0;function DC(a,d,h,g,T){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=T,this.key=++EC,this.da=this.fa=!1}function Ca(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Sa(a){this.src=a,this.g={},this.h=0}Sa.prototype.add=function(a,d,h,g,T){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var P=Hl(a,d,g,T);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new DC(d,this.src,S,!!g,T),d.fa=h,a.push(d)),d};function $l(a,d){var h=d.type;if(h in a.g){var g=a.g[h],T=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=T)&&Array.prototype.splice.call(g,T,1),S&&(Ca(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Hl(a,d,h,g){for(var T=0;T<a.length;++T){var S=a[T];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return T}return-1}var ql="closure_lm_"+(1e6*Math.random()|0),zl={};function Dy(a,d,h,g,T){if(g&&g.once)return by(a,d,h,g,T);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Dy(a,d[S],h,g,T);return null}return h=Ql(h),a&&a[Ro]?a.K(d,h,l(g)?!!g.capture:!!g,T):Ty(a,d,h,!1,g,T)}function Ty(a,d,h,g,T,S){if(!d)throw Error("Invalid event type");var P=l(T)?!!T.capture:!!T,Ie=Wl(a);if(Ie||(a[ql]=Ie=new Sa(a)),h=Ie.add(d,h,g,P,S),h.proxy)return h;if(g=TC(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)wC||(T=P),T===void 0&&(T=!1),a.addEventListener(d.toString(),g,T);else if(a.attachEvent)a.attachEvent(Sy(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function TC(){function a(h){return d.call(a.src,a.listener,h)}let d=bC;return a}function by(a,d,h,g,T){if(Array.isArray(d)){for(var S=0;S<d.length;S++)by(a,d[S],h,g,T);return null}return h=Ql(h),a&&a[Ro]?a.L(d,h,l(g)?!!g.capture:!!g,T):Ty(a,d,h,!0,g,T)}function Cy(a,d,h,g,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)Cy(a,d[S],h,g,T);else g=l(g)?!!g.capture:!!g,h=Ql(h),a&&a[Ro]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=Hl(S,h,g,T),-1<h&&(Ca(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Wl(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Hl(d,h,g,T)),(h=-1<a?d[a]:null)&&Gl(h))}function Gl(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ro])$l(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(Sy(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Wl(d))?($l(h,a),h.h==0&&(h.src=null,d[ql]=null)):Ca(a)}}}function Sy(a){return a in zl?zl[a]:zl[a]="on"+a}function bC(a,d){if(a.da)a=!0;else{d=new Ao(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Gl(a),a=h.call(g,d)}return a}function Wl(a){return a=a[ql],a instanceof Sa?a:null}var Kl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ql(a){return typeof a=="function"?a:(a[Kl]||(a[Kl]=function(d){return a.handleEvent(d)}),a[Kl])}function Ye(){Ln.call(this),this.i=new Sa(this),this.M=this,this.F=null}A(Ye,Ln),Ye.prototype[Ro]=!0,Ye.prototype.removeEventListener=function(a,d,h,g){Cy(this,a,d,h,g)};function at(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Qe(d,a);else if(d instanceof Qe)d.target=d.target||a;else{var T=d;d=new Qe(g,a),I(d,T)}if(T=!0,h)for(var S=h.length-1;0<=S;S--){var P=d.g=h[S];T=Aa(P,g,!0,d)&&T}if(P=d.g=a,T=Aa(P,g,!0,d)&&T,T=Aa(P,g,!1,d)&&T,h)for(S=0;S<h.length;S++)P=d.g=h[S],T=Aa(P,g,!1,d)&&T}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Ca(h[g]);delete a.g[d],a.h--}}this.F=null},Ye.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Ye.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Aa(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,S=0;S<d.length;++S){var P=d[S];if(P&&!P.da&&P.capture==h){var Ie=P.listener,ze=P.ha||P.src;P.fa&&$l(a.i,P),T=Ie.call(ze,g)!==!1&&T}}return T&&!g.defaultPrevented}function Ay(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Ry(a){a.g=Ay(()=>{a.g=null,a.i&&(a.i=!1,Ry(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class CC extends Ln{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ry(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xo(a){Ln.call(this),this.h=a,this.g={}}A(xo,Ln);var xy=[];function My(a){Y(a.g,function(d,h){this.g.hasOwnProperty(h)&&Gl(d)},a),a.g={}}xo.prototype.N=function(){xo.aa.N.call(this),My(this)},xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yl=c.JSON.stringify,SC=c.JSON.parse,AC=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Jl(){}Jl.prototype.h=null;function Ny(a){return a.h||(a.h=a.i())}function Py(){}var Mo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zl(){Qe.call(this,"d")}A(Zl,Qe);function Xl(){Qe.call(this,"c")}A(Xl,Qe);var gr={},Oy=null;function Ra(){return Oy=Oy||new Ye}gr.La="serverreachability";function ky(a){Qe.call(this,gr.La,a)}A(ky,Qe);function No(a){let d=Ra();at(d,new ky(d))}gr.STAT_EVENT="statevent";function Fy(a,d){Qe.call(this,gr.STAT_EVENT,a),this.stat=d}A(Fy,Qe);function ct(a){let d=Ra();at(d,new Fy(d,a))}gr.Ma="timingevent";function Ly(a,d){Qe.call(this,gr.Ma,a),this.size=d}A(Ly,Qe);function Po(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Oo(){this.g=!0}Oo.prototype.xa=function(){this.g=!1};function RC(a,d,h,g,T,S){a.info(function(){if(a.g)if(S)for(var P="",Ie=S.split("&"),ze=0;ze<Ie.length;ze++){var fe=Ie[ze].split("=");if(1<fe.length){var Je=fe[0];fe=fe[1];var Ze=Je.split("_");P=2<=Ze.length&&Ze[1]=="type"?P+(Je+"="+fe+"&"):P+(Je+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+h+`
`+P})}function xC(a,d,h,g,T,S,P){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+h+`
`+S+" "+P})}function oi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+NC(a,h)+(g?" "+g:"")})}function MC(a,d){a.info(function(){return"TIMEOUT: "+d})}Oo.prototype.info=function(){};function NC(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<T.length;P++)T[P]=""}}}}return Yl(h)}catch{return d}}var xa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ed;function Ma(){}A(Ma,Jl),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},ed=new Ma;function Vn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new xo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uy}function Uy(){this.i=null,this.g="",this.h=!1}var jy={},td={};function nd(a,d,h){a.L=1,a.v=ka(mn(d)),a.m=h,a.P=!0,By(a,null)}function By(a,d){a.F=Date.now(),Na(a),a.A=mn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),tv(h.i,"t",g),a.C=0,h=a.j.J,a.h=new Uy,a.g=_v(a.j,h?d:null,!a.m),0<a.O&&(a.M=new CC(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(xy[0]=T.toString()),T=xy);for(var S=0;S<T.length;S++){var P=Dy(h,T[S],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),No(),RC(a.i,a.u,a.A,a.l,a.R,a.m)}Vn.prototype.ca=function(a){a=a.target;let d=this.M;d&&yn(a)==3?d.j():this.Y(a)},Vn.prototype.Y=function(a){try{if(a==this.g)e:{let Ze=yn(this.g);var d=this.g.Ba();let ci=this.g.Z();if(!(3>Ze)&&(Ze!=3||this.g&&(this.h.h||this.g.oa()||cv(this.g)))){this.J||Ze!=4||d==7||(d==8||0>=ci?No(3):No(2)),rd(this);var h=this.g.Z();this.X=h;t:if($y(this)){var g=cv(this.g);a="";var T=g.length,S=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mr(this),ko(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==T-1)});g.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,xC(this.i,this.u,this.A,this.l,this.R,Ze,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,ze=this.g;if((Ie=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ie)){var fe=Ie;break t}}fe=null}if(h=fe)oi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,id(this,h);else{this.o=!1,this.s=3,ct(12),mr(this),ko(this);break e}}if(this.P){h=!0;let Ot;for(;!this.J&&this.C<P.length;)if(Ot=PC(this,P),Ot==td){Ze==4&&(this.s=4,ct(14),h=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==jy){this.s=4,ct(15),oi(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else oi(this.i,this.l,Ot,null),id(this,Ot);if($y(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||P.length!=0||this.h.h||(this.s=1,ct(16),h=!1),this.o=this.o&&h,!h)oi(this.i,this.l,P,"[Invalid Chunked Response]"),mr(this),ko(this);else if(0<P.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),ld(Je),Je.M=!0,ct(11))}}else oi(this.i,this.l,P,null),id(this,P);Ze==4&&mr(this),this.o&&!this.J&&(Ze==4?gv(this.j,this):(this.o=!1,Na(this)))}else YC(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),mr(this),ko(this)}}}catch{}finally{}};function $y(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function PC(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?td:(h=Number(d.substring(h,g)),isNaN(h)?jy:(g+=1,g+h>d.length?td:(d=d.slice(g,g+h),a.C=g+h,d)))}Vn.prototype.cancel=function(){this.J=!0,mr(this)};function Na(a){a.S=Date.now()+a.I,Hy(a,a.I)}function Hy(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Po(m(a.ba,a),d)}function rd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Vn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(MC(this.i,this.A),this.L!=2&&(No(),ct(17)),mr(this),this.s=2,ko(this)):Hy(this,this.S-a)};function ko(a){a.j.G==0||a.J||gv(a.j,a)}function mr(a){rd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,My(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function id(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||od(h.h,a))){if(!a.K&&od(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)ja(h),Va(h);else break e;ud(h),ct(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Po(m(h.Za,h),6e3));if(1>=Gy(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else vr(h,11)}else if((a.K||h.g==a)&&ja(h),!z(d))for(T=h.Da.g.parse(d),d=0;d<T.length;d++){let fe=T[d];if(h.T=fe[0],fe=fe[1],h.G==2)if(fe[0]=="c"){h.K=fe[1],h.ia=fe[2];let Je=fe[3];Je!=null&&(h.la=Je,h.j.info("VER="+h.la));let Ze=fe[4];Ze!=null&&(h.Aa=Ze,h.j.info("SVER="+h.Aa));let ci=fe[5];ci!=null&&typeof ci=="number"&&0<ci&&(g=1.5*ci,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Ot=a.g;if(Ot){let $a=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($a){var S=g.h;S.g||$a.indexOf("spdy")==-1&&$a.indexOf("quic")==-1&&$a.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(sd(S,S.h),S.h=null))}if(g.D){let dd=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;dd&&(g.ya=dd,Te(g.I,g.D,dd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var P=a;if(g.qa=vv(g,g.J?g.ia:null,g.W),P.K){Wy(g.h,P);var Ie=P,ze=g.L;ze&&(Ie.I=ze),Ie.B&&(rd(Ie),Na(Ie)),g.g=P}else fv(g);0<h.i.length&&Ua(h)}else fe[0]!="stop"&&fe[0]!="close"||vr(h,7);else h.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?vr(h,7):cd(h):fe[0]!="noop"&&h.l&&h.l.ta(fe),h.v=0)}}No(4)}catch{}}var OC=class{constructor(a,d){this.g=a,this.map=d}};function qy(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zy(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Gy(a){return a.h?1:a.g?a.g.size:0}function od(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function sd(a,d){a.g?a.g.add(d):a.h=d}function Wy(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}qy.prototype.cancel=function(){if(this.i=Ky(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Ky(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return R(a.i)}function kC(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function FC(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function Qy(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=FC(a),g=kC(a),T=g.length,S=0;S<T;S++)d.call(void 0,g[S],h&&h[S],a)}var Yy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LC(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),T=null;if(0<=g){var S=a[h].substring(0,g);T=a[h].substring(g+1)}else S=a[h];d(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function yr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof yr){this.h=a.h,Pa(this,a.j),this.o=a.o,this.g=a.g,Oa(this,a.s),this.l=a.l;var d=a.i,h=new Vo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Jy(this,h),this.m=a.m}else a&&(d=String(a).match(Yy))?(this.h=!1,Pa(this,d[1]||"",!0),this.o=Fo(d[2]||""),this.g=Fo(d[3]||"",!0),Oa(this,d[4]),this.l=Fo(d[5]||"",!0),Jy(this,d[6]||"",!0),this.m=Fo(d[7]||"")):(this.h=!1,this.i=new Vo(null,this.h))}yr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Lo(d,Zy,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Lo(d,Zy,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Lo(h,h.charAt(0)=="/"?jC:UC,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Lo(h,$C)),a.join("")};function mn(a){return new yr(a)}function Pa(a,d,h){a.j=h?Fo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Oa(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Jy(a,d,h){d instanceof Vo?(a.i=d,HC(a.i,a.h)):(h||(d=Lo(d,BC)),a.i=new Vo(d,a.h))}function Te(a,d,h){a.i.set(d,h)}function ka(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Fo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Lo(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,VC),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function VC(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Zy=/[#\/\?@]/g,UC=/[#\?:]/g,jC=/[#\?]/g,BC=/[#\?@]/g,$C=/#/g;function Vo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Un(a){a.g||(a.g=new Map,a.h=0,a.i&&LC(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Vo.prototype,t.add=function(a,d){Un(this),this.i=null,a=si(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Xy(a,d){Un(a),d=si(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function ev(a,d){return Un(a),d=si(a,d),a.g.has(d)}t.forEach=function(a,d){Un(this),this.g.forEach(function(h,g){h.forEach(function(T){a.call(d,T,g,this)},this)},this)},t.na=function(){Un(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let T=a[g];for(let S=0;S<T.length;S++)h.push(d[g])}return h},t.V=function(a){Un(this);let d=[];if(typeof a=="string")ev(this,a)&&(d=d.concat(this.g.get(si(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Un(this),this.i=null,a=si(this,a),ev(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function tv(a,d,h){Xy(a,d),0<h.length&&(a.i=null,a.g.set(si(a,d),R(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var T=S;P[g]!==""&&(T+="="+encodeURIComponent(String(P[g]))),a.push(T)}}return this.i=a.join("&")};function si(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function HC(a,d){d&&!a.j&&(Un(a),a.i=null,a.g.forEach(function(h,g){var T=g.toLowerCase();g!=T&&(Xy(this,g),tv(this,T,h))},a)),a.j=d}function qC(a,d){let h=new Oo;if(c.Image){let g=new Image;g.onload=v(jn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=v(jn,h,"TestLoadImage: error",!1,d,g),g.onabort=v(jn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(jn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function zC(a,d){let h=new Oo,g=new AbortController,T=setTimeout(()=>{g.abort(),jn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(T),S.ok?jn(h,"TestPingServer: ok",!0,d):jn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),jn(h,"TestPingServer: error",!1,d)})}function jn(a,d,h,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(h)}catch{}}function GC(){this.g=new AC}function WC(a,d,h){let g=h||"";try{Qy(a,function(T,S){let P=T;l(T)&&(P=Yl(T)),d.push(g+S+"="+encodeURIComponent(P))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Uo(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Uo,Jl),Uo.prototype.g=function(){return new Fa(this.l,this.j)},Uo.prototype.i=function(a){return function(){return a}}({});function Fa(a,d){Ye.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Fa,Ye),t=Fa.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Bo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Bo(this)),this.g&&(this.readyState=3,Bo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function nv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?jo(this):Bo(this),this.readyState==3&&nv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,jo(this))},t.Qa=function(a){this.g&&(this.response=a,jo(this))},t.ga=function(){this.g&&jo(this)};function jo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Bo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Bo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function rv(a){let d="";return Y(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function ad(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=rv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Te(a,d,h))}function Re(a){Ye.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Re,Ye);var KC=/^https?$/i,QC=["POST","PUT"];t=Re.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ed.g(),this.v=this.o?Ny(this.o):Ny(ed),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){iv(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)h.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(QC,d,void 0))||g||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of h)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{av(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){iv(this,S)}};function iv(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,ov(a),La(a)}function ov(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),La(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),La(this,!0)),Re.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sv(this):this.bb())},t.bb=function(){sv(this)};function sv(a){if(a.h&&typeof s<"u"&&(!a.v[1]||yn(a)!=4||a.Z()!=2)){if(a.u&&yn(a)==4)Ay(a.Ea,0,a);else if(at(a,"readystatechange"),yn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=P===0){var T=String(a.D).match(Yy)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),g=!KC.test(T?T.toLowerCase():"")}h=g}if(h)at(a,"complete"),at(a,"success");else{a.m=6;try{var S=2<yn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",ov(a)}}finally{La(a)}}}}function La(a,d){if(a.g){av(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||at(a,"ready");try{h.onreadystatechange=g}catch{}}}function av(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function yn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),SC(d)}};function cv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function YC(a){let d={};a=(a.g&&2<=yn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(z(a[g]))continue;var h=D(a[g]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[T]||[];d[T]=S,S.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $o(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function uv(a){this.Aa=0,this.i=[],this.j=new Oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$o("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$o("baseRetryDelayMs",5e3,a),this.cb=$o("retryDelaySeedMs",1e4,a),this.Wa=$o("forwardChannelMaxRetries",2,a),this.wa=$o("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new qy(a&&a.concurrentRequestLimit),this.Da=new GC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uv.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){ct(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=vv(this,null,this.W),Ua(this)};function cd(a){if(lv(a),a.G==3){var d=a.U++,h=mn(a.I);if(Te(h,"SID",a.K),Te(h,"RID",d),Te(h,"TYPE","terminate"),Ho(a,h),d=new Vn(a,a.j,d),d.L=2,d.v=ka(mn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=_v(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Na(d)}yv(a)}function Va(a){a.g&&(ld(a),a.g.cancel(),a.g=null)}function lv(a){Va(a),a.u&&(c.clearTimeout(a.u),a.u=null),ja(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ua(a){if(!zy(a.h)&&!a.s){a.s=!0;var d=a.Ga;Co||Ey(),So||(Co(),So=!0),Bl.add(d,a),a.B=0}}function JC(a,d){return Gy(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Po(m(a.Ga,a,d),mv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new Vn(this,this.j,a),S=this.o;if(this.S&&(S?(S=y(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=hv(this,T,d),h=mn(this.I),Te(h,"RID",a),Te(h,"CVER",22),this.D&&Te(h,"X-HTTP-Session-Id",this.D),Ho(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(rv(S)))+"&"+d:this.m&&ad(h,this.m,S)),sd(this.h,T),this.Ua&&Te(h,"TYPE","init"),this.P?(Te(h,"$req",d),Te(h,"SID","null"),T.T=!0,nd(T,h,null)):nd(T,h,d),this.G=2}}else this.G==3&&(a?dv(this,a):this.i.length==0||zy(this.h)||dv(this))};function dv(a,d){var h;d?h=d.l:h=a.U++;let g=mn(a.I);Te(g,"SID",a.K),Te(g,"RID",h),Te(g,"AID",a.T),Ho(a,g),a.m&&a.o&&ad(g,a.m,a.o),h=new Vn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=hv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),sd(a.h,h),nd(h,g,d)}function Ho(a,d){a.H&&Y(a.H,function(h,g){Te(d,g,h)}),a.l&&Qy({},function(h,g){Te(d,g,h)})}function hv(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var T=a.i;let S=-1;for(;;){let P=["count="+h];S==-1?0<h?(S=T[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let Ie=!0;for(let ze=0;ze<h;ze++){let fe=T[ze].g,Je=T[ze].map;if(fe-=S,0>fe)S=Math.max(0,T[ze].g-100),Ie=!1;else try{WC(Je,P,"req"+fe+"_")}catch{g&&g(Je)}}if(Ie){g=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function fv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Co||Ey(),So||(Co(),So=!0),Bl.add(d,a),a.v=0}}function ud(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Po(m(a.Fa,a),mv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,pv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Po(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Va(this),pv(this))};function ld(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function pv(a){a.g=new Vn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=mn(a.qa);Te(d,"RID","rpc"),Te(d,"SID",a.K),Te(d,"AID",a.T),Te(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(d,"TO",a.ja),Te(d,"TYPE","xmlhttp"),Ho(a,d),a.m&&a.o&&ad(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=ka(mn(d)),h.m=null,h.P=!0,By(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Va(this),ud(this),ct(19))};function ja(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function gv(a,d){var h=null;if(a.g==d){ja(a),ld(a),a.g=null;var g=2}else if(od(a.h,d))h=d.D,Wy(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var T=a.B;g=Ra(),at(g,new Ly(g,h)),Ua(a)}else fv(a);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&JC(a,d)||g==2&&ud(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),T){case 1:vr(a,5);break;case 4:vr(a,10);break;case 3:vr(a,6);break;default:vr(a,2)}}}function mv(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function vr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let T=!g;g=new yr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Pa(g,"https"),ka(g),T?qC(g.toString(),h):zC(g.toString(),h)}else ct(2);a.G=0,a.l&&a.l.sa(d),yv(a),lv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function yv(a){if(a.G=0,a.ka=[],a.l){let d=Ky(a.h);(d.length!=0||a.i.length!=0)&&(M(a.ka,d),M(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function vv(a,d,h){var g=h instanceof yr?mn(h):new yr(h);if(g.g!="")d&&(g.g=d+"."+g.g),Oa(g,g.s);else{var T=c.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var S=new yr(null);g&&Pa(S,g),d&&(S.g=d),T&&Oa(S,T),h&&(S.l=h),g=S}return h=a.D,d=a.ya,h&&d&&Te(g,h,d),Te(g,"VER",a.la),Ho(a,g),g}function _v(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Re(new Uo({eb:h})):new Re(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wv(){}t=wv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ba(){}Ba.prototype.g=function(a,d){return new gt(a,d)};function gt(a,d){Ye.call(this),this.g=new uv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!z(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ai(this)}A(gt,Ye),gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gt.prototype.close=function(){cd(this.g)},gt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Yl(a),a=h);d.i.push(new OC(d.Ya++,a)),d.G==3&&Ua(d)},gt.prototype.N=function(){this.g.l=null,delete this.j,cd(this.g),delete this.g,gt.aa.N.call(this)};function Iv(a){Zl.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(Iv,Zl);function Ev(){Xl.call(this),this.status=1}A(Ev,Xl);function ai(a){this.g=a}A(ai,wv),ai.prototype.ua=function(){at(this.g,"a")},ai.prototype.ta=function(a){at(this.g,new Iv(a))},ai.prototype.sa=function(a){at(this.g,new Ev)},ai.prototype.ra=function(){at(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,gt.prototype.send=gt.prototype.o,gt.prototype.open=gt.prototype.m,gt.prototype.close=gt.prototype.close,gg=Mn.createWebChannelTransport=function(){return new Ba},pg=Mn.getStatEventTarget=function(){return Ra()},fg=Mn.Event=gr,Yu=Mn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,Ys=Mn.ErrorCode=xa,Vy.COMPLETE="complete",hg=Mn.EventType=Vy,Py.EventType=Mo,Mo.OPEN="a",Mo.CLOSE="b",Mo.ERROR="c",Mo.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,no=Mn.WebChannel=Py,dg=Mn.FetchXmlHttpFactory=Uo,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,lg=Mn.XhrIo=Re}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});var oT="@firebase/firestore";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var Do="10.13.2";var ei=new or("@firebase/firestore");function Js(){return ei.logLevel}function L(t,...e){if(ei.logLevel<=ie.DEBUG){let n=e.map(Zm);ei.debug(`Firestore (${Do}): ${t}`,...n)}}function Pn(t,...e){if(ei.logLevel<=ie.ERROR){let n=e.map(Zm);ei.error(`Firestore (${Do}): ${t}`,...n)}}function ho(t,...e){if(ei.logLevel<=ie.WARN){let n=e.map(Zm);ei.warn(`Firestore (${Do}): ${t}`,...n)}}function Zm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function K(t="Unexpected state"){let e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+t;throw Pn(e),new Error(e)}function Fe(t,e){t||K()}function de(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends Dt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var dn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var el=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ig=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}},Eg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Dg=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new el(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new qe(e)}},Tg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},bg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Tg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Cg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Sg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new Cg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function gF(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var tl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=gF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function fo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var it=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new O(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new it(0,0))}static max(){return new t(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var nl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Se=class t extends nl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},mF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pt=class t extends nl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return mF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new O(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new O(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new O(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var j=class t{constructor(e){this.path=e}static fromPath(e){return new t(Se.fromString(e))}static fromName(e){return new t(Se.fromString(e).popFirst(5))}static empty(){return new t(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Se(e.slice()))}};var Ag=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ag.UNKNOWN_ID=-1;function yF(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new ti(i,j.empty(),e)}function vF(t){return new ti(t.readTime,t.key,-1)}var ti=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(X.min(),j.empty(),-1)}static max(){return new t(X.max(),j.empty(),-1)}};function _F(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var wF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Xm(t){return C(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==wF)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function IF(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ia(t){return t.name==="IndexedDbTransactionError"}var VT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function xl(t){return t==null}function ra(t){return t===0&&1/t==-1/0}function EF(t){return typeof t=="number"&&Number.isInteger(t)&&!ra(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var DF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rG=[...DF,"documentOverlays"],TF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bF=TF,CF=[...bF,"indexConfiguration","indexState","indexEntries"];var iG=[...CF,"globals"];function sT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ea(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ne=class t{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new so(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new so(this.root,e,this.comparator,!1)}getReverseIterator(){return new so(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new so(this.root,e,this.comparator,!0)}},so=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},hn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,o){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ot=class t{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rl(this.data.getIterator())}getIteratorFrom(e){return new rl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},rl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Yr=class t{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ot(Pt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var il=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new il("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var SF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function On(t){if(Fe(!!t),typeof t=="string"){let e=0,n=SF.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dr(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}function Ml(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ey(t){let e=t.mapValue.fields.__previous_value__;return Ml(e)?ey(e):e}function ia(t){let e=On(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}var xg=class{constructor(e,n,r,i,o,s,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},ol=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ml(t)?4:BT(t)?9007199254740991:jT(t)?10:11:K()}function pn(t,e){if(t===e)return!0;let n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ia(t).isEqual(ia(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=On(i.timestampValue),c=On(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return dr(i.bytesValue).isEqual(dr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ce(i.geoPointValue.latitude)===Ce(o.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ce(i.integerValue)===Ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ce(i.doubleValue),c=Ce(o.doubleValue);return s===c?ra(s)===ra(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return fo(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(sT(s)!==sT(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!pn(s[u],c[u])))return!1;return!0}(t,e);default:return K()}}function oa(t,e){return(t.values||[]).find(n=>pn(n,e))!==void 0}function po(t,e){if(t===e)return 0;let n=ni(t),r=ni(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Ce(o.integerValue||o.doubleValue),u=Ce(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return aT(t.timestampValue,e.timestampValue);case 4:return aT(ia(t),ia(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(o,s){let c=dr(o),u=dr(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ve(c[l],u[l]);if(f!==0)return f}return ve(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=ve(Ce(o.latitude),Ce(s.latitude));return c!==0?c:ve(Ce(o.longitude),Ce(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cT(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},m=s.fields||{},v=(c=p.value)===null||c===void 0?void 0:c.arrayValue,A=(u=m.value)===null||u===void 0?void 0:u.arrayValue,R=ve(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:cT(v,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ju.mapValue&&s===Ju.mapValue)return 0;if(o===Ju.mapValue)return 1;if(s===Ju.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=ve(u[p],f[p]);if(m!==0)return m;let v=po(c[u[p]],l[f[p]]);if(v!==0)return v}return ve(u.length,f.length)}(t.mapValue,e.mapValue);default:throw K()}}function aT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=On(t),r=On(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function cT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=po(n[i],r[i]);if(o)return o}return ve(n.length,r.length)}function go(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=On(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Mg(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Mg(n.fields[s])}`;return i+"}"}(t.mapValue):K()}function sl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ng(t){return!!t&&"integerValue"in t}function ty(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function lT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mg(t){return!!t&&"mapValue"in t}function jT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Xs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xs(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Nn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xs(n)}setAll(e){let n=Pt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=Xs(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());mg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ea(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Xs(this.value))}};var Qt=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,X.min(),X.min(),X.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,X.min(),X.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,X.min(),X.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var hr=class{constructor(e,n){this.position=e,this.inclusive=n}};function dT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=j.comparator(j.fromName(s.referenceValue),n.key):r=po(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pn(t.position[n],e.position[n]))return!1;return!0}var ri=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function AF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var al=class{},ke=class t extends al{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Og(e,n,r):n==="array-contains"?new Lg(e,r):n==="in"?new Vg(e,r):n==="not-in"?new Ug(e,r):n==="array-contains-any"?new jg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kg(e,r):new Fg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(po(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yt=class t extends al{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return $T(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function $T(t){return t.op==="and"}function HT(t){return RF(t)&&$T(t)}function RF(t){for(let e of t.filters)if(e instanceof Yt)return!1;return!0}function Pg(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+go(t.value);if(HT(t))return t.filters.map(e=>Pg(e)).join(",");{let e=t.filters.map(n=>Pg(n)).join(",");return`${t.op}(${e})`}}function qT(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&pn(r.value,i.value)}(t,e):t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&qT(s,i.filters[c]),!0):!1}(t,e):void K()}function zT(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(t):t instanceof Yt?function(n){return n.op.toString()+" {"+n.getFilters().map(zT).join(" ,")+"}"}(t):"Filter"}var Og=class extends ke{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){let n=j.comparator(e.key,this.key);return this.matchesComparison(n)}},kg=class extends ke{constructor(e,n){super(e,"in",n),this.keys=GT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Fg=class extends ke{constructor(e,n){super(e,"not-in",n),this.keys=GT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function GT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}var Lg=class extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ty(n)&&oa(n.arrayValue,this.value)}},Vg=class extends ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&oa(this.value.arrayValue,n)}},Ug=class extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!oa(this.value.arrayValue,n)}},jg=class extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oa(this.value.arrayValue,r))}};var Bg=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function fT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Bg(t,e,n,r,i,o,s)}function ny(t){let e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),xl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.ue=n}return e.ue}function ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hT(t.startAt,e.startAt)&&hT(t.endAt,e.endAt)}function $g(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var kn=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function xF(t,e,n,r,i,o,s,c){return new kn(t,e,n,r,i,o,s,c)}function iy(t){return new kn(t)}function pT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oy(t){return t.collectionGroup!==null}function ao(t){let e=de(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new ot(Pt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ri(o,r))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new ri(Pt.keyField(),r))}return e.ce}function fn(t){let e=de(t);return e.le||(e.le=MF(e,ao(t))),e.le}function MF(t,e){if(t.limitType==="F")return fT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ri(i.field,o)});let n=t.endAt?new hr(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hr(t.startAt.position,t.startAt.inclusive):null;return fT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hg(t,e){let n=t.filters.concat([e]);return new kn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cl(t,e,n){return new kn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nl(t,e){return ry(fn(t),fn(e))&&t.limitType===e.limitType}function WT(t){return`${ny(fn(t))}|lt:${t.limitType}`}function ro(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zT(i)).join(", ")}]`),xl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>go(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>go(i)).join(",")),`Target(${r})`}(fn(t))}; limitType=${t.limitType})`}function Pl(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):j.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ao(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=dT(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,ao(r),i)||r.endAt&&!function(s,c,u){let l=dT(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,ao(r),i))}(t,e)}function NF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KT(t){return(e,n)=>{let r=!1;for(let i of ao(t)){let o=PF(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function PF(t,e,n){let r=t.field.isKeyField()?j.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?po(u,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var fr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return UT(this.inner)}size(){return this.innerSize}};var OF=new Ne(j.comparator);function pr(){return OF}var QT=new Ne(j.comparator);function Zs(...t){let e=QT;for(let n of t)e=e.insert(n.key,n);return e}function kF(t){let e=QT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return ea()}function YT(){return ea()}function ea(){return new fr(t=>t.toString(),(t,e)=>t.isEqual(e))}var sG=new Ne(j.comparator),FF=new ot(j.comparator);function he(...t){let e=FF;for(let n of t)e=e.add(n);return e}var LF=new ot(ve);function VF(){return LF}function sy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ra(e)?"-0":e}}function JT(t){return{integerValue:""+t}}function UF(t,e){return EF(e)?JT(e):sy(t,e)}var mo=class{constructor(){this._=void 0}};function jF(t,e,n){return t instanceof sa?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ml(o)&&(o=ey(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof yo?ZT(t,e):t instanceof vo?XT(t,e):function(i,o){let s=$F(i,o),c=gT(s)+gT(i.Pe);return Ng(s)&&Ng(i.Pe)?JT(c):sy(i.serializer,c)}(t,e)}function BF(t,e,n){return t instanceof yo?ZT(t,e):t instanceof vo?XT(t,e):n}function $F(t,e){return t instanceof aa?function(r){return Ng(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var sa=class extends mo{},yo=class extends mo{constructor(e){super(),this.elements=e}};function ZT(t,e){let n=eb(e);for(let r of t.elements)n.some(i=>pn(i,r))||n.push(r);return{arrayValue:{values:n}}}var vo=class extends mo{constructor(e){super(),this.elements=e}};function XT(t,e){let n=eb(e);for(let r of t.elements)n=n.filter(i=>!pn(i,r));return{arrayValue:{values:n}}}var aa=class extends mo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function gT(t){return Ce(t.integerValue||t.doubleValue)}function eb(t){return ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yo&&i instanceof yo||r instanceof vo&&i instanceof vo?fo(r.elements,i.elements,pn):r instanceof aa&&i instanceof aa?pn(r.Pe,i.Pe):r instanceof sa&&i instanceof sa}(t.transform,e.transform)}var ta=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ca=class{};function tb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qg(t.key,ta.none()):new ua(t.key,t.data,ta.none());{let n=t.data,r=Nn.empty(),i=new ot(Pt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new _o(t.key,r,new Yr(i.toArray()),ta.none())}}function qF(t,e,n){t instanceof ua?function(i,o,s){let c=i.value.clone(),u=yT(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof _o?function(i,o,s){if(!Xu(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=yT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(nb(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function na(t,e,n,r){return t instanceof ua?function(o,s,c,u){if(!Xu(o.precondition,s))return c;let l=o.value.clone(),f=vT(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof _o?function(o,s,c,u){if(!Xu(o.precondition,s))return c;let l=vT(o.fieldTransforms,u,s),f=s.data;return f.setAll(nb(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return Xu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function mT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fo(r,i,(o,s)=>HF(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ua=class extends ca{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},_o=class extends ca{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function nb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function yT(t,e,n){let r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,BF(s,c,n[i]))}return r}function vT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,jF(o,s,e))}return r}var qg=class extends ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var zg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&qF(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=na(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=na(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=YT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=tb(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,r)=>mT(n,r))&&fo(this.baseMutations,e.baseMutations,(n,r)=>mT(n,r))}};var Gg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Wg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Pe,le;function rb(t){if(t===void 0)return Pn("GRPC error has no .code"),x.UNKNOWN;switch(t){case Pe.OK:return x.OK;case Pe.CANCELLED:return x.CANCELLED;case Pe.UNKNOWN:return x.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return x.INTERNAL;case Pe.UNAVAILABLE:return x.UNAVAILABLE;case Pe.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Pe.NOT_FOUND:return x.NOT_FOUND;case Pe.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Pe.ABORTED:return x.ABORTED;case Pe.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Pe.DATA_LOSS:return x.DATA_LOSS;default:return K()}}(le=Pe||(Pe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var _T=null;function zF(){return new TextEncoder}var GF=new ur([4294967295,4294967295],0);function wT(t){let e=zF().encode(t),n=new ug;return n.update(e),new Uint8Array(n.digest())}function IT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ur([n,r],0),new ur([i,o],0)]}var Kg=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zr(`Invalid padding: ${n}`);if(r<0)throw new Zr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ur.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ur.fromNumber(r)));return i.compare(GF)===1&&(i=new ur([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=wT(e),[r,i]=IT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let n=wT(e),[r,i]=IT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Zr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ul=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,la.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(X.min(),i,new Ne(ve),pr(),he())}},la=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,he(),he(),he())}};var co=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},ll=class{constructor(e,n){this.targetId=e,this.me=n}},dl=class{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},hl=class{constructor(){this.fe=0,this.ge=DT(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=he(),n=he(),r=he();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new la(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=DT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Qg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=pr(),this.qe=ET(),this.Qe=new Ne(ve)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if($g(o))if(r===0){let s=new j(o.path);this.Ue(n,s,Qt.newNoDocument(s,X.min()))}else Fe(r===1);else{let s=this.Ye(n);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}_T?.et(function(f,p,m,v,A){var R,M,F,z,$,ee;let De={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Y=p.unchangedNames;return Y&&(De.bloomFilter={applied:A===0,hashCount:(R=Y?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(z=(F=(M=Y?.bits)===null||M===void 0?void 0:M.bitmap)===null||F===void 0?void 0:F.length)!==null&&z!==void 0?z:0,padding:(ee=($=Y?.bits)===null||$===void 0?void 0:$.padding)!==null&&ee!==void 0?ee:0,mightContain:E=>{var y;return(y=v?.mightContain(E))!==null&&y!==void 0&&y}}),De}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=dr(r).toUint8Array()}catch(u){if(u instanceof il)return ho("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Kg(s,i,o)}catch(u){return ho(u instanceof Zr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&$g(c.target)){let u=new j(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Qt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=he();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new ul(e,n,this.Qe,this.ke,r);return this.ke=pr(),this.qe=ET(),this.Qe=new Ne(ve),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new hl,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ot(ve),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function ET(){return new Ne(j.comparator)}function DT(){return new Ne(j.comparator)}var WF={asc:"ASCENDING",desc:"DESCENDING"},KF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QF={and:"AND",or:"OR"},Yg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Jg(t,e){return t.useProto3Json||xl(e)?e:{value:e}}function Zg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ib(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uo(t){return Fe(!!t),X.fromTimestamp(function(n){let r=On(n);return new it(r.seconds,r.nanos)}(t))}function ob(t,e){return Xg(t,e).canonicalString()}function Xg(t,e){let n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sb(t){let e=Se.fromString(t);return Fe(db(e)),e}function yg(t,e){let n=sb(e);if(n.get(1)!==t.databaseId.projectId)throw new O(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(cb(n))}function ab(t,e){return ob(t.databaseId,e)}function YF(t){let e=sb(t);return e.length===4?Se.emptyPath():cb(e)}function TT(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cb(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JF(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(Fe(f===void 0||typeof f=="string"),st.fromBase64String(f||"")):(Fe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),st.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?x.UNKNOWN:rb(l.code);return new O(f,l.message||"")}(s);n=new dl(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=yg(t,r.document.name),o=uo(r.document.updateTime),s=r.document.createTime?uo(r.document.createTime):X.min(),c=new Nn({mapValue:{fields:r.document.fields}}),u=Qt.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new co(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=yg(t,r.document),o=r.readTime?uo(r.readTime):X.min(),s=Qt.newNoDocument(i,o),c=r.removedTargetIds||[];n=new co([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=yg(t,r.document),o=r.removedTargetIds||[];n=new co([],o,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Wg(i,o),c=r.targetId;n=new ll(c,s)}}return n}function ZF(t,e){return{documents:[ab(t,e.path)]}}function XF(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ab(t,i);let o=function(l){if(l.length!==0)return lb(Yt.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(m){return{field:io(m.field),direction:nL(m.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Jg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function eL(t){let e=YF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fe(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let m=ub(p);return m instanceof Yt&&HT(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(A){return new ri(oo(A.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let c=null;n.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,xl(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new hr(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new hr(v,m)}(n.endAt)),xF(e,i,s,o,c,"F",u,l)}function tL(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ub(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=oo(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oo(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=oo(n.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=oo(n.unaryFilter.field);return ke.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(oo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yt.create(n.compositeFilter.filters.map(r=>ub(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function nL(t){return WF[t]}function rL(t){return KF[t]}function iL(t){return QF[t]}function io(t){return{fieldPath:t.canonicalString()}}function oo(t){return Pt.fromServerFormat(t.fieldPath)}function lb(t){return t instanceof ke?function(n){if(n.op==="=="){if(lT(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(uT(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lT(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(uT(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:rL(n.op),value:n.value}}}(t):t instanceof Yt?function(n){let r=n.getFilters().map(i=>lb(i));return r.length===1?r[0]:{compositeFilter:{op:iL(n.op),filters:r}}}(t):K()}function db(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var da=class t{constructor(e,n,r,i,o=X.min(),s=X.min(),c=st.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var em=class{constructor(e){this.ct=e}};function oL(t){let e=eL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cl(e,e.limit,"L"):e}var fl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ra(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=On(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(dr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?BT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):jT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):K()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ce(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),j.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};fl.vt=new fl;var tm=class{constructor(){this.un=new nm}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(ti.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},nm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ot(Se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Se.comparator)).toArray()}};var aG=new Uint8Array(0);var ln=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var ha=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var rm=class{constructor(){this.changes=new fr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var im=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var om=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&na(r.mutation,i,Yr.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){let i=Jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Zs();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=pr(),s=ea(),c=function(){return ea()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof _o)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),na(f.mutation,l,f.mutation.getFieldMask(),it.now())):s.set(l.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new im(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=ea(),i=new Ne((s,c)=>s-c),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||Yr.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||he()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=YT();f.forEach(m=>{if(!o.has(m)){let v=tb(n.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return j.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(Jr()),c=-1,u=o;return s.next(l=>N.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,he())).next(f=>({batchId:c,changes:kF(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=Zs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Zs();return this.indexManager.getCollectionParents(e,o).next(c=>N.forEach(c,u=>{let l=function(p,m){return new kn(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Qt.newInvalidDocument(f)))});let c=Zs();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&na(f.mutation,l,Yr.empty(),it.now()),Pl(n,l)&&(c=c.insert(u,l))}),c})}};var sm=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:uo(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:oL(i.bundledQuery),readTime:uo(i.readTime)}}(n)),N.resolve()}};var am=class{constructor(){this.overlays=new Ne(j.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Jr();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=Jr(),o=n.length+1,s=new j(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ne((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Jr(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Jr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return N.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Gg(n,r));let o=this.Ir.get(n);o===void 0&&(o=he(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var cm=class{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var fa=class{constructor(){this.Tr=new ot(Oe.Er),this.dr=new ot(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Oe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new j(new Se([])),r=new Oe(n,e),i=new Oe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new j(new Se([])),r=new Oe(n,e),i=new Oe(n,e+1),o=he();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Oe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return j.comparator(e.key,n.key)||ve(e.wr,n.wr)}static Ar(e,n){return ve(e.wr,n.wr)||j.comparator(e.key,n.key)}};var um=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ot(Oe.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new zg(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Oe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(ve);return n.forEach(i=>{let o=new Oe(i,0),s=new Oe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;j.isDocumentKey(o)||(o=o.child(""));let s=new Oe(new j(o),0),c=new ot(ve);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),N.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let o=new Oe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Oe(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var lm=class{constructor(e){this.Mr=e,this.docs=function(){return new Ne(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=pr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=pr(),s=n.path,c=new j(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||_F(vF(f),r)<=0||(i.has(f.key)||Pl(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){K()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dm(this)}getSize(e){return N.resolve(this.size)}},dm=class extends rm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var hm=class{constructor(e){this.persistence=e,this.Nr=new fr(n=>ny(n),ry),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fa,this.targetCount=0,this.kr=ha.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ha(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var fm=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new VT(0),this.Kr=!1,this.Kr=!0,this.$r=new cm,this.referenceDelegate=e(this),this.Ur=new hm(this),this.indexManager=new tm,this.remoteDocumentCache=function(i){return new lm(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new em(n),this.Gr=new sm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new am,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new um(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new pm(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},pm=class extends Rg{constructor(e){super(),this.currentSequenceNumber=e}},gm=class t{constructor(e){this.persistence=e,this.Jr=new fa,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw K()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=j.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var mm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=he(),i=he();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var ym=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vm=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return wD()?8:IF(Tt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new ym;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Js()<=ie.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(Js()<=ie.DEBUG&&L("QueryEngine","Query:",ro(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Js()<=ie.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(n))):N.resolve())}Yi(e,n){if(pT(n))return N.resolve(null);let r=fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cl(n,null,"F"),r=fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=he(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,s,u.readTime)?this.Yi(e,cl(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return pT(n)||i.isEqual(X.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?N.resolve(null):(Js()<=ie.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ro(n)),this.rs(e,s,n,yF(i,-1)).next(c=>c))})}ts(e,n){let r=new ot(KT(e));return n.forEach((i,o)=>{Pl(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Js()<=ie.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",ro(n)),this.Ji.getDocumentsMatchingQuery(e,n,ti.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var _m=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ne(ve),this._s=new fr(o=>ny(o),ry),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new om(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function sL(t,e,n,r){return new _m(t,e,n,r)}function hb(t,e){return C(this,null,function*(){let n=de(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=he();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function fb(t){let e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function aL(t,e){let n=de(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(st.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),function(R,M,F){return R.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,f)&&c.push(n.Ur.updateTargetData(o,v))});let u=pr(),l=he();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(cL(o,s,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(X.min())){let f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return N.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function cL(t,e,n){let r=he(),i=he();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=pr();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function uL(t,e){let n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new da(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function wm(t,e,n){return C(this,null,function*(){let r=de(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ia(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function bT(t,e,n){let r=de(t),i=X.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=de(u),m=p._s.get(f);return m!==void 0?N.resolve(p.os.get(m)):p.Ur.getTargetData(l,f)}(r,s,fn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:he())).next(c=>(lL(r,NF(e),c),{documents:c,Ts:o})))}function lL(t,e,n){let r=t.us.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var pl=class{constructor(){this.activeTargetIds=VF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Im=class{constructor(){this.so=new pl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new pl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Em=class{_o(e){}shutdown(){}};var gl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zu=null;function vg(){return Zu===null?Zu=function(){return 268435456+Math.round(2147483648*Math.random())}():Zu++,"0x"+Zu.toString(16)}var dL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Dm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var rt="WebChannelConnection",Tm=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=vg(),u=this.xo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(f=>(L("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw ho("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=dL[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=vg();return new Promise((s,c)=>{let u=new lg;u.setWithCredentials(!0),u.listenOnce(hg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ys.NO_ERROR:let f=u.getResponseJson();L(rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Ys.TIMEOUT:L(rt,`RPC '${e}' ${o} timed out`),c(new O(x.DEADLINE_EXCEEDED,"Request time out"));break;case Ys.HTTP_ERROR:let p=u.getStatus();if(L(rt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let A=function(M){let F=M.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(F)>=0?F:x.UNKNOWN}(v.status);c(new O(A,v.message))}else c(new O(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new O(x.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{L(rt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);L(rt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=vg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gg(),c=pg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new dg({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");L(rt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u),m=!1,v=!1,A=new Dm({Io:M=>{v?L(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(L(rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(rt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},To:()=>p.close()}),R=(M,F,z)=>{M.listen(F,$=>{try{z($)}catch(ee){setTimeout(()=>{throw ee},0)}})};return R(p,no.EventType.OPEN,()=>{v||(L(rt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),R(p,no.EventType.CLOSE,()=>{v||(v=!0,L(rt,`RPC '${e}' stream ${i} transport closed`),A.So())}),R(p,no.EventType.ERROR,M=>{v||(v=!0,ho(rt,`RPC '${e}' stream ${i} transport errored:`,M),A.So(new O(x.UNAVAILABLE,"The operation could not be completed")))}),R(p,no.EventType.MESSAGE,M=>{var F;if(!v){let z=M.data[0];Fe(!!z);let $=z,ee=$.error||((F=$[0])===null||F===void 0?void 0:F.error);if(ee){L(rt,`RPC '${e}' stream ${i} received error:`,ee);let De=ee.status,Y=function(_){let I=Pe[_];if(I!==void 0)return rb(I)}(De),E=ee.message;Y===void 0&&(Y=x.INTERNAL,E="Unknown error status: "+De+" with message "+ee.message),v=!0,A.So(new O(Y,E)),p.close()}else L(rt,`RPC '${e}' stream ${i} received:`,z),A.bo(z)}}),R(c,fg.STAT_EVENT,M=>{M.stat===Yu.PROXY?L(rt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Yu.NOPROXY&&L(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function _g(){return typeof document<"u"?document:null}function Ol(t){return new Yg(t,!0)}var ml=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var bm=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ml(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new O(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Cm=class extends bm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=JF(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?uo(s.readTime):X.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=TT(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=$g(u)?{documents:ZF(o,u)}:{query:XF(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=ib(o,s.resumeToken);let l=Jg(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(X.min())>0){c.readTime=Zg(o,s.snapshotVersion.toTimestamp());let l=Jg(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=tL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=TT(this.serializer),n.removeTarget=e,this.a_(n)}};var Sm=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new O(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Xg(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(x.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,Xg(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(x.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Am=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pn(n),this.D_=!1):L("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Rm=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>C(this,null,function*(){Ta(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let l=de(u);l.L_.add(4),yield Da(l),l.q_.set("Unknown"),l.L_.delete(4),yield kl(l)})}(this))}))}),this.q_=new Am(r,i)}};function kl(t){return C(this,null,function*(){if(Ta(t))for(let e of t.B_)yield e(!0)})}function Da(t){return C(this,null,function*(){for(let e of t.B_)yield e(!1)})}function pb(t,e){let n=de(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ly(n)?uy(n):To(n).r_()&&cy(n,e))}function ay(t,e){let n=de(t),r=To(n);n.N_.delete(e),r.r_()&&gb(n,e),n.N_.size===0&&(r.r_()?r.o_():Ta(n)&&n.q_.set("Unknown"))}function cy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).A_(e)}function gb(t,e){t.Q_.xe(e),To(t).R_(e)}function uy(t){t.Q_=new Qg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),To(t).start(),t.q_.v_()}function ly(t){return Ta(t)&&!To(t).n_()&&t.N_.size>0}function Ta(t){return de(t).L_.size===0}function mb(t){t.Q_=void 0}function hL(t){return C(this,null,function*(){t.q_.set("Online")})}function fL(t){return C(this,null,function*(){t.N_.forEach((e,n)=>{cy(t,e)})})}function pL(t,e){return C(this,null,function*(){mb(t),ly(t)?(t.q_.M_(e),uy(t)):t.q_.set("Unknown")})}function gL(t,e,n){return C(this,null,function*(){if(t.q_.set("Online"),e instanceof dl&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield CT(t,r)}else if(e instanceof co?t.Q_.Ke(e):e instanceof ll?t.Q_.He(e):t.Q_.We(e),!n.isEqual(X.min()))try{let r=yield fb(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(st.EMPTY_BYTE_STRING,f.snapshotVersion)),gb(o,u);let p=new da(f.target,u,l,f.sequenceNumber);cy(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield CT(t,r)}})}function CT(t,e,n){return C(this,null,function*(){if(!Ia(e))throw e;t.L_.add(1),yield Da(t),t.q_.set("Offline"),n||(n=()=>fb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield kl(t)}))})}function ST(t,e){return C(this,null,function*(){let n=de(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=Ta(n);n.L_.add(3),yield Da(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield kl(n)})}function mL(t,e){return C(this,null,function*(){let n=de(t);e?(n.L_.delete(2),yield kl(n)):e||(n.L_.add(2),yield Da(n),n.q_.set("Unknown"))})}function To(t){return t.K_||(t.K_=function(n,r,i){let o=de(n);return o.w_(),new Cm(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:hL.bind(null,t),Ro:fL.bind(null,t),mo:pL.bind(null,t),d_:gL.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.K_.s_(),ly(t)?uy(t):t.q_.set("Unknown")):(yield t.K_.stop(),mb(t))}))),t.K_}var xm=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function yb(t,e){if(Pn("AsyncQueue",`${e}: ${t}`),Ia(t))return new O(x.UNAVAILABLE,`${e}: ${t}`);throw t}var yl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=Zs(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var vl=class{constructor(){this.W_=new Ne(j.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):K():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},wo=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,yl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Mm=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Nm=class{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=de(n),o=i.queries;i.queries=AT(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new O(x.ABORTED,"Firestore shutting down"))}};function AT(){return new fr(t=>WT(t),Nl)}function vb(t,e){return C(this,null,function*(){let n=de(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Mm,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=yb(s,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&dy(n)})}function _b(t,e){return C(this,null,function*(){let n=de(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function yL(t,e){let n=de(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&dy(n)}function vL(t,e,n){let r=de(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function dy(t){t.Y_.forEach(e=>{e.next()})}var Pm,RT;(RT=Pm||(Pm={})).ea="default",RT.Cache="cache";var _l=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Pm.Cache}};var wl=class{constructor(e){this.key=e}},Il=class{constructor(e){this.key=e}},Om=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=he(),this.mutatedKeys=he(),this.Aa=KT(e),this.Ra=new yl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new vl,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),v=Pl(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),M=!1;m&&v?m.data.isEqual(v.data)?A!==R&&(r.track({type:3,doc:v}),M=!0):this.ga(m,v)||(r.track({type:2,doc:v}),M=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(c=!0)):!m&&v?(r.track({type:0,doc:v}),M=!0):m&&!v&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(c=!0)),M&&(v?(s=s.add(v),o=R?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(v,A){let R=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return R(v)-R(A)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new wo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=he(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Il(r))}),this.da.forEach(r=>{e.has(r)||n.push(new wl(r))}),n}ba(e){this.Ta=e.Ts,this.da=he();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return wo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},km=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Fm=class{constructor(e){this.key=e,this.va=!1}},Lm=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new fr(c=>WT(c),Nl),this.Ma=new Map,this.xa=new Set,this.Oa=new Ne(j.comparator),this.Na=new Map,this.La=new fa,this.Ba={},this.ka=new Map,this.qa=ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function _L(t,e,n=!0){return C(this,null,function*(){let r=Tb(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield wb(r,e,n,!0),i})}function wL(t,e){return C(this,null,function*(){let n=Tb(t);yield wb(n,e,!0,!1)})}function wb(t,e,n,r){return C(this,null,function*(){let i=yield uL(t.localStore,fn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield IL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&pb(t.remoteStore,i),c})}function IL(t,e,n,r,i){return C(this,null,function*(){t.Ka=(p,m,v)=>function(R,M,F,z){return C(this,null,function*(){let $=M.view.ma(F);$.ns&&($=yield bT(R.localStore,M.query,!1).then(({documents:E})=>M.view.ma(E,$)));let ee=z&&z.targetChanges.get(M.targetId),De=z&&z.targetMismatches.get(M.targetId)!=null,Y=M.view.applyChanges($,R.isPrimaryClient,ee,De);return MT(R,M.targetId,Y.wa),Y.snapshot})}(t,p,m,v);let o=yield bT(t.localStore,e,!0),s=new Om(e,o.Ts),c=s.ma(o.documents),u=la.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);MT(t,n,l.wa);let f=new km(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function EL(t,e,n){return C(this,null,function*(){let r=de(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Nl(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield wm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ay(r.remoteStore,i.targetId),Vm(r,i.targetId)}).catch(Xm))):(Vm(r,i.targetId),yield wm(r.localStore,i.targetId,!0))})}function DL(t,e){return C(this,null,function*(){let n=de(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ay(n.remoteStore,r.targetId))})}function Ib(t,e){return C(this,null,function*(){let n=de(t);try{let r=yield aL(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Fe(s.va):i.removedDocuments.size>0&&(Fe(s.va),s.va=!1))}),yield Db(n,r,e)}catch(r){yield Xm(r)}})}function xT(t,e,n){let r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=de(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.j_)m.Z_(c)&&(l=!0)}),l&&dy(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function TL(t,e,n){return C(this,null,function*(){let r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ne(j.comparator);s=s.insert(o,Qt.newNoDocument(o,X.min()));let c=he().add(o),u=new ul(X.min(),new Map,new Ne(ve),s,c);yield Ib(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),hy(r)}else yield wm(r.localStore,e,!1).then(()=>Vm(r,e,n)).catch(Xm)})}function Vm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Eb(t,r)})}function Eb(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(ay(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),hy(t))}function MT(t,e,n){for(let r of n)r instanceof wl?(t.La.addReference(r.key,e),bL(t,r)):r instanceof Il?(L("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Eb(t,r.key)):K()}function bL(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(L("SyncEngine","New document in limbo: "+n),t.xa.add(r),hy(t))}function hy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new j(Se.fromString(e)),r=t.qa.next();t.Na.set(r,new Fm(n)),t.Oa=t.Oa.insert(n,r),pb(t.remoteStore,new da(fn(iy(n.path)),r,"TargetPurposeLimboResolution",VT.oe))}}function Db(t,e,n){return C(this,null,function*(){let r=de(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=mm.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return C(this,null,function*(){let f=de(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,m=>N.forEach(m.$i,v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>N.forEach(m.Ui,v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Ia(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=f.os.get(m),A=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(m,R)}}})}(r.localStore,o))})}function CL(t,e){return C(this,null,function*(){let n=de(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield hb(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new O(x.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Db(n,r.hs)}})}function SL(t,e){let n=de(t),r=n.Na.get(e);if(r&&r.va)return he().add(r.key);{let i=he(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let c=n.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function Tb(t){let e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TL.bind(null,e),e.Ca.d_=yL.bind(null,e.eventManager),e.Ca.$a=vL.bind(null,e.eventManager),e}var El=class{constructor(){this.synchronizeTabs=!1}initialize(e){return C(this,null,function*(){this.serializer=Ol(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sL(this.persistence,new vm,e.initialUser,this.serializer)}createPersistence(e){return new fm(gm.Zr,this.serializer)}createSharedClientState(e){return new Im}terminate(){return C(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Um=class{initialize(e,n){return C(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CL.bind(null,this.syncEngine),yield mL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Nm}()}createDatastore(e){let n=Ol(e.databaseInfo.databaseId),r=function(o){return new Tm(o)}(e.databaseInfo);return function(o,s,c,u){return new Sm(o,s,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,c){return new Rm(r,i,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,n=>xT(this.syncEngine,n,0),function(){return gl.D()?new gl:new Em}())}createSyncEngine(e,n){return function(i,o,s,c,u,l,f){let p=new Lm(i,o,s,c,u,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return C(this,null,function*(){var e,n;yield function(i){return C(this,null,function*(){let o=de(i);L("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Da(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Dl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Pn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var jm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=tl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>C(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=yb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function wg(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield hb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function NT(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield RL(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ST(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ST(e.remoteStore,i)),t._onlineComponents=e})}function AL(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function RL(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!AL(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),yield wg(t,new El)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield wg(t,new El);return t._offlineComponents})}function xL(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield NT(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield NT(t,new Um))),t._onlineComponents})}function bb(t){return C(this,null,function*(){let e=yield xL(t),n=e.eventManager;return n.onListen=_L.bind(null,e.syncEngine),n.onUnlisten=EL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DL.bind(null,e.syncEngine),n})}function ML(t,e,n={}){let r=new dn;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,c,u,l){let f=new Dl({next:m=>{s.enqueueAndForget(()=>_b(o,p));let v=m.docs.has(c);!v&&m.fromCache?l.reject(new O(x.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?l.reject(new O(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new _l(iy(c.path),f,{includeMetadataChanges:!0,_a:!0});return vb(o,p)}(yield bb(t),t.asyncQueue,e,n,r)})),r.promise}function NL(t,e,n={}){let r=new dn;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,c,u,l){let f=new Dl({next:m=>{s.enqueueAndForget(()=>_b(o,p)),m.fromCache&&u.source==="server"?l.reject(new O(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new _l(c,f,{includeMetadataChanges:!0,_a:!0});return vb(o,p)}(yield bb(t),t.asyncQueue,e,n,r)})),r.promise}function Cb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var PT=new Map;function Sb(t,e,n){if(!n)throw new O(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PL(t,e,n,r){if(e===!0&&r===!0)throw new O(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OT(t){if(!j.isDocumentKey(t))throw new O(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kT(t){if(j.isDocumentKey(t))throw new O(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function pa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Fl(t);throw new O(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function OL(t,e){if(e<=0)throw new O(x.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Tl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Io=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new O(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ig;switch(r.type){case"firstParty":return new bg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=PT.get(n);r&&(L("ComponentProvider","Removing Datastore"),PT.delete(n),r.terminate())}(this),Promise.resolve()}};function Ab(t,e,n,r={}){var i;let o=(t=pa(t,Io))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=qe.MOCK_USER;else{c=gD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new O(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qe(l)}t._authCredentials=new Eg(new el(c,u))}}var Fn=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},bt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},lr=class t extends Fn{constructor(e,n,r){super(e,n,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new j(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Rb(t,e,...n){if(t=lt(t),Sb("collection","path",e),t instanceof Io){let r=Se.fromString(e,...n);return kT(r),new lr(t,null,r)}{if(!(t instanceof bt||t instanceof lr))throw new O(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return kT(r),new lr(t.firestore,null,r)}}function xb(t,e,...n){if(t=lt(t),arguments.length===1&&(e=tl.newId()),Sb("doc","path",e),t instanceof Io){let r=Se.fromString(e,...n);return OT(r),new bt(t,null,new j(r))}{if(!(t instanceof bt||t instanceof lr))throw new O(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return OT(r),new bt(t.firestore,t instanceof lr?t.converter:null,new j(r))}}var Bm=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ml(this,"async_queue_retry"),this.Eu=()=>{let n=_g();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=_g();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=_g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new dn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return C(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ia(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=xm.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&K()}verifyOperationInProgress(){}mu(){return C(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var ga=class extends Io{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Bm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Pb(this),this._firestoreClient.terminate()}};function Mb(t,e){let n=typeof t=="object"?t:$r(),r=typeof t=="string"?t:e||"(default)",i=Hs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Pu("firestore");o&&Ab(i,...o)}return i}function Nb(t){return t._firestoreClient||Pb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Pb(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new xg(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Cb(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new jm(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ma=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(st.fromBase64String(e))}catch(n){throw new O(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Cl=class{constructor(e){this._methodName=e}};var ya=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var va=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var kL=/^__.*__$/;function Ob(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var $m=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return qm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(Ob(this.wu)&&kL.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Hm=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ol(e)}Nu(e,n,r,i=!1){return new $m({wu:e,methodName:n,Ou:r,path:Pt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function kb(t){let e=t._freezeSettings(),n=Ol(t._databaseId);return new Hm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Fb(t,e,n,r=!1){return fy(n,t.Nu(r?4:3,e))}function fy(t,e){if(Lb(t=lt(t)))return LL("Unsupported field value:",e,t),FL(t,e);if(t instanceof Cl)return function(r,i){if(!Ob(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=fy(c,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=it.fromDate(r);return{timestampValue:Zg(i.serializer,o)}}if(r instanceof it){let o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zg(i.serializer,o)}}if(r instanceof ya)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ma)return{bytesValue:ib(i.serializer,r._byteString)};if(r instanceof bt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ob(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof va)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return sy(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Fl(r)}`)}(t,e)}function FL(t,e){let n={};return UT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(t,(r,i)=>{let o=fy(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Lb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof ya||t instanceof ma||t instanceof bt||t instanceof Cl||t instanceof va)}function LL(t,e,n){if(!Lb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Fl(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}var VL=new RegExp("[~\\*/\\[\\]]");function UL(t,e,n){if(e.search(VL)>=0)throw qm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bl(...e.split("."))._internalPath}catch{throw qm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qm(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new O(x.INVALID_ARGUMENT,c+t+u)}var _a=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new zm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Ll("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},zm=class extends _a{data(){return super.data()}};function Ll(t,e){return typeof e=="string"?UL(t,e):e instanceof bl?e._internalPath:e._delegate._internalPath}function jL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wa=class{},Eo=class extends wa{};function Vb(t,e,...n){let r=[];e instanceof wa&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof Gm).length,c=o.filter(u=>u instanceof Sl).length;if(s>1||s>0&&c>0)throw new O(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Sl=class t extends Eo{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Hb(e._query,n),new Fn(e.firestore,e.converter,Hg(e._query,n))}_parse(e){let n=kb(e.firestore);return function(o,s,c,u,l,f,p){let m;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new O(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){LT(p,f);let v=[];for(let A of p)v.push(FT(u,o,A));m={arrayValue:{values:v}}}else m=FT(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||LT(p,f),m=Fb(c,s,p,f==="in"||f==="not-in");return ke.create(l,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Ub(t,e,n){let r=e,i=Ll("where",t);return Sl._create(i,r,n)}var Gm=class t extends wa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)Hb(s,u),s=Hg(s,u)}(e._query,n),new Fn(e.firestore,e.converter,Hg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Wm=class t extends Eo{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new O(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ri(o,s)}(e._query,this._field,this._direction);return new Fn(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new kn(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function jb(t,e="asc"){let n=e,r=Ll("orderBy",t);return Wm._create(r,n)}var Km=class t extends Eo{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Fn(e.firestore,e.converter,cl(e._query,this._limit,this._limitType))}};function Bb(t){return OL("limit",t),Km._create("limit",t,"F")}var Qm=class t extends Eo{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=BL(e,this.type,this._docOrFields,this._inclusive);return new Fn(e.firestore,e.converter,function(i,o){return new kn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}};function $b(...t){return Qm._create("startAfter",t,!1)}function BL(t,e,n,r){if(n[0]=lt(n[0]),n[0]instanceof _a)return function(o,s,c,u,l){if(!u)throw new O(x.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let f=[];for(let p of ao(o))if(p.field.isKeyField())f.push(sl(s,u.key));else{let m=u.data.field(p.field);if(Ml(m))throw new O(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let v=p.field.canonicalString();throw new O(x.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}f.push(m)}return new hr(f,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=kb(t.firestore);return function(s,c,u,l,f,p){let m=s.explicitOrderBy;if(f.length>m.length)throw new O(x.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let v=[];for(let A=0;A<f.length;A++){let R=f[A];if(m[A].field.isKeyField()){if(typeof R!="string")throw new O(x.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof R}`);if(!oy(s)&&R.indexOf("/")!==-1)throw new O(x.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${R}' contains a slash.`);let M=s.path.child(Se.fromString(R));if(!j.isDocumentKey(M))throw new O(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);let F=new j(M);v.push(sl(c,F))}else{let M=Fb(u,l,R);v.push(M)}}return new hr(v,p)}(t._query,t.firestore._databaseId,i,e,n,r)}}function FT(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new O(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oy(e)&&n.indexOf("/")!==-1)throw new O(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Se.fromString(n));if(!j.isDocumentKey(r))throw new O(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sl(t,new j(r))}if(n instanceof bt)return sl(t,n._key);throw new O(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fl(n)}.`)}function LT(t,e){if(!Array.isArray(t)||t.length===0)throw new O(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hb(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new O(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Ym=class{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ea(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ce(s.doubleValue));return new va(o)}convertGeoPoint(e){return new ya(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ey(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ia(e));default:return null}}convertTimestamp(e){let n=On(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Se.fromString(e);Fe(db(r));let i=new ol(r.get(1),r.get(3)),o=new j(r.popFirst(5));return i.isEqual(n)||Pn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var Xr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Al=class extends _a{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Ll("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},lo=class extends Al{data(e={}){return super.data(e)}},Jm=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lo(this._firestore,this._userDataWriter,r.key,r,new Xr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new lo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Xr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new lo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Xr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:$L(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function $L(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}function qb(t){t=pa(t,bt);let e=pa(t.firestore,ga);return ML(Nb(e),t._key).then(n=>HL(e,t,n))}var Rl=class extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new ma(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}};function zb(t){t=pa(t,Fn);let e=pa(t.firestore,ga),n=Nb(e),r=new Rl(e);return jL(t._query),NL(n,t._query).then(i=>new Jm(e,r,t,i))}function HL(t,e,n){let r=n.docs.get(e._key),i=new Rl(t);return new Al(t,i,e._key,r,new Xr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Do=i})(Xi),un(new pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new ga(new Dg(r.getProvider("auth-internal")),new Sg(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ol(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ae(oT,"4.7.2",e),Ae(oT,"4.7.2","esm2017")})();var ii=class{constructor(e){return e}},Gb="firestore",py=class{constructor(){return zr(Gb)}};var gy=new J("angularfire2.firestore-instances");function qL(t,e){let n=qs(Gb,t,e);return n&&new ii(n)}function zL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ii(r)}}var GL={provide:py,deps:[[new et,gy]]},WL={provide:ii,useFactory:qL,deps:[[new et,gy],xn]};function Wb(t,...e){return Ae("angularfire",ar.full,"fst"),on([WL,GL,{provide:gy,useFactory:zL(t),multi:!0,deps:[we,Wt,Gr,Wr,[new et,to],[new et,qr],...e]}])}var Kb=nt(Rb,!0);var Qb=nt(xb,!0);var Yb=nt(qb,!0);var Jb=nt(zb,!0);var Zb=nt(Mb,!0);var Xb=nt(Bb,!0);var eC=nt(jb,!0);var Vl=nt(Vb,!0);var tC=nt($b,!0);var my=nt(Ub,!0);var Ul=(()=>{let e=class e{constructor(){this.firestore=k(ii)}getDesign(r){return C(this,null,function*(){return(yield Yb(Qb(this.firestore,"designs/"+r))).data()})}getDesigns(r,i=null,o=""){return C(this,null,function*(){let s=Vl(Kb(this.firestore,"designs"),eC("createdAt","desc"),Xb(r));o&&(s=Vl(s,my("name",">=",o),my("name","<=",o+"\uF8FF"))),i&&(s=Vl(s,tC(i)));let c=yield Jb(s),u=[],l=null;return c.forEach(f=>{u.push(U({id:f.id},f.data()))}),l=c.docs[c.docs.length-1],{designs:u,lastDoc:l}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jl=t=>({show:t}),nC=(()=>{let e=class e{constructor(){this.isAnimationTriggered=!1}ngOnInit(){setTimeout(()=>{this.isAnimationTriggered=!0},0)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["cw-navbar"]],standalone:!0,features:[He],decls:30,vars:12,consts:[[1,"container"],[1,"black-overlay"],[1,"white-bar"],[1,"logo"],["src","assets/current-wave-gradient.svg"],[1,"title"],[1,"cart"],[1,"cart-button"],[1,"fas","fa-shopping-cart","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button"],[1,"fas","fa-bars","cart-icon"],[1,"logo-hamburger"],[1,"content"],["src","assets/current-wave-white.svg",1,"logo-secondary"],[1,"slogan"],[1,"browse-button"],[1,"left-image-wrapper","wrapper-position"],["src","assets/apparel/cench.png","alt","Kendrick",1,"left-image","tshirt","image",3,"ngClass"],[1,"left-image-wrapper-2","wrapper-position"],["src","assets/apparel/kendrick.png","alt","Kendrick",1,"left-image-2","tshirt","image",3,"ngClass"],[1,"right-image-wrapper","wrapper-position"],["src","assets/apparel/gojo.png","alt","Kendrick",1,"right-image","tshirt","image",3,"ngClass"],[1,"right-image-wrapper-2","wrapper-position"],["src","assets/apparel/travis.png","alt","Kendrick",1,"right-image-2","tshirt","image",3,"ngClass"]],template:function(i,o){i&1&&(V(0,"div",0),re(1,"div",1),V(2,"div",2)(3,"div",3),re(4,"img",4),B(),V(5,"div",5),me(6,"CURRENT WAVE"),B(),V(7,"div",6)(8,"div",7),re(9,"i",8),B()()(),V(10,"div",9)(11,"div",10),re(12,"i",11),B(),V(13,"div",12),re(14,"img",4),B(),re(15,"div"),B(),V(16,"div",13),re(17,"img",14),V(18,"div",15),me(19," Pridru\u017Ei se talasu. "),B()(),V(20,"button",16),me(21,"Pogledaj kolekciju"),B(),V(22,"div",17),re(23,"img",18),B(),V(24,"div",19),re(25,"img",20),B(),V(26,"div",21),re(27,"img",22),B(),V(28,"div",23),re(29,"img",24),B()()),i&2&&($e(23),tt("ngClass",fs(4,jl,o.isAnimationTriggered)),$e(2),tt("ngClass",fs(6,jl,o.isAnimationTriggered)),$e(2),tt("ngClass",fs(8,jl,o.isAnimationTriggered)),$e(2),tt("ngClass",fs(10,jl,o.isAnimationTriggered)))},dependencies:[Kt,pE],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;min-height:25rem;background:var(--gradient-secondary);justify-content:center;overflow:hidden;position:relative}.black-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%;background-color:#00000026;z-index:1;pointer-events:none}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:75%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.browse-button[_ngcontent-%COMP%]{position:relative;z-index:2;height:3rem;width:12rem;outline:none;border:none;flex-grow:.3;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;box-shadow:0 2px 4px #0003;border:3px solid var(--white-primary)}.browse-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;z-index:2;flex-wrap:wrap;width:100%}.logo-secondary[_ngcontent-%COMP%]{max-width:22rem;max-height:22rem;color:var(--white-primary);display:block}.slogan[_ngcontent-%COMP%]{position:absolute;font-size:var(--fs-600);max-width:30rem;padding-inline:1.5rem;padding-bottom:1.5rem;font-family:var(--ff-secondary);color:var(--white-primary);-webkit-user-select:none;user-select:none;cursor:default;z-index:2;top:80%}.wrapper-position[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:0}.left-image-wrapper[_ngcontent-%COMP%]{top:-5rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-5rem;left:-30rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-5rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-4rem;right:-25rem}.image[_ngcontent-%COMP%]{max-width:60rem;max-height:60rem;transition:width .3s ease,height .3s ease}.left-image[_ngcontent-%COMP%]{transform:rotate(15deg);--rotation: 15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.right-image[_ngcontent-%COMP%]{transform:rotate(-15deg);--rotation: -15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.left-image-2[_ngcontent-%COMP%]{transform:rotate(-10deg);--rotation: -10deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.right-image-2[_ngcontent-%COMP%]{transform:rotate(25deg);--rotation: 25deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background-color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.hamburger-button[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}@media screen and (max-width: 1770px){.image[_ngcontent-%COMP%]{max-width:55rem;max-height:55rem}.left-image-wrapper[_ngcontent-%COMP%]{top:-2rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-2rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;right:-20rem}}@media screen and (max-width: 1100px){.image[_ngcontent-%COMP%]{max-width:45rem;max-height:45rem}.left-image-wrapper[_ngcontent-%COMP%]{top:-1rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-1rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;right:-20rem}}@media screen and (max-width: 800px){.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}.image[_ngcontent-%COMP%]{max-width:30rem;max-height:30rem}.left-image-wrapper[_ngcontent-%COMP%]{top:1rem;left:-4rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:1rem;left:-15rem}.right-image-wrapper[_ngcontent-%COMP%]{top:1rem;right:-4rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:2rem;right:-15rem}}@media screen and (max-width: 600px){.image[_ngcontent-%COMP%]{max-width:27rem;max-height:27rem}.left-image-wrapper[_ngcontent-%COMP%]{top:4rem;left:-7rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:4rem;left:-15rem}.right-image-wrapper[_ngcontent-%COMP%]{top:4rem;right:-7rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:4rem;right:-15rem}}.tshirt[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px) rotate(0);animation-duration:.8s;animation-fill-mode:forwards;transition:transform .5s}@keyframes _ngcontent-%COMP%_slide-in{0%{opacity:0;transform:translateY(50px) rotate(0)}to{opacity:1;transform:translateY(0) rotate(var(--rotation))}}']});let t=e;return t})();function KL(t,e){if(t&1&&(vf(0),me(1),_f()),t&2){let n=hs(2);$e(),xt(n.onContentRendered())}}function QL(t,e){if(t&1&&(V(0,"cw-home-card",4),er(1,KL,2,1,"ng-container",5),B()),t&2){let n=e.$implicit,r=e.last,i=hs();tt("design",n),$e(),tt("ngIf",r&&!i.contentRendered)}}var rC=(()=>{let e=class e{constructor(){this.contentRendered=!1,this.designs=[],this.changeDetector=k(Fr),this.designService=k(Ul)}ngOnInit(){return C(this,null,function*(){yield this.loadDesigns()})}loadDesigns(r=""){return C(this,null,function*(){let{designs:i,lastDoc:o}=yield this.designService.getDesigns(100);this.designs=i})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(r,i){return i.id}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["cw-home"]],standalone:!0,features:[He],decls:6,vars:2,consts:[[1,"wrapper"],[1,"title"],[1,"grid"],[3,"design",4,"ngFor","ngForOf","ngForTrackBy"],[3,"design"],[4,"ngIf"]],template:function(i,o){i&1&&(re(0,"cw-navbar"),V(1,"div",0)(2,"h1",1),me(3,"NA\u0160I PROIZVODI"),B(),V(4,"div",2),er(5,QL,2,2,"cw-home-card",3),B()()),i&2&&($e(5),tt("ngForOf",o.designs)("ngForTrackBy",o.identify))},dependencies:[uD,Kt,gE,Bi,nC],styles:[".wrapper[_ngcontent-%COMP%]{max-width:min(90rem,90%);margin-inline:auto;box-sizing:border-box;margin-bottom:2rem}.title[_ngcontent-%COMP%]{text-align:center;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin-inline:auto}.grid[_ngcontent-%COMP%]{--grid-layout-gap: 1rem;--grid-column-count: 3;--grid-item--min-width: 15rem;--gap-count: calc(var(--grid-column-count) - 1);--total-gap-width: calc(var(--gap-count) * var(--grid-layout-gap));--grid-item--max-width: calc( (100% - var(--total-gap-width)) / var(--grid-column-count) );display:grid;width:100%;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(max(var(--grid-item--min-width),var(--grid-item--max-width)),1fr));justify-content:center}.visible[_ngcontent-%COMP%]{display:grid}"]});let t=e;return t})();var iC=(()=>{let e=class e{constructor(){this.route=k(rr),this.designService=k(Ul)}ngOnInit(){return C(this,null,function*(){let r=this.route.snapshot.paramMap.get("id");this.design=yield this.designService.getDesign(r)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["cw-design"]],standalone:!0,features:[He],decls:2,vars:1,template:function(i,o){i&1&&(V(0,"p"),me(1),B()),i&2&&($e(),xt(o.design==null?null:o.design.name))}});let t=e;return t})();var oC=[{path:"",component:rC},{path:"design/:id",component:iC}];var cC="functions";var yy=class{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){return C(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return C(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return C(this,null,function*(){if(this.appCheck){let n=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(e){return C(this,null,function*(){let n=yield this.getAuthToken(),r=yield this.getMessagingToken(),i=yield this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}})}};var vy="us-central1";var _y=class{constructor(e,n,r,i,o=vy,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new yy(n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{let c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=vy}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function YL(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}var sC="@firebase/functions",aC="0.11.8";var JL="auth-internal",ZL="app-check-internal",XL="messaging-internal";function eV(t,e){let n=(r,{instanceIdentifier:i})=>{let o=r.getProvider("app").getImmediate(),s=r.getProvider(JL),c=r.getProvider(XL),u=r.getProvider(ZL);return new _y(o,s,c,u,i,t)};un(new pt(cC,n,"PUBLIC").setMultipleInstances(!0)),Ae(sC,aC,e),Ae(sC,aC,"esm2017")}function uC(t=$r(),e=vy){let r=Hs(lt(t),cC).getImmediate({identifier:e}),i=Pu("functions");return i&&lC(r,...i),r}function lC(t,e,n){YL(lt(t),e,n)}eV(fetch.bind(self));var ba=class{constructor(e){return e}},dC="functions",wy=class{constructor(){return zr(dC)}};var Iy=new J("angularfire2.functions-instances");function tV(t,e){let n=qs(dC,t,e);return n&&new ba(n)}function nV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ba(r)}}var rV={provide:wy,deps:[[new et,Iy]]},iV={provide:ba,useFactory:tV,deps:[[new et,Iy],xn]};function hC(t,...e){return Ae("angularfire",ar.full,"fn"),on([iV,rV,{provide:Iy,useFactory:nV(t),multi:!0,deps:[we,Wt,Gr,Wr,[new et,to],[new et,qr],...e]}])}var fC=nt(uC,!0);var pC={providers:[sD(oC,aD()),LD(()=>VD({projectId:"currentwave-563b3",appId:"1:214702271750:web:4bf5a93092d8b0757c8287",storageBucket:"currentwave-563b3.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyATMkQlyO2nL_yKV3uwz-OuY_IAMZtX_-A",authDomain:"currentwave-563b3.firebaseapp.com",messagingSenderId:"214702271750",measurementId:"G-12H1ZL3EYH"})),Wb(()=>Zb()),hC(()=>fC())]};var gC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["cw-footer"]],standalone:!0,features:[He],decls:42,vars:0,consts:[[1,"grid"],[1,"column","newsletter"],[1,"email"],["placeholder","Email address","type","email"],[1,"submit-btn"],[1,"column","socials"],[1,"icon","fa-brands","fa-instagram"],["href","https://www.instagram.com/nosicurrentwave/"],[1,"icon","fa-brands","fa-tiktok"],[1,"icon","fa-brands","fa-facebook"],[1,"column","about"],[1,"icon","fa-solid","fa-envelope"],[1,"icon","fa-solid","fa-phone"],[1,"icon","fa-solid","fa-circle-info"],["href","#"]],template:function(i,o){i&1&&(V(0,"div",0)(1,"div",1)(2,"h2"),me(3,"Newsletter"),B(),V(4,"p"),me(5," Want to know what we're up to? Sign up for the newsletter to recieve updates. "),B(),V(6,"div",2),re(7,"input",3),V(8,"button",4),me(9,"Subscribe"),B()()(),V(10,"div",5)(11,"h2"),me(12,"Socials"),B(),V(13,"ul")(14,"li"),re(15,"i",6),V(16,"a",7),me(17,"Instagram"),B()(),V(18,"li"),re(19,"i",8),V(20,"a",7),me(21,"TikTok"),B()(),V(22,"li"),re(23,"i",9),V(24,"a",7),me(25,"Facebook"),B()()()(),V(26,"div",10)(27,"h2"),me(28,"Info"),B(),V(29,"ul")(30,"li"),re(31,"i",11),V(32,"span"),me(33,"currentwavewear@gmail.com "),B()(),V(34,"li"),re(35,"i",12),V(36,"span"),me(37,"+38169758176"),B()(),V(38,"li"),re(39,"i",13),V(40,"a",14),me(41,"About Us"),B()()()()())},styles:["[_nghost-%COMP%]{margin-top:auto;width:100%;background:var(--gradient-secondary);display:block}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;color:var(--white-primary);padding-block:6rem;box-sizing:border-box;justify-items:center;gap:4rem;margin-inline:auto}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center}.newsletter[_ngcontent-%COMP%]{align-items:center}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-width:max-content}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.icon[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;justify-content:center;align-items:center}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;color:var(--white-primary)}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--clr-offwhite)}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:var(--ff-secondary);font-size:var(--fs-400)}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0}p[_ngcontent-%COMP%]{max-width:40ch;line-height:1.25}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1rem}.email[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1rem}.email[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.1rem;padding:.5rem;border:2px solid var(--white-primary);outline:none;margin-left:auto}.submit-btn[_ngcontent-%COMP%]{border:2px solid var(--white-primary);outline:none;border-left:none;flex-grow:.3;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;margin-right:auto}.submit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9e9e9e}@media screen and (min-width: 800px){.grid[_ngcontent-%COMP%]{width:clamp(48rem,60%,64rem);grid-template-columns:repeat(4,1fr);gap:2rem}.newsletter[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:3}.submit-btn[_ngcontent-%COMP%]{flex-grow:.3;margin-right:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:.7;margin-left:0}}"]});let t=e;return t})();var mC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["cw-simple-nav"]],standalone:!0,features:[He],decls:15,vars:0,consts:[[1,"container"],[1,"white-bar"],[1,"logo"],["src","assets/current-wave-gradient.svg"],[1,"title"],[1,"cart"],[1,"cart-button"],[1,"fas","fa-shopping-cart","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button"],[1,"fas","fa-bars","cart-icon"],[1,"logo-hamburger"]],template:function(i,o){i&1&&(V(0,"div",0)(1,"div",1)(2,"div",2),re(3,"img",3),B(),V(4,"div",4),me(5,"CURRENT WAVE"),B(),V(6,"div",5)(7,"div",6),re(8,"i",7),B()()(),V(9,"div",8)(10,"div",9),re(11,"i",10),B(),V(12,"div",11),re(13,"img",3),B(),re(14,"div"),B()())},styles:['.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;width:100%}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:75%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background-color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.hamburger-button[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}@media screen and (max-width: 800px){.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}}']});let t=e;return t})();function oV(t,e){t&1&&re(0,"cw-simple-nav")}var yC=(()=>{let e=class e{constructor(){this.title="current-wave",this.router=k(Yi)}isHomePage(){return this.router.url==="/"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Be({type:e,selectors:[["app-root"]],standalone:!0,features:[He],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(i,o){i&1&&(er(0,oV,1,0,"cw-simple-nav",0),re(1,"router-outlet")(2,"cw-footer")),i&2&&tt("ngIf",!o.isHomePage())},dependencies:[vp,gC,mC,Kt,Bi],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}"]});let t=e;return t})();bE(yC,pC).catch(t=>console.error(t));
