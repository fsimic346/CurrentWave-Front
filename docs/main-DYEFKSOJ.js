var QT=Object.defineProperty,YT=Object.defineProperties;var JT=Object.getOwnPropertyDescriptors;var Jv=Object.getOwnPropertySymbols;var ZT=Object.prototype.hasOwnProperty,XT=Object.prototype.propertyIsEnumerable;var Zv=(t,e,n)=>e in t?QT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})ZT.call(e,n)&&Zv(t,n,e[n]);if(Jv)for(var n of Jv(e))XT.call(e,n)&&Zv(t,n,e[n]);return t},Te=(t,e)=>YT(t,JT(e));var T=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function eS(t,e){return Object.is(t,e)}var Je=null,pc=!1,gc=1,Ni=Symbol("SIGNAL");function _e(t){let e=Je;return Je=t,e}var Fd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xv(t){if(pc)throw new Error("");if(Je===null)return;Je.consumerOnSignalRead(t);let e=Je.nextProducerIndex++;if(Pi(Je),e<Je.producerNode.length&&Je.producerNode[e]!==t&&gs(Je)){let n=Je.producerNode[e];mc(n,Je.producerIndexOfThis[e])}Je.producerNode[e]!==t&&(Je.producerNode[e]=t,Je.producerIndexOfThis[e]=gs(Je)?o_(t,Je,e):0),Je.producerLastReadVersion[e]=t.version}function tS(){gc++}function nS(t){if(!(gs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===gc)){if(!t.producerMustRecompute(t)&&!Vd(t)){t.dirty=!1,t.lastCleanEpoch=gc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=gc}}function e_(t){if(t.liveConsumerNode===void 0)return;let e=pc;pc=!0;try{for(let n of t.liveConsumerNode)n.dirty||rS(n)}finally{pc=e}}function t_(){return Je?.consumerAllowSignalWrites!==!1}function rS(t){t.dirty=!0,e_(t),t.consumerMarkedDirty?.(t)}function n_(t){return t&&(t.nextProducerIndex=0),_e(t)}function r_(t,e){if(_e(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(gs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)mc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vd(t){Pi(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(nS(n),r!==n.version))return!0}return!1}function i_(t){if(Pi(t),gs(t))for(let e=0;e<t.producerNode.length;e++)mc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function o_(t,e,n){if(s_(t),Pi(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=o_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function mc(t,e){if(s_(t),Pi(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)mc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pi(i),i.producerIndexOfThis[r]=e}}function gs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function s_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function iS(){throw new Error}var a_=iS;function c_(){a_()}function u_(t){a_=t}var oS=null;function l_(t){let e=Object.create(h_);e.value=t;let n=()=>(Xv(e),e.value);return n[Ni]=e,n}function Ld(t,e){t_()||c_(),t.equal(t.value,e)||(t.value=e,sS(t))}function d_(t,e){t_()||c_(),Ld(t,e(t.value))}var h_=Te(U({},Fd),{equal:eS,value:void 0});function sS(t){t.version++,tS(),e_(t),oS?.()}function J(t){return typeof t=="function"}function Oi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var yc=Oi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Fr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof yc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{f_(o)}catch(s){e=e??[],s instanceof yc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new yc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)f_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Fr(n,e)}remove(e){let{_finalizers:n}=this;n&&Fr(n,e),e instanceof t&&e._removeParent(this)}};Ve.EMPTY=(()=>{let t=new Ve;return t.closed=!0,t})();var jd=Ve.EMPTY;function vc(t){return t instanceof Ve||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function f_(t){J(t)?t():t.unsubscribe()}var Gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ki={setTimeout(t,e,...n){let{delegate:r}=ki;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ki;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _c(t){ki.setTimeout(()=>{let{onUnhandledError:e}=Gt;if(e)e(t);else throw t})}function ms(){}var p_=Ud("C",void 0,void 0);function g_(t){return Ud("E",void 0,t)}function m_(t){return Ud("N",t,void 0)}function Ud(t,e,n){return{kind:t,value:e,error:n}}var Vr=null;function Fi(t){if(Gt.useDeprecatedSynchronousErrorHandling){let e=!Vr;if(e&&(Vr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vr;if(Vr=null,n)throw r}}else t()}function y_(t){Gt.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=t)}var Lr=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vc(e)&&e.add(this)):this.destination=uS}static create(e,n,r){return new Vi(e,n,r)}next(e){this.isStopped?$d(m_(e),this):this._next(e)}error(e){this.isStopped?$d(g_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$d(p_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},aS=Function.prototype.bind;function Bd(t,e){return aS.call(t,e)}var Hd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){wc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){wc(r)}else wc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){wc(n)}}},Vi=class extends Lr{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Gt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bd(e.next,o),error:e.error&&Bd(e.error,o),complete:e.complete&&Bd(e.complete,o)}):i=e}this.destination=new Hd(i)}};function wc(t){Gt.useDeprecatedSynchronousErrorHandling?y_(t):_c(t)}function cS(t){throw t}function $d(t,e){let{onStoppedNotification:n}=Gt;n&&ki.setTimeout(()=>n(t,e))}var uS={closed:!0,next:ms,error:cS,complete:ms};var Li=typeof Symbol=="function"&&Symbol.observable||"@@observable";function At(t){return t}function zd(...t){return qd(t)}function qd(t){return t.length===0?At:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=dS(n)?n:new Vi(n,r,i);return Fi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=v_(r),new r((i,o)=>{let s=new Vi({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Li](){return this}pipe(...n){return qd(n)(this)}toPromise(n){return n=v_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function v_(t){var e;return(e=t??Gt.Promise)!==null&&e!==void 0?e:Promise}function lS(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function dS(t){return t&&t instanceof Lr||lS(t)&&vc(t)}function Gd(t){return J(t?.lift)}function de(t){return e=>{if(Gd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new Wd(t,e,n,r,i)}var Wd=class extends Lr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ji(){return de((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ui=class extends ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Gd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return ji()(this)}};var __=Oi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var gt=(()=>{class t extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ic(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new __}next(n){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jd:(this.currentObservers=null,o.push(n),new Ve(()=>{this.currentObservers=null,Fr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ve;return n.source=this,n}}return t.create=(e,n)=>new Ic(e,n),t})(),Ic=class extends gt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:jd}};var tt=class extends gt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Kd={now(){return(Kd.delegate||Date).now()},delegate:void 0};var Ec=class extends Ve{constructor(e,n){super()}schedule(e,n=0){return this}};var ys={setInterval(t,e,...n){let{delegate:r}=ys;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ys;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Bi=class extends Ec{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ys.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ys.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Fr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $i=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$i.now=Kd.now;var Hi=class extends $i{constructor(e,n=$i.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Qd=new Hi(Bi);var Cc=class extends Bi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var bc=class extends Hi{};var Yd=new bc(Cc);var Mt=new ve(t=>t.complete());function w_(t){return t&&J(t.schedule)}function I_(t){return t[t.length-1]}function E_(t){return J(I_(t))?t.pop():void 0}function nr(t){return w_(I_(t))?t.pop():void 0}function Jd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function b_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function C_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jr(t){return this instanceof jr?(this.v=t,this):new jr(t)}function D_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(R){return new Promise(function(P,j){o.push([v,R,P,j])>1||u(v,R)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(R){m(o[0][3],R)}}function l(v){v.value instanceof jr?Promise.resolve(v.value.v).then(h,p):m(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function T_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof C_=="function"?C_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Dc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Tc(t){return J(t?.then)}function Sc(t){return J(t[Li])}function Ac(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function Mc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xc=hS();function Rc(t){return J(t?.[xc])}function Pc(t){return D_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield jr(n.read());if(i)return yield jr(void 0);yield yield jr(r)}}finally{n.releaseLock()}})}function Nc(t){return J(t?.getReader)}function Ze(t){if(t instanceof ve)return t;if(t!=null){if(Sc(t))return fS(t);if(Dc(t))return pS(t);if(Tc(t))return gS(t);if(Ac(t))return S_(t);if(Rc(t))return mS(t);if(Nc(t))return yS(t)}throw Mc(t)}function fS(t){return new ve(e=>{let n=t[Li]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function pS(t){return new ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function gS(t){return new ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_c)})}function mS(t){return new ve(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function S_(t){return new ve(e=>{vS(t,e).catch(n=>e.error(n))})}function yS(t){return S_(Pc(t))}function vS(t,e){var n,r,i,o;return b_(this,void 0,void 0,function*(){try{for(n=T_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function It(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function rr(t,e=0){return de((n,r)=>{n.subscribe(he(r,i=>It(r,t,()=>r.next(i),e),()=>It(r,t,()=>r.complete(),e),i=>It(r,t,()=>r.error(i),e)))})}function ir(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function A_(t,e){return Ze(t).pipe(ir(e),rr(e))}function M_(t,e){return Ze(t).pipe(ir(e),rr(e))}function x_(t,e){return new ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function R_(t,e){return new ve(n=>{let r;return It(n,e,()=>{r=t[xc](),It(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function Oc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ve(n=>{It(n,e,()=>{let r=t[Symbol.asyncIterator]();It(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function P_(t,e){return Oc(Pc(t),e)}function N_(t,e){if(t!=null){if(Sc(t))return A_(t,e);if(Dc(t))return x_(t,e);if(Tc(t))return M_(t,e);if(Ac(t))return Oc(t,e);if(Rc(t))return R_(t,e);if(Nc(t))return P_(t,e)}throw Mc(t)}function qe(t,e){return e?N_(t,e):Ze(t)}function X(...t){let e=nr(t);return qe(t,e)}function zi(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new ve(e?i=>e.schedule(r,0,i):r)}function Zd(t){return!!t&&(t instanceof ve||J(t.lift)&&J(t.subscribe))}var Nn=Oi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function fe(t,e){return de((n,r)=>{let i=0;n.subscribe(he(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:_S}=Array;function wS(t,e){return _S(e)?t(...e):t(e)}function O_(t){return fe(e=>wS(t,e))}var{isArray:IS}=Array,{getPrototypeOf:ES,prototype:CS,keys:bS}=Object;function k_(t){if(t.length===1){let e=t[0];if(IS(e))return{args:e,keys:null};if(DS(e)){let n=bS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function DS(t){return t&&typeof t=="object"&&ES(t)===CS}function F_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function kc(...t){let e=nr(t),n=E_(t),{args:r,keys:i}=k_(t);if(r.length===0)return qe([],e);let o=new ve(TS(r,e,i?s=>F_(i,s):At));return n?o.pipe(O_(n)):o}function TS(t,e,n=At){return r=>{V_(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)V_(e,()=>{let l=qe(t[u],e),h=!1;l.subscribe(he(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function V_(t,e,n){t?It(n,t,e):e()}function L_(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=R=>l<r?S(R):u.push(R),S=R=>{o&&e.next(R),l++;let P=!1;Ze(n(R,h++)).subscribe(he(e,j=>{i?.(j),o?v(j):e.next(j)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let j=u.shift();s?It(e,s,()=>S(j)):S(j)}m()}catch(j){e.error(j)}}))};return t.subscribe(he(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Ge(t,e,n=1/0){return J(e)?Ge((r,i)=>fe((o,s)=>e(r,o,i,s))(Ze(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>L_(r,i,t,n)))}function Xd(t=1/0){return Ge(At,t)}function j_(){return Xd(1)}function qi(...t){return j_()(qe(t,nr(t)))}function Fc(t){return new ve(e=>{Ze(t()).subscribe(e)})}function Wt(t,e){return de((n,r)=>{let i=0;n.subscribe(he(r,o=>t.call(e,o,i++)&&r.next(o)))})}function or(t){return de((e,n)=>{let r=null,i=!1,o;r=e.subscribe(he(n,void 0,void 0,s=>{o=Ze(t(s,or(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function U_(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(he(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Gi(t,e){return J(e)?Ge(t,e,1):Ge(t,1)}function sr(t){return de((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function On(t){return t<=0?()=>Mt:de((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function eh(t){return fe(()=>t)}function Vc(t=SS){return de((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function SS(){return new Nn}function vs(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function an(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Wt((i,o)=>t(i,o,r)):At,On(1),n?sr(e):Vc(()=>new Nn))}function Wi(t){return t<=0?()=>Mt:de((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function th(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Wt((i,o)=>t(i,o,r)):At,Wi(1),n?sr(e):Vc(()=>new Nn))}function nh(t,e){return de(U_(t,e,arguments.length>=2,!0))}function rh(...t){let e=nr(t);return de((n,r)=>{(e?qi(t,n,e):qi(t,n)).subscribe(r)})}function Kt(t,e){return de((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=o++;Ze(t(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ih(t){return de((e,n)=>{Ze(t).subscribe(he(n,()=>n.complete(),ms)),!n.closed&&e.subscribe(n)})}function We(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):At}var Ew="https://g.co/ng/security#xss",q=class extends Error{constructor(e,n){super(lf(e,n)),this.code=e}};function lf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Rs(t){return{toString:t}.toString()}var Lc="__parameters__";function AS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Cw(t,e,n){return Rs(()=>{let r=AS(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Lc)?u[Lc]:Object.defineProperty(u,Lc,{value:[]})[Lc];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var kn=globalThis;function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function MS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Ih(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var xS=Se({__forward_ref__:Se});function Ps(t){return t.__forward_ref__=Ps,t.toString=function(){return yt(this())},t}function mt(t){return bw(t)?t():t}function bw(t){return typeof t=="function"&&t.hasOwnProperty(xS)&&t.__forward_ref__===Ps}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zr(t){return{providers:t.providers||[],imports:t.imports||[]}}function fu(t){return B_(t,Tw)||B_(t,Sw)}function Dw(t){return fu(t)!==null}function B_(t,e){return t.hasOwnProperty(e)?t[e]:null}function RS(t){let e=t&&(t[Tw]||t[Sw]);return e||null}function $_(t){return t&&(t.hasOwnProperty(H_)||t.hasOwnProperty(PS))?t[H_]:null}var Tw=Se({\u0275prov:Se}),H_=Se({\u0275inj:Se}),Sw=Se({ngInjectableDef:Se}),PS=Se({ngInjectorDef:Se}),Y=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Aw(t){return t&&!!t.\u0275providers}var NS=Se({\u0275cmp:Se}),OS=Se({\u0275dir:Se}),kS=Se({\u0275pipe:Se}),FS=Se({\u0275mod:Se}),Gc=Se({\u0275fac:Se}),_s=Se({__NG_ELEMENT_ID__:Se}),z_=Se({__NG_ENV_ID__:Se});function df(t){return typeof t=="string"?t:t==null?"":String(t)}function VS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():df(t)}function LS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,t)}function hf(t,e){throw new q(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),Eh;function Mw(){return Eh}function Et(t){let e=Eh;return Eh=t,e}function xw(t,e,n){let r=fu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;hf(t,"Injector")}var jS={},ws=jS,Ch="__NG_DI_FLAG__",Wc="ngTempTokenPath",US="ngTokenPath",BS=/\n/gm,$S="\u0275",q_="__source",Ji;function HS(){return Ji}function ar(t){let e=Ji;return Ji=t,e}function zS(t,e=se.Default){if(Ji===void 0)throw new q(-203,!1);return Ji===null?xw(t,void 0,e):Ji.get(t,e&se.Optional?null:void 0,e)}function ae(t,e=se.Default){return(Mw()||zS)(mt(t),e)}function O(t,e=se.Default){return ae(t,pu(e))}function pu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bh(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let a=r[s],u=qS(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ae(i,o))}else e.push(ae(r))}return e}function Rw(t,e){return t[Ch]=e,t.prototype[Ch]=e,t}function qS(t){return t[Ch]}function GS(t,e,n,r){let i=t[Wc];throw e[q_]&&i.unshift(e[q_]),t.message=WS(`
`+t.message,i,n,r),t[US]=i,t[Wc]=null,t}function WS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==$S?t.slice(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(BS,`
  `)}`}var ct=Rw(Cw("Optional"),8);var Pw=Rw(Cw("SkipSelf"),4);function Hr(t,e){let n=t.hasOwnProperty(Gc);return n?t[Gc]:null}function ff(t,e){t.forEach(n=>Array.isArray(n)?ff(n,e):e(n))}function Nw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function KS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function pf(t,e,n){let r=Ns(t,e);return r>=0?t[r|1]=n:(r=~r,KS(t,r,e,n)),r}function oh(t,e){let n=Ns(t,e);if(n>=0)return t[n|1]}function Ns(t,e){return QS(t,e,1)}function QS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Xi={},Ct=[],eo=new Y(""),Ow=new Y("",-1),kw=new Y(""),Qc=class{get(e,n=ws){if(n===ws){let r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return n}},Fw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Fw||{}),ln=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ln||{}),dn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(dn||{});function YS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Dh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];ZS(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function JS(t){return t===3||t===4||t===6}function ZS(t){return t.charCodeAt(0)===64}function Is(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?G_(t,n,i,null,e[++r]):G_(t,n,i,null,null))}}return t}function G_(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Vw="ng-template";function XS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&YS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(gf(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function gf(t){return t.type===4&&t.value!==Vw}function eA(t,e,n){let r=t.type===4&&!n?Vw:t.value;return e===r}function tA(t,e,n){let r=4,i=t.attrs,o=i!==null?iA(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Qt(r)&&!Qt(u))return!1;if(s&&Qt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!eA(t,u,n)||u===""&&e.length===1){if(Qt(r))return!1;s=!0}}else if(r&8){if(i===null||!XS(t,i,u,n)){if(Qt(r))return!1;s=!0}}else{let l=e[++a],h=nA(u,i,gf(t),n);if(h===-1){if(Qt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Qt(r))return!1;s=!0}}}}return Qt(r)||s}function Qt(t){return(t&1)===0}function nA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return oA(e,t)}function rA(t,e,n=!1){for(let r=0;r<e.length;r++)if(tA(t,e[r],n))return!0;return!1}function iA(t){for(let e=0;e<t.length;e++){let n=t[e];if(JS(n))return e}return t.length}function oA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function W_(t,e){return t?":not("+e.trim()+")":e}function sA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Qt(s)&&(e+=W_(o,i),i=""),r=s,o=o||!Qt(r);n++}return i!==""&&(e+=W_(o,i)),e}function aA(t){return t.map(sA).join(",")}function cA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Qt(i))break;i=o}r++}return{attrs:e,classes:n}}function Ae(t){return Rs(()=>{let e=Hw(t),n=Te(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Fw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ln.Emulated,styles:t.styles||Ct,_:null,schemas:t.schemas||null,tView:null,id:""});zw(n);let r=t.dependencies;return n.directiveDefs=Q_(r,!1),n.pipeDefs=Q_(r,!0),n.id=dA(n),n})}function uA(t){return zr(t)||jw(t)}function lA(t){return t!==null}function Xr(t){return Rs(()=>({type:t.type,bootstrap:t.bootstrap||Ct,declarations:t.declarations||Ct,imports:t.imports||Ct,exports:t.exports||Ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function K_(t,e){if(t==null)return Xi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=dn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==dn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function xt(t){return Rs(()=>{let e=Hw(t);return zw(e),e})}function Lw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function zr(t){return t[NS]||null}function jw(t){return t[OS]||null}function Uw(t){return t[kS]||null}function Bw(t){let e=zr(t)||jw(t)||Uw(t);return e!==null?e.standalone:!1}function $w(t,e){let n=t[FS]||null;if(!n&&e===!0)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function Hw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ct,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:K_(t.inputs,e),outputs:K_(t.outputs),debugInfo:null}}function zw(t){t.features?.forEach(e=>e(t))}function Q_(t,e){if(!t)return null;let n=e?Uw:uA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(lA)}function dA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function pn(t){return{\u0275providers:t}}function hA(...t){return{\u0275providers:qw(!0,t),\u0275fromNgModule:!0}}function qw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ff(e,s=>{let a=s;Th(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Gw(i,o),n}function Gw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];mf(i,o=>{e(o,r)})}}function Th(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,o=$_(t),s=!o&&zr(t);if(!o&&!s){let u=t.ngModule;if(o=$_(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Th(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ff(o.imports,h=>{Th(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Gw(l,e)}if(!a){let l=Hr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ct},i),e({provide:kw,useValue:i,multi:!0},i),e({provide:eo,useValue:()=>ae(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;mf(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function mf(t,e){for(let n of t)Aw(n)&&(n=n.\u0275providers),Array.isArray(n)?mf(n,e):e(n)}var fA=Se({provide:String,useValue:Se});function Ww(t){return t!==null&&typeof t=="object"&&fA in t}function pA(t){return!!(t&&t.useExisting)}function gA(t){return!!(t&&t.useFactory)}function to(t){return typeof t=="function"}function mA(t){return!!t.useClass}var gu=new Y(""),Bc={},yA={},sh;function yf(){return sh===void 0&&(sh=new Qc),sh}var Lt=class{},Es=class extends Lt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ah(e,s=>this.processProvider(s)),this.records.set(Ow,Ki(void 0,this)),i.has("environment")&&this.records.set(Lt,Ki(void 0,this));let o=this.records.get(gu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kw,Ct,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ar(this),r=Et(void 0),i;try{return e()}finally{ar(n),Et(r)}}get(e,n=ws,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(z_))return e[z_](this);r=pu(r);let i,o=ar(this),s=Et(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=EA(e)&&fu(e);l&&this.injectableDefInScope(l)?u=Ki(Sh(e),Bc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?yf():this.parent;return n=r&se.Optional&&n===ws?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Wc]=a[Wc]||[]).unshift(yt(e)),o)throw a;return GS(a,e,"R3InjectorError",this.source)}else throw a}finally{Et(s),ar(o)}}resolveInjectorInitializers(){let e=_e(null),n=ar(this),r=Et(void 0),i;try{let o=this.get(eo,Ct,se.Self);for(let s of o)s()}finally{ar(n),Et(r),_e(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){e=mt(e);let n=to(e)?e:mt(e&&e.provide),r=_A(e);if(!to(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ki(void 0,Bc,!0),i.factory=()=>bh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=_e(null);try{return n.value===Bc&&(n.value=yA,n.value=n.factory()),typeof n.value=="object"&&n.value&&IA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Sh(t){let e=fu(t),n=e!==null?e.factory:Hr(t);if(n!==null)return n;if(t instanceof Y)throw new q(204,!1);if(t instanceof Function)return vA(t);throw new q(204,!1)}function vA(t){if(t.length>0)throw new q(204,!1);let n=RS(t);return n!==null?()=>n.factory(t):()=>new t}function _A(t){if(Ww(t))return Ki(void 0,t.useValue);{let e=Kw(t);return Ki(e,Bc)}}function Kw(t,e,n){let r;if(to(t)){let i=mt(t);return Hr(i)||Sh(i)}else if(Ww(t))r=()=>mt(t.useValue);else if(gA(t))r=()=>t.useFactory(...bh(t.deps||[]));else if(pA(t))r=()=>ae(mt(t.useExisting));else{let i=mt(t&&(t.useClass||t.provide));if(wA(t))r=()=>new i(...bh(t.deps));else return Hr(i)||Sh(i)}return r}function Ki(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function wA(t){return!!t.deps}function IA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function EA(t){return typeof t=="function"||typeof t=="object"&&t instanceof Y}function Ah(t,e){for(let n of t)Array.isArray(n)?Ah(n,e):n&&Aw(n)?Ah(n.\u0275providers,e):e(n)}function ei(t,e){t instanceof Es&&t.assertNotDestroyed();let n,r=ar(t),i=Et(void 0);try{return e()}finally{ar(r),Et(i)}}function CA(){return Mw()!==void 0||HS()!=null}function bA(t){return typeof t=="function"}var jn=0,ue=1,Q=2,at=3,Jt=4,en=5,Yc=6,Cs=7,Zt=8,no=9,Xt=10,Ke=11,bs=12,Y_=13,ao=14,hn=15,mu=16,Qi=17,ro=18,yu=19,Qw=20,cr=21,ah=22,qr=23,jt=25,Yw=1;var Gr=7,Jc=8,Zc=9,Vt=10,vf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(vf||{});function Br(t){return Array.isArray(t)&&typeof t[Yw]=="object"}function Un(t){return Array.isArray(t)&&t[Yw]===!0}function _f(t){return(t.flags&4)!==0}function vu(t){return t.componentOffset>-1}function _u(t){return(t.flags&1)===1}function ur(t){return!!t.template}function DA(t){return(t[Q]&512)!==0}var Mh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Jw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Os(){return Zw}function Zw(t){return t.type.prototype.ngOnChanges&&(t.setInput=SA),TA}Os.ngInherit=!0;function TA(){let t=eI(this),e=t?.current;if(e){let n=t.previous;if(n===Xi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function SA(t,e,n,r,i){let o=this.declaredInputs[r],s=eI(t)||AA(t,{previous:Xi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Mh(l&&l.currentValue,n,u===Xi),Jw(t,e,i,n)}var Xw="__ngSimpleChanges__";function eI(t){return t[Xw]||null}function AA(t,e){return t[Xw]=e}var J_=null;var cn=function(t,e,n){J_?.(t,e,n)},MA="svg",xA="math",RA=!1;function PA(){return RA}function fn(t){for(;Array.isArray(t);)t=t[jn];return t}function tI(t,e){return fn(e[t])}function tn(t,e){return fn(e[t.index])}function nI(t,e){return t.data[e]}function rI(t,e){return t[e]}function hr(t,e){let n=e[t];return Br(n)?n:n[jn]}function wf(t){return(t[Q]&128)===128}function NA(t){return Un(t[at])}function io(t,e){return e==null?null:t[e]}function iI(t){t[Qi]=0}function OA(t){t[Q]&1024||(t[Q]|=1024,wf(t)&&Ds(t))}function kA(t,e){for(;t>0;)e=e[ao],t--;return e}function If(t){return!!(t[Q]&9216||t[qr]?.dirty)}function xh(t){t[Xt].changeDetectionScheduler?.notify(1),If(t)?Ds(t):t[Q]&64&&(PA()?(t[Q]|=1024,Ds(t)):t[Xt].changeDetectionScheduler?.notify())}function Ds(t){t[Xt].changeDetectionScheduler?.notify();let e=Ts(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!wf(e)));)e=Ts(e)}function oI(t,e){if((t[Q]&256)===256)throw new q(911,!1);t[cr]===null&&(t[cr]=[]),t[cr].push(e)}function FA(t,e){if(t[cr]===null)return;let n=t[cr].indexOf(e);n!==-1&&t[cr].splice(n,1)}function Ts(t){let e=t[at];return Un(e)?e[at]:e}var ce={lFrame:mI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function VA(){return ce.lFrame.elementDepthCount}function LA(){ce.lFrame.elementDepthCount++}function jA(){ce.lFrame.elementDepthCount--}function sI(){return ce.bindingsEnabled}function UA(){return ce.skipHydrationRootTNode!==null}function BA(t){return ce.skipHydrationRootTNode===t}function $A(){ce.skipHydrationRootTNode=null}function Ce(){return ce.lFrame.lView}function vt(){return ce.lFrame.tView}function aI(t){return ce.lFrame.contextLView=t,t[Zt]}function cI(t){return ce.lFrame.contextLView=null,t}function Rt(){let t=uI();for(;t!==null&&t.type===64;)t=t.parent;return t}function uI(){return ce.lFrame.currentTNode}function HA(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ti(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function Ef(){return ce.lFrame.isParent}function lI(){ce.lFrame.isParent=!1}function Cf(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function zA(t){return ce.lFrame.bindingIndex=t}function dI(){return ce.lFrame.bindingIndex++}function hI(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qA(){return ce.lFrame.inI18n}function GA(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rh(e)}function WA(){return ce.lFrame.currentDirectiveIndex}function Rh(t){ce.lFrame.currentDirectiveIndex=t}function KA(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function fI(t){ce.lFrame.currentQueryIndex=t}function QA(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[en]:null}function pI(t,e,n){if(n&se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=QA(o),i===null||(o=o[ao],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ce.lFrame=gI();return r.currentTNode=e,r.lView=t,!0}function bf(t){let e=gI(),n=t[ue];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function gI(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?mI(t):e}function mI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function yI(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var vI=yI;function Df(){let t=yI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function YA(t){return(ce.lFrame.contextLView=kA(t,ce.lFrame.contextLView))[Zt]}function ni(){return ce.lFrame.selectedIndex}function Wr(t){ce.lFrame.selectedIndex=t}function _I(){let t=ce.lFrame;return nI(t.tView,t.selectedIndex)}function JA(){return ce.lFrame.currentNamespace}var wI=!0;function wu(){return wI}function Iu(t){wI=t}function ZA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Zw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Eu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function $c(t,e,n){II(t,e,3,n)}function Hc(t,e,n,r){(t[Q]&3)===n&&II(t,e,n,r)}function ch(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function II(t,e,n,r){let i=r!==void 0?t[Qi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Qi]+=65536),(a<o||o==-1)&&(XA(t,n,e,u),t[Qi]=(t[Qi]&4294901760)+u+2),u++}function Z_(t,e){cn(4,t,e);let n=_e(null);try{e.call(t)}finally{_e(n),cn(5,t,e)}}function XA(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Q]>>14<t[Qi]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,Z_(a,o)):Z_(a,o)}var Zi=-1,Kr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function eM(t){return t instanceof Kr}function tM(t){return(t.flags&8)!==0}function nM(t){return(t.flags&16)!==0}function EI(t){return t!==Zi}function Xc(t){return t&32767}function rM(t){return t>>16}function eu(t,e){let n=rM(t),r=e;for(;n>0;)r=r[ao],n--;return r}var Ph=!0;function tu(t){let e=Ph;return Ph=t,e}var iM=256,CI=iM-1,bI=5,oM=0,un={};function sM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(_s)&&(r=n[_s]),r==null&&(r=n[_s]=oM++);let i=r&CI,o=1<<i;e.data[t+(i>>bI)]|=o}function nu(t,e){let n=DI(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,uh(r.data,t),uh(e,null),uh(r.blueprint,null));let i=Tf(t,e),o=t.injectorIndex;if(EI(i)){let s=Xc(i),a=eu(i,e),u=a[ue].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function uh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function DI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Tf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=xI(i),r===null)return Zi;if(n++,i=i[ao],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zi}function Nh(t,e,n){sM(t,e,n)}function TI(t,e,n){if(n&se.Optional||t!==void 0)return t;hf(e,"NodeInjector")}function SI(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[no],o=Et(void 0);try{return i?i.get(e,r,n&se.Optional):xw(e,r,n&se.Optional)}finally{Et(o)}}return TI(r,e,n)}function AI(t,e,n,r=se.Default,i){if(t!==null){if(e[Q]&2048&&!(r&se.Self)){let s=dM(t,e,n,r,un);if(s!==un)return s}let o=MI(t,e,n,r,un);if(o!==un)return o}return SI(e,n,r,i)}function MI(t,e,n,r,i){let o=uM(n);if(typeof o=="function"){if(!pI(e,t,r))return r&se.Host?TI(i,n,r):SI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))hf(n);else return s}finally{vI()}}else if(typeof o=="number"){let s=null,a=DI(t,e),u=Zi,l=r&se.Host?e[hn][en]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?Tf(t,e):e[a+8],u===Zi||!ew(r,!1)?a=-1:(s=e[ue],a=Xc(u),e=eu(u,e)));a!==-1;){let h=e[ue];if(X_(o,a,h.data)){let p=aM(a,e,n,s,r,l);if(p!==un)return p}u=e[a+8],u!==Zi&&ew(r,e[ue].data[a+8]===l)&&X_(o,a,e)?(s=h,a=Xc(u),e=eu(u,e)):a=-1}}return i}function aM(t,e,n,r,i,o){let s=e[ue],a=s.data[t+8],u=r==null?vu(a)&&Ph:r!=s&&(a.type&3)!==0,l=i&se.Host&&o===a,h=cM(a,s,n,u,l);return h!==null?oo(e,s,h,a):un}function cM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=s[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=s[u];if(v&&ur(v)&&v.type===n)return u}return null}function oo(t,e,n,r){let i=t[n],o=e.data;if(eM(i)){let s=i;s.resolving&&LS(VS(o[n]));let a=tu(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Et(s.injectImpl):null,h=pI(t,r,se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ZA(n,o[n],e)}finally{l!==null&&Et(l),tu(a),s.resolving=!1,vI()}}return i}function uM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(_s)?t[_s]:void 0;return typeof e=="number"?e>=0?e&CI:lM:e}function X_(t,e,n){let r=1<<t;return!!(n[e+(t>>bI)]&r)}function ew(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var $r=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return AI(this._tNode,this._lView,e,pu(r),n)}};function lM(){return new $r(Rt(),Ce())}function ri(t){return Rs(()=>{let e=t.prototype.constructor,n=e[Gc]||Oh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Gc]||Oh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Oh(t){return bw(t)?()=>{let e=Oh(mt(t));return e&&e()}:Hr(t)}function dM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=MI(o,s,n,r|se.Self,un);if(a!==un)return a;let u=o.parent;if(!u){let l=s[Qw];if(l){let h=l.get(n,un,r);if(h!==un)return h}u=xI(s),s=s[ao]}o=u}return i}function xI(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[en]:null}function tw(t,e=null,n=null,r){let i=RI(t,e,n,r);return i.resolveInjectorInitializers(),i}function RI(t,e=null,n=null,r,i=new Set){let o=[n||Ct,hA(t)];return r=r||(typeof t=="object"?void 0:yt(t)),new Es(o,e||yf(),r||null,i)}var Ut=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return tw({name:""},i,r,"");{let o=r.name??"";return tw({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=ws,e.NULL=new Qc,e.\u0275prov=G({token:e,providedIn:"any",factory:()=>ae(Ow)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var hM="ngOriginalError";function lh(t){return t[hM]}var Fn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&lh(e);for(;n&&lh(n);)n=lh(n);return n||null}},PI=new Y("",{providedIn:"root",factory:()=>O(Fn).handleError.bind(void 0)}),NI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),kh=class extends NI{constructor(e){super(),this._lView=e}onDestroy(e){return oI(this._lView,e),()=>FA(this._lView,e)}};function fM(){return new kh(Ce())}function pM(){return Cu(Rt(),Ce())}function Cu(t,e){return new nn(tn(t,e))}var nn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=pM;let t=e;return t})();var Fh=class extends gt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,CA()&&(this.destroyRef=O(NI,{optional:!0})??void 0)}emit(e){let n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=dh(o),i&&(i=dh(i)),s&&(s=dh(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(a),a}};function dh(t){return e=>{setTimeout(t,void 0,e)}}var bt=Fh;function OI(t){return(t.flags&128)===128}var kI=new Map,gM=0;function mM(){return gM++}function yM(t){kI.set(t[yu],t)}function vM(t){kI.delete(t[yu])}var nw="__ngContext__";function lr(t,e){Br(e)?(t[nw]=e[yu],yM(e)):t[nw]=e}function FI(t){return LI(t[bs])}function VI(t){return LI(t[Jt])}function LI(t){for(;t!==null&&!Un(t);)t=t[Jt];return t}var Vh;function jI(t){Vh=t}function _M(){if(Vh!==void 0)return Vh;if(typeof document<"u")return document;throw new q(210,!1)}var Sf=new Y("",{providedIn:"root",factory:()=>wM}),wM="ng",Af=new Y(""),fr=new Y("",{providedIn:"platform",factory:()=>"unknown"});var Mf=new Y("",{providedIn:"root",factory:()=>_M().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var IM="h",EM="b";var CM=()=>null;function xf(t,e,n=!1){return CM(t,e,n)}var UI=!1,bM=new Y("",{providedIn:"root",factory:()=>UI});var ru=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ew})`}};function ks(t){return t instanceof ru?t.changingThisBreaksApplicationSecurity:t}function BI(t,e){let n=DM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ew})`)}return n===e}function DM(t){return t instanceof ru&&t.getTypeName()||null}var TM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $I(t){return t=String(t),t.match(TM)?t:"unsafe:"+t}var Rf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Rf||{});function rn(t){let e=SM();return e?e.sanitize(Rf.URL,t)||"":BI(t,"URL")?ks(t):$I(df(t))}function SM(){let t=Ce();return t&&t[Xt].sanitizer}var AM=/^>|^->|<!--|-->|--!>|<!-$/g,MM=/(<|>)/g,xM="\u200B$1\u200B";function RM(t){return t.replace(AM,e=>e.replace(MM,xM))}function HI(t){return t.ownerDocument}function zI(t){return t instanceof Function?t():t}var Vn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vn||{}),PM;function Pf(t,e){return PM(t,e)}function Yi(t,e,n,r,i){if(r!=null){let o,s=!1;Un(r)?o=r:Br(r)&&(s=!0,r=r[jn]);let a=fn(r);t===0&&n!==null?i==null?QI(e,n,a):iu(e,n,a,i||null,!0):t===1&&n!==null?iu(e,n,a,i||null,!0):t===2?YM(e,a,s):t===3&&e.destroyNode(a),o!=null&&ZM(e,t,o,n,i)}}function NM(t,e){return t.createText(e)}function OM(t,e,n){t.setValue(e,n)}function kM(t,e){return t.createComment(RM(e))}function qI(t,e,n){return t.createElement(e,n)}function FM(t,e){GI(t,e),e[jn]=null,e[en]=null}function VM(t,e,n,r,i,o){r[jn]=i,r[en]=e,Du(t,r,n,1,i,o)}function GI(t,e){e[Xt].changeDetectionScheduler?.notify(1),Du(t,e,e[Ke],2,null,null)}function LM(t){let e=t[bs];if(!e)return hh(t[ue],t);for(;e;){let n=null;if(Br(e))n=e[bs];else{let r=e[Vt];r&&(n=r)}if(!n){for(;e&&!e[Jt]&&e!==t;)Br(e)&&hh(e[ue],e),e=e[at];e===null&&(e=t),Br(e)&&hh(e[ue],e),n=e&&e[Jt]}e=n}}function jM(t,e,n,r){let i=Vt+r,o=n.length;r>0&&(n[i-1][Jt]=e),r<o-Vt?(e[Jt]=n[i],Nw(n,Vt+r,e)):(n.push(e),e[Jt]=null),e[at]=n;let s=e[mu];s!==null&&n!==s&&UM(s,e);let a=e[ro];a!==null&&a.insertView(t),xh(e),e[Q]|=128}function UM(t,e){let n=t[Zc],i=e[at][at][hn];e[hn]!==i&&(t[Q]|=vf.HasTransplantedViews),n===null?t[Zc]=[e]:n.push(e)}function WI(t,e){let n=t[Zc],r=n.indexOf(e);n.splice(r,1)}function Lh(t,e){if(t.length<=Vt)return;let n=Vt+e,r=t[n];if(r){let i=r[mu];i!==null&&i!==t&&WI(i,r),e>0&&(t[n-1][Jt]=r[Jt]);let o=Kc(t,Vt+e);FM(r[ue],r);let s=o[ro];s!==null&&s.detachView(o[ue]),r[at]=null,r[Jt]=null,r[Q]&=-129}return r}function KI(t,e){if(!(e[Q]&256)){let n=e[Ke];n.destroyNode&&Du(t,e,n,3,null,null),LM(e)}}function hh(t,e){if(e[Q]&256)return;let n=_e(null);try{e[Q]&=-129,e[Q]|=256,e[qr]&&i_(e[qr]),$M(t,e),BM(t,e),e[ue].type===1&&e[Ke].destroy();let r=e[mu];if(r!==null&&Un(e[at])){r!==e[at]&&WI(r,e);let i=e[ro];i!==null&&i.detachView(t)}vM(e)}finally{_e(n)}}function BM(t,e){let n=t.cleanup,r=e[Cs];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Cs]=null);let i=e[cr];if(i!==null){e[cr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function $M(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Kr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];cn(4,a,u);try{u.call(a)}finally{cn(5,a,u)}}else{cn(4,i,o);try{o.call(i)}finally{cn(5,i,o)}}}}}function HM(t,e,n){return zM(t,e.parent,n)}function zM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[jn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===ln.None||o===ln.Emulated)return null}return tn(r,n)}}function iu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function QI(t,e,n){t.appendChild(e,n)}function rw(t,e,n,r,i){r!==null?iu(t,e,n,r,i):QI(t,e,n)}function qM(t,e,n,r){t.removeChild(e,n,r)}function Nf(t,e){return t.parentNode(e)}function GM(t,e){return t.nextSibling(e)}function WM(t,e,n){return QM(t,e,n)}function KM(t,e,n){return t.type&40?tn(t,n):null}var QM=KM,iw;function bu(t,e,n,r){let i=HM(t,r,e),o=e[Ke],s=r.parent||e[en],a=WM(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)rw(o,i,n[u],a,!1);else rw(o,i,n,a,!1);iw!==void 0&&iw(o,r,e,n,i)}function zc(t,e){if(e!==null){let n=e.type;if(n&3)return tn(e,t);if(n&4)return jh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return zc(t,r);{let i=t[e.index];return Un(i)?jh(-1,i):fn(i)}}else{if(n&32)return Pf(e,t)()||fn(t[e.index]);{let r=YI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ts(t[hn]);return zc(i,r)}else return zc(t,e.next)}}}return null}function YI(t,e){if(e!==null){let r=t[hn][en],i=e.projection;return r.projection[i]}return null}function jh(t,e){let n=Vt+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return zc(r,i)}return e[Gr]}function YM(t,e,n){let r=Nf(t,e);r&&qM(t,r,e,n)}function Of(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&lr(fn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Of(t,e,n.child,r,i,o,!1),Yi(e,t,i,a,o);else if(u&32){let l=Pf(n,r),h;for(;h=l();)Yi(e,t,i,h,o);Yi(e,t,i,a,o)}else u&16?JM(t,e,r,n,i,o):Yi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Du(t,e,n,r,i,o){Of(n,r,t.firstChild,e,i,o,!1)}function JM(t,e,n,r,i,o){let s=n[hn],u=s[en].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Yi(e,t,i,h,o)}else{let l=u,h=s[at];OI(r)&&(l.flags|=128),Of(t,e,l,h,i,o,!0)}}function ZM(t,e,n,r,i){let o=n[Gr],s=fn(n);o!==s&&Yi(e,t,r,o,i);for(let a=Vt;a<n.length;a++){let u=n[a];Du(u[ue],u,t,e,r,o)}}function XM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Vn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Vn.Important),t.setStyle(n,r,i,o))}}function ex(t,e,n){t.setAttribute(e,"style",n)}function JI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ZI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Dh(t,e,r),i!==null&&JI(t,e,i),o!==null&&ex(t,e,o)}var gn={};function H(t=1){XI(vt(),Ce(),ni()+t,!1)}function XI(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&$c(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Hc(e,o,0,n)}Wr(n)}function Me(t,e=se.Default){let n=Ce();if(n===null)return ae(t,e);let r=Rt();return AI(r,n,mt(t),e)}function eE(t,e,n,r,i,o){let s=_e(null);try{let a=null;i&dn.SignalBased&&(a=e[r][Ni]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&dn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Jw(e,a,r,o)}finally{_e(s)}}function tx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Wr(~i);else{let o=i,s=n[++r],a=n[++r];GA(s,o);let u=e[o];a(2,u)}}}finally{Wr(-1)}}function Tu(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[jn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),iI(p),p[at]=p[ao]=t,p[Zt]=n,p[Xt]=s||t&&t[Xt],p[Ke]=a||t&&t[Ke],p[no]=u||t&&t[no]||null,p[en]=o,p[yu]=mM(),p[Yc]=h,p[Qw]=l,p[hn]=e.type==2?t[hn]:p,p}function Fs(t,e,n,r,i){let o=t.data[e];if(o===null)o=nx(t,e,n,r,i),qA()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=HA();o.injectorIndex=s===null?-1:s.injectorIndex}return ti(o,!0),o}function nx(t,e,n,r,i){let o=uI(),s=Ef(),a=s?o:o&&o.parent,u=t.data[e]=ax(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function tE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function nE(t,e,n,r,i){let o=ni(),s=r&2;try{Wr(-1),s&&e.length>jt&&XI(t,e,jt,!1),cn(s?2:0,i),n(r,i)}finally{Wr(o),cn(s?3:1,i)}}function kf(t,e,n){if(_f(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{_e(r)}}}function Ff(t,e,n){sI()&&(fx(t,e,n,tn(n,e)),(n.flags&64)===64&&sE(t,e,n))}function Vf(t,e,n=tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function rE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Lf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Lf(t,e,n,r,i,o,s,a,u,l,h){let p=jt+r,m=p+i,v=rx(p,m),S=typeof l=="function"?l():l;return v[ue]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function rx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:gn);return n}function ix(t,e,n,r){let o=r.get(bM,UI)||n===ln.ShadowDom,s=t.selectRootElement(e,o);return ox(s),s}function ox(t){sx(t)}var sx=()=>null;function ax(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return UA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ow(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=dn.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?sw(r,n,l,a,u):sw(r,n,l,a)}return r}function sw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function cx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=ow(0,p.inputs,h,u,v),l=ow(1,p.outputs,h,l,S);let R=u!==null&&s!==null&&!gf(e)?Ex(u,h,s):null;a.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function ux(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function iE(t,e,n,r,i,o,s,a){let u=tn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Uf(t,n,h,r,i),vu(e)&&lx(n,e.index)):e.type&3?(r=ux(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function lx(t,e){let n=hr(e,t);n[Q]&16||(n[Q]|=64)}function jf(t,e,n,r){if(sI()){let i=r===null?null:{"":-1},o=gx(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&oE(t,e,n,s,i,a),i&&mx(n,r,i)}n.mergedAttrs=Is(n.mergedAttrs,n.attrs)}function oE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Nh(nu(n,e),t,r[l].type);vx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=tE(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Is(n.mergedAttrs,h.hostAttrs),_x(t,n,e,u,h),yx(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}cx(t,n,o)}function dx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;hx(s)!=a&&s.push(a),s.push(n,r,o)}}function hx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function fx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;vu(n)&&wx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||nu(n,e),lr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=oo(e,t,a,n);if(lr(l,e),s!==null&&Ix(e,a-i,l,u,n,s),ur(u)){let h=hr(n.index,e);h[Zt]=oo(e,t,a,n)}}}function sE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=WA();try{Wr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Rh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&px(u,l)}}finally{Wr(-1),Rh(s)}}function px(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function gx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(rA(e,s.selectors,!1))if(r||(r=[]),ur(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Uh(t,e,u)}else r.unshift(s),Uh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Uh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}}function yx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ur(e)&&(n[""]=t)}}function vx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _x(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Hr(i.type,!0)),s=new Kr(o,ur(i),Me);t.blueprint[r]=s,n[r]=s,dx(t,e,r,tE(t,n,i.hostVars,gn),i)}function wx(t,e,n){let r=tn(e,t),i=rE(n),o=t[Xt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Su(t,Tu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Ix(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];eE(r,n,u,l,h,p)}}function Ex(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function aE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function cE(t,e){let n=t.contentQueries;if(n!==null){let r=_e(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];fI(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function Su(t,e){return t[bs]?t[Y_][Jt]=e:t[bs]=e,t[Y_]=e,e}function Bh(t,e,n){fI(0);let r=_e(null);try{e(t,n)}finally{_e(r)}}function Cx(t){return t[Cs]||(t[Cs]=[])}function bx(t){return t.cleanup||(t.cleanup=[])}function uE(t,e){let n=t[no],r=n?n.get(Fn,null):null;r&&r.handleError(e)}function Uf(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];eE(h,l,r,a,u,i)}}function Dx(t,e,n){let r=tI(e,t);OM(t[Ke],r,n)}function Tx(t,e){let n=hr(e,t),r=n[ue];Sx(r,n);let i=n[jn];i!==null&&n[Yc]===null&&(n[Yc]=xf(i,n[no])),Bf(r,n,n[Zt])}function Sx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Bf(t,e,n){bf(e);try{let r=t.viewQuery;r!==null&&Bh(1,r,n);let i=t.template;i!==null&&nE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ro]?.finishViewCreation(t),t.staticContentQueries&&cE(t,e),t.staticViewQueries&&Bh(2,t.viewQuery,n);let o=t.components;o!==null&&Ax(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Df()}}function Ax(t,e){for(let n=0;n<e.length;n++)Tx(t,e[n])}function Mx(t,e,n,r){let i=_e(null);try{let o=e.tView,a=t[Q]&4096?4096:16,u=Tu(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[mu]=l;let h=t[ro];return h!==null&&(u[ro]=h.createEmbeddedView(o)),Bf(o,u,n),u}finally{_e(i)}}function aw(t,e){return!e||e.firstChild===null||OI(t)}function xx(t,e,n,r=!0){let i=e[ue];if(jM(i,e,t,n),r){let s=jh(n,t),a=e[Ke],u=Nf(a,t[Gr]);u!==null&&VM(i,t[en],a,e,u,s)}let o=e[Yc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ou(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(fn(o)),Un(o)&&Rx(o,r);let s=n.type;if(s&8)ou(t,e,n.child,r);else if(s&32){let a=Pf(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=YI(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ts(e[hn]);ou(u[ue],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Rx(t,e){for(let n=Vt;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&ou(r[ue],r,i,e)}t[Gr]!==t[jn]&&e.push(t[Gr])}var lE=[];function Px(t){return t[qr]??Nx(t)}function Nx(t){let e=lE.pop()??Object.create(kx);return e.lView=t,e}function Ox(t){t.lView[qr]!==t&&(t.lView=null,lE.push(t))}var kx=Te(U({},Fd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ds(t.lView)},consumerOnSignalRead(){this.lView[qr]=this}}),dE=100;function hE(t,e=!0,n=0){let r=t[Xt],i=r.rendererFactory,o=!1;o||i.begin?.();try{Fx(t,n)}catch(s){throw e&&uE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Fx(t,e){$h(t,e);let n=0;for(;If(t);){if(n===dE)throw new q(103,!1);n++,$h(t,1)}}function Vx(t,e,n,r){let i=e[Q];if((i&256)===256)return;let o=!1;!o&&e[Xt].inlineEffectRunner?.flush(),bf(e);let s=null,a=null;!o&&Lx(t)&&(a=Px(e),s=n_(a));try{iI(e),zA(t.bindingStartIndex),n!==null&&nE(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&$c(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Hc(e,p,0,null),ch(e,0)}if(jx(e),fE(e,0),t.contentQueries!==null&&cE(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&$c(e,p)}else{let p=t.contentHooks;p!==null&&Hc(e,p,1),ch(e,1)}tx(t,e);let l=t.components;l!==null&&gE(e,l,0);let h=t.viewQuery;if(h!==null&&Bh(2,h,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&$c(e,p)}else{let p=t.viewHooks;p!==null&&Hc(e,p,2),ch(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ah]){for(let p of e[ah])p();e[ah]=null}o||(e[Q]&=-73)}catch(u){throw Ds(e),u}finally{a!==null&&(r_(a,s),Ox(a)),Df()}}function Lx(t){return t.type!==2}function fE(t,e){for(let n=FI(t);n!==null;n=VI(n))for(let r=Vt;r<n.length;r++){let i=n[r];pE(i,e)}}function jx(t){for(let e=FI(t);e!==null;e=VI(e)){if(!(e[Q]&vf.HasTransplantedViews))continue;let n=e[Zc];for(let r=0;r<n.length;r++){let i=n[r],o=i[at];OA(i)}}}function Ux(t,e,n){let r=hr(e,t);pE(r,n)}function pE(t,e){wf(t)&&$h(t,e)}function $h(t,e){let r=t[ue],i=t[Q],o=t[qr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Vd(o)),o&&(o.dirty=!1),t[Q]&=-9217,s)Vx(r,t,r.template,t[Zt]);else if(i&8192){fE(t,1);let a=r.components;a!==null&&gE(t,a,1)}}function gE(t,e,n){for(let r=0;r<e.length;r++)Ux(t,e[r],n)}function $f(t){for(t[Xt].changeDetectionScheduler?.notify();t;){t[Q]|=64;let e=Ts(t);if(DA(t)&&!e)return t;t=e}return null}var Qr=class{get rootNodes(){let e=this._lView,n=e[ue];return ou(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zt]}set context(e){this._lView[Zt]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(Un(e)){let n=e[Jc],r=n?n.indexOf(this):-1;r>-1&&(Lh(e,r),Kc(n,r))}this._attachedToViewContainer=!1}KI(this._lView[ue],this._lView)}onDestroy(e){oI(this._lView,e)}markForCheck(){$f(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){xh(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,hE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,GI(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e,xh(this._lView)}},Au=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Hx;let t=e;return t})(),Bx=Au,$x=class extends Bx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Mx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Qr(i)}};function Hx(){return zx(Rt(),Ce())}function zx(t,e){return t.type&4?new $x(e,t,Cu(t,e)):null}var $z=new RegExp(`^(\\d+)*(${EM}|${IM})*(.*)`);var qx=()=>null;function cw(t,e){return qx(t,e)}var Hh=class{},zh=class{},su=class{};function Gx(t){let e=Error(`No component factory found for ${yt(t)}.`);return e[Wx]=t,e}var Wx="ngComponent";var qh=class{resolveComponentFactory(e){throw Gx(e)}},Mu=(()=>{let e=class e{};e.NULL=new qh;let t=e;return t})(),Ss=class{},pr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Kx();let t=e;return t})();function Kx(){let t=Ce(),e=Rt(),n=hr(e.index,t);return(Br(n)?n:t)[Ke]}var Qx=(()=>{let e=class e{};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),fh={};var uw=new Set;function Hf(t){uw.has(t)||(uw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function lw(...t){}function Yx(){let t=typeof kn.requestAnimationFrame=="function",e=kn[t?"requestAnimationFrame":"setTimeout"],n=kn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var be=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bt(!1),this.onMicrotaskEmpty=new bt(!1),this.onStable=new bt(!1),this.onError=new bt(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Yx().nativeRequestAnimationFrame,Xx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Jx,lw,lw);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Jx={};function zf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Zx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gh(t),t.isCheckStableRunning=!0,zf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gh(t))}function Xx(t){let e=()=>{Zx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(eR(a))return n.invokeTask(i,o,s,a);try{return dw(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),hw(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return dw(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),hw(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Gh(t),zf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Gh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function dw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hw(t){t._nesting--,zf(t)}function eR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var mE=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=G({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function au(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ih(i,a);else if(o==2){let u=a,l=e[++s];r=Ih(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var cu=class extends Mu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=zr(e);return new As(n,this.ngModule)}};function fw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function tR(t){let e=t.toLowerCase();return e==="svg"?MA:e==="math"?xA:null}var Wh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=pu(r);let i=this.injector.get(e,fh,r);return i!==fh||n===fh?i:this.parentInjector.get(e,n,r)}},As=class extends su{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=fw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return fw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=aA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=_e(null);try{i=i||this.ngModule;let s=i instanceof Lt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Wh(e,s):e,u=a.get(Ss,null);if(u===null)throw new q(407,!1);let l=a.get(Qx,null),h=a.get(mE,null),p=a.get(Hh,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},v=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=r?ix(v,r,this.componentDef.encapsulation,a):qI(v,S,tR(S)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let j=null;R!==null&&(j=xf(R,a,!0));let K=Lf(0,null,null,1,0,null,null,null,null,null,null),W=Tu(null,K,null,P,null,null,m,v,a,null,j);bf(W);let ie,Re;try{let ee=this.componentDef,E,y=null;ee.findHostDirectiveDefs?(E=[],y=new Map,ee.findHostDirectiveDefs(ee,E,y),E.push(ee)):E=[ee];let _=nR(W,R),I=rR(_,R,ee,E,W,m,v);Re=nI(K,jt),R&&sR(v,ee,R,r),n!==void 0&&aR(Re,this.ngContentSelectors,n),ie=oR(I,ee,E,y,W,[cR]),Bf(K,W,null)}finally{Df()}return new Kh(this.componentType,ie,Cu(Re,W),W,Re)}finally{_e(o)}}},Kh=class extends zh{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Qr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Uf(o[ue],o,i,e,n),this.previousInputValues.set(e,n);let s=hr(this._tNode.index,o);$f(s)}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function nR(t,e){let n=t[ue],r=jt;return t[r]=e,Fs(n,r,2,"#host",null)}function rR(t,e,n,r,i,o,s){let a=i[ue];iR(r,t,e,s);let u=null;e!==null&&(u=xf(e,i[no]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Tu(i,rE(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Uh(a,t,r.length-1),Su(i,p),i[t.index]=p}function iR(t,e,n,r){for(let i of t)e.mergedAttrs=Is(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(au(e,e.mergedAttrs,!0),n!==null&&ZI(r,n,e))}function oR(t,e,n,r,i,o){let s=Rt(),a=i[ue],u=tn(s,i);oE(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=oo(i,a,p,s);lr(m,i)}sE(a,i,s),u&&lr(u,i);let l=oo(i,a,s.directiveStart+s.componentOffset,s);if(t[Zt]=i[Zt]=l,o!==null)for(let h of o)h(l,e);return kf(a,s,i),l}function sR(t,e,n,r){if(r)Dh(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=cA(e.selectors[0]);i&&Dh(t,n,i),o&&o.length>0&&JI(t,n,o.join(" "))}}function aR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function cR(){let t=Rt();Eu(Ce()[ue],t)}var gr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uR;let t=e;return t})();function uR(){let t=Rt();return dR(t,Ce())}var lR=gr,yE=class extends lR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Cu(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){let e=Tf(this._hostTNode,this._hostLView);if(EI(e)){let n=eu(e,this._hostLView),r=Xc(e),i=n[ue].data[r+8];return new $r(i,n)}else return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=pw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=cw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,aw(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!bA(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new As(zr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(Lt,null);R&&(o=R)}let h=zr(u.componentType??{}),p=cw(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,o);return this.insertImpl(v.hostView,a,aw(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(NA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[at],l=new yE(u,u[en],u[at]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return xx(s,i,o,r),e.attachToViewContainerRef(),Nw(ph(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=pw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Lh(this._lContainer,n);r&&(Kc(ph(this._lContainer),n),KI(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=Lh(this._lContainer,n);return r&&Kc(ph(this._lContainer),n)!=null?new Qr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function pw(t){return t[Jc]}function ph(t){return t[Jc]||(t[Jc]=[])}function dR(t,e){let n,r=e[t.index];return Un(r)?n=r:(n=aE(r,e,null,t),e[t.index]=n,Su(e,n)),fR(n,e,t,r),new yE(n,t,e)}function hR(t,e){let n=t[Ke],r=n.createComment(""),i=tn(e,t),o=Nf(n,i);return iu(n,o,r,GM(n,i),!1),r}var fR=mR,pR=()=>!1;function gR(t,e,n){return pR(t,e,n)}function mR(t,e,n,r){if(t[Gr])return;let i;n.type&8?i=fn(r):i=hR(e,n),t[Gr]=i}function vE(t,e){Hf("NgSignals");let n=l_(t),r=n[Ni];return e?.equal&&(r.equal=e.equal),n.set=i=>Ld(r,i),n.update=i=>d_(r,i),n.asReadonly=yR.bind(n),n}function yR(){let t=this[Ni];if(t.readonlyFn===void 0){let e=()=>this();e[Ni]=t,t.readonlyFn=e}return t.readonlyFn}function vR(t){return Object.getPrototypeOf(t.prototype).constructor}function Vs(t){let e=vR(t.type),n=!0,r=[t];for(;e;){let i;if(ur(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=jc(t.inputs),s.inputTransforms=jc(t.inputTransforms),s.declaredInputs=jc(t.declaredInputs),s.outputs=jc(t.outputs);let a=i.hostBindings;a&&CR(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&IR(t,u),l&&ER(t,l),_R(t,i),MS(t.outputs,i.outputs),ur(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Vs&&(n=!1)}}e=Object.getPrototypeOf(e)}wR(r)}function _R(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function wR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Is(i.hostAttrs,n=Is(n,i.hostAttrs))}}function jc(t){return t===Xi?{}:t===Ct?[]:t}function IR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function ER(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function CR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var dr=class{},Ms=class{};var Qh=class extends dr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cu(this);let i=$w(e);this._bootstrapComponents=zI(i.bootstrap),this._r3Injector=RI(e,n,[{provide:dr,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yh=class extends Ms{constructor(e){super(),this.moduleType=e}create(e){return new Qh(this.moduleType,e,[])}};var uu=class extends dr{constructor(e){super(),this.componentFactoryResolver=new cu(this),this.instance=null;let n=new Es([...e.providers,{provide:dr,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver}],e.parent||yf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function qf(t,e,n=null){return new uu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var xu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _E(t){return DR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function bR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function DR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Gf(t,e,n){return t[e]=n}function Yr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Jh(t,e,n,r){let i=Yr(t,e,n);return Yr(t,e+1,r)||i}function TR(t,e,n,r,i,o){let s=Jh(t,e,n,r);return Jh(t,e+2,i,o)||s}function SR(t){return(t.flags&32)===32}function AR(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Fs(e,t,4,s||null,io(l,a));jf(e,n,h,io(l,u)),Eu(e,h);let p=h.tView=Lf(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Le(t,e,n,r,i,o,s,a){let u=Ce(),l=vt(),h=t+jt,p=l.firstCreatePass?AR(h,l,u,e,n,r,i,o,s):l.data[h];ti(p,!1);let m=MR(l,u,p,t);wu()&&bu(l,u,m,p),lr(m,u);let v=aE(m,u,m,p);return u[h]=v,Su(u,v),gR(v,p,u),_u(p)&&Ff(l,u,p),s!=null&&Vf(u,p,a),Le}var MR=xR;function xR(t,e,n,r){return Iu(!0),e[Ke].createComment("")}function wE(t,e,n,r){return Yr(t,dI(),n)?e+df(n)+r:gn}function Uc(t,e){return t<<17|e<<2}function Jr(t){return t>>17&32767}function RR(t){return(t&2)==2}function PR(t,e){return t&131071|e<<17}function Zh(t){return t|2}function so(t){return(t&131068)>>2}function gh(t,e){return t&-131069|e<<2}function NR(t){return(t&1)===1}function Xh(t){return t|1}function OR(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Jr(s),u=so(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ns(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Jr(t[a+1]);t[r+1]=Uc(m,a),m!==0&&(t[m+1]=gh(t[m+1],r)),t[a+1]=PR(t[a+1],r)}else t[r+1]=Uc(a,0),a!==0&&(t[a+1]=gh(t[a+1],r)),a=r;else t[r+1]=Uc(u,0),a===0?a=r:t[u+1]=gh(t[u+1],r),u=r;l&&(t[r+1]=Zh(t[r+1])),gw(t,h,r,!0),gw(t,h,r,!1),kR(e,h,t,r,o),s=Uc(a,u),o?e.classBindings=s:e.styleBindings=s}function kR(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ns(o,e)>=0&&(n[r+1]=Xh(n[r+1]))}function gw(t,e,n,r){let i=t[n+1],o=e===null,s=r?Jr(i):so(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];FR(u,e)&&(a=!0,t[s+1]=r?Xh(l):Zh(l)),s=r?Jr(l):so(l)}a&&(t[n+1]=r?Zh(i):Xh(i))}function FR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ns(t,e)>=0:!1}var Yt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VR(t){return t.substring(Yt.key,Yt.keyEnd)}function LR(t){return jR(t),IE(t,EE(t,0,Yt.textEnd))}function IE(t,e){let n=Yt.textEnd;return n===e?-1:(e=Yt.keyEnd=UR(t,Yt.key=e,n),EE(t,e,n))}function jR(t){Yt.key=0,Yt.keyEnd=0,Yt.value=0,Yt.valueEnd=0,Yt.textEnd=t.length}function EE(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function UR(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function te(t,e,n){let r=Ce(),i=dI();if(Yr(r,i,e)){let o=vt(),s=_I();iE(o,s,r,t,e,r[Ke],n,!1)}return te}function ef(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Uf(t,n,o[s],s,r)}function Bn(t,e){return $R(t,e,null,!0),Bn}function CE(t){HR(QR,BR,t,!0)}function BR(t,e){for(let n=LR(e);n>=0;n=IE(e,n))pf(t,VR(e),!0)}function $R(t,e,n,r){let i=Ce(),o=vt(),s=hI(2);if(o.firstUpdatePass&&DE(o,t,s,r),e!==gn&&Yr(i,s,e)){let a=o.data[ni()];TE(o,a,i,i[Ke],t,i[s+1]=JR(e,n),r,s)}}function HR(t,e,n,r){let i=vt(),o=hI(2);i.firstUpdatePass&&DE(i,null,o,r);let s=Ce();if(n!==gn&&Yr(s,o,n)){let a=i.data[ni()];if(SE(a,r)&&!bE(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=Ih(u,n||"")),ef(i,a,s,n,r)}else YR(i,a,s,s[Ke],s[o+1],s[o+1]=KR(t,e,n),r,o)}}function bE(t,e){return e>=t.expandoStartIndex}function DE(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ni()],s=bE(t,n);SE(o,r)&&e===null&&!s&&(e=!1),e=zR(i,o,e,r),OR(i,o,e,n,s,r)}}function zR(t,e,n,r){let i=KA(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=mh(null,t,e,n,r),n=xs(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=mh(i,t,e,n,r),o===null){let u=qR(t,e,r);u!==void 0&&Array.isArray(u)&&(u=mh(null,t,e,u[1],r),u=xs(u,e.attrs,r),GR(t,e,r,u))}else o=WR(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function qR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(so(r)!==0)return t[Jr(r)]}function GR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Jr(i)]=r}function WR(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xs(r,s,n)}return xs(r,e.attrs,n)}function mh(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=xs(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function xs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),pf(t,s,n?!0:e[++o]))}return t===void 0?null:t}function KR(t,e,n){if(n==null||n==="")return Ct;let r=[],i=ks(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function QR(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&pf(t,r,n)}function YR(t,e,n,r,i,o,s,a){i===gn&&(i=Ct);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,v=l<o.length?o[l+1]:void 0,S=null,R;h===p?(u+=2,l+=2,m!==v&&(S=p,R=v)):p===null||h!==null&&h<p?(u+=2,S=h):(l+=2,S=p,R=v),S!==null&&TE(t,e,n,r,S,R,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function TE(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=NR(l)?mw(u,e,n,i,so(l),s):void 0;if(!lu(h)){lu(o)||RR(l)&&(o=mw(u,null,n,i,a,s));let p=tI(ni(),n);XM(r,s,p,i,o)}}function mw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===gn&&(m=p?Ct:void 0);let v=p?oh(m,r):h===r?m:void 0;if(l&&!lu(v)&&(v=oh(u,r)),lu(v)&&(a=v,s))return a;let S=t[i+1];i=s?Jr(S):so(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=oh(u,r))}return a}function lu(t){return t!==void 0}function JR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=yt(ks(t)))),t}function SE(t,e){return(t.flags&(e?8:16))!==0}function ZR(t,e,n,r,i,o){let s=e.consts,a=io(s,i),u=Fs(e,t,2,r,a);return jf(e,n,u,io(s,o)),u.attrs!==null&&au(u,u.attrs,!1),u.mergedAttrs!==null&&au(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function M(t,e,n,r){let i=Ce(),o=vt(),s=jt+t,a=i[Ke],u=o.firstCreatePass?ZR(s,o,i,e,n,r):o.data[s],l=XR(o,i,u,a,e,t);i[s]=l;let h=_u(u);return ti(u,!0),ZI(a,l,u),!SR(u)&&wu()&&bu(o,i,l,u),VA()===0&&lr(l,i),LA(),h&&(Ff(o,i,u),kf(o,u,i)),r!==null&&Vf(i,u),M}function x(){let t=Rt();Ef()?lI():(t=t.parent,ti(t,!1));let e=t;BA(e)&&$A(),jA();let n=vt();return n.firstCreatePass&&(Eu(n,t),_f(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&tM(e)&&ef(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nM(e)&&ef(n,e,Ce(),e.stylesWithoutHost,!1),x}function $(t,e,n,r){return M(t,e,n,r),x(),$}var XR=(t,e,n,r,i,o)=>(Iu(!0),qI(r,i,JA()));function eP(t,e,n,r,i){let o=e.consts,s=io(o,r),a=Fs(e,t,8,"ng-container",s);s!==null&&au(a,s,!0);let u=io(o,i);return jf(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function Ru(t,e,n){let r=Ce(),i=vt(),o=t+jt,s=i.firstCreatePass?eP(o,i,r,e,n):i.data[o];ti(s,!0);let a=tP(i,r,s,t);return r[o]=a,wu()&&bu(i,r,a,s),lr(a,r),_u(s)&&(Ff(i,r,s),kf(i,s,r)),n!=null&&Vf(r,s),Ru}function Pu(){let t=Rt(),e=vt();return Ef()?lI():(t=t.parent,ti(t,!1)),e.firstCreatePass&&(Eu(e,t),_f(t)&&e.queries.elementEnd(t)),Pu}var tP=(t,e,n,r)=>(Iu(!0),kM(e[Ke],""));function AE(){return Ce()}var Ur=void 0;function nP(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var rP=["en",[["a","p"],["AM","PM"],Ur],[["AM","PM"],Ur,Ur],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ur,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ur,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ur,"{1} 'at' {0}",Ur],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",nP],yh={};function Nu(t){let e=iP(t),n=yw(e);if(n)return n;let r=e.split("-")[0];if(n=yw(r),n)return n;if(r==="en")return rP;throw new q(701,!1)}function yw(t){return t in yh||(yh[t]=kn.ng&&kn.ng.common&&kn.ng.common.locales&&kn.ng.common.locales[t]),yh[t]}var ii=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ii||{});function iP(t){return t.toLowerCase().replace(/_/g,"-")}var du="en-US",oP="USD";var sP=du;function aP(t){typeof t=="string"&&(sP=t.toLowerCase().replace(/_/g,"-"))}function oe(t,e,n,r){let i=Ce(),o=vt(),s=Rt();return uP(o,i,i[Ke],s,t,e,r),oe}function cP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Cs],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function uP(t,e,n,r,i,o,s){let a=_u(r),l=t.firstCreatePass&&bx(t),h=e[Zt],p=Cx(e),m=!0;if(r.type&3||s){let R=tn(r,e),P=s?s(R):R,j=p.length,K=s?ie=>s(fn(ie[r.index])):r.index,W=null;if(!s&&a&&(W=cP(t,e,i,r.index)),W!==null){let ie=W.__ngLastListenerFn__||W;ie.__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,m=!1}else{o=_w(r,e,h,o,!1);let ie=n.listen(P,i,o);p.push(o,ie),l&&l.push(i,K,j,j+1)}}else o=_w(r,e,h,o,!1);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let R=S.length;if(R)for(let P=0;P<R;P+=2){let j=S[P],K=S[P+1],Re=e[j][K].subscribe(o),ee=p.length;p.push(o,Re),l&&l.push(i,r.index,ee,-(ee+1))}}}function vw(t,e,n,r){let i=_e(null);try{return cn(6,e,n),n(r)!==!1}catch(o){return uE(t,o),!1}finally{cn(7,e,n),_e(i)}}function _w(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?hr(t.index,e):e;$f(a);let u=vw(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)u=vw(e,n,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function mn(t=1){return YA(t)}function Wf(t,e,n){return ME(t,"",e,"",n),Wf}function ME(t,e,n,r,i){let o=Ce(),s=wE(o,e,n,r);if(s!==gn){let a=vt(),u=_I();iE(a,u,o,t,s,o[Ke],i,!1)}return ME}function lP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function V(t,e=""){let n=Ce(),r=vt(),i=t+jt,o=r.firstCreatePass?Fs(r,i,1,e,null):r.data[i],s=dP(r,n,o,e,t);n[i]=s,wu()&&bu(r,n,s,o),ti(o,!1)}var dP=(t,e,n,r,i)=>(Iu(!0),NM(e[Ke],r));function Qe(t){return _t("",t,""),Qe}function _t(t,e,n){let r=Ce(),i=wE(r,t,e,n);return i!==gn&&Dx(r,ni(),i),_t}function hP(t,e,n){let r=vt();if(r.firstCreatePass){let i=ur(t);tf(n,r.data,r.blueprint,i,!0),tf(e,r.data,r.blueprint,i,!1)}}function tf(t,e,n,r,i){if(t=mt(t),Array.isArray(t))for(let o=0;o<t.length;o++)tf(t[o],e,n,r,i);else{let o=vt(),s=Ce(),a=Rt(),u=to(t)?t:mt(t.provide),l=Kw(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(to(t)||!t.multi){let v=new Kr(l,i,Me),S=_h(u,e,i?h:h+m,p);S===-1?(Nh(nu(a,s),o,u),vh(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[S]=v,s[S]=v)}else{let v=_h(u,e,h+m,p),S=_h(u,e,h,h+m),R=v>=0&&n[v],P=S>=0&&n[S];if(i&&!P||!i&&!R){Nh(nu(a,s),o,u);let j=gP(i?pP:fP,n.length,i,r,l);!i&&P&&(n[S].providerFactory=j),vh(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=xE(n[i?S:v],l,!i&&r);vh(o,t,v>-1?v:S,j)}!i&&r&&P&&n[S].componentProviders++}}}function vh(t,e,n,r){let i=to(e),o=mA(e);if(i||o){let u=(o?mt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function xE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _h(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fP(t,e,n,r){return nf(this.multi,[])}function pP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=oo(n,n[ue],this.providerFactory.index,r);o=a.slice(0,s),nf(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],nf(i,o);return o}function nf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function gP(t,e,n,r,i){let o=new Kr(t,n,Me);return o.multi=[],o.index=e,o.componentProviders=0,xE(o,i,r&&!n),o}function Kf(t,e=[]){return n=>{n.providersResolver=(r,i)=>hP(r,i?i(t):t,e)}}var mP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=qw(!1,r.type),o=i.length>0?qf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=G({token:e,providedIn:"environment",factory:()=>new e(ae(Lt))});let t=e;return t})();function xe(t){Hf("NgStandalone"),t.getStandaloneInjector=e=>e.get(mP).getOrCreateStandaloneInjector(t)}function Ls(t,e,n,r){return yP(Ce(),Cf(),t,e,n,r)}function Qf(t,e){let n=t[e];return n===gn?void 0:n}function yP(t,e,n,r,i,o){let s=e+n;return Yr(t,s,i)?Gf(t,s+1,o?r.call(o,i):r(i)):Qf(t,s+1)}function vP(t,e,n,r,i,o,s){let a=e+n;return Jh(t,a,i,o)?Gf(t,a+2,s?r.call(s,i,o):r(i,o)):Qf(t,a+2)}function _P(t,e,n,r,i,o,s,a,u){let l=e+n;return TR(t,l,i,o,s,a)?Gf(t,l+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):Qf(t,l+4)}function $n(t,e){let n=vt(),r,i=t+jt;n.firstCreatePass?(r=wP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Hr(r.type,!0)),s,a=Et(Me);try{let u=tu(!1),l=o();return tu(u),lP(n,Ce(),i,l),l}finally{Et(a)}}function wP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function RE(t,e,n,r){let i=t+jt,o=Ce(),s=rI(o,i);return PE(o,i)?vP(o,Cf(),e,s.transform,n,r,s):s.transform(n,r)}function oi(t,e,n,r,i,o){let s=t+jt,a=Ce(),u=rI(a,s);return PE(a,s)?_P(a,Cf(),e,u.transform,n,r,i,o,u):u.transform(n,r,i,o)}function PE(t,e){return t[ue].data[e].pure}var Ln=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},NE=new Ln("17.3.12"),Ou=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var OE=new Y("");function co(t){return!!t&&typeof t.then=="function"}function kE(t){return!!t&&typeof t.subscribe=="function"}var FE=new Y(""),VE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(FE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(co(s))r.push(s);else if(kE(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yf=new Y("");function IP(){u_(()=>{throw new q(600,!1)})}function EP(t){return t.isBoundToModule}function CP(t,e,n){try{let r=n();return co(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var js=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(PI),this.afterRenderEffectManager=O(mE),this.externalTestViews=new Set,this.beforeRender=new gt,this.afterTick=new gt,this.componentTypes=[],this.components=[],this.isStable=O(xu).hasPendingTasks.pipe(fe(r=>!r)),this._injector=O(Lt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof su;if(!this._injector.get(VE).done){let v=!o&&Bw(r),S=!1;throw new q(405,S)}let a;o?a=r:a=this._injector.get(Mu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=EP(a)?void 0:this._injector.get(dr),l=i||a.selector,h=a.create(Ut.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(OE,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),wh(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new q(101,!1);let i=_e(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,_e(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===dE)throw new q(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)bP(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>rf(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>rf(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;wh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Yf,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>wh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function bP(t,e,n){!e&&!rf(t)||DP(t,n,e)}function rf(t){return If(t)}function DP(t,e,n){let r;n?(r=0,t[Q]|=1024):t[Q]&64?r=0:r=1,hE(t,e,r)}var of=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Jf=(()=>{let e=class e{compileModuleSync(r){return new Yh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=$w(r),s=zI(o.declarations).reduce((a,u)=>{let l=zr(u);return l&&a.push(new As(l)),a},[]);return new of(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var TP=(()=>{let e=class e{constructor(){this.zone=O(be),this.applicationRef=O(js)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SP(t){return[{provide:be,useFactory:t},{provide:eo,multi:!0,useFactory:()=>{let e=O(TP,{optional:!0});return()=>e.initialize()}},{provide:eo,multi:!0,useFactory:()=>{let e=O(RP);return()=>{e.initialize()}}},{provide:PI,useFactory:AP}]}function AP(){let t=O(be),e=O(Fn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function MP(t){let e=SP(()=>new be(xP(t)));return pn([[],e])}function xP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var RP=(()=>{let e=class e{constructor(){this.subscription=new Ve,this.initialized=!1,this.zone=O(be),this.pendingTasks=O(xu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PP(){return typeof $localize<"u"&&$localize.locale||du}var ku=new Y("",{providedIn:"root",factory:()=>O(ku,se.Optional|se.SkipSelf)||PP()}),LE=new Y("",{providedIn:"root",factory:()=>oP});var jE=new Y("");var qc=null;function NP(t=[],e){return Ut.create({name:e,providers:[{provide:gu,useValue:"platform"},{provide:jE,useValue:new Set([()=>qc=null])},...t]})}function OP(t=[]){if(qc)return qc;let e=NP(t);return qc=e,IP(),kP(e),e}function kP(t){t.get(Af,null)?.forEach(n=>n())}var yn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FP;let t=e;return t})();function FP(t){return VP(Rt(),Ce(),(t&16)===16)}function VP(t,e,n){if(vu(t)&&!n){let r=hr(t.index,e);return new Qr(r,r)}else if(t.type&47){let r=e[hn];return new Qr(r,e)}return null}var sf=class{constructor(){}supports(e){return _E(e)}create(e){return new af(e)}},LP=(t,e)=>e,af=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||LP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<ww(r,i,o)?n:r,a=ww(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,S=v+m;h<=S&&S<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!_E(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,bR(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new cf(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new hu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new hu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},cf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},uf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},hu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new uf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ww(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Iw(){return new Zf([new sf])}var Zf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Iw()),deps:[[e,new Pw,new ct]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new q(901,!1)}};e.\u0275prov=G({token:e,providedIn:"root",factory:Iw});let t=e;return t})();function UE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=OP(r),o=[MP(),...n||[]],a=new uu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(be);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Fn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>a.destroy(),m=i.get(jE);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),CP(l,u,()=>{let v=a.get(VE);return v.runInitializers(),v.donePromise.then(()=>{let S=a.get(ku,du);aP(S||du);let R=a.get(js);return e!==void 0&&R.bootstrap(e),R})})})}catch(e){return Promise.reject(e)}}var QE=null;function uo(){return QE}function YE(t){QE??=t}var Fu=class{};var Bt=new Y(""),ip=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(BP),providedIn:"platform"});let t=e;return t})();var BP=(()=>{let e=class e extends ip{constructor(){super(),this._doc=O(Bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return uo().getBaseHref(this._doc)}onPopState(r){let i=uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function op(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function BE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Hn(t){return t&&t[0]!=="?"?"?"+t:t}var lo=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(ZE),providedIn:"root"});let t=e;return t})(),JE=new Y(""),ZE=(()=>{let e=class e extends lo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(Bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return op(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Hn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Hn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Hn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ae(ip),ae(JE,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XE=(()=>{let e=class e extends lo{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=op(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Hn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Hn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ae(ip),ae(JE,8))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),$s=(()=>{let e=class e{constructor(r){this._subject=new bt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=zP(BE($E(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Hn(i))}normalize(r){return e.stripTrailingSlash(HP(this._basePath,$E(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Hn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Hn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Hn,e.joinWithSlash=op,e.stripTrailingSlash=BE,e.\u0275fac=function(i){return new(i||e)(ae(lo))},e.\u0275prov=G({token:e,factory:()=>$P(),providedIn:"root"});let t=e;return t})();function $P(){return new $s(ae(lo))}function HP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function $E(t){return t.replace(/\/index.html$/,"")}function zP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var e0={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},t0=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(t0||{});var zn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Us(t,e){let n=Nu(t),r=n[ii.NumberSymbols][e];if(typeof r>"u"){if(e===zn.CurrencyDecimal)return n[ii.NumberSymbols][zn.Decimal];if(e===zn.CurrencyGroup)return n[ii.NumberSymbols][zn.Group]}return r}function qP(t,e){return Nu(t)[ii.NumberFormats][e]}function GP(t){return Nu(t)[ii.Currencies]}function WP(t,e,n="en"){let r=GP(n)[t]||e0[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var KP=2;function QP(t){let e,n=e0[t];return n&&(e=n[2]),typeof e=="number"?e:KP}var YP=/^(\d+)?\.((\d+)(-(\d+))?)?$/,HE=22,Vu=".",Bs="0",JP=";",ZP=",",Xf="#",zE="\xA4";function XP(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=Us(n,zn.Infinity);else{let l=rN(t);s&&(l=nN(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let K=o.match(YP);if(K===null)throw new Error(`${o} is not a valid digit info`);let W=K[1],ie=K[3],Re=K[5];W!=null&&(h=ep(W)),ie!=null&&(p=ep(ie)),Re!=null?m=ep(Re):ie!=null&&p>m&&(m=p)}iN(l,p,m);let v=l.digits,S=l.integerLen,R=l.exponent,P=[];for(u=v.every(K=>!K);S<h;S++)v.unshift(0);for(;S<0;S++)v.unshift(0);S>0?P=v.splice(S,v.length):(P=v,v=[0]);let j=[];for(v.length>=e.lgSize&&j.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)j.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&j.unshift(v.join("")),a=j.join(Us(n,r)),P.length&&(a+=Us(n,i)+P.join("")),R&&(a+=Us(n,zn.Exponential)+"+"+R)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function eN(t,e,n,r,i){let o=qP(e,t0.Currency),s=tN(o,Us(e,zn.MinusSign));return s.minFrac=QP(r),s.maxFrac=s.minFrac,XP(t,s,e,zn.CurrencyGroup,zn.CurrencyDecimal,i).replace(zE,n).replace(zE,"").trim()}function tN(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(JP),i=r[0],o=r[1],s=i.indexOf(Vu)!==-1?i.split(Vu):[i.substring(0,i.lastIndexOf(Bs)+1),i.substring(i.lastIndexOf(Bs)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(Xf));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Bs?n.minFrac=n.maxFrac=h+1:p===Xf?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(ZP);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Xf);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function nN(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function rN(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Vu))>-1&&(e=e.replace(Vu,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Bs;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Bs;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>HE&&(r=r.splice(0,HE-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function iN(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,m,v,S){return m=m+p,S[v]=m<10?m:m-10,u&&(S[v]===0&&v>=l?S.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function ep(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function n0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var tp=/\s+/,qE=[],r0=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=qE,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(tp):qE}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(tp):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(tp).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(Me(nn),Me(pr))},e.\u0275dir=xt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[dn.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var np=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},mr=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new np(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),GE(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);GE(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Me(gr),Me(Au),Me(Zf))},e.\u0275dir=xt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function GE(t,e){t.context.$implicit=e.item}var $t=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new rp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){WE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){WE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Me(gr),Me(Au))},e.\u0275dir=xt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),rp=class{constructor(){this.$implicit=null,this.ngIf=null}};function WE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}function oN(t,e){return new q(2100,!1)}var ho=(()=>{let e=class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,o="symbol",s,a){if(!sN(r))return null;a||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let u=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?u=WP(u,o==="symbol"?"wide":"narrow",a):u=o);try{let l=aN(r);return eN(l,a,u,i,s)}catch(l){throw oN(e,l.message)}}};e.\u0275fac=function(i){return new(i||e)(Me(ku,16),Me(LE,16))},e.\u0275pipe=Lw({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function sN(t){return!(t==null||t===""||t!==t)}function aN(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var je=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Zr({});let t=e;return t})(),i0="browser",cN="server";function sp(t){return t===cN}var Lu=class{};var up=class extends Fu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},lp=class t extends up{static makeCurrent(){YE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=uN();return n==null?null:lN(n)}resetBaseElement(){Hs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return n0(document.cookie,e)}},Hs=null;function uN(){return Hs=Hs||document.querySelector("base"),Hs?Hs.getAttribute("href"):null}function lN(t){return new URL(t,document.baseURI).pathname}var dN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),dp=new Y(""),c0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ae(dp),ae(be))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),ju=class{constructor(e){this._doc=e}},ap="ng-app-id",u0=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sp(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ap}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(ap),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ap,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ae(Bt),ae(Sf),ae(Mf,8),ae(fr))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),cp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fp=/%COMP%/g,l0="%COMP%",hN=`_nghost-${l0}`,fN=`_ngcontent-${l0}`,pN=!0,gN=new Y("",{providedIn:"root",factory:()=>pN});function mN(t){return fN.replace(fp,t)}function yN(t){return hN.replace(fp,t)}function d0(t,e){return e.map(n=>n.replace(fp,t))}var o0=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=sp(u),this.defaultRenderer=new zs(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ln.ShadowDom&&(i=Te(U({},i),{encapsulation:ln.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Uu?o.applyToHost(r):o instanceof qs&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case ln.Emulated:s=new Uu(l,h,i,this.appId,p,a,u,m);break;case ln.ShadowDom:return new hp(l,h,r,i,a,u,this.nonce,m);default:s=new qs(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ae(c0),ae(u0),ae(Sf),ae(gN),ae(Bt),ae(fr),ae(be),ae(Mf))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),zs=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(cp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(s0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(s0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=cp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=cp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Vn.DashCase|Vn.Important)?e.style.setProperty(n,r,i&Vn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Vn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=uo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function s0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var hp=class extends zs{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=d0(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qs=class extends zs{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?d0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Uu=class extends qs{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=mN(l),this.hostAttr=yN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},vN=(()=>{let e=class e extends ju{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(ae(Bt))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})(),a0=["alt","control","meta","shift"],_N={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},IN=(()=>{let e=class e extends ju{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uo().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),a0.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=_N[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),a0.forEach(a=>{if(a!==o){let u=wN[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ae(Bt))},e.\u0275prov=G({token:e,factory:e.\u0275fac});let t=e;return t})();function h0(t,e){return UE(U({rootComponent:t},EN(e)))}function EN(t){return{appProviders:[...SN,...t?.providers??[]],platformProviders:TN}}function CN(){lp.makeCurrent()}function bN(){return new Fn}function DN(){return jI(document),document}var TN=[{provide:fr,useValue:i0},{provide:Af,useValue:CN,multi:!0},{provide:Bt,useFactory:DN,deps:[]}];var SN=[{provide:gu,useValue:"root"},{provide:Fn,useFactory:bN,deps:[]},{provide:dp,useClass:vN,multi:!0,deps:[Bt,be,fr]},{provide:dp,useClass:IN,multi:!0,deps:[Bt]},o0,u0,c0,{provide:Ss,useExisting:o0},{provide:Lu,useClass:dN,deps:[]},[]];var f0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ae(Bt))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ne="primary",sa=Symbol("RouteTitle"),vp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function yo(t){return new vp(t)}function xN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function RN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_n(t[n],e[n]))return!1;return!0}function _n(t,e){let n=t?_p(t):void 0,r=e?_p(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!_0(t[i],e[i]))return!1;return!0}function _p(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function _0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function w0(t){return t.length>0?t[t.length-1]:null}function wr(t){return Zd(t)?t:co(t)?qe(Promise.resolve(t)):X(t)}var PN={exact:E0,subset:C0},I0={exact:NN,subset:ON,ignored:()=>!0};function p0(t,e,n){return PN[n.paths](t.root,e.root,n.matrixParams)&&I0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function NN(t,e){return _n(t,e)}function E0(t,e,n){if(!ai(t.segments,e.segments)||!Hu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!E0(t.children[r],e.children[r],n))return!1;return!0}function ON(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_0(t[n],e[n]))}function C0(t,e,n){return b0(t,e,e.segments,n)}function b0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ai(i,n)||e.hasChildren()||!Hu(i,n,r))}else if(t.segments.length===n.length){if(!ai(t.segments,n)||!Hu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!C0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ai(t.segments,i)||!Hu(t.segments,i,r)||!t.children[ne]?!1:b0(t.children[ne],e,o,r)}}function Hu(t,e,n){return e.every((r,i)=>I0[n](t[i].parameters,r.parameters))}var yr=class{constructor(e=new Ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=yo(this.queryParams),this._queryParamMap}toString(){return VN.serialize(this)}},Ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zu(this)}},si=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=yo(this.parameters),this._parameterMap}toString(){return T0(this)}};function kN(t,e){return ai(t,e)&&t.every((n,r)=>_n(n.parameters,e[r].parameters))}function ai(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function FN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var qp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>new Gu,providedIn:"root"});let t=e;return t})(),Gu=class{parse(e){let n=new Ip(e);return new yr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Gs(e.root,!0)}`,r=UN(e.queryParams),i=typeof e.fragment=="string"?`#${LN(e.fragment)}`:"";return`${n}${r}${i}`}},VN=new Gu;function zu(t){return t.segments.map(e=>T0(e)).join("/")}function Gs(t,e){if(!t.hasChildren())return zu(t);if(e){let n=t.children[ne]?Gs(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${Gs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=FN(t,(r,i)=>i===ne?[Gs(t.children[ne],!1)]:[`${i}:${Gs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${zu(t)}/${n[0]}`:`${zu(t)}/(${n.join("//")})`}}function D0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bu(t){return D0(t).replace(/%3B/gi,";")}function LN(t){return encodeURI(t)}function wp(t){return D0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qu(t){return decodeURIComponent(t)}function g0(t){return qu(t.replace(/\+/g,"%20"))}function T0(t){return`${wp(t.path)}${jN(t.parameters)}`}function jN(t){return Object.entries(t).map(([e,n])=>`;${wp(e)}=${wp(n)}`).join("")}function UN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Bu(n)}=${Bu(i)}`).join("&"):`${Bu(n)}=${Bu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var BN=/^[^\/()?;#]+/;function pp(t){let e=t.match(BN);return e?e[0]:""}var $N=/^[^\/()?;=#]+/;function HN(t){let e=t.match($N);return e?e[0]:""}var zN=/^[^=?&#]+/;function qN(t){let e=t.match(zN);return e?e[0]:""}var GN=/^[^&#]+/;function WN(t){let e=t.match(GN);return e?e[0]:""}var Ip=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new Ee(e,n)),r}parseSegment(){let e=pp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new si(qu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=HN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=pp(this.remaining);i&&(r=i,this.capture(r))}e[qu(n)]=qu(r)}parseQueryParam(e){let n=qN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=WN(this.remaining);s&&(r=s,this.capture(r))}let i=g0(n),o=g0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=pp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ne]:new Ee([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function S0(t){return t.segments.length>0?new Ee([],{[ne]:t}):t}function A0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=A0(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ee(t.segments,e);return KN(n)}function KN(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new Ee(t.segments.concat(e.segments),e.children)}return t}function vo(t){return t instanceof yr}function QN(t,e,n=null,r=null){let i=M0(t);return x0(i,e,n,r)}function M0(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ee(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=S0(r);return e??i}function x0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return gp(i,i,i,n,r);let o=YN(e);if(o.toRoot())return gp(i,i,new Ee([],{}),n,r);let s=JN(o,i,t),a=s.processChildren?Qs(s.segmentGroup,s.index,o.commands):P0(s.segmentGroup,s.index,o.commands);return gp(i,s.segmentGroup,a,n,r)}function Wu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Zs(t){return typeof t=="object"&&t!=null&&t.outlets}function gp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=R0(t,e,n);let a=S0(A0(s));return new yr(a,o,i)}function R0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=R0(o,e,n)}),new Ee(t.segments,r)}var Ku=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wu(r[0]))throw new q(4003,!1);let i=r.find(Zs);if(i&&i!==w0(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ku(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ku(n,e,r)}var go=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function JN(t,e,n){if(t.isAbsolute)return new go(e,!0,0);if(!n)return new go(e,!1,NaN);if(n.parent===null)return new go(n,!0,0);let r=Wu(t.commands[0])?0:1,i=n.segments.length-1+r;return ZN(n,i,t.numberOfDoubleDots)}function ZN(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new go(r,!1,i-o)}function XN(t){return Zs(t[0])?t[0].outlets:{[ne]:t}}function P0(t,e,n){if(t??=new Ee([],{}),t.segments.length===0&&t.hasChildren())return Qs(t,e,n);let r=eO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ee(t.segments.slice(0,r.pathIndex),{});return o.children[ne]=new Ee(t.segments.slice(r.pathIndex),t.children),Qs(o,0,i)}else return r.match&&i.length===0?new Ee(t.segments,{}):r.match&&!t.hasChildren()?Ep(t,e,n):r.match?Qs(t,0,i):Ep(t,e,n)}function Qs(t,e,n){if(n.length===0)return new Ee(t.segments,{});{let r=XN(n),i={};if(Object.keys(r).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=Qs(t.children[ne],e,n);return new Ee(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=P0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ee(t.segments,i)}}function eO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Zs(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!y0(u,l,s))return o;r+=2}else{if(!y0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ep(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Zs(o)){let u=tO(o.outlets);return new Ee(r,u)}if(i===0&&Wu(n[0])){let u=t.segments[e];r.push(new si(u.path,m0(n[0]))),i++;continue}let s=Zs(o)?o.outlets[ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Wu(a)?(r.push(new si(s,m0(a))),i+=2):(r.push(new si(s,{})),i++)}return new Ee(r,{})}function tO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ep(new Ee([],{}),0,r))}),e}function m0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function y0(t,e,n){return t==n.path&&_n(e,n.parameters)}var Ys="imperative",nt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(nt||{}),Ht=class{constructor(e,n){this.id=e,this.url=n}},Xs=class extends Ht{constructor(e,n,r="imperative",i=null){super(e,n),this.type=nt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ci=class extends Ht{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=nt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nt||{}),Cp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Cp||{}),vr=class extends Ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=nt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ui=class extends Ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=nt.NavigationSkipped}},ea=class extends Ht{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=nt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qu=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bp=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dp=class extends Ht{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=nt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tp=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sp=class extends Ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ap=class{constructor(e){this.route=e,this.type=nt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mp=class{constructor(e){this.route=e,this.type=nt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xp=class{constructor(e){this.snapshot=e,this.type=nt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rp=class{constructor(e){this.snapshot=e,this.type=nt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pp=class{constructor(e){this.snapshot=e,this.type=nt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Np=class{constructor(e){this.snapshot=e,this.type=nt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ta=class{},na=class{constructor(e){this.url=e}};var Op=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tl,this.attachRef=null}},tl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Op,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=kp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=kp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Fp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fp(e,this._root).map(n=>n.value)}};function kp(t,e){if(t===e.value)return e;for(let n of e.children){let r=kp(t,n);if(r)return r}return null}function Fp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Fp(t,n);if(r.length)return r.unshift(e),r}return[]}var Pt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function po(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ju=class extends Yu{constructor(e,n){super(e),this.snapshot=n,Wp(this,e)}toString(){return this.snapshot.toString()}};function N0(t){let e=nO(t),n=new tt([new si("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new _r(n,r,o,s,i,ne,t,e.root);return a.snapshot=e.root,new Ju(new Pt(a,[]),e)}function nO(t){let e={},n={},r={},i="",o=new ra([],e,r,i,n,ne,t,null,{});return new Zu("",new Pt(o,[]))}var _r=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(fe(l=>l[sa]))??X(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(fe(e=>yo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(fe(e=>yo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&k0(i)&&(r.resolve[sa]=i.title),r}var ra=class{get title(){return this.data?.[sa]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Zu=class extends Yu{constructor(e,n){super(n),this.url=e,Wp(this,n)}toString(){return O0(this._root)}};function Wp(t,e){e.value._routerState=t,e.children.forEach(n=>Wp(t,n))}function O0(t){let e=t.children.length>0?` { ${t.children.map(O0).join(", ")} } `:"";return`${t.value}${e}`}function mp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_n(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),_n(e.params,n.params)||t.paramsSubject.next(n.params),RN(e.url,n.url)||t.urlSubject.next(n.url),_n(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vp(t,e){let n=_n(t.params,e.params)&&kN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Vp(t.parent,e.parent))}function k0(t){return typeof t.title=="string"||t.title===null}var Kp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new bt,this.deactivateEvents=new bt,this.attachEvents=new bt,this.detachEvents=new bt,this.parentContexts=O(tl),this.location=O(gr),this.changeDetector=O(yn),this.environmentInjector=O(Lt),this.inputBinder=O(Qp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Lp(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=xt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Os]});let t=e;return t})(),Lp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===_r?this.route:e===tl?this.childContexts:this.parent.get(e,n)}},Qp=new Y("");function rO(t,e,n){let r=ia(t,e._root,n?n._root:void 0);return new Ju(r,e)}function ia(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=iO(t,e,n);return new Pt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ia(t,a)),s}}let r=oO(e.value),i=e.children.map(o=>ia(t,o));return new Pt(r,i)}}function iO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ia(t,r,i);return ia(t,r)})}function oO(t){return new _r(new tt(t.url),new tt(t.params),new tt(t.queryParams),new tt(t.fragment),new tt(t.data),t.outlet,t.component,t)}var F0="ngNavigationCancelingError";function V0(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=vo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=L0(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function L0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[F0]=!0,n.cancellationCode=e,n}function sO(t){return j0(t)&&vo(t.url)}function j0(t){return!!t&&t[F0]}var aO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["ng-component"]],standalone:!0,features:[xe],decls:1,vars:0,template:function(i,o){i&1&&$(0,"router-outlet")},dependencies:[Kp],encapsulation:2});let t=e;return t})();function cO(t,e){return t.providers&&!t._injector&&(t._injector=qf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yp(t){let e=t.children&&t.children.map(Yp),n=e?Te(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=aO),n}function wn(t){return t.outlet||ne}function uO(t,e){let n=t.filter(r=>wn(r)===e);return n.push(...t.filter(r=>wn(r)!==e)),n}function aa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var lO=(t,e,n,r)=>fe(i=>(new jp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),jp=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),mp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=po(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=po(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=po(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=po(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Np(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Rp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(mp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mp(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=aa(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Xu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},mo=class{constructor(e,n){this.component=e,this.route=n}};function dO(t,e,n){let r=t._root,i=e?e._root:null;return Ws(r,i,n,[r.value])}function hO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function wo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Dw(t)?t:e.get(t):r}function Ws(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=po(e);return t.children.forEach(s=>{fO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Js(a,n.getContext(s),i)),i}function fO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=pO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Xu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ws(t,e,a?a.children:null,r,i):Ws(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mo(a.outlet.component,s))}else s&&Js(e,a,i),i.canActivateChecks.push(new Xu(r)),o.component?Ws(t,null,a?a.children:null,r,i):Ws(t,null,n,r,i);return i}function pO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ai(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ai(t.url,e.url)||!_n(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vp(t,e)||!_n(t.queryParams,e.queryParams);case"paramsChange":default:return!Vp(t,e)}}function Js(t,e,n){let r=po(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Js(s,e.children.getContext(o),n):Js(s,null,n):Js(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new mo(e.outlet.component,i)):n.canDeactivateChecks.push(new mo(null,i)):n.canDeactivateChecks.push(new mo(null,i))}function ca(t){return typeof t=="function"}function gO(t){return typeof t=="boolean"}function mO(t){return t&&ca(t.canLoad)}function yO(t){return t&&ca(t.canActivate)}function vO(t){return t&&ca(t.canActivateChild)}function _O(t){return t&&ca(t.canDeactivate)}function wO(t){return t&&ca(t.canMatch)}function U0(t){return t instanceof Nn||t?.name==="EmptyError"}var $u=Symbol("INITIAL_VALUE");function _o(){return Kt(t=>kc(t.map(e=>e.pipe(On(1),rh($u)))).pipe(fe(e=>{for(let n of e)if(n!==!0){if(n===$u)return $u;if(n===!1||n instanceof yr)return n}return!0}),Wt(e=>e!==$u),On(1)))}function IO(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?X(Te(U({},n),{guardsResult:!0})):EO(s,r,i,t).pipe(Ge(a=>a&&gO(a)?CO(r,o,t,e):X(a)),fe(a=>Te(U({},n),{guardsResult:a})))})}function EO(t,e,n,r){return qe(t).pipe(Ge(i=>AO(i.component,i.route,n,e,r)),an(i=>i!==!0,!0))}function CO(t,e,n,r){return qe(e).pipe(Gi(i=>qi(DO(i.route.parent,r),bO(i.route,r),SO(t,i.path,n),TO(t,i.route,n))),an(i=>i!==!0,!0))}function bO(t,e){return t!==null&&e&&e(new Pp(t)),X(!0)}function DO(t,e){return t!==null&&e&&e(new xp(t)),X(!0)}function TO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(o=>Fc(()=>{let s=aa(e)??n,a=wo(o,s),u=yO(a)?a.canActivate(e,t):ei(s,()=>a(e,t));return wr(u).pipe(an())}));return X(i).pipe(_o())}function SO(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>hO(s)).filter(s=>s!==null).map(s=>Fc(()=>{let a=s.guards.map(u=>{let l=aa(s.node)??n,h=wo(u,l),p=vO(h)?h.canActivateChild(r,t):ei(l,()=>h(r,t));return wr(p).pipe(an())});return X(a).pipe(_o())}));return X(o).pipe(_o())}function AO(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return X(!0);let s=o.map(a=>{let u=aa(e)??i,l=wo(a,u),h=_O(l)?l.canDeactivate(t,e,n,r):ei(u,()=>l(t,e,n,r));return wr(h).pipe(an())});return X(s).pipe(_o())}function MO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return X(!0);let o=i.map(s=>{let a=wo(s,t),u=mO(a)?a.canLoad(e,n):ei(t,()=>a(e,n));return wr(u)});return X(o).pipe(_o(),B0(r))}function B0(t){return zd(We(e=>{if(vo(e))throw V0(t,e)}),fe(e=>e===!0))}function xO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return X(!0);let o=i.map(s=>{let a=wo(s,t),u=wO(a)?a.canMatch(e,n):ei(t,()=>a(e,n));return wr(u)});return X(o).pipe(_o(),B0(r))}var oa=class{constructor(e){this.segmentGroup=e||null}},el=class extends Error{constructor(e){super(),this.urlTree=e}};function fo(t){return zi(new oa(t))}function RO(t){return zi(new q(4e3,!1))}function PO(t){return zi(L0(!1,Nt.GuardRejected))}var Up=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[ne])return RO(e.redirectTo);i=i.children[ne]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new el(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new yr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Bp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NO(t,e,n,r,i){let o=Jp(t,e,n);return o.matched?(r=cO(e,r),xO(r,e,n,i).pipe(fe(s=>s===!0?o:U({},Bp)))):X(o)}function Jp(t,e,n){if(e.path==="**")return OO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Bp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||xN)(n,t,e);if(!i)return U({},Bp);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function OO(t){return{matched:!0,parameters:t.length>0?w0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function v0(t,e,n,r){return n.length>0&&VO(t,n,r)?{segmentGroup:new Ee(e,FO(r,new Ee(n,t.children))),slicedSegments:[]}:n.length===0&&LO(t,n,r)?{segmentGroup:new Ee(t.segments,kO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:n}}function kO(t,e,n,r){let i={};for(let o of n)if(nl(t,e,o)&&!r[wn(o)]){let s=new Ee([],{});i[wn(o)]=s}return U(U({},r),i)}function FO(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&wn(r)!==ne){let i=new Ee([],{});n[wn(r)]=i}return n}function VO(t,e,n){return n.some(r=>nl(t,e,r)&&wn(r)!==ne)}function LO(t,e,n){return n.some(r=>nl(t,e,r))}function nl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function jO(t,e,n,r){return wn(t)!==r&&(r===ne||!nl(e,n,t))?!1:Jp(e,t,n).matched}function UO(t,e,n){return e.length===0&&!t.children[n]}var $p=class{};function BO(t,e,n,r,i,o,s="emptyOnly"){return new Hp(t,e,n,r,i,s,o).recognize()}var $O=31,Hp=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Up(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=v0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(fe(n=>{let r=new ra([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),i=new Pt(r,n),o=new Zu("",i),s=QN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(or(r=>{if(r instanceof el)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Gp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(fe(o=>o instanceof Pt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return qe(i).pipe(Gi(o=>{let s=r.children[o],a=uO(n,o);return this.processSegmentGroup(e,a,s,o)}),nh((o,s)=>(o.push(...s),o)),sr(null),th(),Ge(o=>{if(o===null)return fo(r);let s=$0(o);return HO(s),X(s)}))}processSegment(e,n,r,i,o,s){return qe(n).pipe(Gi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(or(u=>{if(u instanceof oa)return X(null);throw u}))),an(a=>!!a),or(a=>{if(U0(a))return UO(r,i,o)?X(new $p):fo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return jO(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):fo(i):fo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=Jp(n,i,o);if(!a)return fo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$O&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ge(m=>this.processSegment(e,r,n,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=NO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Kt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,v=new ra(h,m,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,qO(r),wn(r),r.component??r._loadedComponent??null,r,GO(r)),{segmentGroup:S,slicedSegments:R}=v0(n,h,p,u);if(R.length===0&&S.hasChildren())return this.processChildren(l,u,S).pipe(fe(j=>j===null?null:new Pt(v,j)));if(u.length===0&&R.length===0)return X(new Pt(v,[]));let P=wn(r)===o;return this.processSegment(l,u,S,R,P?ne:o,!0).pipe(fe(j=>new Pt(v,j instanceof Pt?[j]:[])))}))):fo(n)))}getChildConfig(e,n,r){return n.children?X({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?X({routes:n._loadedRoutes,injector:n._loadedInjector}):MO(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(We(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):PO(n))):X({routes:[],injector:e})}};function HO(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function zO(t){let e=t.value.routeConfig;return e&&e.path===""}function $0(t){let e=[],n=new Set;for(let r of t){if(!zO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=$0(r.children);e.push(new Pt(r.value,i))}return e.filter(r=>!n.has(r))}function qO(t){return t.data||{}}function GO(t){return t.resolve||{}}function WO(t,e,n,r,i,o){return Ge(s=>BO(t,e,n,r,s.extractedUrl,i,o).pipe(fe(({state:a,tree:u})=>Te(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function KO(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of H0(u))s.add(l);let a=0;return qe(s).pipe(Gi(u=>o.has(u)?QO(u,r,t,e):(u.data=Gp(u,u.parent,t).resolve,X(void 0))),We(()=>a++),Wi(1),Ge(u=>a===s.size?X(n):Mt))})}function H0(t){let e=t.children.map(n=>H0(n)).flat();return[t,...e]}function QO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!k0(i)&&(o[sa]=i.title),YO(o,t,e,r).pipe(fe(s=>(t._resolvedData=s,t.data=Gp(t,t.parent,n).resolve,null)))}function YO(t,e,n,r){let i=_p(t);if(i.length===0)return X({});let o={};return qe(i).pipe(Ge(s=>JO(t[s],e,n,r).pipe(an(),We(a=>{o[s]=a}))),Wi(1),eh(o),or(s=>U0(s)?Mt:zi(s)))}function JO(t,e,n,r){let i=aa(e)??r,o=wo(t,i),s=o.resolve?o.resolve(e,n):ei(i,()=>o(e,n));return wr(s)}function yp(t){return Kt(e=>{let n=t(e);return n?qe(n).pipe(fe(()=>e)):X(e)})}var z0=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ne);return i}getResolvedTitleForRoute(r){return r.data[sa]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(ZO),providedIn:"root"});let t=e;return t})(),ZO=(()=>{let e=class e extends z0{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ae(f0))},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zp=new Y("",{providedIn:"root",factory:()=>({})}),Xp=new Y(""),XO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Jf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return X(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=wr(r.loadComponent()).pipe(fe(q0),We(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),vs(()=>{this.componentLoaders.delete(r)})),o=new Ui(i,()=>new gt).pipe(ji());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return X({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=e1(i,this.compiler,r,this.onLoadEndListener).pipe(vs(()=>{this.childrenLoaders.delete(i)})),a=new Ui(s,()=>new gt).pipe(ji());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function e1(t,e,n,r){return wr(t.loadChildren()).pipe(fe(q0),Ge(i=>i instanceof Ms||Array.isArray(i)?X(i):qe(e.compileModuleAsync(i))),fe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Xp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Yp),injector:o}}))}function t1(t){return t&&typeof t=="object"&&"default"in t}function q0(t){return t1(t)?t.default:t}var eg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(n1),providedIn:"root"});let t=e;return t})(),n1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),r1=new Y("");var i1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gt,this.transitionAbortSubject=new gt,this.configLoader=O(XO),this.environmentInjector=O(Lt),this.urlSerializer=O(qp),this.rootContexts=O(tl),this.location=O($s),this.inputBindingEnabled=O(Qp,{optional:!0})!==null,this.titleStrategy=O(z0),this.options=O(Zp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(eg),this.createViewTransition=O(r1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Ap(o)),i=o=>this.events.next(new Mp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Te(U(U({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new tt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ys,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wt(s=>s.id!==0),fe(s=>Te(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Kt(s=>{let a=!1,u=!1;return X(s).pipe(Kt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),Mt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Te(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new ui(l.id,this.urlSerializer.serialize(l.rawUrl),m,Cp.IgnoredSameUrlNavigation)),l.resolve(null),Mt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return X(l).pipe(Kt(m=>{let v=this.transitions?.getValue();return this.events.next(new Xs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Mt:Promise.resolve(m)}),WO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),We(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Te(U({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Qu(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:R,extras:P}=l,j=new Xs(m,this.urlSerializer.serialize(v),S,R);this.events.next(j);let K=N0(this.rootComponentType).snapshot;return this.currentTransition=s=Te(U({},l),{targetSnapshot:K,urlAfterRedirects:v,extras:Te(U({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,X(s)}else{let m="";return this.events.next(new ui(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Cp.IgnoredByUrlHandlingStrategy)),l.resolve(null),Mt}}),We(l=>{let h=new bp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),fe(l=>(this.currentTransition=s=Te(U({},l),{guards:dO(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),IO(this.environmentInjector,l=>this.events.next(l)),We(l=>{if(s.guardsResult=l.guardsResult,vo(l.guardsResult))throw V0(this.urlSerializer,l.guardsResult);let h=new Dp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Wt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Nt.GuardRejected),!1)),yp(l=>{if(l.guards.canActivateChecks.length)return X(l).pipe(We(h=>{let p=new Tp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Kt(h=>{let p=!1;return X(h).pipe(KO(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Nt.NoDataFromResolver)}}))}),We(h=>{let p=new Sp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),yp(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(We(v=>{p.component=v}),fe(()=>{})));for(let v of p.children)m.push(...h(v));return m};return kc(h(l.targetSnapshot.root)).pipe(sr(null),On(1))}),yp(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?qe(p).pipe(fe(()=>s)):X(s)}),fe(l=>{let h=rO(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Te(U({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),We(()=>{this.events.next(new ta)}),lO(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),On(1),We({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),ih(this.transitionAbortSubject.pipe(We(l=>{throw l}))),vs(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),or(l=>{if(u=!0,j0(l))this.events.next(new vr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),sO(l)?this.events.next(new na(l.url)):s.resolve(!1);else{this.events.next(new ea(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Mt}))}))}cancelNavigationTransition(r,i,o){let s=new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function o1(t){return t!==Ys}var s1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(a1),providedIn:"root"});let t=e;return t})(),zp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},a1=(()=>{let e=class e extends zp{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ri(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:()=>O(c1),providedIn:"root"});let t=e;return t})(),c1=(()=>{let e=class e extends G0{constructor(){super(...arguments),this.location=O($s),this.urlSerializer=O(qp),this.options=O(Zp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(eg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=N0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Xs)this.stateMemento=this.createStateMemento();else if(r instanceof ui)this.rawUrlTree=i.initialUrl;else if(r instanceof Qu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof ta?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof vr&&(r.code===Nt.GuardRejected||r.code===Nt.NoDataFromResolver)?this.restoreHistory(i):r instanceof ea?this.restoreHistory(i,!0):r instanceof ci&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=U(U({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=U(U({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ri(e)))(o||e)}})(),e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ks=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ks||{});function u1(t,e){t.events.pipe(Wt(n=>n instanceof ci||n instanceof vr||n instanceof ea||n instanceof ui),fe(n=>n instanceof ci||n instanceof ui?Ks.COMPLETE:(n instanceof vr?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?Ks.REDIRECTING:Ks.FAILED),Wt(n=>n!==Ks.REDIRECTING),On(1)).subscribe(()=>{e()})}function l1(t){throw t}var d1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},h1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},In=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(Ou),this.stateManager=O(G0),this.options=O(Zp,{optional:!0})||{},this.pendingTasks=O(xu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(i1),this.urlSerializer=O(qp),this.location=O($s),this.urlHandlingStrategy=O(eg),this._events=new gt,this.errorHandler=this.options.errorHandler||l1,this.navigated=!1,this.routeReuseStrategy=O(s1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Xp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Qp,{optional:!0}),this.eventsSubscription=new Ve,this.isNgZoneEnabled=O(be)instanceof be&&be.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof vr&&i.code!==Nt.Redirect&&i.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ci)this.navigated=!0;else if(i instanceof na){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||o1(o.source)};this.scheduleNavigation(a,Ys,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}p1(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ys,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=U({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Yp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=o?o.snapshot:this.routerState.snapshot.root;m=M0(v)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return x0(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=vo(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ys,null,i)}navigate(r,i={skipLocationChange:!1}){return f1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=U({},d1):i===!1?o=U({},h1):o=i,vo(r))return p0(this.currentUrlTree,r,o);let s=this.parseUrl(r);return p0(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return u1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function f1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}function p1(t){return!(t instanceof ta)&&!(t instanceof na)}var g1=new Y("");function W0(t,...e){return pn([{provide:Xp,multi:!0,useValue:t},[],{provide:_r,useFactory:m1,deps:[In]},{provide:Yf,multi:!0,useFactory:v1},e.map(n=>n.\u0275providers)])}function m1(t){return t.routerState.root}function y1(t,e){return{\u0275kind:t,\u0275providers:e}}function v1(){let t=O(Ut);return e=>{let n=t.get(js);if(e!==n.components[0])return;let r=t.get(In),i=t.get(_1);t.get(w1)===1&&r.initialNavigation(),t.get(I1,null,se.Optional)?.setUpPreloading(),t.get(g1,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _1=new Y("",{factory:()=>new gt}),w1=new Y("",{providedIn:"root",factory:()=>1});var I1=new Y("");function K0(){return y1(6,[{provide:lo,useClass:XE}])}function E1(t,e){if(t&1&&$(0,"i",2),t&2){let n=mn();CE(n.iconClasses)}}var Io=(()=>{let e=class e{constructor(r){this.viewContainerRef=r,this.clicked=new bt}ngOnInit(){this.viewContainerRef.element.nativeElement.addEventListener("click",i=>{this.clicked.emit(i)})}};e.\u0275fac=function(i){return new(i||e)(Me(gr))},e.\u0275cmp=Ae({type:e,selectors:[["cw-button"]],inputs:{iconClasses:"iconClasses",text:"text"},outputs:{clicked:"clicked"},standalone:!0,features:[xe],decls:3,vars:2,consts:[["class","icon",3,"class",4,"ngIf"],[1,"text"],[1,"icon"]],template:function(i,o){i&1&&(Le(0,E1,1,2,"i",0),M(1,"div",1),V(2),x()),i&2&&(te("ngIf",o.iconClasses),H(2),Qe(o.text))},dependencies:[je,$t],styles:['[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative;padding:1rem;color:var(--white-primary);gap:1rem}[_nghost-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]:hover:before{opacity:1}[_nghost-%COMP%]:hover{border-color:#000}[_nghost-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.icon[_ngcontent-%COMP%]{z-index:4}.text[_ngcontent-%COMP%]{z-index:4;transition:color .2s ease-in}']});let t=e;return t})();function C1(t,e){t&1&&(M(0,"div",12),$(1,"img",13),x())}var rl=(()=>{let e=class e{constructor(){this.imageLoaded=!1,this.router=O(In)}onImageLoad(){this.imageLoaded=!0}showDesign(){this.router.navigate(["/design",this.design.id])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-home-card"]],inputs:{design:"design"},standalone:!0,features:[xe],decls:19,vars:9,consts:[[3,"click"],["loading","lazy",1,"card",3,"load","src"],["class","loader",4,"ngIf"],[1,"info",3,"click"],[1,"row","basic-info"],[1,"name"],[1,"price"],[1,"row","tags"],[1,"tag"],[1,"row","bottom"],[1,"click"],["iconClasses","fas fa-basket-shopping","text","Dodaj u korpu",3,"click"],[1,"loader"],["src","assets/current-wave-skeleton.svg","alt","Loading..."]],template:function(i,o){i&1&&(M(0,"div",0),oe("click",function(){return o.showDesign()}),M(1,"img",1),oe("load",function(){return o.onImageLoad()}),x()(),Le(2,C1,2,0,"div",2),M(3,"div",3),oe("click",function(){return o.showDesign()}),M(4,"div",4)(5,"div",5),V(6),x(),M(7,"div",6),V(8),$n(9,"currency"),x()(),M(10,"div",7)(11,"div",8),V(12),x(),M(13,"div",8),V(14),x()(),M(15,"div",9)(16,"div",10),V(17,"(Klikni za jo\u0161 informacija)"),x(),M(18,"cw-button",11),oe("click",function(){return o.showDesign()}),x()()()),i&2&&(H(),te("src",o.design.image,rn),H(),te("ngIf",!o.imageLoaded),H(4),Qe(o.design.name),H(2),Qe(RE(9,6,o.design.price,"RSD")),H(4),Qe(o.design.category),H(2),Qe(o.design.type))},dependencies:[Io,je,$t,ho],styles:["[_nghost-%COMP%]{width:100%;position:relative;transition:.2s ease;border-radius:.8rem}[_nghost-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}[_nghost-%COMP%]:hover   .info[_ngcontent-%COMP%]{height:max(13rem,30%);background-color:var(--white-primary)}.card[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]{border-radius:.8rem;width:100%;overflow:hidden}.info[_ngcontent-%COMP%]{position:absolute;bottom:0;height:0px;background-color:var(--white-primary);width:100%;border-radius:.8rem;padding-inline:1rem;box-sizing:border-box;overflow:hidden;display:flex;flex-direction:column;transition:.4s ease-in-out;-webkit-user-select:none;user-select:none}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.name[_ngcontent-%COMP%]{flex-grow:1;padding:5px}.basic-info[_ngcontent-%COMP%]{border-bottom:1px solid black;padding-bottom:5px;margin-top:2rem}.price[_ngcontent-%COMP%]{background:var(--gradient-primary);color:var(--white-primary);display:flex;justify-content:center;align-items:center;padding:5px;border-radius:5px}.tags[_ngcontent-%COMP%]{margin-top:5px;justify-content:start;gap:3px;font-family:var(--ff-secondary)}.tag[_ngcontent-%COMP%]{background-color:var(--clr-primary-700);padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-300);color:var(--white-primary)}.bottom[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:2rem}.click[_ngcontent-%COMP%]{color:var(--white-primary-transparent);font-family:var(--ff-secondary);opacity:.5;font-size:var(--fs-300)}a[_ngcontent-%COMP%]{text-decoration:none;height:100%}"]});let t=e;return t})();var Y0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},b1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},J0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):b1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new ng;let m=o<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ng=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},D1=function(t){let e=Y0(t);return J0.encodeByteArray(e,!0)},ua=function(t){return D1(t).replace(/\./g,"")},ig=function(t){try{return J0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function T1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var S1=()=>T1().__FIREBASE_DEFAULTS__,A1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},M1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ig(t[1]);return e&&JSON.parse(e)},ol=()=>{try{return S1()||A1()||M1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z0=t=>{var e,n;return(n=(e=ol())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sl=t=>{let e=Z0(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},og=()=>{var t;return(t=ol())===null||t===void 0?void 0:t.config},X0=t=>{var e;return(e=ol())===null||e===void 0?void 0:e[`_${t}`]};var il=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function eC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ua(JSON.stringify(n)),ua(JSON.stringify(s)),""].join(".")}function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function x1(){var t;let e=(t=ol())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oC(){return!x1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sg(){try{return typeof indexedDB=="object"}catch{return!1}}function sC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var R1="FirebaseError",Ot=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}},qn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?P1(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ot(i,a,r)}};function P1(t,e){return t.replace(N1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var N1=/\{\$([^}]+)}/g;function Eo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Q0(o)&&Q0(s)){if(!Eo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Q0(t){return t!==null&&typeof t=="object"}function ag(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aC(t,e){let n=new rg(t,e);return n.subscribe.bind(n)}var rg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");O1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tg),i.error===void 0&&(i.error=tg),i.complete===void 0&&(i.complete=tg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function O1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tg(){}var E4=4*60*60*1e3;function Dt(t){return t&&t._delegate?t._delegate:t}var Tt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var li="[DEFAULT]";var cg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new il;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F1(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function k1(t){return t===li?void 0:t}function F1(t){return t.instantiationMode==="EAGER"}var al=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new cg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var V1=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),L1={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},j1=le.INFO,U1={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},B1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=U1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ir=class{constructor(e){this.name=e,this._logLevel=j1,this._logHandler=B1,this._userLogHandler=null,V1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var $1=(t,e)=>e.some(n=>t instanceof n),cC,uC;function H1(){return cC||(cC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z1(){return uC||(uC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var lC=new WeakMap,lg=new WeakMap,dC=new WeakMap,ug=new WeakMap,hg=new WeakMap;function q1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(En(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&lC.set(n,t)}).catch(()=>{}),hg.set(e,t),e}function G1(t){if(lg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});lg.set(t,e)}var dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hC(t){dg=t(dg)}function W1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(cl(this),e,...n);return dC.set(r,e.sort?e.sort():[e]),En(r)}:z1().includes(t)?function(...e){return t.apply(cl(this),e),En(lC.get(this))}:function(...e){return En(t.apply(cl(this),e))}}function K1(t){return typeof t=="function"?W1(t):(t instanceof IDBTransaction&&G1(t),$1(t,H1())?new Proxy(t,dg):t)}function En(t){if(t instanceof IDBRequest)return q1(t);if(ug.has(t))return ug.get(t);let e=K1(t);return e!==t&&(ug.set(t,e),hg.set(e,t)),e}var cl=t=>hg.get(t);function pC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=En(s);return r&&s.addEventListener("upgradeneeded",u=>{r(En(s.result),u.oldVersion,u.newVersion,En(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Q1=["get","getKey","getAll","getAllKeys","count"],Y1=["put","add","delete","clear"],fg=new Map;function fC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fg.get(e))return fg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Y1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Q1.includes(n)))return;let o=function(s,...a){return T(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return fg.set(e,o),o}hC(t=>Te(U({},t),{get:(e,n,r)=>fC(e,n)||t.get(e,n,r),has:(e,n)=>!!fC(e,n)||t.has(e,n)}));var gg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(J1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function J1(t){let e=t.getComponent();return e?.type==="VERSION"}var mg="@firebase/app",gC="0.10.11";var Gn=new Ir("@firebase/app"),Z1="@firebase/app-compat",X1="@firebase/analytics-compat",ek="@firebase/analytics",tk="@firebase/app-check-compat",nk="@firebase/app-check",rk="@firebase/auth",ik="@firebase/auth-compat",ok="@firebase/database",sk="@firebase/database-compat",ak="@firebase/functions",ck="@firebase/functions-compat",uk="@firebase/installations",lk="@firebase/installations-compat",dk="@firebase/messaging",hk="@firebase/messaging-compat",fk="@firebase/performance",pk="@firebase/performance-compat",gk="@firebase/remote-config",mk="@firebase/remote-config-compat",yk="@firebase/storage",vk="@firebase/storage-compat",_k="@firebase/firestore",wk="@firebase/vertexai-preview",Ik="@firebase/firestore-compat",Ek="firebase",Ck="10.13.2";var yg="[DEFAULT]",bk={[mg]:"fire-core",[Z1]:"fire-core-compat",[ek]:"fire-analytics",[X1]:"fire-analytics-compat",[nk]:"fire-app-check",[tk]:"fire-app-check-compat",[rk]:"fire-auth",[ik]:"fire-auth-compat",[ok]:"fire-rtdb",[sk]:"fire-rtdb-compat",[ak]:"fire-fn",[ck]:"fire-fn-compat",[uk]:"fire-iid",[lk]:"fire-iid-compat",[dk]:"fire-fcm",[hk]:"fire-fcm-compat",[fk]:"fire-perf",[pk]:"fire-perf-compat",[gk]:"fire-rc",[mk]:"fire-rc-compat",[yk]:"fire-gcs",[vk]:"fire-gcs-compat",[_k]:"fire-fst",[Ik]:"fire-fst-compat",[wk]:"fire-vertex","fire-js":"fire-js",[Ek]:"fire-js-all"};var la=new Map,Dk=new Map,vg=new Map;function mC(t,e){try{t.container.addComponent(e)}catch(n){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cn(t){let e=t.name;if(vg.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,t);for(let n of la.values())mC(n,t);for(let n of Dk.values())mC(n,t);return!0}function ha(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Co(t){return t.settings!==void 0}var Tk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new qn("app","Firebase",Tk);var _g=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}};var bo=Ck;function Eg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:yg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Er.create("bad-app-name",{appName:String(i)});if(n||(n=og()),!n)throw Er.create("no-options");let o=la.get(i);if(o){if(Eo(n,o.options)&&Eo(r,o.config))return o;throw Er.create("duplicate-app",{appName:i})}let s=new al(i);for(let u of vg.values())s.addComponent(u);let a=new _g(n,r,s);return la.set(i,a),a}function di(t=yg){let e=la.get(t);if(!e&&t===yg&&og())return Eg();if(!e)throw Er.create("no-app",{appName:t});return e}function ul(){return Array.from(la.values())}function Oe(t,e,n){var r;let i=(r=bk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(a.join(" "));return}Cn(new Tt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Sk="firebase-heartbeat-database",Ak=1,da="firebase-heartbeat-store",pg=null;function wC(){return pg||(pg=pC(Sk,Ak,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(da)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),pg}function Mk(t){return T(this,null,function*(){try{let n=(yield wC()).transaction(da),r=yield n.objectStore(da).get(IC(t));return yield n.done,r}catch(e){if(e instanceof Ot)Gn.warn(e.message);else{let n=Er.create("idb-get",{originalErrorMessage:e?.message});Gn.warn(n.message)}}})}function yC(t,e){return T(this,null,function*(){try{let r=(yield wC()).transaction(da,"readwrite");yield r.objectStore(da).put(e,IC(t)),yield r.done}catch(n){if(n instanceof Ot)Gn.warn(n.message);else{let r=Er.create("idb-set",{originalErrorMessage:n?.message});Gn.warn(r.message)}}})}function IC(t){return`${t.name}!${t.options.appId}`}var xk=1024,Rk=30*24*60*60*1e3,wg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ig(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Rk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gn.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=vC(),{heartbeatsToSend:r,unsentEntries:i}=Pk(this._heartbeatsCache.heartbeats),o=ua(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Gn.warn(n),""}})}};function vC(){return new Date().toISOString().substring(0,10)}function Pk(t,e=xk){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_C(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_C(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ig=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return sg()?sC().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Mk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function _C(t){return ua(JSON.stringify({version:2,heartbeats:t})).length}function Nk(t){Cn(new Tt("platform-logger",e=>new gg(e),"PRIVATE")),Cn(new Tt("heartbeat",e=>new wg(e),"PRIVATE")),Oe(mg,gC,t),Oe(mg,gC,"esm2017"),Oe("fire-js","")}Nk("");var Ok="firebase",kk="10.13.2";Oe(Ok,kk,"app");var Cr=new Ln("ANGULARFIRE2_VERSION");function fa(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var pi=(t,e)=>{let n=e?[e]:ul(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},fi=class{constructor(){return pi(Fk)}},Fk="app-check";function Do(){}var ll=class{zone;delegate;constructor(e,n=Yd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Cg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Do,{},Do,Do)),n.pipe(We({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},gi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ll(Zone.current)),this.insideAngular=n.run(()=>new ll(Zone.current,Qd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ae(be))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Vk(t){return dl().ngZone.runOutsideAngular(()=>t())}function hi(t){return dl().ngZone.run(()=>t())}function Lk(t){return jk(dl())(t)}function jk(t){return function(n){return n=n.lift(new Cg(t.ngZone)),n.pipe(ir(t.outsideAngular),rr(t.insideAngular))}}var Uk=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),hi(()=>t.apply(void 0,r))},wt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=hi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Do,{},Do,Do))),r[o]=Uk(r[o],n));let i=Vk(()=>t.apply(this,r));if(!e)if(i instanceof ve){let o=dl();return i.pipe(ir(o.outsideAngular),rr(o.insideAngular))}else return hi(()=>i);return i instanceof ve?i.pipe(Lk):i instanceof Promise?hi(()=>new Promise((o,s)=>i.then(a=>hi(()=>o(a)),a=>hi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:hi(()=>i)};var Wn=class{constructor(e){return e}},mi=class{constructor(){return ul()}};function Bk(t){return t&&t.length===1?t[0]:new Wn(di())}var bg=new Y("angularfire2._apps"),$k={provide:Wn,useFactory:Bk,deps:[[new ct,bg]]},Hk={provide:mi,deps:[[new ct,bg]]};function zk(t){return(e,n)=>{let r=n.get(fr);Oe("angularfire",Cr.full,"core"),Oe("angularfire",Cr.full,"app"),Oe("angular",NE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Wn(i)}}function EC(t,...e){return pn([$k,Hk,{provide:bg,useFactory:zk(t),multi:!0,deps:[be,Ut,gi,...e]}])}var CC=wt(Eg,!0);function RC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var PC=RC,NC=new qn("auth","Firebase",RC());var gl=new Ir("@firebase/auth");function Gk(t,...e){gl.logLevel<=le.WARN&&gl.warn(`Auth (${bo}): ${t}`,...e)}function fl(t,...e){gl.logLevel<=le.ERROR&&gl.error(`Auth (${bo}): ${t}`,...e)}function bC(t,...e){throw Fg(t,...e)}function kg(t,...e){return Fg(t,...e)}function OC(t,e,n){let r=Object.assign(Object.assign({},PC()),{[e]:n});return new qn("auth","Firebase",r).create(e,{appName:t.name})}function pl(t){return OC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NC.create(t,...e)}function we(t,e,...n){if(!t)throw Fg(e,...n)}function pa(t){let e="INTERNAL ASSERTION FAILED: "+t;throw fl(e),new Error(e)}function ml(t,e){t||pa(e)}function Wk(){return DC()==="http:"||DC()==="https:"}function DC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Kk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wk()||rC()||"connection"in navigator)?navigator.onLine:!0}function Qk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var vi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ml(n>e,"Short delay should be less than long delay!"),this.isMobile=tC()||iC()}get(){return Kk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Yk(t,e){ml(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var yl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Jk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Zk=new vi(3e4,6e4);function kC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Il(o,s,a,u){return T(this,arguments,function*(t,e,n,r,i={}){return FC(t,i,()=>T(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ag(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:m},l);return nC()||(v.referrerPolicy="no-referrer"),yl.fetch()(VC(t,t.config.apiHost,n,p),v)}))})}function FC(t,e,n){return T(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Jk),e);try{let i=new Sg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw hl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw hl(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw hl(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw hl(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw OC(t,h,l);bC(t,h)}}catch(i){if(i instanceof Ot)throw i;bC(t,"network-request-failed",{message:String(i)})}})}function VC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Yk(t.config,i):`${t.config.apiScheme}://${i}`}var Sg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kg(this.auth,"network-request-failed")),Zk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function hl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=kg(t,e,r);return i.customData._tokenResponse=n,i}function Xk(t,e){return T(this,null,function*(){return Il(t,"POST","/v1/accounts:delete",e)})}function LC(t,e){return T(this,null,function*(){return Il(t,"POST","/v1/accounts:lookup",e)})}function ga(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Vg(t,e=!1){return T(this,null,function*(){let n=Dt(t),r=yield n.getIdToken(e),i=jC(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ga(Dg(i.auth_time)),issuedAtTime:ga(Dg(i.iat)),expirationTime:ga(Dg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Dg(t){return Number(t)*1e3}function jC(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fl("JWT malformed, contained fewer than 3 sections"),null;try{let i=ig(n);return i?JSON.parse(i):(fl("Failed to decode base64 JWT payload"),null)}catch(i){return fl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function TC(t){let e=jC(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ag(t,e,n=!1){return T(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ot&&eF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function eF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Mg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),n)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ya=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ga(this.lastLoginAt),this.creationTime=ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function vl(t){return T(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ag(t,LC(n,{idToken:r}));we(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?UC(o.providerUserInfo):[],a=tF(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ya(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Lg(t){return T(this,null,function*(){let e=Dt(t);yield vl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function tF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UC(t){return t.map(e=>{var{providerId:n}=e,r=Jd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function nF(t,e){return T(this,null,function*(){let n=yield FC(t,{},()=>T(this,null,function*(){let r=ag({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=VC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yl.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function rF(t,e){return T(this,null,function*(){return Il(t,"POST","/v2/accounts:revokeToken",kC(t,e))})}var ma=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");let n=TC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return T(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield nF(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(we(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(we(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return pa("not implemented")}};function br(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var va=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Jd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ya(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let n=yield Ag(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Vg(this,e)}reload(){return Lg(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield vl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(Co(this.auth.app))return Promise.reject(pl(this.auth));let e=yield this.getIdToken();return yield Ag(this,Xk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:ie,isAnonymous:Re,providerData:ee,stsTokenManager:E}=n;we(W&&E,e,"internal-error");let y=ma.fromJSON(this.name,E);we(typeof W=="string",e,"internal-error"),br(p,e.name),br(m,e.name),we(typeof ie=="boolean",e,"internal-error"),we(typeof Re=="boolean",e,"internal-error"),br(v,e.name),br(S,e.name),br(R,e.name),br(P,e.name),br(j,e.name),br(K,e.name);let _=new t({uid:W,auth:e,email:m,emailVerified:ie,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:v,tenantId:R,stsTokenManager:y,createdAt:j,lastLoginAt:K});return ee&&Array.isArray(ee)&&(_.providerData=ee.map(I=>Object.assign({},I))),P&&(_._redirectEventId=P),_}static _fromIdTokenResponse(e,n,r=!1){return T(this,null,function*(){let i=new ma;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vl(o),o})}static _fromGetAccountInfoResponse(e,n,r){return T(this,null,function*(){let i=n.users[0];we(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?UC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ma;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ya(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var SC=new Map;function yi(t){ml(t instanceof Function,"Expected a class definition");let e=SC.get(t);return e?(ml(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SC.set(t,e),e)}var iF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(n,r){return T(this,null,function*(){this.storage[n]=r})}_get(n){return T(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return T(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),xg=iF;function Tg(t,e,n){return`firebase:${t}:${e}:${n}`}var _l=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Tg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Tg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?va._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return T(this,null,function*(){if(!n.length)return new t(yi(xg),e,r);let i=(yield Promise.all(n.map(l=>T(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||yi(xg),s=Tg(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=va._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>T(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function AC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lF(e))return"Blackberry";if(dF(e))return"Webos";if(sF(e))return"Safari";if((e.includes("chrome/")||aF(e))&&!e.includes("edge/"))return"Chrome";if(uF(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function oF(t=kt()){return/firefox\//i.test(t)}function sF(t=kt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aF(t=kt()){return/crios\//i.test(t)}function cF(t=kt()){return/iemobile/i.test(t)}function uF(t=kt()){return/android/i.test(t)}function lF(t=kt()){return/blackberry/i.test(t)}function dF(t=kt()){return/webos/i.test(t)}function BC(t,e=[]){let n;switch(t){case"Browser":n=AC(kt());break;case"Worker":n=`${AC(kt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}var Rg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function hF(n){return T(this,arguments,function*(t,e={}){return Il(t,"GET","/v2/passwordPolicy",kC(t,e))})}var fF=6,Pg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:fF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Ng=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wl(this),this.idTokenSubscription=new wl(this),this.beforeStateQueue=new Rg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield _l.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let n=yield LC(this,{idToken:e}),r=yield va._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var n;if(Co(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield vl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Qk()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(Co(this.app))return Promise.reject(pl(this));let n=e?Dt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return T(this,null,function*(){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return Co(this.app)?Promise.reject(pl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Co(this.app)?Promise.reject(pl(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(yi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield hF(this),n=new Pg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield rF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&yi(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=yield _l.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return T(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Gk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function pF(t){return Dt(t)}var wl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=aC(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var gF={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mF(t){gF=t}function yF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function vF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(yi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var _3=yF("rcb"),w3=new vi(3e4,6e4);var I3=new vi(2e3,1e4);var E3=10*60*1e3;var C3=new vi(3e4,6e4);var b3=new vi(5e3,15e3);var D3=encodeURIComponent("fac");var MC="@firebase/auth",xC="1.7.9";var Og=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _F(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wF(t){Cn(new Tt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;we(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BC(t)},l=new Ng(r,i,o,u);return vF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cn(new Tt("auth-internal",e=>{let n=pF(e.getProvider("auth").getImmediate());return(r=>new Og(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(MC,xC,_F(t)),Oe(MC,xC,"esm2017")}var IF=5*60,T3=X0("authIdTokenMaxAge")||IF;function EF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=kg("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",EF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wF("Browser");var IV="auth";var To=class{constructor(){return pi(IV)}};var $C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},HC={};var Dr,jg;(function(){var t;function e(E,y){function _(){}_.prototype=y.prototype,E.D=y.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(I,C,D){for(var w=Array(arguments.length-2),xn=2;xn<arguments.length;xn++)w[xn-2]=arguments[xn];return y.prototype[C].apply(I,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,_){_||(_=0);var I=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)I[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)I[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=E.g[0],_=E.g[1],C=E.g[2];var D=E.g[3],w=y+(D^_&(C^D))+I[0]+3614090360&4294967295;y=_+(w<<7&4294967295|w>>>25),w=D+(C^y&(_^C))+I[1]+3905402710&4294967295,D=y+(w<<12&4294967295|w>>>20),w=C+(_^D&(y^_))+I[2]+606105819&4294967295,C=D+(w<<17&4294967295|w>>>15),w=_+(y^C&(D^y))+I[3]+3250441966&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(D^_&(C^D))+I[4]+4118548399&4294967295,y=_+(w<<7&4294967295|w>>>25),w=D+(C^y&(_^C))+I[5]+1200080426&4294967295,D=y+(w<<12&4294967295|w>>>20),w=C+(_^D&(y^_))+I[6]+2821735955&4294967295,C=D+(w<<17&4294967295|w>>>15),w=_+(y^C&(D^y))+I[7]+4249261313&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(D^_&(C^D))+I[8]+1770035416&4294967295,y=_+(w<<7&4294967295|w>>>25),w=D+(C^y&(_^C))+I[9]+2336552879&4294967295,D=y+(w<<12&4294967295|w>>>20),w=C+(_^D&(y^_))+I[10]+4294925233&4294967295,C=D+(w<<17&4294967295|w>>>15),w=_+(y^C&(D^y))+I[11]+2304563134&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(D^_&(C^D))+I[12]+1804603682&4294967295,y=_+(w<<7&4294967295|w>>>25),w=D+(C^y&(_^C))+I[13]+4254626195&4294967295,D=y+(w<<12&4294967295|w>>>20),w=C+(_^D&(y^_))+I[14]+2792965006&4294967295,C=D+(w<<17&4294967295|w>>>15),w=_+(y^C&(D^y))+I[15]+1236535329&4294967295,_=C+(w<<22&4294967295|w>>>10),w=y+(C^D&(_^C))+I[1]+4129170786&4294967295,y=_+(w<<5&4294967295|w>>>27),w=D+(_^C&(y^_))+I[6]+3225465664&4294967295,D=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(D^y))+I[11]+643717713&4294967295,C=D+(w<<14&4294967295|w>>>18),w=_+(D^y&(C^D))+I[0]+3921069994&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(C^D&(_^C))+I[5]+3593408605&4294967295,y=_+(w<<5&4294967295|w>>>27),w=D+(_^C&(y^_))+I[10]+38016083&4294967295,D=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(D^y))+I[15]+3634488961&4294967295,C=D+(w<<14&4294967295|w>>>18),w=_+(D^y&(C^D))+I[4]+3889429448&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(C^D&(_^C))+I[9]+568446438&4294967295,y=_+(w<<5&4294967295|w>>>27),w=D+(_^C&(y^_))+I[14]+3275163606&4294967295,D=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(D^y))+I[3]+4107603335&4294967295,C=D+(w<<14&4294967295|w>>>18),w=_+(D^y&(C^D))+I[8]+1163531501&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(C^D&(_^C))+I[13]+2850285829&4294967295,y=_+(w<<5&4294967295|w>>>27),w=D+(_^C&(y^_))+I[2]+4243563512&4294967295,D=y+(w<<9&4294967295|w>>>23),w=C+(y^_&(D^y))+I[7]+1735328473&4294967295,C=D+(w<<14&4294967295|w>>>18),w=_+(D^y&(C^D))+I[12]+2368359562&4294967295,_=C+(w<<20&4294967295|w>>>12),w=y+(_^C^D)+I[5]+4294588738&4294967295,y=_+(w<<4&4294967295|w>>>28),w=D+(y^_^C)+I[8]+2272392833&4294967295,D=y+(w<<11&4294967295|w>>>21),w=C+(D^y^_)+I[11]+1839030562&4294967295,C=D+(w<<16&4294967295|w>>>16),w=_+(C^D^y)+I[14]+4259657740&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(_^C^D)+I[1]+2763975236&4294967295,y=_+(w<<4&4294967295|w>>>28),w=D+(y^_^C)+I[4]+1272893353&4294967295,D=y+(w<<11&4294967295|w>>>21),w=C+(D^y^_)+I[7]+4139469664&4294967295,C=D+(w<<16&4294967295|w>>>16),w=_+(C^D^y)+I[10]+3200236656&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(_^C^D)+I[13]+681279174&4294967295,y=_+(w<<4&4294967295|w>>>28),w=D+(y^_^C)+I[0]+3936430074&4294967295,D=y+(w<<11&4294967295|w>>>21),w=C+(D^y^_)+I[3]+3572445317&4294967295,C=D+(w<<16&4294967295|w>>>16),w=_+(C^D^y)+I[6]+76029189&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(_^C^D)+I[9]+3654602809&4294967295,y=_+(w<<4&4294967295|w>>>28),w=D+(y^_^C)+I[12]+3873151461&4294967295,D=y+(w<<11&4294967295|w>>>21),w=C+(D^y^_)+I[15]+530742520&4294967295,C=D+(w<<16&4294967295|w>>>16),w=_+(C^D^y)+I[2]+3299628645&4294967295,_=C+(w<<23&4294967295|w>>>9),w=y+(C^(_|~D))+I[0]+4096336452&4294967295,y=_+(w<<6&4294967295|w>>>26),w=D+(_^(y|~C))+I[7]+1126891415&4294967295,D=y+(w<<10&4294967295|w>>>22),w=C+(y^(D|~_))+I[14]+2878612391&4294967295,C=D+(w<<15&4294967295|w>>>17),w=_+(D^(C|~y))+I[5]+4237533241&4294967295,_=C+(w<<21&4294967295|w>>>11),w=y+(C^(_|~D))+I[12]+1700485571&4294967295,y=_+(w<<6&4294967295|w>>>26),w=D+(_^(y|~C))+I[3]+2399980690&4294967295,D=y+(w<<10&4294967295|w>>>22),w=C+(y^(D|~_))+I[10]+4293915773&4294967295,C=D+(w<<15&4294967295|w>>>17),w=_+(D^(C|~y))+I[1]+2240044497&4294967295,_=C+(w<<21&4294967295|w>>>11),w=y+(C^(_|~D))+I[8]+1873313359&4294967295,y=_+(w<<6&4294967295|w>>>26),w=D+(_^(y|~C))+I[15]+4264355552&4294967295,D=y+(w<<10&4294967295|w>>>22),w=C+(y^(D|~_))+I[6]+2734768916&4294967295,C=D+(w<<15&4294967295|w>>>17),w=_+(D^(C|~y))+I[13]+1309151649&4294967295,_=C+(w<<21&4294967295|w>>>11),w=y+(C^(_|~D))+I[4]+4149444226&4294967295,y=_+(w<<6&4294967295|w>>>26),w=D+(_^(y|~C))+I[11]+3174756917&4294967295,D=y+(w<<10&4294967295|w>>>22),w=C+(y^(D|~_))+I[2]+718787259&4294967295,C=D+(w<<15&4294967295|w>>>17),w=_+(D^(C|~y))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+D&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var _=y-this.blockSize,I=this.B,C=this.h,D=0;D<y;){if(C==0)for(;D<=_;)i(this,E,D),D+=this.blockSize;if(typeof E=="string"){for(;D<y;)if(I[C++]=E.charCodeAt(D++),C==this.blockSize){i(this,I),C=0;break}}else for(;D<y;)if(I[C++]=E[D++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var _=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=_&255,_/=256;for(this.u(E),E=Array(16),y=_=0;4>y;++y)for(var I=0;32>I;I+=8)E[_++]=this.g[y]>>>I&255;return E};function o(E,y){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=y(E)}function s(E,y){this.h=y;for(var _=[],I=!0,C=E.length-1;0<=C;C--){var D=E[C]|0;I&&D==y||(_[C]=D,I=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return P(l(-E));for(var y=[],_=1,I=0;E>=_;I++)y[I]=E/_|0,_*=4294967296;return new s(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return P(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),I=p,C=0;C<E.length;C+=8){var D=Math.min(8,E.length-C),w=parseInt(E.substring(C,C+D),y);8>D?(D=l(Math.pow(y,D)),I=I.j(D).add(l(w))):(I=I.j(_),I=I.add(l(w)))}return I}var p=u(0),m=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-P(this).m();for(var E=0,y=1,_=0;_<this.g.length;_++){var I=this.i(_);E+=(0<=I?I:4294967296+I)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(R(this))return"-"+P(this).toString(E);for(var y=l(Math.pow(E,6)),_=this,I="";;){var C=ie(_,y).g;_=j(_,C.j(y));var D=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=C,S(_))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=j(this,E),R(E)?-1:S(E)?0:1};function P(E){for(var y=E.g.length,_=[],I=0;I<y;I++)_[I]=~E.g[I];return new s(_,~E.h).add(m)}t.abs=function(){return R(this)?P(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0,C=0;C<=y;C++){var D=I+(this.i(C)&65535)+(E.i(C)&65535),w=(D>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);I=w>>>16,D&=65535,w&=65535,_[C]=w<<16|D}return new s(_,_[_.length-1]&-2147483648?-1:0)};function j(E,y){return E.add(P(y))}t.j=function(E){if(S(this)||S(E))return p;if(R(this))return R(E)?P(this).j(P(E)):P(P(this).j(E));if(R(E))return P(this.j(P(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,_=[],I=0;I<2*y;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<E.g.length;C++){var D=this.i(I)>>>16,w=this.i(I)&65535,xn=E.i(C)>>>16,Yo=E.i(C)&65535;_[2*I+2*C]+=w*Yo,K(_,2*I+2*C),_[2*I+2*C+1]+=D*Yo,K(_,2*I+2*C+1),_[2*I+2*C+1]+=w*xn,K(_,2*I+2*C+1),_[2*I+2*C+2]+=D*xn,K(_,2*I+2*C+2)}for(I=0;I<y;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=y;I<2*y;I++)_[I]=0;return new s(_,0)};function K(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function W(E,y){this.g=E,this.h=y}function ie(E,y){if(S(y))throw Error("division by zero");if(S(E))return new W(p,p);if(R(E))return y=ie(P(E),y),new W(P(y.g),P(y.h));if(R(y))return y=ie(E,P(y)),new W(P(y.g),y.h);if(30<E.g.length){if(R(E)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,I=y;0>=I.l(E);)_=Re(_),I=Re(I);var C=ee(_,1),D=ee(I,1);for(I=ee(I,2),_=ee(_,2);!S(I);){var w=D.add(I);0>=w.l(E)&&(C=C.add(_),D=w),I=ee(I,1),_=ee(_,1)}return y=j(E,C.j(y)),new W(C,y)}for(C=p;0<=E.l(y);){for(_=Math.max(1,Math.floor(E.m()/y.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=l(_),w=D.j(y);R(w)||0<w.l(E);)_-=I,D=l(_),w=D.j(y);S(D)&&(D=m),C=C.add(D),E=j(E,w)}return new W(C,E)}t.A=function(E){return ie(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0;I<y;I++)_[I]=this.i(I)&E.i(I);return new s(_,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0;I<y;I++)_[I]=this.i(I)|E.i(I);return new s(_,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],I=0;I<y;I++)_[I]=this.i(I)^E.i(I);return new s(_,this.h^E.h)};function Re(E){for(var y=E.g.length+1,_=[],I=0;I<y;I++)_[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(_,E.h)}function ee(E,y){var _=y>>5;y%=32;for(var I=E.g.length-_,C=[],D=0;D<I;D++)C[D]=0<y?E.i(D+_)>>>y|E.i(D+_+1)<<32-y:E.i(D+_);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jg=HC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Dr=HC.Integer=s}).apply(typeof $C<"u"?$C:typeof self<"u"?self:typeof window<"u"?window:{});var El=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kn={};var Ug,Bg,So,$g,_a,Cl,Hg,zg,qg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof El=="object"&&El];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var F=Array(arguments.length-2),De=2;De<arguments.length;De++)F[De-2]=arguments[De];return d.prototype[b].apply(g,F)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function P(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let F=0;F<A;F++)c[b+F]=g[F]}else c.push(g)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var Re=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ee(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function D(c){a.setTimeout(()=>{throw c},0)}function w(){var c=dd;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class xn{constructor(){this.h=this.g=null}add(d,f){let g=Yo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Yo=new j(()=>new gT,c=>c.reset());class gT{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Jo,Zo=!1,dd=new xn,Yy=()=>{let c=a.Promise.resolve(void 0);Jo=()=>{c.then(mT)}};var mT=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){D(f)}var d=Yo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Zo=!1};function Zn(){this.s=this.s,this.C=this.C}Zn.prototype.s=!1,Zn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var yT=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Xo(c,d){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{ie(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:vT[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Xo.aa.h.call(this)}}S(Xo,rt);var vT={2:"touch",3:"pen",4:"mouse"};Xo.prototype.h=function(){Xo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var es="closure_listenable_"+(1e6*Math.random()|0),_T=0;function wT(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++_T,this.da=this.fa=!1}function Ja(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Za(c){this.src=c,this.g={},this.h=0}Za.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=fd(c,d,g,b);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new wT(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function hd(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Ja(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function fd(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var pd="closure_lm_"+(1e6*Math.random()|0),gd={};function Jy(c,d,f,g,b){if(g&&g.once)return Xy(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Jy(c,d[A],f,g,b);return null}return f=_d(f),c&&c[es]?c.K(d,f,l(g)?!!g.capture:!!g,b):Zy(c,d,f,!1,g,b)}function Zy(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var F=l(b)?!!b.capture:!!b,De=yd(c);if(De||(c[pd]=De=new Za(c)),f=De.add(d,f,g,F,A),f.proxy)return f;if(g=IT(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)yT||(b=F),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(tv(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function IT(){function c(f){return d.call(c.src,c.listener,f)}let d=ET;return c}function Xy(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Xy(c,d[A],f,g,b);return null}return f=_d(f),c&&c[es]?c.L(d,f,l(g)?!!g.capture:!!g,b):Zy(c,d,f,!0,g,b)}function ev(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)ev(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=_d(f),c&&c[es]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=fd(A,f,g,b),-1<f&&(Ja(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=yd(c))&&(d=c.g[d.toString()],c=-1,d&&(c=fd(d,f,g,b)),(f=-1<c?d[c]:null)&&md(f))}function md(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[es])hd(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(tv(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=yd(d))?(hd(f,c),f.h==0&&(f.src=null,d[pd]=null)):Ja(c)}}}function tv(c){return c in gd?gd[c]:gd[c]="on"+c}function ET(c,d){if(c.da)c=!0;else{d=new Xo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&md(c),c=f.call(g,d)}return c}function yd(c){return c=c[pd],c instanceof Za?c:null}var vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function _d(c){return typeof c=="function"?c:(c[vd]||(c[vd]=function(d){return c.handleEvent(d)}),c[vd])}function it(){Zn.call(this),this.i=new Za(this),this.M=this,this.F=null}S(it,Zn),it.prototype[es]=!0,it.prototype.removeEventListener=function(c,d,f,g){ev(this,c,d,f,g)};function ft(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new rt(d,c);else if(d instanceof rt)d.target=d.target||c;else{var b=d;d=new rt(g,c),I(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];b=Xa(F,g,!0,d)&&b}if(F=d.g=c,b=Xa(F,g,!0,d)&&b,b=Xa(F,g,!1,d)&&b,f)for(A=0;A<f.length;A++)F=d.g=f[A],b=Xa(F,g,!1,d)&&b}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Ja(f[g]);delete c.g[d],c.h--}}this.F=null},it.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},it.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Xa(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var De=F.listener,et=F.ha||F.src;F.fa&&hd(c.i,F),b=De.call(et,g)!==!1&&b}}return b&&!g.defaultPrevented}function nv(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function rv(c){c.g=nv(()=>{c.g=null,c.i&&(c.i=!1,rv(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class CT extends Zn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:rv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){Zn.call(this),this.h=c,this.g={}}S(ts,Zn);var iv=[];function ov(c){ee(c.g,function(d,f){this.g.hasOwnProperty(f)&&md(d)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),ov(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wd=a.JSON.stringify,bT=a.JSON.parse,DT=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Id(){}Id.prototype.h=null;function sv(c){return c.h||(c.h=c.i())}function av(){}var ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ed(){rt.call(this,"d")}S(Ed,rt);function Cd(){rt.call(this,"c")}S(Cd,rt);var Pr={},cv=null;function ec(){return cv=cv||new it}Pr.La="serverreachability";function uv(c){rt.call(this,Pr.La,c)}S(uv,rt);function rs(c){let d=ec();ft(d,new uv(d))}Pr.STAT_EVENT="statevent";function lv(c,d){rt.call(this,Pr.STAT_EVENT,c),this.stat=d}S(lv,rt);function pt(c){let d=ec();ft(d,new lv(d,c))}Pr.Ma="timingevent";function dv(c,d){rt.call(this,Pr.Ma,c),this.size=d}S(dv,rt);function is(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function os(){this.g=!0}os.prototype.xa=function(){this.g=!1};function TT(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var F="",De=A.split("&"),et=0;et<De.length;et++){var ye=De[et].split("=");if(1<ye.length){var ot=ye[0];ye=ye[1];var st=ot.split("_");F=2<=st.length&&st[1]=="type"?F+(ot+"="+ye+"&"):F+(ot+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+F})}function ST(c,d,f,g,b,A,F){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+F})}function Ai(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+MT(c,f)+(g?" "+g:"")})}function AT(c,d){c.info(function(){return"TIMEOUT: "+d})}os.prototype.info=function(){};function MT(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<b.length;F++)b[F]=""}}}}return wd(f)}catch{return d}}var tc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bd;function nc(){}S(nc,Id),nc.prototype.g=function(){return new XMLHttpRequest},nc.prototype.i=function(){return{}},bd=new nc;function Xn(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fv}function fv(){this.i=null,this.g="",this.h=!1}var pv={},Dd={};function Td(c,d,f){c.L=1,c.v=sc(Rn(d)),c.m=f,c.P=!0,gv(c,null)}function gv(c,d){c.F=Date.now(),rc(c),c.A=Rn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Mv(f.i,"t",g),c.C=0,f=c.j.J,c.h=new fv,c.g=Wv(c.j,f?d:null,!c.m),0<c.O&&(c.M=new CT(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(iv[0]=b.toString()),b=iv);for(var A=0;A<b.length;A++){var F=Jy(f,b[A],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),rs(),TT(c.i,c.u,c.A,c.l,c.R,c.m)}Xn.prototype.ca=function(c){c=c.target;let d=this.M;d&&Pn(c)==3?d.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{let st=Pn(this.g);var d=this.g.Ba();let Ri=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Fv(this.g)))){this.J||st!=4||d==7||(d==8||0>=Ri?rs(3):rs(2)),Sd(this);var f=this.g.Z();this.X=f;t:if(mv(this)){var g=Fv(this.g);c="";var b=g.length,A=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),ss(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,ST(this.i,this.u,this.A,this.l,this.R,st,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,et=this.g;if((De=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(De)){var ye=De;break t}}ye=null}if(f=ye)Ai(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ad(this,f);else{this.o=!1,this.s=3,pt(12),Nr(this),ss(this);break e}}if(this.P){f=!0;let qt;for(;!this.J&&this.C<F.length;)if(qt=xT(this,F),qt==Dd){st==4&&(this.s=4,pt(14),f=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==pv){this.s=4,pt(15),Ai(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else Ai(this.i,this.l,qt,null),Ad(this,qt);if(mv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||F.length!=0||this.h.h||(this.s=1,pt(16),f=!1),this.o=this.o&&f,!f)Ai(this.i,this.l,F,"[Invalid Chunked Response]"),Nr(this),ss(this);else if(0<F.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Od(ot),ot.M=!0,pt(11))}}else Ai(this.i,this.l,F,null),Ad(this,F);st==4&&Nr(this),this.o&&!this.J&&(st==4?Hv(this.j,this):(this.o=!1,rc(this)))}else WT(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Nr(this),ss(this)}}}catch{}finally{}};function mv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xT(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Dd:(f=Number(d.substring(f,g)),isNaN(f)?pv:(g+=1,g+f>d.length?Dd:(d=d.slice(g,g+f),c.C=g+f,d)))}Xn.prototype.cancel=function(){this.J=!0,Nr(this)};function rc(c){c.S=Date.now()+c.I,yv(c,c.I)}function yv(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=is(m(c.ba,c),d)}function Sd(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Xn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(AT(this.i,this.A),this.L!=2&&(rs(),pt(17)),Nr(this),this.s=2,ss(this)):yv(this,this.S-c)};function ss(c){c.j.G==0||c.J||Hv(c.j,c)}function Nr(c){Sd(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,ov(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ad(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Md(f.h,c))){if(!c.K&&Md(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)dc(f),uc(f);else break e;Nd(f),pt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=is(m(f.Za,f),6e3));if(1>=wv(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else kr(f,11)}else if((c.K||f.g==c)&&dc(f),!K(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ye=b[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let ot=ye[3];ot!=null&&(f.la=ot,f.j.info("VER="+f.la));let st=ye[4];st!=null&&(f.Aa=st,f.j.info("SVER="+f.Aa));let Ri=ye[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(g=1.5*Ri,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let qt=c.g;if(qt){let fc=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fc){var A=g.h;A.g||fc.indexOf("spdy")==-1&&fc.indexOf("quic")==-1&&fc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(xd(A,A.h),A.h=null))}if(g.D){let kd=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;kd&&(g.ya=kd,Pe(g.I,g.D,kd))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=c;if(g.qa=Gv(g,g.J?g.ia:null,g.W),F.K){Iv(g.h,F);var De=F,et=g.L;et&&(De.I=et),De.B&&(Sd(De),rc(De)),g.g=F}else Bv(g);0<f.i.length&&lc(f)}else ye[0]!="stop"&&ye[0]!="close"||kr(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?kr(f,7):Pd(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}rs(4)}catch{}}var RT=class{constructor(c,d){this.g=c,this.map=d}};function vv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _v(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wv(c){return c.h?1:c.g?c.g.size:0}function Md(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function xd(c,d){c.g?c.g.add(d):c.h=d}function Iv(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}vv.prototype.cancel=function(){if(this.i=Ev(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Ev(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function PT(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function NT(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Cv(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=NT(c),g=PT(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var bv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OT(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Or(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Or){this.h=c.h,ic(this,c.j),this.o=c.o,this.g=c.g,oc(this,c.s),this.l=c.l;var d=c.i,f=new us;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Dv(this,f),this.m=c.m}else c&&(d=String(c).match(bv))?(this.h=!1,ic(this,d[1]||"",!0),this.o=as(d[2]||""),this.g=as(d[3]||"",!0),oc(this,d[4]),this.l=as(d[5]||"",!0),Dv(this,d[6]||"",!0),this.m=as(d[7]||"")):(this.h=!1,this.i=new us(null,this.h))}Or.prototype.toString=function(){var c=[],d=this.j;d&&c.push(cs(d,Tv,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(cs(d,Tv,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(cs(f,f.charAt(0)=="/"?VT:FT,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",cs(f,jT)),c.join("")};function Rn(c){return new Or(c)}function ic(c,d,f){c.j=f?as(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function oc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Dv(c,d,f){d instanceof us?(c.i=d,UT(c.i,c.h)):(f||(d=cs(d,LT)),c.i=new us(d,c.h))}function Pe(c,d,f){c.i.set(d,f)}function sc(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function as(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,kT),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kT(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Tv=/[#\/\?@]/g,FT=/[#\?:]/g,VT=/[#\?]/g,LT=/[#\?@]/g,jT=/#/g;function us(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function er(c){c.g||(c.g=new Map,c.h=0,c.i&&OT(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=us.prototype,t.add=function(c,d){er(this),this.i=null,c=Mi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Sv(c,d){er(c),d=Mi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Av(c,d){return er(c),d=Mi(c,d),c.g.has(d)}t.forEach=function(c,d){er(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){er(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},t.V=function(c){er(this);let d=[];if(typeof c=="string")Av(this,c)&&(d=d.concat(this.g.get(Mi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return er(this),this.i=null,c=Mi(this,c),Av(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Mv(c,d,f){Sv(c,d),0<f.length&&(c.i=null,c.g.set(Mi(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var b=A;F[g]!==""&&(b+="="+encodeURIComponent(String(F[g]))),c.push(b)}}return this.i=c.join("&")};function Mi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function UT(c,d){d&&!c.j&&(er(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(Sv(this,g),Mv(this,b,f))},c)),c.j=d}function BT(c,d){let f=new os;if(a.Image){let g=new Image;g.onload=v(tr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(tr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(tr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(tr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function $T(c,d){let f=new os,g=new AbortController,b=setTimeout(()=>{g.abort(),tr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?tr(f,"TestPingServer: ok",!0,d):tr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),tr(f,"TestPingServer: error",!1,d)})}function tr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function HT(){this.g=new DT}function zT(c,d,f){let g=f||"";try{Cv(c,function(b,A){let F=b;l(b)&&(F=wd(b)),d.push(g+A+"="+encodeURIComponent(F))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function ls(c){this.l=c.Ub||null,this.j=c.eb||!1}S(ls,Id),ls.prototype.g=function(){return new ac(this.l,this.j)},ls.prototype.i=function(c){return function(){return c}}({});function ac(c,d){it.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ac,it),t=ac.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,hs(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ds(this):hs(this),this.readyState==3&&xv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ds(this))},t.Qa=function(c){this.g&&(this.response=c,ds(this))},t.ga=function(){this.g&&ds(this)};function ds(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hs(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function hs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ac.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rv(c){let d="";return ee(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Rd(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Rv(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Pe(c,d,f))}function Fe(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Fe,it);var qT=/^https?$/i,GT=["POST","PUT"];t=Fe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bd.g(),this.v=this.o?sv(this.o):sv(bd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){Pv(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GT,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kv(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){Pv(this,A)}};function Pv(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Nv(c),cc(c)}function Nv(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),cc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cc(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ov(this):this.bb())},t.bb=function(){Ov(this)};function Ov(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)nv(c.Ea,0,c);else if(ft(c,"readystatechange"),Pn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var b=String(c.D).match(bv)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!qT.test(b?b.toLowerCase():"")}f=g}if(f)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var A=2<Pn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",Nv(c)}}finally{cc(c)}}}}function cc(c,d){if(c.g){kv(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ft(c,"ready");try{f.onreadystatechange=g}catch{}}}function kv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),bT(d)}};function Fv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function WT(c){let d={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var f=C(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Vv(c){this.Aa=0,this.i=[],this.j=new os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,c),this.cb=fs("retryDelaySeedMs",1e4,c),this.Wa=fs("forwardChannelMaxRetries",2,c),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vv(c&&c.concurrentRequestLimit),this.Da=new HT,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vv.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){pt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Gv(this,null,this.W),lc(this)};function Pd(c){if(Lv(c),c.G==3){var d=c.U++,f=Rn(c.I);if(Pe(f,"SID",c.K),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),ps(c,f),d=new Xn(c,c.j,d),d.L=2,d.v=sc(Rn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Wv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),rc(d)}qv(c)}function uc(c){c.g&&(Od(c),c.g.cancel(),c.g=null)}function Lv(c){uc(c),c.u&&(a.clearTimeout(c.u),c.u=null),dc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function lc(c){if(!_v(c.h)&&!c.s){c.s=!0;var d=c.Ga;Jo||Yy(),Zo||(Jo(),Zo=!0),dd.add(d,c),c.B=0}}function KT(c,d){return wv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=is(m(c.Ga,c,d),zv(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Xn(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Uv(this,b,d),f=Rn(this.I),Pe(f,"RID",c),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),ps(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(Rv(A)))+"&"+d:this.m&&Rd(f,this.m,A)),xd(this.h,b),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",d),Pe(f,"SID","null"),b.T=!0,Td(b,f,null)):Td(b,f,d),this.G=2}}else this.G==3&&(c?jv(this,c):this.i.length==0||_v(this.h)||jv(this))};function jv(c,d){var f;d?f=d.l:f=c.U++;let g=Rn(c.I);Pe(g,"SID",c.K),Pe(g,"RID",f),Pe(g,"AID",c.T),ps(c,g),c.m&&c.o&&Rd(g,c.m,c.o),f=new Xn(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Uv(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xd(c.h,f),Td(f,g,d)}function ps(c,d){c.H&&ee(c.H,function(f,g){Pe(d,g,f)}),c.l&&Cv({},function(f,g){Pe(d,g,f)})}function Uv(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=b[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let De=!0;for(let et=0;et<f;et++){let ye=b[et].g,ot=b[et].map;if(ye-=A,0>ye)A=Math.max(0,b[et].g-100),De=!1;else try{zT(ot,F,"req"+ye+"_")}catch{g&&g(ot)}}if(De){g=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Bv(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Jo||Yy(),Zo||(Jo(),Zo=!0),dd.add(d,c),c.v=0}}function Nd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=is(m(c.Fa,c),zv(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,$v(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=is(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),uc(this),$v(this))};function Od(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function $v(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Rn(c.qa);Pe(d,"RID","rpc"),Pe(d,"SID",c.K),Pe(d,"AID",c.T),Pe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(d,"TO",c.ja),Pe(d,"TYPE","xmlhttp"),ps(c,d),c.m&&c.o&&Rd(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=sc(Rn(d)),f.m=null,f.P=!0,gv(f,c)}t.Za=function(){this.C!=null&&(this.C=null,uc(this),Nd(this),pt(19))};function dc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Hv(c,d){var f=null;if(c.g==d){dc(c),Od(c),c.g=null;var g=2}else if(Md(c.h,d))f=d.D,Iv(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=ec(),ft(g,new dv(g,f)),lc(c)}else Bv(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&KT(c,d)||g==2&&Nd(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:kr(c,5);break;case 4:kr(c,10);break;case 3:kr(c,6);break;default:kr(c,2)}}}function zv(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function kr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Or(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ic(g,"https"),sc(g),b?BT(g.toString(),f):$T(g.toString(),f)}else pt(2);c.G=0,c.l&&c.l.sa(d),qv(c),Lv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function qv(c){if(c.G=0,c.ka=[],c.l){let d=Ev(c.h);(d.length!=0||c.i.length!=0)&&(P(c.ka,d),P(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function Gv(c,d,f){var g=f instanceof Or?Rn(f):new Or(f);if(g.g!="")d&&(g.g=d+"."+g.g),oc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Or(null);g&&ic(A,g),d&&(A.g=d),b&&oc(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Pe(g,f,d),Pe(g,"VER",c.la),ps(c,g),g}function Wv(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Fe(new ls({eb:f})):new Fe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kv(){}t=Kv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hc(){}hc.prototype.g=function(c,d){return new St(c,d)};function St(c,d){it.call(this),this.g=new Vv(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new xi(this)}S(St,it),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){Pd(this.g)},St.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=wd(c),c=f);d.i.push(new RT(d.Ya++,c)),d.G==3&&lc(d)},St.prototype.N=function(){this.g.l=null,delete this.j,Pd(this.g),delete this.g,St.aa.N.call(this)};function Qv(c){Ed.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(Qv,Ed);function Yv(){Cd.call(this),this.status=1}S(Yv,Cd);function xi(c){this.g=c}S(xi,Kv),xi.prototype.ua=function(){ft(this.g,"a")},xi.prototype.ta=function(c){ft(this.g,new Qv(c))},xi.prototype.sa=function(c){ft(this.g,new Yv)},xi.prototype.ra=function(){ft(this.g,"b")},hc.prototype.createWebChannel=hc.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,qg=Kn.createWebChannelTransport=function(){return new hc},zg=Kn.getStatEventTarget=function(){return ec()},Hg=Kn.Event=Pr,Cl=Kn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,_a=Kn.ErrorCode=tc,hv.COMPLETE="complete",$g=Kn.EventType=hv,av.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",it.prototype.listen=it.prototype.K,So=Kn.WebChannel=av,Bg=Kn.FetchXmlHttpFactory=ls,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Ug=Kn.XhrIo=Fe}).apply(typeof El<"u"?El:typeof self<"u"?self:typeof window<"u"?window:{});var zC="@firebase/firestore";var Xe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");var Go="10.13.2";var Ci=new Ir("@firebase/firestore");function wa(){return Ci.logLevel}function B(t,...e){if(Ci.logLevel<=le.DEBUG){let n=e.map(Sy);Ci.debug(`Firestore (${Go}): ${t}`,...n)}}function Yn(t,...e){if(Ci.logLevel<=le.ERROR){let n=e.map(Sy);Ci.error(`Firestore (${Go}): ${t}`,...n)}}function ko(t,...e){if(Ci.logLevel<=le.WARN){let n=e.map(Sy);Ci.warn(`Firestore (${Go}): ${t}`,...n)}}function Sy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Z(t="Unexpected state"){let e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+t;throw Yn(e),new Error(e)}function ze(t,e){t||Z()}function ge(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Ot{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Dn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Sl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}},Zg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Xg=class{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>T(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new Sl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Xe(e)}},em=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},tm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new em(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},nm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},rm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new nm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function EV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Al=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=EV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ie(t,e){return t<e?-1:t>e?1:0}function Fo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var lt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new lt(0,0))}static max(){return new t(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ml=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends Ml{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},CV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class t extends Ml{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return CV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var im=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};im.UNKNOWN_ID=-1;function bV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new bi(i,z.empty(),e)}function DV(t){return new bi(t.readTime,t.key,-1)}var bi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),z.empty(),-1)}static max(){return new t(re.max(),z.empty(),-1)}};function TV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}var SV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",om=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ay(t){return T(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==SV)throw t;B("LocalStore","Unexpectedly lost primary lease")})}var k=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function AV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qa(t){return t.name==="IndexedDbTransactionError"}var bb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function rd(t){return t==null}function Sa(t){return t===0&&1/t==-1/0}function MV(t){return typeof t=="number"&&Number.isInteger(t)&&!Sa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var xV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SG=[...xV,"documentOverlays"],RV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],PV=RV,NV=[...PV,"indexConfiguration","indexState","indexEntries"];var AG=[...NV,"globals"];function qC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ga(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Db(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ue=class t{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}},Ro=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Tn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xl(this.data.getIterator())}getIteratorFrom(e){return new xl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},xl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _i=class t{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Rl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ht=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Rl("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ht.EMPTY_BYTE_STRING=new ht("");var OV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jn(t){if(ze(!!t),typeof t=="string"){let e=0,n=OV.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sr(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}function My(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xy(t){let e=t.mapValue.fields.__previous_value__;return My(e)?xy(e):e}function Aa(t){let e=Jn(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}var sm=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Pl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?My(t)?4:Sb(t)?9007199254740991:Tb(t)?10:11:Z()}function An(t,e){if(t===e)return!0;let n=Di(t);if(n!==Di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Aa(t).isEqual(Aa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Jn(i.timestampValue),a=Jn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Sr(i.bytesValue).isEqual(Sr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),a=Ne(o.doubleValue);return s===a?Sa(s)===Sa(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Fo(t.arrayValue.values||[],e.arrayValue.values||[],An);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(qC(s)!==qC(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!An(s[u],a[u])))return!1;return!0}(t,e);default:return Z()}}function Ma(t,e){return(t.values||[]).find(n=>An(n,e))!==void 0}function Vo(t,e){if(t===e)return 0;let n=Di(t),r=Di(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return GC(t.timestampValue,e.timestampValue);case 4:return GC(Aa(t),Aa(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Sr(o),u=Sr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ie(a[l],u[l]);if(h!==0)return h}return Ie(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ie(Ne(o.latitude),Ne(s.latitude));return a!==0?a:Ie(Ne(o.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,R=Ie(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:WC(v,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===bl.mapValue&&s===bl.mapValue)return 0;if(o===bl.mapValue)return 1;if(s===bl.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Ie(u[p],h[p]);if(m!==0)return m;let v=Vo(a[u[p]],l[h[p]]);if(v!==0)return v}return Ie(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Z()}}function GC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);let n=Jn(t),r=Jn(e),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function WC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Vo(n[i],r[i]);if(o)return o}return Ie(n.length,r.length)}function Lo(t){return am(t)}function am(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Jn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=am(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${am(n.fields[s])}`;return i+"}"}(t.mapValue):Z()}function KC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cm(t){return!!t&&"integerValue"in t}function Ry(t){return!!t&&"arrayValue"in t}function QC(t){return!!t&&"nullValue"in t}function YC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gg(t){return!!t&&"mapValue"in t}function Tb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ea(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Sb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Qn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ea(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ea(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Gg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return An(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ga(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ea(this.value))}};var on=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var jo=class{constructor(e,n){this.position=e,this.inclusive=n}};function JC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=Vo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!An(t.position[n],e.position[n]))return!1;return!0}var Ti=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function kV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Nl=class{},He=class t extends Nl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lm(e,n,r):n==="array-contains"?new fm(e,r):n==="in"?new pm(e,r):n==="not-in"?new gm(e,r):n==="array-contains-any"?new mm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dm(e,r):new hm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&Di(this.value)===Di(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},sn=class t extends Nl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Ab(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Ab(t){return t.op==="and"}function Mb(t){return FV(t)&&Ab(t)}function FV(t){for(let e of t.filters)if(e instanceof sn)return!1;return!0}function um(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+Lo(t.value);if(Mb(t))return t.filters.map(e=>um(e)).join(",");{let e=t.filters.map(n=>um(n)).join(",");return`${t.op}(${e})`}}function xb(t,e){return t instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&An(r.value,i.value)}(t,e):t instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&xb(s,i.filters[a]),!0):!1}(t,e):void Z()}function Rb(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`}(t):t instanceof sn?function(n){return n.op.toString()+" {"+n.getFilters().map(Rb).join(" ,")+"}"}(t):"Filter"}var lm=class extends He{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},dm=class extends He{constructor(e,n){super(e,"in",n),this.keys=Pb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},hm=class extends He{constructor(e,n){super(e,"not-in",n),this.keys=Pb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Pb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var fm=class extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Ry(n)&&Ma(n.arrayValue,this.value)}},pm=class extends He{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ma(this.value.arrayValue,n)}},gm=class extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ma(this.value.arrayValue,n)}},mm=class extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ma(this.value.arrayValue,r))}};var ym=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function XC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ym(t,e,n,r,i,o,s)}function Py(t){let e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>um(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lo(r)).join(",")),e.ue=n}return e.ue}function Ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZC(t.startAt,e.startAt)&&ZC(t.endAt,e.endAt)}function vm(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ar=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function VV(t,e,n,r,i,o,s,a){return new Ar(t,e,n,r,i,o,s,a)}function Oy(t){return new Ar(t)}function eb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nb(t){return t.collectionGroup!==null}function Ca(t){let e=ge(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new dt(zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ti(o,r))}),n.has(zt.keyField().canonicalString())||e.ce.push(new Ti(zt.keyField(),r))}return e.ce}function Sn(t){let e=ge(t);return e.le||(e.le=LV(e,Ca(t))),e.le}function LV(t,e){if(t.limitType==="F")return XC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ti(i.field,o)});let n=t.endAt?new jo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jo(t.startAt.position,t.startAt.inclusive):null;return XC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _m(t,e){let n=t.filters.concat([e]);return new Ar(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ol(t,e,n){return new Ar(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function id(t,e){return Ny(Sn(t),Sn(e))&&t.limitType===e.limitType}function Ob(t){return`${Py(Sn(t))}|lt:${t.limitType}`}function Ao(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Rb(i)).join(", ")}]`),rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lo(i)).join(",")),`Target(${r})`}(Sn(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ca(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=JC(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Ca(r),i)||r.endAt&&!function(s,a,u){let l=JC(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Ca(r),i))}(t,e)}function jV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kb(t){return(e,n)=>{let r=!1;for(let i of Ca(t)){let o=UV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function UV(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Vo(u,l):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var Mr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ga(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Db(this.inner)}size(){return this.innerSize}};var BV=new Ue(z.comparator);function xr(){return BV}var Fb=new Ue(z.comparator);function Ia(...t){let e=Fb;for(let n of t)e=e.insert(n.key,n);return e}function $V(t){let e=Fb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return ba()}function Vb(){return ba()}function ba(){return new Mr(t=>t.toString(),(t,e)=>t.isEqual(e))}var xG=new Ue(z.comparator),HV=new dt(z.comparator);function me(...t){let e=HV;for(let n of t)e=e.add(n);return e}var zV=new dt(Ie);function qV(){return zV}function ky(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sa(e)?"-0":e}}function Lb(t){return{integerValue:""+t}}function GV(t,e){return MV(e)?Lb(e):ky(t,e)}var Uo=class{constructor(){this._=void 0}};function WV(t,e,n){return t instanceof xa?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&My(o)&&(o=xy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Bo?jb(t,e):t instanceof $o?Ub(t,e):function(i,o){let s=QV(i,o),a=tb(s)+tb(i.Pe);return cm(s)&&cm(i.Pe)?Lb(a):ky(i.serializer,a)}(t,e)}function KV(t,e,n){return t instanceof Bo?jb(t,e):t instanceof $o?Ub(t,e):n}function QV(t,e){return t instanceof Ra?function(r){return cm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var xa=class extends Uo{},Bo=class extends Uo{constructor(e){super(),this.elements=e}};function jb(t,e){let n=Bb(e);for(let r of t.elements)n.some(i=>An(i,r))||n.push(r);return{arrayValue:{values:n}}}var $o=class extends Uo{constructor(e){super(),this.elements=e}};function Ub(t,e){let n=Bb(e);for(let r of t.elements)n=n.filter(i=>!An(i,r));return{arrayValue:{values:n}}}var Ra=class extends Uo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function tb(t){return Ne(t.integerValue||t.doubleValue)}function Bb(t){return Ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Bo&&i instanceof Bo||r instanceof $o&&i instanceof $o?Fo(r.elements,i.elements,An):r instanceof Ra&&i instanceof Ra?An(r.Pe,i.Pe):r instanceof xa&&i instanceof xa}(t.transform,e.transform)}var Da=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Tl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Pa=class{};function $b(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wm(t.key,Da.none()):new Na(t.key,t.data,Da.none());{let n=t.data,r=Qn.empty(),i=new dt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ho(t.key,r,new _i(i.toArray()),Da.none())}}function JV(t,e,n){t instanceof Na?function(i,o,s){let a=i.value.clone(),u=rb(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ho?function(i,o,s){if(!Tl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=rb(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Hb(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ta(t,e,n,r){return t instanceof Na?function(o,s,a,u){if(!Tl(o.precondition,s))return a;let l=o.value.clone(),h=ib(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ho?function(o,s,a,u){if(!Tl(o.precondition,s))return a;let l=ib(o.fieldTransforms,u,s),h=s.data;return h.setAll(Hb(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Tl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function nb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fo(r,i,(o,s)=>YV(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Na=class extends Pa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ho=class extends Pa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Hb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function rb(t,e,n){let r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,KV(s,a,n[i]))}return r}function ib(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,WV(o,s,e))}return r}var wm=class extends Pa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Im=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&JV(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ta(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ta(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Vb();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=$b(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(n,r)=>nb(n,r))&&Fo(this.baseMutations,e.baseMutations,(n,r)=>nb(n,r))}};var Em=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Cm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Be,pe;function zb(t){if(t===void 0)return Yn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Be.OK:return N.OK;case Be.CANCELLED:return N.CANCELLED;case Be.UNKNOWN:return N.UNKNOWN;case Be.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Be.INTERNAL:return N.INTERNAL;case Be.UNAVAILABLE:return N.UNAVAILABLE;case Be.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Be.NOT_FOUND:return N.NOT_FOUND;case Be.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Be.ABORTED:return N.ABORTED;case Be.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Be.DATA_LOSS:return N.DATA_LOSS;default:return Z()}}(pe=Be||(Be={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var ob=null;function ZV(){return new TextEncoder}var XV=new Dr([4294967295,4294967295],0);function sb(t){let e=ZV().encode(t),n=new jg;return n.update(e),new Uint8Array(n.digest())}function ab(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Dr([n,r],0),new Dr([i,o],0)]}var bm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ii(`Invalid padding: ${n}`);if(r<0)throw new Ii(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ii(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ii(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Dr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Dr.fromNumber(r)));return i.compare(XV)===1&&(i=new Dr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=sb(e),[r,i]=ab(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=sb(e),[r,i]=ab(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ii=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var kl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Oa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new Ue(Ie),xr(),me())}},Oa=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,me(),me(),me())}};var Po=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Fl=class{constructor(e,n){this.targetId=e,this.me=n}},Vl=class{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ll=class{constructor(){this.fe=0,this.ge=ub(),this.pe=ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Oa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ub()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Dm=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=xr(),this.qe=cb(),this.Qe=new Ue(Ie)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(vm(o))if(r===0){let s=new z(o.path);this.Ue(n,s,on.newNoDocument(s,re.min()))}else ze(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}ob?.et(function(h,p,m,v,S){var R,P,j,K,W,ie;let Re={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ee=p.unchangedNames;return ee&&(Re.bloomFilter={applied:S===0,hashCount:(R=ee?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(K=(j=(P=ee?.bits)===null||P===void 0?void 0:P.bitmap)===null||j===void 0?void 0:j.length)!==null&&K!==void 0?K:0,padding:(ie=(W=ee?.bits)===null||W===void 0?void 0:W.padding)!==null&&ie!==void 0?ie:0,mightContain:E=>{var y;return(y=v?.mightContain(E))!==null&&y!==void 0&&y}}),Re}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Sr(r).toUint8Array()}catch(u){if(u instanceof Rl)return ko("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new bm(s,i,o)}catch(u){return ko(u instanceof Ii?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&vm(a.target)){let u=new z(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,on.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=me();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new kl(e,n,this.Qe,this.ke,r);return this.ke=xr(),this.qe=cb(),this.Qe=new Ue(Ie),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ll,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(Ie),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ll),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function cb(){return new Ue(z.comparator)}function ub(){return new Ue(z.comparator)}var eL={asc:"ASCENDING",desc:"DESCENDING"},tL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nL={and:"AND",or:"OR"},Tm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Sm(t,e){return t.useProto3Json||rd(e)?e:{value:e}}function Am(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function No(t){return ze(!!t),re.fromTimestamp(function(n){let r=Jn(n);return new lt(r.seconds,r.nanos)}(t))}function Gb(t,e){return Mm(t,e).canonicalString()}function Mm(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Wb(t){let e=ke.fromString(t);return ze(Zb(e)),e}function Wg(t,e){let n=Wb(e);if(n.get(1)!==t.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(Qb(n))}function Kb(t,e){return Gb(t.databaseId,e)}function rL(t){let e=Wb(t);return e.length===4?ke.emptyPath():Qb(e)}function lb(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qb(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iL(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ze(h===void 0||typeof h=="string"),ht.fromBase64String(h||"")):(ze(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:zb(l.code);return new L(h,l.message||"")}(s);n=new Vl(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Wg(t,r.document.name),o=No(r.document.updateTime),s=r.document.createTime?No(r.document.createTime):re.min(),a=new Qn({mapValue:{fields:r.document.fields}}),u=on.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Po(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Wg(t,r.document),o=r.readTime?No(r.readTime):re.min(),s=on.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Po([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Wg(t,r.document),o=r.removedTargetIds||[];n=new Po([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Cm(i,o),a=r.targetId;n=new Fl(a,s)}}return n}function oL(t,e){return{documents:[Kb(t,e.path)]}}function sL(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Kb(t,i);let o=function(l){if(l.length!==0)return Jb(sn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Mo(m.field),direction:uL(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Sm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function aL(t){let e=rL(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ze(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=Yb(p);return m instanceof sn&&Mb(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new Ti(xo(S.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,rd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new jo(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new jo(v,m)}(n.endAt)),VV(e,i,s,o,a,"F",u,l)}function cL(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=xo(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=xo(n.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=xo(n.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=xo(n.unaryFilter.field);return He.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return He.create(xo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sn.create(n.compositeFilter.filters.map(r=>Yb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function uL(t){return eL[t]}function lL(t){return tL[t]}function dL(t){return nL[t]}function Mo(t){return{fieldPath:t.canonicalString()}}function xo(t){return zt.fromServerFormat(t.fieldPath)}function Jb(t){return t instanceof He?function(n){if(n.op==="=="){if(YC(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NAN"}};if(QC(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YC(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NAN"}};if(QC(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(n.field),op:lL(n.op),value:n.value}}}(t):t instanceof sn?function(n){let r=n.getFilters().map(i=>Jb(i));return r.length===1?r[0]:{compositeFilter:{op:dL(n.op),filters:r}}}(t):Z()}function Zb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ka=class t{constructor(e,n,r,i,o=re.min(),s=re.min(),a=ht.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var xm=class{constructor(e){this.ct=e}};function hL(t){let e=aL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ol(e,e.limit,"L"):e}var jl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Sa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Jn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Sr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Sb(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Tb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ne(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};jl.vt=new jl;var Rm=class{constructor(){this.un=new Pm}addToCollectionParentIndex(e,n){return this.un.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(bi.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}},Pm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(ke.comparator)).toArray()}};var RG=new Uint8Array(0);var bn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);var Fa=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Nm=class{constructor(){this.changes=new Mr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Om=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var km=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ta(r.mutation,i,_i.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){let i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ia();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=xr(),s=ba(),a=function(){return ba()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Ho)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Ta(h.mutation,l,h.mutation.getFieldMask(),lt.now())):s.set(l.key,_i.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Om(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ba(),i=new Ue((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||_i.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=Vb();h.forEach(m=>{if(!o.has(m)){let v=$b(n.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):k.resolve(wi()),a=-1,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(h=>({batchId:a,changes:$V(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=Ia();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Ia();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=function(p,m){return new Ar(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,on.newInvalidDocument(h)))});let a=Ia();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Ta(h.mutation,l,_i.empty(),lt.now()),od(n,l)&&(a=a.insert(u,l))}),a})}};var Fm=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return k.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:No(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:hL(i.bundledQuery),readTime:No(i.readTime)}}(n)),k.resolve()}};var Vm=class{constructor(){this.overlays=new Ue(z.comparator),this.Ir=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){let r=wi();return k.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),k.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){let i=wi(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ue((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=wi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=wi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Em(n,r));let o=this.Ir.get(n);o===void 0&&(o=me(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Lm=class{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,k.resolve()}};var Va=class{constructor(){this.Tr=new dt($e.Er),this.dr=new dt($e.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new $e(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $e(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new z(new ke([])),r=new $e(n,e),i=new $e(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new z(new ke([])),r=new $e(n,e),i=new $e(n,e+1),o=me();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new $e(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},$e=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return z.comparator(e.key,n.key)||Ie(e.wr,n.wr)}static Ar(e,n){return Ie(e.wr,n.wr)||z.comparator(e.key,n.key)}};var jm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new dt($e.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Im(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new $e(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,n){return k.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(Ie);return n.forEach(i=>{let o=new $e(i,0),s=new $e(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),k.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new $e(new z(o),0),a=new dt(Ie);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),k.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return k.forEach(n.mutations,i=>{let o=new $e(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new $e(n,0),i=this.br.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Um=class{constructor(e){this.Mr=e,this.docs=function(){return new Ue(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():on.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xr(),s=n.path,a=new z(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||TV(DV(h),r)<=0||(i.has(h.key)||od(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Bm(this)}getSize(e){return k.resolve(this.size)}},Bm=class extends Nm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var $m=class{constructor(e){this.persistence=e,this.Nr=new Mr(n=>Py(n),Ny),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Va,this.targetCount=0,this.kr=Fa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),k.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Fa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.Kn(n),k.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),k.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Br.containsKey(n))}};var Hm=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new bb(0),this.Kr=!1,this.Kr=!0,this.$r=new Lm,this.referenceDelegate=e(this),this.Ur=new $m(this),this.indexManager=new Rm,this.remoteDocumentCache=function(i){return new Um(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new xm(n),this.Gr=new Fm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new jm(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new zm(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return k.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},zm=class extends om{constructor(e){super(),this.currentSequenceNumber=e}},qm=class t{constructor(e){this.persistence=e,this.Jr=new Va,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),k.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return k.or([()=>k.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Gm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=me(),i=me();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Wm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Km=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return oC()?8:AV(kt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Wm;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(wa()<=le.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(wa()<=le.DEBUG&&B("QueryEngine","Query:",Ao(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(wa()<=le.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(n))):k.resolve())}Yi(e,n){if(eb(n))return k.resolve(null);let r=Sn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ol(n,null,"F"),r=Sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Ol(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return eb(n)||i.isEqual(re.min())?k.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?k.resolve(null):(wa()<=le.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ao(n)),this.rs(e,s,n,bV(i,-1)).next(a=>a))})}ts(e,n){let r=new dt(kb(e));return n.forEach((i,o)=>{od(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return wa()<=le.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.Ji.getDocumentsMatchingQuery(e,n,bi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Qm=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ue(Ie),this._s=new Mr(o=>Py(o),Ny),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new km(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function fL(t,e,n,r){return new Qm(t,e,n,r)}function Xb(t,e){return T(this,null,function*(){let n=ge(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=me();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function eD(t){let e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function pL(t,e){let n=ge(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(ht.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(R,P,j){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(o,v))});let u=xr(),l=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(gL(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(re.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function gL(t,e,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=xr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function mL(t,e){let n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new ka(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Ym(t,e,n){return T(this,null,function*(){let r=ge(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!qa(s))throw s;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function db(t,e,n){let r=ge(t),i=re.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ge(u),m=p._s.get(h);return m!==void 0?k.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,Sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:re.min(),n?o:me())).next(a=>(yL(r,jV(e),a),{documents:a,Ts:o})))}function yL(t,e,n){let r=t.us.get(e)||re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Ul=class{constructor(){this.activeTargetIds=qV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Jm=class{constructor(){this.so=new Ul,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ul,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Zm=class{_o(e){}shutdown(){}};var Bl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Dl=null;function Kg(){return Dl===null?Dl=function(){return 268435456+Math.round(2147483648*Math.random())}():Dl++,"0x"+Dl.toString(16)}var vL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Xm=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ut="WebChannelConnection",ey=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Kg(),u=this.xo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(B("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ko("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=vL[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Kg();return new Promise((s,a)=>{let u=new Ug;u.setWithCredentials(!0),u.listenOnce($g.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _a.NO_ERROR:let h=u.getResponseJson();B(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case _a.TIMEOUT:B(ut,`RPC '${e}' ${o} timed out`),a(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case _a.HTTP_ERROR:let p=u.getStatus();if(B(ut,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(P){let j=P.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(j)>=0?j:N.UNKNOWN}(v.status);a(new L(S,v.message))}else a(new L(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(N.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{B(ut,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);B(ut,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Kg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qg(),a=zg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Bg({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(ut,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,v=!1,S=new Xm({Io:P=>{v?B(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(B(ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),B(ut,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},To:()=>p.close()}),R=(P,j,K)=>{P.listen(j,W=>{try{K(W)}catch(ie){setTimeout(()=>{throw ie},0)}})};return R(p,So.EventType.OPEN,()=>{v||(B(ut,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),R(p,So.EventType.CLOSE,()=>{v||(v=!0,B(ut,`RPC '${e}' stream ${i} transport closed`),S.So())}),R(p,So.EventType.ERROR,P=>{v||(v=!0,ko(ut,`RPC '${e}' stream ${i} transport errored:`,P),S.So(new L(N.UNAVAILABLE,"The operation could not be completed")))}),R(p,So.EventType.MESSAGE,P=>{var j;if(!v){let K=P.data[0];ze(!!K);let W=K,ie=W.error||((j=W[0])===null||j===void 0?void 0:j.error);if(ie){B(ut,`RPC '${e}' stream ${i} received error:`,ie);let Re=ie.status,ee=function(_){let I=Be[_];if(I!==void 0)return zb(I)}(Re),E=ie.message;ee===void 0&&(ee=N.INTERNAL,E="Unknown error status: "+Re+" with message "+ie.message),v=!0,S.So(new L(ee,E)),p.close()}else B(ut,`RPC '${e}' stream ${i} received:`,K),S.bo(K)}}),R(a,Hg.STAT_EVENT,P=>{P.stat===Cl.PROXY?B(ut,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Cl.NOPROXY&&B(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Qg(){return typeof document<"u"?document:null}function sd(t){return new Tm(t,!0)}var $l=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ty=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $l(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return T(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return T(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return T(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Yn(n.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>T(this,null,function*(){this.state=0,this.start()}))}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ny=class extends ty{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=iL(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?No(s.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=lb(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=vm(u)?{documents:oL(o,u)}:{query:sL(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qb(o,s.resumeToken);let l=Sm(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=Am(o,s.snapshotVersion.toTimestamp());let l=Sm(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=cL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=lb(this.serializer),n.removeTarget=e,this.a_(n)}};var ry=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Mm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Mm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},iy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yn(n),this.D_=!1):B("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var oy=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>T(this,null,function*(){Ka(this)&&(B("RemoteStore","Restarting streams for network reachability change."),yield function(u){return T(this,null,function*(){let l=ge(u);l.L_.add(4),yield Wa(l),l.q_.set("Unknown"),l.L_.delete(4),yield ad(l)})}(this))}))}),this.q_=new iy(r,i)}};function ad(t){return T(this,null,function*(){if(Ka(t))for(let e of t.B_)yield e(!0)})}function Wa(t){return T(this,null,function*(){for(let e of t.B_)yield e(!1)})}function tD(t,e){let n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),jy(n)?Ly(n):Wo(n).r_()&&Vy(n,e))}function Fy(t,e){let n=ge(t),r=Wo(n);n.N_.delete(e),r.r_()&&nD(n,e),n.N_.size===0&&(r.r_()?r.o_():Ka(n)&&n.q_.set("Unknown"))}function Vy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(t).A_(e)}function nD(t,e){t.Q_.xe(e),Wo(t).R_(e)}function Ly(t){t.Q_=new Dm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Wo(t).start(),t.q_.v_()}function jy(t){return Ka(t)&&!Wo(t).n_()&&t.N_.size>0}function Ka(t){return ge(t).L_.size===0}function rD(t){t.Q_=void 0}function _L(t){return T(this,null,function*(){t.q_.set("Online")})}function wL(t){return T(this,null,function*(){t.N_.forEach((e,n)=>{Vy(t,e)})})}function IL(t,e){return T(this,null,function*(){rD(t),jy(t)?(t.q_.M_(e),Ly(t)):t.q_.set("Unknown")})}function EL(t,e,n){return T(this,null,function*(){if(t.q_.set("Online"),e instanceof Vl&&e.state===2&&e.cause)try{yield function(i,o){return T(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hb(t,r)}else if(e instanceof Po?t.Q_.Ke(e):e instanceof Fl?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{let r=yield eD(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),nD(o,u);let p=new ka(h.target,u,l,h.sequenceNumber);Vy(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield hb(t,r)}})}function hb(t,e,n){return T(this,null,function*(){if(!qa(e))throw e;t.L_.add(1),yield Wa(t),t.q_.set("Offline"),n||(n=()=>eD(t.localStore)),t.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){B("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield ad(t)}))})}function fb(t,e){return T(this,null,function*(){let n=ge(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");let r=Ka(n);n.L_.add(3),yield Wa(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield ad(n)})}function CL(t,e){return T(this,null,function*(){let n=ge(t);e?(n.L_.delete(2),yield ad(n)):e||(n.L_.add(2),yield Wa(n),n.q_.set("Unknown"))})}function Wo(t){return t.K_||(t.K_=function(n,r,i){let o=ge(n);return o.w_(),new ny(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:_L.bind(null,t),Ro:wL.bind(null,t),mo:IL.bind(null,t),d_:EL.bind(null,t)}),t.B_.push(e=>T(this,null,function*(){e?(t.K_.s_(),jy(t)?Ly(t):t.q_.set("Unknown")):(yield t.K_.stop(),rD(t))}))),t.K_}var sy=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function iD(t,e){if(Yn("AsyncQueue",`${e}: ${t}`),qa(t))return new L(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Hl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=Ia(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var zl=class{constructor(){this.W_=new Ue(z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},zo=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Hl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var ay=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},cy=class{constructor(){this.queries=pb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ge(n),o=i.queries;i.queries=pb(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(N.ABORTED,"Firestore shutting down"))}};function pb(){return new Mr(t=>Ob(t),id)}function oD(t,e){return T(this,null,function*(){let n=ge(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new ay,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=iD(s,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Uy(n)})}function sD(t,e){return T(this,null,function*(){let n=ge(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function bL(t,e){let n=ge(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Uy(n)}function DL(t,e,n){let r=ge(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Uy(t){t.Y_.forEach(e=>{e.next()})}var uy,gb;(gb=uy||(uy={})).ea="default",gb.Cache="cache";var ql=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==uy.Cache}};var Gl=class{constructor(e){this.key=e}},Wl=class{constructor(e){this.key=e}},ly=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=kb(e),this.Ra=new Hl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new zl,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=od(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),P=!1;m&&v?m.data.isEqual(v.data)?S!==R&&(r.track({type:3,doc:v}),P=!0):this.ga(m,v)||(r.track({type:2,doc:v}),P=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),P=!0):m&&!v&&(r.track({type:1,doc:m}),P=!0,(u||l)&&(a=!0)),P&&(v?(s=s.add(v),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,S){let R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return R(v)-R(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new zo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Wl(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Gl(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return zo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},dy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},hy=class{constructor(e){this.key=e,this.va=!1}},fy=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Mr(a=>Ob(a),id),this.Ma=new Map,this.xa=new Set,this.Oa=new Ue(z.comparator),this.Na=new Map,this.La=new Va,this.Ba={},this.ka=new Map,this.qa=Fa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function TL(t,e,n=!0){return T(this,null,function*(){let r=dD(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield aD(r,e,n,!0),i})}function SL(t,e){return T(this,null,function*(){let n=dD(t);yield aD(n,e,!0,!1)})}function aD(t,e,n,r){return T(this,null,function*(){let i=yield mL(t.localStore,Sn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield AL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&tD(t.remoteStore,i),a})}function AL(t,e,n,r,i){return T(this,null,function*(){t.Ka=(p,m,v)=>function(R,P,j,K){return T(this,null,function*(){let W=P.view.ma(j);W.ns&&(W=yield db(R.localStore,P.query,!1).then(({documents:E})=>P.view.ma(E,W)));let ie=K&&K.targetChanges.get(P.targetId),Re=K&&K.targetMismatches.get(P.targetId)!=null,ee=P.view.applyChanges(W,R.isPrimaryClient,ie,Re);return yb(R,P.targetId,ee.wa),ee.snapshot})}(t,p,m,v);let o=yield db(t.localStore,e,!0),s=new ly(e,o.Ts),a=s.ma(o.documents),u=Oa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);yb(t,n,l.wa);let h=new dy(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function ML(t,e,n){return T(this,null,function*(){let r=ge(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!id(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ym(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Fy(r.remoteStore,i.targetId),py(r,i.targetId)}).catch(Ay))):(py(r,i.targetId),yield Ym(r.localStore,i.targetId,!0))})}function xL(t,e){return T(this,null,function*(){let n=ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fy(n.remoteStore,r.targetId))})}function cD(t,e){return T(this,null,function*(){let n=ge(t);try{let r=yield pL(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ze(s.va):i.removedDocuments.size>0&&(ze(s.va),s.va=!1))}),yield lD(n,r,e)}catch(r){yield Ay(r)}})}function mb(t,e,n){let r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ge(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Uy(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function RL(t,e,n){return T(this,null,function*(){let r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ue(z.comparator);s=s.insert(o,on.newNoDocument(o,re.min()));let a=me().add(o),u=new kl(re.min(),new Map,new Ue(Ie),s,a);yield cD(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),By(r)}else yield Ym(r.localStore,e,!1).then(()=>py(r,e,n)).catch(Ay)})}function py(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||uD(t,r)})}function uD(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Fy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),By(t))}function yb(t,e,n){for(let r of n)r instanceof Gl?(t.La.addReference(r.key,e),PL(t,r)):r instanceof Wl?(B("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||uD(t,r.key)):Z()}function PL(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(B("SyncEngine","New document in limbo: "+n),t.xa.add(r),By(t))}function By(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new z(ke.fromString(e)),r=t.qa.next();t.Na.set(r,new hy(n)),t.Oa=t.Oa.insert(n,r),tD(t.remoteStore,new ka(Sn(Oy(n.path)),r,"TargetPurposeLimboResolution",bb.oe))}}function lD(t,e,n){return T(this,null,function*(){let r=ge(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Gm.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return T(this,null,function*(){let h=ge(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,m=>k.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>k.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!qa(p))throw p;B("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,R)}}})}(r.localStore,o))})}function NL(t,e){return T(this,null,function*(){let n=ge(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());let r=yield Xb(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(N.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lD(n,r.hs)}})}function OL(t,e){let n=ge(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function dD(t){let e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RL.bind(null,e),e.Ca.d_=bL.bind(null,e.eventManager),e.Ca.$a=DL.bind(null,e.eventManager),e}var Kl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return T(this,null,function*(){this.serializer=sd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return fL(this.persistence,new Km,e.initialUser,this.serializer)}createPersistence(e){return new Hm(qm.Zr,this.serializer)}createSharedClientState(e){return new Jm}terminate(){return T(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var gy=class{initialize(e,n){return T(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NL.bind(null,this.syncEngine),yield CL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new cy}()}createDatastore(e){let n=sd(e.databaseInfo.databaseId),r=function(o){return new ey(o)}(e.databaseInfo);return function(o,s,a,u){return new ry(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new oy(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>mb(this.syncEngine,n,0),function(){return Bl.D()?new Bl:new Zm}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new fy(i,o,s,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return T(this,null,function*(){var e,n;yield function(i){return T(this,null,function*(){let o=ge(i);B("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Wa(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Ql=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var my=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xe.UNAUTHENTICATED,this.clientId=Al.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>T(this,null,function*(){B("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=iD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Yg(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>T(this,null,function*(){r.isEqual(i)||(yield Xb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function vb(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield FL(t);B("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fb(e.remoteStore,i)),t._onlineComponents=e})}function kL(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function FL(t){return T(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Yg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!kL(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),yield Yg(t,new Kl)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield Yg(t,new Kl);return t._offlineComponents})}function VL(t){return T(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield vb(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield vb(t,new gy))),t._onlineComponents})}function hD(t){return T(this,null,function*(){let e=yield VL(t),n=e.eventManager;return n.onListen=TL.bind(null,e.syncEngine),n.onUnlisten=ML.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xL.bind(null,e.syncEngine),n})}function LL(t,e,n={}){let r=new Dn;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,a,u,l){let h=new Ql({next:m=>{s.enqueueAndForget(()=>sD(o,p));let v=m.docs.has(a);!v&&m.fromCache?l.reject(new L(N.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?l.reject(new L(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new ql(Oy(a.path),h,{includeMetadataChanges:!0,_a:!0});return oD(o,p)}(yield hD(t),t.asyncQueue,e,n,r)})),r.promise}function jL(t,e,n={}){let r=new Dn;return t.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return function(o,s,a,u,l){let h=new Ql({next:m=>{s.enqueueAndForget(()=>sD(o,p)),m.fromCache&&u.source==="server"?l.reject(new L(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new ql(a,h,{includeMetadataChanges:!0,_a:!0});return oD(o,p)}(yield hD(t),t.asyncQueue,e,n,r)})),r.promise}function fD(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var _b=new Map;function pD(t,e,n){if(!n)throw new L(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UL(t,e,n,r){if(e===!0&&r===!0)throw new L(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wb(t){if(!z.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ib(t){if(z.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function La(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=cd(t);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function BL(t,e){if(e<=0)throw new L(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Yl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},qo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jg;switch(r.type){case"firstParty":return new tm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=_b.get(n);r&&(B("ComponentProvider","Removing Datastore"),_b.delete(n),r.terminate())}(this),Promise.resolve()}};function gD(t,e,n,r={}){var i;let o=(t=La(t,qo))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Xe.MOCK_USER;else{a=eC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xe(l)}t._authCredentials=new Zg(new Sl(a,u))}}var Rr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ft=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Tr=class t extends Rr{constructor(e,n,r){super(e,n,Oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function mD(t,e,...n){if(t=Dt(t),pD("collection","path",e),t instanceof qo){let r=ke.fromString(e,...n);return Ib(r),new Tr(t,null,r)}{if(!(t instanceof Ft||t instanceof Tr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return Ib(r),new Tr(t.firestore,null,r)}}function yD(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=Al.newId()),pD("doc","path",e),t instanceof qo){let r=ke.fromString(e,...n);return wb(r),new Ft(t,null,new z(r))}{if(!(t instanceof Ft||t instanceof Tr))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return wb(r),new Ft(t.firestore,t instanceof Tr?t.converter:null,new z(r))}}var yy=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new $l(this,"async_queue_retry"),this.Eu=()=>{let n=Qg();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Qg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Qg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Dn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return T(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!qa(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Yn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=sy.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Z()}verifyOperationInProgress(){}mu(){return T(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var ja=class extends qo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new yy}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wD(this),this._firestoreClient.terminate()}};function vD(t,e){let n=typeof t=="object"?t:di(),r=typeof t=="string"?t:e||"(default)",i=ha(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=sl("firestore");o&&gD(i,...o)}return i}function _D(t){return t._firestoreClient||wD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wD(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new sm(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fD(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new my(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ua=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ht.fromBase64String(e))}catch(n){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Jl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Zl=class{constructor(e){this._methodName=e}};var Ba=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}};var $a=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var $L=/^__.*__$/;function ID(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var vy=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return wy(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(ID(this.wu)&&$L.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},_y=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sd(e)}Nu(e,n,r,i=!1){return new vy({wu:e,methodName:n,Ou:r,path:zt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function HL(t){let e=t._freezeSettings(),n=sd(t._databaseId);return new _y(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zL(t,e,n,r=!1){return $y(n,t.Nu(r?4:3,e))}function $y(t,e){if(ED(t=Dt(t)))return GL("Unsupported field value:",e,t),qL(t,e);if(t instanceof Zl)return function(r,i){if(!ID(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=$y(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=lt.fromDate(r);return{timestampValue:Am(i.serializer,o)}}if(r instanceof lt){let o=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Am(i.serializer,o)}}if(r instanceof Ba)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ua)return{bytesValue:qb(i.serializer,r._byteString)};if(r instanceof Ft){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Gb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $a)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return ky(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${cd(r)}`)}(t,e)}function qL(t,e){let n={};return Db(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ga(t,(r,i)=>{let o=$y(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ED(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Ba||t instanceof Ua||t instanceof Ft||t instanceof Zl||t instanceof $a)}function GL(t,e,n){if(!ED(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=cd(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}var WL=new RegExp("[~\\*/\\[\\]]");function KL(t,e,n){if(e.search(WL)>=0)throw wy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jl(...e.split("."))._internalPath}catch{throw wy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wy(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(N.INVALID_ARGUMENT,a+t+u)}var Xl=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Iy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(ud("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Iy=class extends Xl{data(){return super.data()}};function ud(t,e){return typeof e=="string"?KL(t,e):e instanceof Jl?e._internalPath:e._delegate._internalPath}function QL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ha=class{},za=class extends Ha{};function CD(t,e,...n){let r=[];e instanceof Ha&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof Ey).length,a=o.filter(u=>u instanceof ed).length;if(s>1||s>0&&a>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ed=class t extends za{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return SD(e._query,n),new Rr(e.firestore,e.converter,_m(e._query,n))}_parse(e){let n=HL(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Cb(p,h);let v=[];for(let S of p)v.push(Eb(u,o,S));m={arrayValue:{values:v}}}else m=Eb(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Cb(p,h),m=zL(a,s,p,h==="in"||h==="not-in");return He.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function bD(t,e,n){let r=e,i=ud("where",t);return ed._create(i,r,n)}var Ey=class t extends Ha{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)SD(s,u),s=_m(s,u)}(e._query,n),new Rr(e.firestore,e.converter,_m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Cy=class t extends za{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ti(o,s)}(e._query,this._field,this._direction);return new Rr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Ar(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function DD(t,e="asc"){let n=e,r=ud("orderBy",t);return Cy._create(r,n)}var by=class t extends za{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Rr(e.firestore,e.converter,Ol(e._query,this._limit,this._limitType))}};function TD(t){return BL("limit",t),by._create("limit",t,"F")}function Eb(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nb(e)&&n.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!z.isDocumentKey(r))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KC(t,new z(r))}if(n instanceof Ft)return KC(t,n._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cd(n)}.`)}function Cb(t,e){if(!Array.isArray(t)||t.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SD(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Dy=class{convertValue(e,n="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ga(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new $a(o)}convertGeoPoint(e){return new Ba(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=xy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Aa(e));default:return null}}convertTimestamp(e){let n=Jn(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);ze(Zb(r));let i=new Pl(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||Yn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var Ei=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},td=class extends Xl{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Oo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(ud("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Oo=class extends td{data(e={}){return super.data(e)}},Ty=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ei(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Oo(this._firestore,this._userDataWriter,r.key,r,new Ei(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Oo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Oo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:YL(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function YL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}function AD(t){t=La(t,Ft);let e=La(t.firestore,ja);return LL(_D(e),t._key).then(n=>JL(e,t,n))}var nd=class extends Dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}};function MD(t){t=La(t,Rr);let e=La(t.firestore,ja),n=_D(e),r=new nd(e);return QL(t._query),jL(n,t._query).then(i=>new Ty(e,r,t,i))}function JL(t,e,n){let r=n.docs.get(e._key),i=new nd(t);return new td(t,i,e._key,r,new Ei(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Go=i})(bo),Cn(new Tt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ja(new Xg(r.getProvider("auth-internal")),new rm(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Oe(zC,"4.7.2",e),Oe(zC,"4.7.2","esm2017")})();var Si=class{constructor(e){return e}},xD="firestore",Hy=class{constructor(){return pi(xD)}};var zy=new Y("angularfire2.firestore-instances");function ZL(t,e){let n=fa(xD,t,e);return n&&new Si(n)}function XL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Si(r)}}var e2={provide:Hy,deps:[[new ct,zy]]},t2={provide:Si,useFactory:ZL,deps:[[new ct,zy],Wn]};function RD(t,...e){return Oe("angularfire",Cr.full,"fst"),pn([t2,e2,{provide:zy,useFactory:XL(t),multi:!0,deps:[be,Ut,gi,mi,[new ct,To],[new ct,fi],...e]}])}var PD=wt(mD,!0);var ND=wt(yD,!0);var OD=wt(AD,!0);var kD=wt(MD,!0);var FD=wt(vD,!0);var VD=wt(TD,!0);var LD=wt(DD,!0);var Ko=wt(CD,!0);var Qa=wt(bD,!0);var Qo=(()=>{let e=class e{constructor(){this.firestore=O(Si)}getDesign(r){return T(this,null,function*(){return(yield OD(ND(this.firestore,"designs/"+r))).data()})}getDesigns(r){return T(this,null,function*(){let i=Ko(PD(this.firestore,"designs"),LD("createdAt","desc"));r.searchTerm&&(i=Ko(i,Qa("name",">=",r.searchTerm),Qa("name","<=",r.searchTerm+"\uF8FF"))),r.count&&(i=Ko(i,VD(r.count))),r.category&&(i=Ko(i,Qa("category","==",r.category))),r.type&&(i=Ko(i,Qa("type","==",r.type)));let o=yield kD(i),s=[];return o.forEach(a=>{s.push(U({id:a.id},a.data()))}),s})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mn=(()=>{let e=class e{constructor(){this.cart=vE(this.loadCartFromStorage()||{items:[],totalAmount:0,isVisible:!1})}calculateTotalAmount(r){return r.reduce((i,o)=>i+o.design.price*o.quantity,0)}openCart(){this.cart.update(r=>(r.isVisible=!0,this.saveCartToStorage(r),r))}closeCart(){this.cart.update(r=>(r.isVisible=!1,this.saveCartToStorage(r),r))}addItem(r){this.cart.update(i=>{let o=i.items.find(s=>s.design.id===r.design.id&&s.size==r.size);return o?o.quantity+=r.quantity:i.items.push(r),i.totalAmount+=r.design.price*r.quantity,this.saveCartToStorage(i),i})}removeItem(r){this.cart.update(i=>{let o=i.items.find(s=>s.design.id===r.design.id&&s.size==r.size);return o&&(o.quantity--,o.quantity<1&&(i.items=i.items.filter(s=>s!=o))),i.totalAmount=this.calculateTotalAmount(i.items),this.saveCartToStorage(i),i})}deleteItem(r){this.cart.update(i=>{let o=i.items.find(s=>s.design.id===r.design.id&&s.size==r.size);return o&&(i.items=i.items.filter(s=>s!=o)),i.totalAmount=this.calculateTotalAmount(i.items),this.saveCartToStorage(i),i})}saveCartToStorage(r){localStorage.setItem("cart",JSON.stringify(r))}loadCartFromStorage(){let r=localStorage.getItem("cart");return r?JSON.parse(r):null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ld=t=>({show:t}),jD=(()=>{let e=class e{constructor(){this.isAnimationTriggered=!1,this.cartService=O(Mn),this.router=O(In)}ngOnInit(){setTimeout(()=>{this.isAnimationTriggered=!0},0)}openProductPage(){this.router.navigate(["/products"])}openCart(){this.cartService.openCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-navbar"]],standalone:!0,features:[xe],decls:32,vars:12,consts:[[1,"container"],[1,"black-overlay"],[1,"white-bar"],[1,"logo"],["href","/"],["src","assets/current-wave-gradient.svg"],[1,"title"],[1,"cart"],["id","openCart",1,"cart-button",3,"click"],[1,"fas","fa-basket-shopping","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button"],[1,"fas","fa-bars","cart-icon"],[1,"logo-hamburger"],["src","assets/current-wave-white.svg"],[1,"content"],["src","assets/current-wave-white.svg",1,"logo-secondary"],[1,"slogan"],[1,"browse-button",3,"click"],[1,"left-image-wrapper","wrapper-position"],["src","assets/apparel/cench.png","alt","Kendrick",1,"left-image","tshirt","image",3,"ngClass"],[1,"left-image-wrapper-2","wrapper-position"],["src","assets/apparel/kendrick.png","alt","Kendrick",1,"left-image-2","tshirt","image",3,"ngClass"],[1,"right-image-wrapper","wrapper-position"],["src","assets/apparel/gojo.png","alt","Kendrick",1,"right-image","tshirt","image",3,"ngClass"],[1,"right-image-wrapper-2","wrapper-position"],["src","assets/apparel/travis.png","alt","Kendrick",1,"right-image-2","tshirt","image",3,"ngClass"]],template:function(i,o){i&1&&(M(0,"div",0),$(1,"div",1),M(2,"div",2)(3,"div",3)(4,"a",4),$(5,"img",5),x()(),M(6,"div",6)(7,"a",4),V(8," CURRENT WAVE"),x()(),M(9,"div",7)(10,"div",8),oe("click",function(){return o.openCart()}),$(11,"i",9),x()()(),M(12,"div",10)(13,"div",11),$(14,"i",12),x(),M(15,"div",13),$(16,"img",14),x(),$(17,"div"),x(),M(18,"div",15),$(19,"img",16),M(20,"div",17),V(21,"Pridru\u017Ei se talasu."),x()(),M(22,"button",18),oe("click",function(){return o.openProductPage()}),V(23," Pogledaj kolekciju "),x(),M(24,"div",19),$(25,"img",20),x(),M(26,"div",21),$(27,"img",22),x(),M(28,"div",23),$(29,"img",24),x(),M(30,"div",25),$(31,"img",26),x()()),i&2&&(H(25),te("ngClass",Ls(4,ld,o.isAnimationTriggered)),H(2),te("ngClass",Ls(6,ld,o.isAnimationTriggered)),H(2),te("ngClass",Ls(8,ld,o.isAnimationTriggered)),H(2),te("ngClass",Ls(10,ld,o.isAnimationTriggered)))},dependencies:[je,r0],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;min-height:25rem;background:var(--gradient-secondary);justify-content:center;overflow:hidden;position:relative}.black-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%;background-color:#000;z-index:1;pointer-events:none;opacity:.05;transition:opacity .5s ease}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:100%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.browse-button[_ngcontent-%COMP%]{position:relative;z-index:2;height:3rem;width:12rem;outline:none;border:none;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;box-shadow:0 2px 4px #0003;border:3px solid var(--white-primary)}.browse-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;z-index:2;flex-wrap:wrap;width:100%}.logo-secondary[_ngcontent-%COMP%]{max-width:22rem;max-height:22rem;color:var(--white-primary);display:block}.slogan[_ngcontent-%COMP%]{position:absolute;font-size:var(--fs-600);max-width:30rem;padding-inline:1.5rem;padding-bottom:1.5rem;font-family:var(--ff-secondary);color:var(--white-primary);-webkit-user-select:none;user-select:none;cursor:default;z-index:2;top:80%}.wrapper-position[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:0}.left-image-wrapper[_ngcontent-%COMP%]{top:-5rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-5rem;left:-30rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-5rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-4rem;right:-25rem}.image[_ngcontent-%COMP%]{max-width:60rem;max-height:60rem;transition:width .3s ease,height .3s ease}.left-image[_ngcontent-%COMP%]{transform:rotate(15deg);--rotation: 15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.right-image[_ngcontent-%COMP%]{transform:rotate(-15deg);--rotation: -15deg;animation-delay:.2s;animation-name:_ngcontent-%COMP%_slide-in}.left-image-2[_ngcontent-%COMP%]{transform:rotate(-10deg);--rotation: -10deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.right-image-2[_ngcontent-%COMP%]{transform:rotate(25deg);--rotation: 25deg;animation-delay:.3s;animation-name:_ngcontent-%COMP%_slide-in}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background:var(--gradient-primary);color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.hamburger-button[_ngcontent-%COMP%]{background:var(--white-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}@media screen and (max-width: 1770px){.image[_ngcontent-%COMP%]{max-width:55rem;max-height:55rem}.black-overlay[_ngcontent-%COMP%]{opacity:.1}.left-image-wrapper[_ngcontent-%COMP%]{top:-2rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-2rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-2rem;right:-20rem}}@media screen and (max-width: 1600px){.black-overlay[_ngcontent-%COMP%]{opacity:.15}}@media screen and (max-width: 1100px){.image[_ngcontent-%COMP%]{max-width:45rem;max-height:45rem}.black-overlay[_ngcontent-%COMP%]{opacity:.25}.left-image-wrapper[_ngcontent-%COMP%]{top:-1rem;left:-8rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;left:-25rem}.right-image-wrapper[_ngcontent-%COMP%]{top:-1rem;right:-8rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:-1rem;right:-20rem}}@media screen and (max-width: 840px){.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}.browse-button[_ngcontent-%COMP%]{height:2.7rem;width:7rem;font-size:.8rem}.black-overlay[_ngcontent-%COMP%]{opacity:.35}.image[_ngcontent-%COMP%]{max-width:30rem;max-height:30rem}.left-image-wrapper[_ngcontent-%COMP%]{top:1rem;left:-4rem}.left-image-wrapper-2[_ngcontent-%COMP%]{top:1rem;left:-15rem}.right-image-wrapper[_ngcontent-%COMP%]{top:1rem;right:-4rem}.right-image-wrapper-2[_ngcontent-%COMP%]{top:2rem;right:-15rem}}@media screen and (max-width: 600px){.image[_ngcontent-%COMP%]{max-width:29rem;max-height:29rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.left-image-wrapper-2[_ngcontent-%COMP%]{display:none}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}.right-image-wrapper-2[_ngcontent-%COMP%]{display:none}}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 370px){.image[_ngcontent-%COMP%]{max-width:25rem;max-height:25rem}.black-overlay[_ngcontent-%COMP%]   .black-overlay[_ngcontent-%COMP%]{opacity:.45}.left-image-wrapper[_ngcontent-%COMP%]{top:2rem;left:-10rem}.right-image-wrapper[_ngcontent-%COMP%]{top:2rem;right:-10rem}}.tshirt[_ngcontent-%COMP%]{opacity:0;transform:translateY(50px) rotate(0);animation-duration:.8s;animation-fill-mode:forwards;transition:transform .5s}@keyframes _ngcontent-%COMP%_slide-in{0%{opacity:0;transform:translateY(50px) rotate(0)}to{opacity:1;transform:translateY(0) rotate(var(--rotation))}}']});let t=e;return t})();function n2(t,e){if(t&1&&(Ru(0),V(1),Pu()),t&2){let n=mn(2);H(),Qe(n.onContentRendered())}}function r2(t,e){if(t&1&&(M(0,"cw-home-card",8),Le(1,n2,2,1,"ng-container",9),x()),t&2){let n=e.$implicit,r=e.last,i=mn();te("design",n),H(),te("ngIf",r&&!i.contentRendered)}}function i2(t,e){if(t&1&&(Ru(0),V(1),Pu()),t&2){let n=mn(2);H(),Qe(n.onContentRendered())}}function o2(t,e){if(t&1&&(M(0,"cw-home-card",8),Le(1,i2,2,1,"ng-container",9),x()),t&2){let n=e.$implicit,r=e.last,i=mn();te("design",n),H(),te("ngIf",r&&!i.contentRendered)}}var UD=(()=>{let e=class e{constructor(){this.contentRendered=!1,this.shirtDesigns=[],this.hoodieDesigns=[],this.changeDetector=O(yn),this.designService=O(Qo)}ngOnInit(){return T(this,null,function*(){yield this.loadDesigns()})}loadDesigns(r=""){return T(this,null,function*(){let i=yield this.designService.getDesigns({count:5,type:"Majica"}),o=yield this.designService.getDesigns({count:5,type:"Duks"});this.shirtDesigns=i,this.hoodieDesigns=o})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(r,i){return i.id}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-home"]],standalone:!0,features:[xe],decls:20,vars:4,consts:[[1,"wrapper"],[1,"title"],[1,"subtitle"],[1,"grid"],[3,"design",4,"ngFor","ngForOf","ngForTrackBy"],[1,"show-more"],[1,"content"],["src","assets/current-wave-white.svg","alt","current wave logo",1,"logo"],[3,"design"],[4,"ngIf"]],template:function(i,o){i&1&&($(0,"cw-navbar"),M(1,"div",0)(2,"h1",1),V(3,"NA\u0160I PROIZVODI"),x(),M(4,"h2",2),V(5,"Majice"),x(),M(6,"div",3),Le(7,r2,2,2,"cw-home-card",4),M(8,"div",5)(9,"div",6),$(10,"img",7),V(11,"Jo\u0161 proizvoda... "),x()()(),M(12,"h2",2),V(13,"Duksevi"),x(),M(14,"div",3),Le(15,o2,2,2,"cw-home-card",4),M(16,"div",5)(17,"div",6),$(18,"img",7),V(19,"Jo\u0161 proizvoda... "),x()()()()),i&2&&(H(7),te("ngForOf",o.shirtDesigns)("ngForTrackBy",o.identify),H(8),te("ngForOf",o.hoodieDesigns)("ngForTrackBy",o.identify))},dependencies:[rl,je,mr,$t,jD],styles:[".wrapper[_ngcontent-%COMP%]{max-width:min(90rem,90%);margin-inline:auto;box-sizing:border-box;margin-bottom:2rem;min-height:40rem}.title[_ngcontent-%COMP%]{text-align:center;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin-inline:auto}.subtitle[_ngcontent-%COMP%]{font-size:var(--fs-900);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:1rem;margin-inline:auto}.grid[_ngcontent-%COMP%]{--grid-layout-gap: 1rem;--grid-column-count: 3;--grid-item--min-width: 15rem;--gap-count: calc(var(--grid-column-count) - 1);--total-gap-width: calc(var(--gap-count) * var(--grid-layout-gap));--grid-item--max-width: calc( (100% - var(--total-gap-width)) / var(--grid-column-count) );display:grid;width:100%;gap:1rem;grid-template-columns:repeat(auto-fill,minmax(max(var(--grid-item--min-width),var(--grid-item--max-width)),1fr));grid-auto-rows:1fr;justify-content:center;padding-bottom:2rem}.visible[_ngcontent-%COMP%]{display:grid}.show-more[_ngcontent-%COMP%]{font-family:var(--ff-secondary);width:100%;height:100%;position:relative;transition:.2s ease;border-radius:.8rem;display:flex;justify-content:center;align-items:center;overflow:hidden;padding:.25rem;background:linear-gradient(-45deg,#6fc2e4,#44bbed,#0cb3f8);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}.content[_ngcontent-%COMP%]{color:var(--white-primary);width:100%;height:100%;border-radius:.55rem;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:var(--fs-700);font-weight:700;text-align:center;-webkit-user-select:none;user-select:none}.show-more[_ngcontent-%COMP%]:hover{transform:scale(1.02);cursor:pointer;-webkit-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);-moz-box-shadow:10px 10px 35px -10px rgba(0,0,0,.65);box-shadow:10px 10px 35px -10px #000000a6}.logo[_ngcontent-%COMP%]{width:50%}@keyframes _ngcontent-%COMP%_gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}"]});let t=e;return t})();function s2(t,e){if(t&1){let n=AE();M(0,"div",21),oe("click",function(){let i=aI(n).$implicit,o=mn();return cI(o.selectSize(i))}),M(1,"span",22),V(2),x()()}if(t&2){let n=e.$implicit,r=mn();Bn("active",n===r.selectedSize),H(2),_t(" ",n," ")}}function a2(t,e){if(t&1&&$(0,"cw-home-card",23),t&2){let n=e.$implicit;te("design",n)}}var BD=(()=>{let e=class e{constructor(){this.sizes=["XS","S","M","L","XL","XXL"],this.selectedSize=this.sizes[0],this.id="",this.route=O(_r),this.designService=O(Qo),this.cartService=O(Mn),this.contentRendered=!1,this.shirtDesigns=[],this.hoodieDesigns=[],this.changeDetector=O(yn)}ngOnInit(){return T(this,null,function*(){this.id=this.route.snapshot.paramMap.get("id"),this.designService.getDesign(this.id).then(r=>T(this,null,function*(){r?(this.design=r,this.selectedImage=this.design.image,yield this.loadDesigns()):console.error("Design not found")})).catch(r=>{console.error("Error fetching design:",r)})})}loadDesigns(){return T(this,null,function*(){let r=yield this.designService.getDesigns({count:5,type:this.design.type});this.shirtDesigns=r.filter(i=>i.id!==this.id)})}onContentRendered(){setTimeout(()=>{this.contentRendered=!0,this.changeDetector.detectChanges()},0)}identify(r,i){return i.id}selectSize(r){this.selectedSize=r}showImage(r){this.selectedImage=r}addToCart(){if(!this.design)return;let r={design:this.design,quantity:1,size:this.selectedSize};this.cartService.addItem(r),this.cartService.openCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-design"]],standalone:!0,features:[xe],decls:32,vars:17,consts:[[1,"container"],[1,"row"],[1,"apparel-images"],[1,"image-wrapper"],[1,"main-image",3,"src","alt"],[1,"thumbnail-images"],[1,"thumbnail",3,"click"],[3,"src"],[1,"apparel-info"],[1,"name"],[1,"category"],[1,"tag"],[1,"price"],[1,"all-sizes"],["class","selected-size",3,"active","click",4,"ngFor","ngForOf"],["id","addToCartBtn","text","Dodaj u korpu",1,"add-to-cart-btn",3,"clicked"],[1,"material"],[1,"featured-items"],[1,"subtitle"],[1,"grid"],["class","card",3,"design",4,"ngFor","ngForOf"],[1,"selected-size",3,"click"],[1,"size-text"],[1,"card",3,"design"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),$(4,"img",4),x(),M(5,"div",5)(6,"div",6),oe("click",function(){return o.showImage(o.design==null?null:o.design.image)}),$(7,"img",7),x(),M(8,"div",6),oe("click",function(){return o.showImage(o.design==null?null:o.design.front)}),$(9,"img",7),x(),M(10,"div",6),oe("click",function(){return o.showImage(o.design==null?null:o.design.back)}),$(11,"img",7),x()()(),M(12,"div",8)(13,"div",9),V(14),x(),M(15,"div",10)(16,"span",11),V(17),x(),M(18,"span",11),V(19),x()(),M(20,"div",12),V(21),x(),M(22,"div",13),Le(23,s2,3,3,"div",14),x(),M(24,"cw-button",15),oe("clicked",function(){return o.addToCart()}),x(),M(25,"div",16),V(26,"100% pamuk. Prati na 30\xB0C"),x()()(),M(27,"div",17)(28,"h2",18),V(29,"Sli\u010Dni proizvodi"),x(),M(30,"div",19),Le(31,a2,1,1,"cw-home-card",20),x()()()),i&2&&(H(4),Wf("alt",o.design==null?null:o.design.name),te("src",o.selectedImage,rn),H(2),Bn("selected",o.selectedImage===(o.design==null?null:o.design.image)),H(),te("src",o.design==null?null:o.design.image,rn),H(),Bn("selected",o.selectedImage===(o.design==null?null:o.design.front)),H(),te("src",o.design==null?null:o.design.front,rn),H(),Bn("selected",o.selectedImage===(o.design==null?null:o.design.back)),H(),te("src",o.design==null?null:o.design.back,rn),H(3),Qe(o.design==null?null:o.design.name),H(3),Qe(o.design==null?null:o.design.category),H(2),Qe(o.design==null?null:o.design.type),H(2),_t("",o.design==null?null:o.design.price,".00 RSD"),H(2),te("ngForOf",o.sizes),H(8),te("ngForOf",o.shirtDesigns))},dependencies:[je,mr,rl,Io],styles:['.container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;padding:2rem}.row[_ngcontent-%COMP%]{display:flex;justify-content:center}.apparel-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:32rem;max-height:34rem;padding:2rem;padding-left:0;gap:1rem}.name[_ngcontent-%COMP%]{font-size:3rem}.category[_ngcontent-%COMP%]{display:flex;gap:.5rem}.tag[_ngcontent-%COMP%]{background:var(--gradient-secondary);background-repeat:no-repeat;background-clip:padding-box;padding-inline:8px;padding-block:2px;border-radius:1rem;font-size:var(--fs-500);color:var(--white-primary);font-family:var(--ff-secondary)}.price[_ngcontent-%COMP%]{font-size:1.5rem;color:#000;font-family:var(--ff-secondary)}.size[_ngcontent-%COMP%]{font-size:1rem}.add-to-cart-btn[_ngcontent-%COMP%]{max-width:22rem;padding:2rem;margin-left:0;font-family:var(--ff-primary);font-size:var(--fs-600);cursor:pointer}.apparel-images[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:2rem}.thumbnail-images[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;gap:.5rem}.thumbnail[_ngcontent-%COMP%]{width:5rem;height:5rem;position:relative;cursor:pointer}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:.5rem;border:none}.thumbnail[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;opacity:0;transition:opacity .3s ease;border-radius:.5rem;z-index:1}.thumbnail[_ngcontent-%COMP%]:hover:before{opacity:1}.thumbnail.selected[_ngcontent-%COMP%]:before{opacity:1}.size-selection[_ngcontent-%COMP%]{padding-bottom:1rem}.selected-size[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background:var(--gradient-primary);background-repeat:no-repeat;z-index:2;transition:opacity .2s linear;opacity:0;-webkit-user-select:none;user-select:none}.selected-size[_ngcontent-%COMP%]:hover:before{opacity:1}.selected-size.active[_ngcontent-%COMP%]{background:var(--gradient-primary);background-repeat:no-repeat;border-color:var(--clr-primary);color:var(--white-primary)}.main-image[_ngcontent-%COMP%]{width:30rem;height:30rem;transition:transform .3s ease;border:none}.image-wrapper[_ngcontent-%COMP%]{width:30rem;height:30rem;overflow:hidden;position:relative;border-radius:1.5rem;cursor:zoom-in;border:none}.image-wrapper[_ngcontent-%COMP%]:hover   .main-image[_ngcontent-%COMP%]{transform:scale(1.05);cursor:pointer;transition:transform .5s ease}.all-sizes[_ngcontent-%COMP%]{display:flex;padding:.5rem;padding-left:0;flex-wrap:wrap;justify-content:flex-start;gap:.5rem;font-family:var(--ff-secondary)}.selected-size[_ngcontent-%COMP%]{position:relative;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;padding:.5rem;border:1px solid black;border-radius:1rem;height:auto;width:3.2rem;font-size:1.2rem;cursor:pointer;transition:.2s linear;box-sizing:border-box}.selected-size[_ngcontent-%COMP%]:hover{background:var(--gradient-primary);background-repeat:no-repeat;border-color:var(--clr-primary);color:var(--white-primary)}.content[_ngcontent-%COMP%]{color:var(--white-primary);width:100%;height:100%;border-radius:.55rem;padding:1rem;display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:var(--fs-700);font-weight:700;text-align:center;-webkit-user-select:none;user-select:none}.featured-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem}.grid[_ngcontent-%COMP%]{display:flex;gap:1rem}.subtitle[_ngcontent-%COMP%]{font-size:var(--fs-900);font-family:var(--ff-main);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:.5rem}.size-text[_ngcontent-%COMP%]{z-index:3}.card[_ngcontent-%COMP%]{min-width:11rem;min-height:11rem;max-width:21rem;max-height:21rem}.material[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}@media screen and (max-width: 800px){.row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.grid[_ngcontent-%COMP%]{flex-direction:column}.apparel-info[_ngcontent-%COMP%]{padding-left:2rem;padding-top:0rem;justify-content:center;width:20rem}.main-image[_ngcontent-%COMP%], .image-wrapper[_ngcontent-%COMP%]{width:20rem;height:20rem}.thumbnail-images[_ngcontent-%COMP%]{justify-content:center}.apparel-images[_ngcontent-%COMP%]{padding-top:0}.name[_ngcontent-%COMP%], .category[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{justify-content:flex-start}.name[_ngcontent-%COMP%]{font-size:2rem;text-align:center}.category[_ngcontent-%COMP%]{font-size:1.2rem;text-align:center}.price[_ngcontent-%COMP%]{font-size:1.4rem;text-align:center}.add-to-cart-btn[_ngcontent-%COMP%]{width:12rem;height:4rem}.apparel-info[_ngcontent-%COMP%]{justify-content:center;align-items:center}.material[_ngcontent-%COMP%]{font-size:.8rem;text-align:center}.all-sizes[_ngcontent-%COMP%]{padding-left:.5rem}.all-sizes[_ngcontent-%COMP%]{justify-content:center}}']});let t=e;return t})();function c2(t,e){t&1&&(M(0,"div",5),$(1,"img",6),x())}var $D=(()=>{let e=class e{constructor(){this.imageLoaded=!1,this.router=O(In)}onImageLoad(){this.imageLoaded=!0}showDesign(){this.router.navigate(["/design",this.design.id])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-product-card"]],inputs:{design:"design"},standalone:!0,features:[xe],decls:7,vars:4,consts:[[1,"image-wrapper",3,"click"],["loading","lazy",1,"main-card",3,"load","src"],["class","loader",4,"ngIf"],[1,"title",3,"click"],[1,"price",3,"click"],[1,"loader"],["src","assets/current-wave-skeleton.svg","alt","Loading..."]],template:function(i,o){i&1&&(M(0,"div",0),oe("click",function(){return o.showDesign()}),M(1,"img",1),oe("load",function(){return o.onImageLoad()}),x()(),Le(2,c2,2,0,"div",2),M(3,"div",3),oe("click",function(){return o.showDesign()}),V(4),x(),M(5,"div",4),oe("click",function(){return o.showDesign()}),V(6),x()),i&2&&(H(),te("src",o.design.image,rn),H(),te("ngIf",!o.imageLoaded),H(2),Qe(o.design.name),H(2),_t("",o.design.price,".00 RSD"))},dependencies:[je,$t],styles:[".loader[_ngcontent-%COMP%]{border-radius:.8rem;width:100%;overflow:hidden}.main-card[_ngcontent-%COMP%]{border-radius:.8rem;overflow:hidden;width:15rem;height:15rem;transition:transform .3s ease;border:none}.image-wrapper[_ngcontent-%COMP%]{width:15rem;height:15rem;overflow:hidden;position:relative;border-radius:1.5rem;cursor:pointer;border:none}.image-wrapper[_ngcontent-%COMP%]:hover   .main-card[_ngcontent-%COMP%]{transform:scale(1.05);cursor:pointer;transition:transform .5s ease}.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-block:.5rem;cursor:pointer;font-family:var(--ff-secondary)}.price[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;font-family:var(--ff-secondary);font-weight:600}.image-wrapper[_ngcontent-%COMP%]:hover ~ .title[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]:hover{text-decoration:underline}.title[_ngcontent-%COMP%]:hover{text-decoration:underline}"]});let t=e;return t})();var u2=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Me(pr),Me(nn))},e.\u0275dir=xt({type:e});let t=e;return t})(),zD=(()=>{let e=class e extends u2{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ri(e)))(o||e)}})(),e.\u0275dir=xt({type:e,features:[Vs]});let t=e;return t})(),qD=new Y("");var l2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},J9=Te(U({},l2),{"[class.ng-submitted]":"isSubmitted"});var d2=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>GD}),GD="always";var h2={provide:qD,useExisting:Ps(()=>KD),multi:!0};function WD(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function f2(t){return t.split(":")[0]}var KD=(()=>{let e=class e extends zD{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=WD(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=f2(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ri(e)))(o||e)}})(),e.\u0275dir=xt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&oe("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kf([h2]),Vs]});let t=e;return t})(),QD=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(WD(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(Me(nn),Me(pr),Me(KD,9))},e.\u0275dir=xt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),p2={provide:qD,useExisting:Ps(()=>YD),multi:!0};function HD(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function g2(t){return t.split(":")[0]}var YD=(()=>{let e=class e extends zD{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let u=0;u<a.length;u++){let l=a[u],h=this._getOptionValue(l.value);o.push(h)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let h=this._getOptionValue(l.value);o.push(h)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=g2(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ri(e)))(o||e)}})(),e.\u0275dir=xt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&oe("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kf([p2]),Vs]});let t=e;return t})(),JD=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(HD(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(HD(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(Me(nn),Me(pr),Me(YD,9))},e.\u0275dir=xt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var m2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Zr({});let t=e;return t})();var ZD=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:d2,useValue:r.callSetDisabledState??GD}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Zr({imports:[m2]});let t=e;return t})();function v2(t,e){if(t&1&&$(0,"cw-product-card",25),t&2){let n=e.$implicit;te("design",n)}}var XD=(()=>{let e=class e{constructor(){this.shirtDesigns=[],this.filteredDesigns=[],this.selectedSort="new",this.selectedTypes=new Set,this.selectedCategories=new Set,this.designService=O(Qo)}ngOnInit(){return T(this,null,function*(){yield this.loadDesigns(),this.filteredDesigns=this.shirtDesigns})}loadDesigns(){return T(this,null,function*(){this.shirtDesigns=yield this.designService.getDesigns({}),this.filterAndSortDesigns()})}toggleType(r){this.selectedTypes.has(r)?this.selectedTypes.delete(r):this.selectedTypes.add(r),this.filterAndSortDesigns()}toggleCategory(r){this.selectedCategories.has(r)?this.selectedCategories.delete(r):this.selectedCategories.add(r),this.filterAndSortDesigns()}onSortChange(r){let i=r.target;this.selectedSort=i.value,this.filterAndSortDesigns()}filterAndSortDesigns(){this.filteredDesigns=this.shirtDesigns.filter(r=>{let i=this.selectedTypes.size===0||this.selectedTypes.has(r.type),o=this.selectedCategories.size===0||this.selectedCategories.has(r.category);return i&&o}),this.filteredDesigns.sort((r,i)=>{switch(this.selectedSort){case"new":return new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime();case"old":return new Date(r.createdAt).getTime()-new Date(i.createdAt).getTime();case"price-higher":return i.price-r.price;case"price-lower":return r.price-i.price;default:return 0}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-products-page"]],standalone:!0,features:[xe],decls:43,vars:1,consts:[[1,"container"],[1,"first-row"],[1,"title"],[1,"sort"],[1,"text"],["id","sortSelect",1,"select",3,"change"],["value","new"],["value","old"],["value","price-higher"],["value","price-lower"],[1,"line"],[1,"second-row"],[1,"filter"],[1,"filter-title"],[1,"filter-tools"],["for","majica"],["type","checkbox","id","majica",3,"change"],["for","duks"],["type","checkbox","id","duks",3,"change"],["for","anime"],["type","checkbox","id","anime",3,"change"],["for","rap"],["type","checkbox","id","rap",3,"change"],[1,"grid"],["class","card",3,"design",4,"ngFor","ngForOf"],[1,"card",3,"design"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"div",1)(2,"div",2),V(3,"Svi proizvodi"),x(),M(4,"div",3)(5,"div",4),V(6,"Sortiraj prema:"),x(),M(7,"select",5),oe("change",function(a){return o.onSortChange(a)}),M(8,"option",6),V(9,"Novije"),x(),M(10,"option",7),V(11,"Starije"),x(),M(12,"option",8),V(13,"Visoj ceni"),x(),M(14,"option",9),V(15,"Nizoj ceni"),x()()()(),$(16,"div",10),M(17,"div",11)(18,"div",12)(19,"div",13),V(20,"Tip"),x(),M(21,"div",14)(22,"label",15),V(23,"Majica"),x(),M(24,"input",16),oe("change",function(){return o.toggleType("Majica")}),x()(),M(25,"div",14)(26,"label",17),V(27,"Duks"),x(),M(28,"input",18),oe("change",function(){return o.toggleType("Duks")}),x()(),$(29,"div",10),M(30,"div",13),V(31,"Kategorija"),x(),M(32,"div",14)(33,"label",19),V(34,"Anime"),x(),M(35,"input",20),oe("change",function(){return o.toggleCategory("Anime")}),x()(),M(36,"div",14)(37,"label",21),V(38,"Rap"),x(),M(39,"input",22),oe("change",function(){return o.toggleCategory("Rap")}),x()(),$(40,"div",10),x(),M(41,"div",23),Le(42,v2,1,1,"cw-product-card",24),x()()()),i&2&&(H(42),te("ngForOf",o.filteredDesigns))},dependencies:[je,mr,$D,ZD,QD,JD],styles:[".container[_ngcontent-%COMP%]{display:flex;padding-block:1rem;flex-direction:column;padding-inline:20rem}.filter[_ngcontent-%COMP%]{display:flex;padding:.5rem;border-radius:1rem;min-height:30rem;min-width:15rem}.title[_ngcontent-%COMP%]{font-size:var(--fs-900);background:#000;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:1rem}.line[_ngcontent-%COMP%]{height:2px;width:100%;background:var(--gradient-primary);margin-bottom:1rem}.first-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.sort[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.select[_ngcontent-%COMP%]{width:6.2rem;height:1.7rem;margin-bottom:1rem;background:#000;border:none;border-radius:5px;font-size:var(--fs-400);color:var(--white-primary);font-family:var(--ff-secondary);font-weight:400;text-align:center}.text[_ngcontent-%COMP%]{font-family:var(--ff-secondary);font-weight:600;font-size:var(--fs-400);background:#000;-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;font-weight:700;width:max-content;margin:0;margin-bottom:1rem}.filter[_ngcontent-%COMP%]{display:flex;flex-direction:column}.filter-title[_ngcontent-%COMP%]{padding-block:.5rem;font-size:var(--fs-700);font-family:var(--ff-secondary);font-weight:700;color:var(--gradient-primary)}.filter[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin-top:.5rem}.filter-tools[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-family:var(--ff-secondary);font-weight:400}.second-row[_ngcontent-%COMP%]{display:flex}.grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;padding-top:.5rem;padding-inline:1rem;justify-content:start;align-items:start}"]});let t=e;return t})();var eT=[{path:"",component:UD},{path:"design/:id",component:BD},{path:"products",component:XD}];var rT="functions";var qy=class{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){return T(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return T(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return T(this,null,function*(){if(this.appCheck){let n=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(e){return T(this,null,function*(){let n=yield this.getAuthToken(),r=yield this.getMessagingToken(),i=yield this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}})}};var Gy="us-central1";var Wy=class{constructor(e,n,r,i,o=Gy,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new qy(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{let a=new URL(o);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Gy}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function _2(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}var tT="@firebase/functions",nT="0.11.8";var w2="auth-internal",I2="app-check-internal",E2="messaging-internal";function C2(t,e){let n=(r,{instanceIdentifier:i})=>{let o=r.getProvider("app").getImmediate(),s=r.getProvider(w2),a=r.getProvider(E2),u=r.getProvider(I2);return new Wy(o,s,a,u,i,t)};Cn(new Tt(rT,n,"PUBLIC").setMultipleInstances(!0)),Oe(tT,nT,e),Oe(tT,nT,"esm2017")}function iT(t=di(),e=Gy){let r=ha(Dt(t),rT).getImmediate({identifier:e}),i=sl("functions");return i&&oT(r,...i),r}function oT(t,e,n){_2(Dt(t),e,n)}C2(fetch.bind(self));var Ya=class{constructor(e){return e}},sT="functions",Ky=class{constructor(){return pi(sT)}};var Qy=new Y("angularfire2.functions-instances");function b2(t,e){let n=fa(sT,t,e);return n&&new Ya(n)}function D2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ya(r)}}var T2={provide:Ky,deps:[[new ct,Qy]]},S2={provide:Ya,useFactory:b2,deps:[[new ct,Qy],Wn]};function aT(t,...e){return Oe("angularfire",Cr.full,"fn"),pn([S2,T2,{provide:Qy,useFactory:D2(t),multi:!0,deps:[be,Ut,gi,mi,[new ct,To],[new ct,fi],...e]}])}var cT=wt(iT,!0);var uT={providers:[W0(eT,K0()),EC(()=>CC({projectId:"currentwave-563b3",appId:"1:214702271750:web:4bf5a93092d8b0757c8287",storageBucket:"currentwave-563b3.appspot.com",locationId:"europe-central2",apiKey:"AIzaSyATMkQlyO2nL_yKV3uwz-OuY_IAMZtX_-A",authDomain:"currentwave-563b3.firebaseapp.com",messagingSenderId:"214702271750",measurementId:"G-12H1ZL3EYH"})),RD(()=>FD()),aT(()=>cT())]};var lT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-footer"]],standalone:!0,features:[xe],decls:38,vars:0,consts:[[1,"grid"],[1,"column","newsletter"],[1,"email"],["placeholder","Email address","type","email"],[1,"submit-btn"],[1,"column","socials"],[1,"icon","fa-brands","fa-instagram"],["href","https://www.instagram.com/nosicurrentwave/"],[1,"icon","fa-brands","fa-tiktok"],[1,"icon","fa-brands","fa-facebook"],[1,"column","about"],[1,"icon","fa-solid","fa-envelope"],[1,"icon","fa-solid","fa-phone"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"div",1)(2,"h2"),V(3,"Newsletter"),x(),M(4,"p"),V(5," Want to know what we're up to? Sign up for the newsletter to recieve updates. "),x(),M(6,"div",2),$(7,"input",3),M(8,"button",4),V(9,"Subscribe"),x()()(),M(10,"div",5)(11,"h2"),V(12,"Socials"),x(),M(13,"ul")(14,"li"),$(15,"i",6),M(16,"a",7),V(17,"Instagram"),x()(),M(18,"li"),$(19,"i",8),M(20,"a",7),V(21,"TikTok"),x()(),M(22,"li"),$(23,"i",9),M(24,"a",7),V(25,"Facebook"),x()()()(),M(26,"div",10)(27,"h2"),V(28,"Info"),x(),M(29,"ul")(30,"li"),$(31,"i",11),M(32,"span"),V(33,"currentwavewear@gmail.com "),x()(),M(34,"li"),$(35,"i",12),M(36,"span"),V(37,"+38169758176"),x()()()()())},styles:["[_nghost-%COMP%]{margin-top:auto;width:100%;background:var(--gradient-secondary);display:block}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;color:var(--white-primary);padding-block:6rem;box-sizing:border-box;justify-items:center;gap:4rem;margin-inline:auto}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center}.newsletter[_ngcontent-%COMP%]{align-items:center}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;max-width:max-content}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.icon[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;justify-content:center;align-items:center}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;color:var(--white-primary)}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--clr-offwhite)}li[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:var(--ff-secondary);font-size:var(--fs-400)}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;padding:0}p[_ngcontent-%COMP%]{padding:.5rem;max-width:min(100%,40ch);line-height:1.25}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1rem}.email[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1rem}.email[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:var(--fs-500);padding:.5rem;border:2px solid var(--white-primary);outline:none;margin-left:auto}.submit-btn[_ngcontent-%COMP%]{border:2px solid var(--white-primary);outline:none;border-left:none;flex-grow:.3;background-color:var(--clr-primary);color:var(--white-primary);font-family:var(--ff-primary);font-size:1.05rem;transition:.2s ease;margin-right:auto}.submit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--clr-primary-700)}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9e9e9e}@media screen and (min-width: 800px){.grid[_ngcontent-%COMP%]{width:clamp(48rem,60%,64rem);grid-template-columns:repeat(4,1fr);gap:2rem}.newsletter[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:3}.submit-btn[_ngcontent-%COMP%]{flex-grow:.3;margin-right:0}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:.7;margin-left:0}}"]});let t=e;return t})();var dT=(()=>{let e=class e{constructor(){this.cartService=O(Mn)}openCart(){this.cartService.openCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-simple-nav"]],standalone:!0,features:[xe],decls:18,vars:0,consts:[[1,"container"],[1,"white-bar"],[1,"logo"],["href","/"],["src","assets/current-wave-gradient.svg"],[1,"title"],[1,"cart"],["id","openCart",1,"cart-button",3,"click"],[1,"fas","fa-basket-shopping","cart-icon"],[1,"hamburger-bar"],[1,"hamburger-button"],[1,"fas","fa-bars","cart-icon"],[1,"logo-hamburger"],["src","assets/current-wave-white.svg"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),$(4,"img",4),x()(),M(5,"div",5)(6,"a",3),V(7," CURRENT WAVE"),x()(),M(8,"div",6)(9,"div",7),oe("click",function(){return o.openCart()}),$(10,"i",8),x()()(),M(11,"div",9)(12,"div",10),$(13,"i",11),x(),M(14,"div",12)(15,"a",3),$(16,"img",13),x()(),$(17,"div"),x()())},styles:['.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;padding:2rem;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;width:100%;background:var(--gradient-primary)}.white-bar[_ngcontent-%COMP%]{padding-inline:1rem;display:flex;justify-content:space-between;align-items:center;margin:2rem;width:75%;height:3.2rem;background:var(--white-primary);border:1px solid rgba(var(--clr-outline),.5);box-shadow:0 4px 8px #0000004d;border-radius:2rem;position:relative;z-index:2;max-width:min(90rem,90%)}.white-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:.5}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}.title[_ngcontent-%COMP%]{display:flex;font-family:Gotham Black,sans-serif;font-weight:700;font-size:var(--fs-1000);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none;cursor:default;justify-content:center;flex-grow:2}.cart[_ngcontent-%COMP%]{flex-grow:.5}.cart-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:7rem;height:2rem;background:var(--gradient-primary);border-radius:1rem;box-sizing:border-box;cursor:pointer;border:1px solid transparent;margin-left:auto;transition:.2s linear;background-repeat:no-repeat;background-clip:padding-box;position:relative}.cart-button[_ngcontent-%COMP%]:before{position:absolute;content:"";border-radius:1rem;inset:0;background-color:var(--white-primary);z-index:2;transition:opacity .2s linear;opacity:0}.cart-button[_ngcontent-%COMP%]:hover:before{opacity:1}.cart-button[_ngcontent-%COMP%]:hover{border-color:#000}.cart-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:var(--white-primary);transition:color .2s ease-in}.cart-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#000}.cart-icon[_ngcontent-%COMP%]{z-index:4}.hamburger-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:10;max-height:3rem;background:var(--gradient-primary);color:var(--white-primary);display:none;align-items:center;justify-content:space-between;padding-inline:1rem}.hamburger-button[_ngcontent-%COMP%]{background:var(--white-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-hamburger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logo-hamburger[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (max-width: 800px){.container[_ngcontent-%COMP%]{background:none}.hamburger-bar[_ngcontent-%COMP%]{display:flex}.white-bar[_ngcontent-%COMP%]{display:none}}']});let t=e;return t})();var hT=(()=>{let e=class e{constructor(){this.cartService=O(Mn)}decreaseQuantity(){this.cartService.removeItem(this.cartItem)}increaseQuantity(){this.cartService.addItem(Te(U({},this.cartItem),{quantity:1}))}deleteItem(){this.cartService.deleteItem(this.cartItem)}quantityChanged(r){this.cartItem.quantity=r.target.value}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-cart-item"]],inputs:{cartItem:"cartItem"},standalone:!0,features:[xe],decls:22,vars:16,consts:[[1,"card"],[1,"image",3,"src"],[1,"content"],[1,"title"],[1,"name"],["id","deleteItem",1,"delete","fa-regular","fa-trash-can",3,"click"],[1,"size"],[1,"price"],[1,"quantity"],[1,"quantity-input"],[1,"quantity-button",3,"click"],["disabled","","type","number","min","1","max","99","name","quantity","id","quantity",3,"value"],[1,"total"]],template:function(i,o){i&1&&(M(0,"div",0),$(1,"img",1),M(2,"div",2)(3,"div",3)(4,"span",4),V(5),x(),M(6,"i",5),oe("click",function(){return o.deleteItem()}),x()(),M(7,"div",6),V(8),x(),M(9,"div",7),V(10),$n(11,"currency"),x(),M(12,"div",8)(13,"div",9)(14,"div",10),oe("click",function(){return o.decreaseQuantity()}),V(15,"-"),x(),$(16,"input",11),M(17,"div",10),oe("click",function(){return o.increaseQuantity()}),V(18,"+"),x()(),M(19,"span",12),V(20),$n(21,"currency"),x()()()()),i&2&&(H(),te("src",o.cartItem.design.image,rn),H(4),Qe(o.cartItem.design.name),H(3),_t("Veli\u010Dina: ",o.cartItem.size,""),H(2),_t(" Cena: ",oi(11,6,o.cartItem.design.price,"","","1.0-0"),"RSD "),H(6),te("value",o.cartItem.quantity),H(4),_t("",oi(21,11,o.cartItem.quantity*o.cartItem.design.price,"","","1.0-0"),"RSD"))},dependencies:[je,ho],styles:[".card[_ngcontent-%COMP%]{display:flex;background-color:var(--white-primary);padding:1rem;border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a}.image[_ngcontent-%COMP%]{width:8rem}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding-left:1rem}.title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--clr-error)}.price[_ngcontent-%COMP%], .size[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}.quantity[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.quantity-input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-family:var(--ff-secondary);-webkit-user-select:none;user-select:none}.quantity-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:4ch;-webkit-appearance:none;-moz-appearance:textfield;border:none;height:1.8rem;border-block:1px solid black;text-align:center}.quantity-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.quantity-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:1px solid black;width:2ch;height:1.8rem;text-align:center}.quantity-button[_ngcontent-%COMP%]:hover, .delete[_ngcontent-%COMP%]:hover{cursor:pointer}"]});let t=e;return t})();function M2(t,e){t&1&&(M(0,"div",14),V(1,"Korpa je prazna"),x())}function x2(t,e){if(t&1&&$(0,"cw-cart-item",15),t&2){let n=e.$implicit;te("cartItem",n)}}var fT=(()=>{let e=class e{constructor(){this.cartService=O(Mn),this.elRef=O(nn),this.cart=this.cartService.cart,this.SHIPPING_COST=this.cart().items.length>0?430:0}closeCart(){this.cartService.closeCart()}onDocumentClick(r){let i=this.elRef.nativeElement.contains(r.target),o=r.target,s=document.getElementById("openCart"),a=document.getElementById("addToCartBtn");!i&&!a?.contains(o)&&o.id!="addToCartBtn"&&!s?.contains(o)&&o.id!="openCart"&&o.id!="deleteItem"&&!o.classList.contains("quantity-button")&&!o.classList.contains("selected-size")&&this.cartService.closeCart()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["cw-cart-sidebar"]],hostBindings:function(i,o){i&1&&oe("click",function(a){return o.onDocumentClick(a)},!1,HI)},standalone:!0,features:[xe],decls:30,vars:22,consts:[[1,"container"],[1,"top-bar"],[1,"title"],[1,"fas","fa-basket-shopping"],[1,"close",3,"click"],[1,"fa-solid","fa-xmark"],[1,"items"],["class","empty",4,"ngIf"],[3,"cartItem",4,"ngFor","ngForOf"],[1,"bottom-bar"],[1,"cost","subtotal"],[1,"cost","shipping"],[1,"cost","total"],["text","Checkout",1,"checkout"],[1,"empty"],[3,"cartItem"]],template:function(i,o){i&1&&(M(0,"div",0)(1,"div",1)(2,"div",2),$(3,"i",3),V(4," Korpa "),x(),M(5,"div",4),oe("click",function(){return o.closeCart()}),$(6,"i",5),x()(),M(7,"div",6),Le(8,M2,2,0,"div",7)(9,x2,1,1,"cw-cart-item",8),x(),M(10,"div",9)(11,"div",10)(12,"span"),V(13,"Cena:"),x(),M(14,"span"),V(15),$n(16,"currency"),x()(),M(17,"div",11)(18,"span"),V(19,"Po\u0161tarina:"),x(),M(20,"span"),V(21),$n(22,"currency"),x()(),M(23,"div",12)(24,"span"),V(25,"Ukupno:"),x(),M(26,"span"),V(27),$n(28,"currency"),x()(),$(29,"cw-button",13),x()()),i&2&&(Bn("visible",o.cart().isVisible),H(8),te("ngIf",o.cart().items.length<1),H(),te("ngForOf",o.cart().items),H(6),_t("",oi(16,7,o.cart().totalAmount,"","","1.0-0"),"RSD"),H(6),_t("",oi(22,12,o.SHIPPING_COST,"","","1.0-0"),"RSD"),H(6),_t("",oi(28,17,o.cart().totalAmount+o.SHIPPING_COST,"","","1.0-0"),"RSD"))},dependencies:[Io,hT,je,mr,$t,ho],styles:[".container[_ngcontent-%COMP%]{position:fixed;z-index:20;top:0;right:0;background-color:var(--white-primary);height:100%;width:clamp(24rem,20%,28rem);display:flex;flex-direction:column;-webkit-box-shadow:-12px 0px 29px -7px rgba(0,0,0,.65);-moz-box-shadow:-12px 0px 29px -7px rgba(0,0,0,.65);box-shadow:-12px 0 29px -7px #000000a6;border-top-left-radius:1rem;border-bottom-left-radius:1rem;transition:.5s ease;transform:translate(100%)}.empty[_ngcontent-%COMP%]{font-family:var(--ff-secondary);text-align:center;margin-block:auto}.visible[_ngcontent-%COMP%]{transform:translate(0)}.title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-size:var(--fs-800);font-family:var(--ff-main);background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;-webkit-user-select:none;user-select:none}.top-bar[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:space-between;align-items:center}.close[_ngcontent-%COMP%]{font-size:var(--fs-700);color:var(--clr-error)}.close[_ngcontent-%COMP%]:hover{cursor:pointer}.bottom-bar[_ngcontent-%COMP%]{display:flex;padding-inline:1rem;padding-block:1rem;flex-direction:column;margin-top:auto;box-shadow:0 -2px 58px -13px #000000bf;-webkit-box-shadow:0px -2px 58px -13px rgba(0,0,0,.75);-moz-box-shadow:0px -2px 58px -13px rgba(0,0,0,.75)}.cost[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.cost[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-family:var(--ff-secondary)}.total[_ngcontent-%COMP%]{margin-top:.5rem;border-top:1px dashed black;font-family:var(--ff-main);font-size:var(--fs-600)}.checkout[_ngcontent-%COMP%]{width:100%;margin-block:1rem;height:2.5rem}.items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;height:100%;max-height:100%;overflow-y:auto;background-color:var(--clr-offwhite-700);padding:.5rem}@media screen and (max-width: 384px){.container[_ngcontent-%COMP%]{display:none}}"]});let t=e;return t})();function R2(t,e){t&1&&$(0,"cw-simple-nav")}var pT=(()=>{let e=class e{constructor(){this.title="current-wave",this.router=O(In)}isHomePage(){return this.router.url==="/"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["app-root"]],standalone:!0,features:[xe],decls:4,vars:1,consts:[[4,"ngIf"]],template:function(i,o){i&1&&(Le(0,R2,1,0,"cw-simple-nav",0),$(1,"cw-cart-sidebar")(2,"router-outlet")(3,"cw-footer")),i&2&&te("ngIf",!o.isHomePage())},dependencies:[Kp,lT,dT,je,$t,fT],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}"]});let t=e;return t})();h0(pT,uT).catch(t=>console.error(t));
